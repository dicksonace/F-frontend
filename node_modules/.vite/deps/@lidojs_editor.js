import {
  require_jsx_runtime
} from "./chunk-6A5JWMWA.js";
import {
  require_react
} from "./chunk-WWXSLZJU.js";
import {
  __toESM
} from "./chunk-ROME4SDB.js";

// node_modules/@lidojs/editor/dist/index.js
var React$1 = __toESM(require_react());
var import_react = __toESM(require_react());
var ReactJSXRuntime = __toESM(require_jsx_runtime());
var import_jsx_runtime = __toESM(require_jsx_runtime());
var EditorContext = (0, import_react.createContext)({});
var useEditor = (e3) => {
  var t = (0, import_react.useContext)(EditorContext), { actions: n, getState: r, query: o } = t, e3 = e3 ? e3(t.getState(), o) : {};
  return Object.assign(Object.assign({}, e3), { actions: n, query: o, state: r() });
};
var __assign = function() {
  return (__assign = Object.assign || function(e3) {
    for (var t, n = 1, r = arguments.length; n < r; n++)
      for (var o in t = arguments[n])
        Object.prototype.hasOwnProperty.call(t, o) && (e3[o] = t[o]);
    return e3;
  }).apply(this, arguments);
};
function __rest(e3, t) {
  var n = {};
  for (o in e3)
    Object.prototype.hasOwnProperty.call(e3, o) && t.indexOf(o) < 0 && (n[o] = e3[o]);
  if (null != e3 && "function" == typeof Object.getOwnPropertySymbols)
    for (var r = 0, o = Object.getOwnPropertySymbols(e3); r < o.length; r++)
      t.indexOf(o[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e3, o[r]) && (n[o[r]] = e3[o[r]]);
  return n;
}
function sheetForTag(e3) {
  if (e3.sheet)
    return e3.sheet;
  for (var t = 0; t < document.styleSheets.length; t++)
    if (document.styleSheets[t].ownerNode === e3)
      return document.styleSheets[t];
}
function createStyleElement(e3) {
  var t = document.createElement("style");
  return t.setAttribute("data-emotion", e3.key), void 0 !== e3.nonce && t.setAttribute("nonce", e3.nonce), t.appendChild(document.createTextNode("")), t.setAttribute("data-s", ""), t;
}
var StyleSheet = function() {
  function e3(e4) {
    var n = this;
    this._insertTag = function(e5) {
      var t2 = 0 === n.tags.length ? n.insertionPoint ? n.insertionPoint.nextSibling : n.prepend ? n.container.firstChild : n.before : n.tags[n.tags.length - 1].nextSibling;
      n.container.insertBefore(e5, t2), n.tags.push(e5);
    }, this.isSpeedy = void 0 === e4.speedy ? false : e4.speedy, this.tags = [], this.ctr = 0, this.nonce = e4.nonce, this.key = e4.key, this.container = e4.container, this.prepend = e4.prepend, this.insertionPoint = e4.insertionPoint, this.before = null;
  }
  var t = e3.prototype;
  return t.hydrate = function(e4) {
    e4.forEach(this._insertTag);
  }, t.insert = function(t2) {
    this.ctr % (this.isSpeedy ? 65e3 : 1) == 0 && this._insertTag(createStyleElement(this));
    var e4 = this.tags[this.tags.length - 1];
    if ((n = 64 === t2.charCodeAt(0) && 105 === t2.charCodeAt(1)) && this._alreadyInsertedOrderInsensitiveRule && console.error("You're attempting to insert the following rule:\n" + t2 + "\n\n`@import` rules must be before all other types of rules in a stylesheet but other rules have already been inserted. Please ensure that `@import` rules are before all other rules."), this._alreadyInsertedOrderInsensitiveRule = this._alreadyInsertedOrderInsensitiveRule || !n, this.isSpeedy) {
      var n = sheetForTag(e4);
      try {
        n.insertRule(t2, n.cssRules.length);
      } catch (e5) {
        /:(-moz-placeholder|-moz-focus-inner|-moz-focusring|-ms-input-placeholder|-moz-read-write|-moz-read-only|-ms-clear|-ms-expand|-ms-reveal){/.test(t2) || console.error('There was a problem inserting the following rule: "' + t2 + '"', e5);
      }
    } else
      e4.appendChild(document.createTextNode(t2));
    this.ctr++;
  }, t.flush = function() {
    this.tags.forEach(function(e4) {
      return e4.parentNode && e4.parentNode.removeChild(e4);
    }), this.tags = [], this.ctr = 0, this._alreadyInsertedOrderInsensitiveRule = false;
  }, e3;
}();
var MS = "-ms-";
var MOZ = "-moz-";
var WEBKIT = "-webkit-";
var COMMENT = "comm";
var RULESET = "rule";
var DECLARATION = "decl";
var IMPORT = "@import";
var KEYFRAMES = "@keyframes";
var LAYER = "@layer";
var abs = Math.abs;
var from = String.fromCharCode;
var assign = Object.assign;
function hash(e3, t) {
  return 45 ^ charat(e3, 0) ? (((t << 2 ^ charat(e3, 0)) << 2 ^ charat(e3, 1)) << 2 ^ charat(e3, 2)) << 2 ^ charat(e3, 3) : 0;
}
function trim(e3) {
  return e3.trim();
}
function match(e3, t) {
  return (e3 = t.exec(e3)) && e3[0];
}
function replace$1(e3, t, n) {
  return e3.replace(t, n);
}
function indexof(e3, t) {
  return e3.indexOf(t);
}
function charat(e3, t) {
  return 0 | e3.charCodeAt(t);
}
function substr(e3, t, n) {
  return e3.slice(t, n);
}
function strlen(e3) {
  return e3.length;
}
function sizeof(e3) {
  return e3.length;
}
function append(e3, t) {
  return t.push(e3), e3;
}
function combine(e3, t) {
  return e3.map(t).join("");
}
var line = 1;
var column = 1;
var length = 0;
var position = 0;
var character = 0;
var characters = "";
function node(e3, t, n, r, o, i, a) {
  return { value: e3, root: t, parent: n, type: r, props: o, children: i, line, column, length: a, return: "" };
}
function copy$2(e3, t) {
  return assign(node("", null, null, "", null, null, 0), e3, { length: -e3.length }, t);
}
function char() {
  return character;
}
function prev() {
  return character = 0 < position ? charat(characters, --position) : 0, column--, 10 === character && (column = 1, line--), character;
}
function next() {
  return character = position < length ? charat(characters, position++) : 0, column++, 10 === character && (column = 1, line++), character;
}
function peek$1() {
  return charat(characters, position);
}
function caret() {
  return position;
}
function slice(e3, t) {
  return substr(characters, e3, t);
}
function token(e3) {
  switch (e3) {
    case 0:
    case 9:
    case 10:
    case 13:
    case 32:
      return 5;
    case 33:
    case 43:
    case 44:
    case 47:
    case 62:
    case 64:
    case 126:
    case 59:
    case 123:
    case 125:
      return 4;
    case 58:
      return 3;
    case 34:
    case 39:
    case 40:
    case 91:
      return 2;
    case 41:
    case 93:
      return 1;
  }
  return 0;
}
function alloc(e3) {
  return line = column = 1, length = strlen(characters = e3), position = 0, [];
}
function dealloc(e3) {
  return characters = "", e3;
}
function delimit(e3) {
  return trim(slice(position - 1, delimiter(91 === e3 ? e3 + 2 : 40 === e3 ? e3 + 1 : e3)));
}
function whitespace(e3) {
  for (; (character = peek$1()) && character < 33; )
    next();
  return 2 < token(e3) || 3 < token(character) ? "" : " ";
}
function escaping(e3, t) {
  for (; --t && next() && !(character < 48 || 102 < character || 57 < character && character < 65 || 70 < character && character < 97); )
    ;
  return slice(e3, caret() + (t < 6 && 32 == peek$1() && 32 == next()));
}
function delimiter(e3) {
  for (; next(); )
    switch (character) {
      case e3:
        return position;
      case 34:
      case 39:
        34 !== e3 && 39 !== e3 && delimiter(character);
        break;
      case 40:
        41 === e3 && delimiter(e3);
        break;
      case 92:
        next();
    }
  return position;
}
function commenter(e3, t) {
  for (; next() && e3 + character !== 57 && (e3 + character !== 84 || 47 !== peek$1()); )
    ;
  return "/*" + slice(t, position - 1) + "*" + from(47 === e3 ? e3 : next());
}
function identifier(e3) {
  for (; !token(peek$1()); )
    next();
  return slice(e3, position);
}
function compile(e3) {
  return dealloc(parse("", null, null, null, [""], e3 = alloc(e3), 0, [0], e3));
}
function parse(e3, t, n, r, o, i, a, s, l) {
  for (var c, u, d, p = 0, f = 0, h = a, m = 0, g = 0, v = 1, y = 1, b = 1, w = 0, x = "", S = o, k = x; y; )
    switch (c = w, w = next()) {
      case 40:
        if (108 != c && 58 == charat(k, h - 1)) {
          -1 != indexof(k += replace$1(delimit(w), "&", "&\f"), "&\f") && (b = -1);
          break;
        }
      case 34:
      case 39:
      case 91:
        k += delimit(w);
        break;
      case 9:
      case 10:
      case 13:
      case 32:
        k += whitespace(c);
        break;
      case 92:
        k += escaping(caret() - 1, 7);
        continue;
      case 47:
        switch (peek$1()) {
          case 42:
          case 47:
            append(comment(commenter(next(), caret()), t, n), l);
            break;
          default:
            k += "/";
        }
        break;
      case 123 * v:
        s[p++] = strlen(k) * b;
      case 125 * v:
      case 59:
      case 0:
        switch (w) {
          case 0:
          case 125:
            y = 0;
          case 59 + f:
            -1 == b && (k = replace$1(k, /\f/g, "")), 0 < g && strlen(k) - h && append(32 < g ? declaration(k + ";", r, n, h - 1) : declaration(replace$1(k, " ", "") + ";", r, n, h - 2), l);
            break;
          case 59:
            k += ";";
          default:
            if (append(d = ruleset(k, t, n, p, f, o, s, x, S = [], u = [], h), i), 123 === w)
              if (0 === f)
                parse(k, t, d, d, S, i, h, s, u);
              else
                switch (99 === m && 110 === charat(k, 3) ? 100 : m) {
                  case 100:
                  case 108:
                  case 109:
                  case 115:
                    parse(e3, d, d, r && append(ruleset(e3, d, d, 0, 0, o, s, x, o, S = [], h), u), o, u, h, s, r ? S : u);
                    break;
                  default:
                    parse(k, d, d, d, [""], u, 0, s, u);
                }
        }
        p = f = g = 0, v = b = 1, x = k = "", h = a;
        break;
      case 58:
        h = 1 + strlen(k), g = c;
      default:
        if (v < 1) {
          if (123 == w)
            --v;
          else if (125 == w && 0 == v++ && 125 == prev())
            continue;
        }
        switch (k += from(w), w * v) {
          case 38:
            b = 0 < f ? 1 : (k += "\f", -1);
            break;
          case 44:
            s[p++] = (strlen(k) - 1) * b, b = 1;
            break;
          case 64:
            45 === peek$1() && (k += delimit(next())), m = peek$1(), f = h = strlen(x = k += identifier(caret())), w++;
            break;
          case 45:
            45 === c && 2 == strlen(k) && (v = 0);
        }
    }
  return i;
}
function ruleset(e3, t, n, r, o, i, a, s, l, c, u) {
  for (var d, p = o - 1, f = 0 === o ? i : [""], h = sizeof(f), m = 0, g = 0; m < r; ++m)
    for (var v, y = 0, b = substr(e3, p + 1, p = abs(d = a[m])); y < h; ++y)
      (v = trim(0 < d ? f[y] + " " + b : replace$1(b, /&\f/g, f[y]))) && (l[g++] = v);
  return node(e3, t, n, 0 === o ? RULESET : s, l, c, u);
}
function comment(e3, t, n) {
  return node(e3, t, n, COMMENT, from(char()), substr(e3, 2, -2), 0);
}
function declaration(e3, t, n, r) {
  return node(e3, t, n, DECLARATION, substr(e3, 0, r), substr(e3, r + 1, -1), r);
}
function serialize$1(e3, t) {
  for (var n = "", r = sizeof(e3), o = 0; o < r; o++)
    n += t(e3[o], o, e3, t) || "";
  return n;
}
function stringify(e3, t, n, r) {
  switch (e3.type) {
    case LAYER:
      if (e3.children.length)
        break;
    case IMPORT:
    case DECLARATION:
      return e3.return = e3.return || e3.value;
    case COMMENT:
      return "";
    case KEYFRAMES:
      return e3.return = e3.value + "{" + serialize$1(e3.children, r) + "}";
    case RULESET:
      e3.value = e3.props.join(",");
  }
  return strlen(n = serialize$1(e3.children, r)) ? e3.return = e3.value + "{" + n + "}" : "";
}
function middleware(a) {
  var s = sizeof(a);
  return function(e3, t, n, r) {
    for (var o = "", i = 0; i < s; i++)
      o += a[i](e3, t, n, r) || "";
    return o;
  };
}
var weakMemoize = function(n) {
  var r = /* @__PURE__ */ new WeakMap();
  return function(e3) {
    var t;
    return r.has(e3) ? r.get(e3) : (t = n(e3), r.set(e3, t), t);
  };
};
function memoize(t) {
  var n = /* @__PURE__ */ Object.create(null);
  return function(e3) {
    return void 0 === n[e3] && (n[e3] = t(e3)), n[e3];
  };
}
var identifierWithPointTracking = function(e3, t, n) {
  for (var r, o = 0; r = o, o = peek$1(), 38 === r && 12 === o && (t[n] = 1), !token(o); )
    next();
  return slice(e3, position);
};
var toRules = function(e3, t) {
  var n = -1, r = 44;
  do {
    switch (token(r)) {
      case 0:
        38 === r && 12 === peek$1() && (t[n] = 1), e3[n] += identifierWithPointTracking(position - 1, t, n);
        break;
      case 2:
        e3[n] += delimit(r);
        break;
      case 4:
        if (44 === r) {
          e3[++n] = 58 === peek$1() ? "&\f" : "", t[n] = e3[n].length;
          break;
        }
      default:
        e3[n] += from(r);
    }
  } while (r = next());
  return e3;
};
var getRules = function(e3, t) {
  return dealloc(toRules(alloc(e3), t));
};
var fixedElements = /* @__PURE__ */ new WeakMap();
var compat = function(e3) {
  if ("rule" === e3.type && e3.parent && !(e3.length < 1)) {
    for (var t = e3.value, n = e3.parent, r = e3.column === n.column && e3.line === n.line; "rule" !== n.type; )
      if (!(n = n.parent))
        return;
    if ((1 !== e3.props.length || 58 === t.charCodeAt(0) || fixedElements.get(n)) && !r) {
      fixedElements.set(e3, true);
      for (var o = [], i = getRules(t, o), a = n.props, s = 0, l = 0; s < i.length; s++)
        for (var c = 0; c < a.length; c++, l++)
          e3.props[l] = o[s] ? i[s].replace(/&\f/g, a[c]) : a[c] + " " + i[s];
    }
  }
};
var removeLabel = function(e3) {
  var t;
  "decl" === e3.type && 108 === (t = e3.value).charCodeAt(0) && 98 === t.charCodeAt(2) && (e3.return = "", e3.value = "");
};
var ignoreFlag = "emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason";
var isIgnoringComment = function(e3) {
  return "comm" === e3.type && -1 < e3.children.indexOf(ignoreFlag);
};
var createUnsafeSelectorsAlarm = function(s) {
  return function(e3, t, n) {
    if ("rule" === e3.type && !s.compat) {
      var r = e3.value.match(/(:first|:nth|:nth-last)-child/g);
      if (r) {
        for (var o = !!e3.parent ? e3.parent.children : n, i = o.length - 1; 0 <= i; i--) {
          var a = o[i];
          if (a.line < e3.line)
            break;
          if (a.column < e3.column) {
            if (isIgnoringComment(a))
              return;
            break;
          }
        }
        r.forEach(function(e4) {
          console.error('The pseudo class "' + e4 + '" is potentially unsafe when doing server-side rendering. Try changing it to "' + e4.split("-child")[0] + '-of-type".');
        });
      }
    }
  };
};
var isImportRule = function(e3) {
  return 105 === e3.type.charCodeAt(1) && 64 === e3.type.charCodeAt(0);
};
var isPrependedWithRegularRules = function(e3, t) {
  for (var n = e3 - 1; 0 <= n; n--)
    if (!isImportRule(t[n]))
      return true;
  return false;
};
var nullifyElement = function(e3) {
  e3.type = "", e3.value = "", e3.return = "", e3.children = "", e3.props = "";
};
var incorrectImportAlarm = function(e3, t, n) {
  isImportRule(e3) && (e3.parent ? (console.error("`@import` rules can't be nested inside other rules. Please move it to the top level and put it before regular rules. Keep in mind that they can only be used within global styles."), nullifyElement(e3)) : isPrependedWithRegularRules(t, n) && (console.error("`@import` rules can't be after other rules. Please put your `@import` rules before your other rules."), nullifyElement(e3)));
};
function prefix(e3, t) {
  switch (hash(e3, t)) {
    case 5103:
      return WEBKIT + "print-" + e3 + e3;
    case 5737:
    case 4201:
    case 3177:
    case 3433:
    case 1641:
    case 4457:
    case 2921:
    case 5572:
    case 6356:
    case 5844:
    case 3191:
    case 6645:
    case 3005:
    case 6391:
    case 5879:
    case 5623:
    case 6135:
    case 4599:
    case 4855:
    case 4215:
    case 6389:
    case 5109:
    case 5365:
    case 5621:
    case 3829:
      return WEBKIT + e3 + e3;
    case 5349:
    case 4246:
    case 4810:
    case 6968:
    case 2756:
      return WEBKIT + e3 + MOZ + e3 + MS + e3 + e3;
    case 6828:
    case 4268:
      return WEBKIT + e3 + MS + e3 + e3;
    case 6165:
      return WEBKIT + e3 + MS + "flex-" + e3 + e3;
    case 5187:
      return WEBKIT + e3 + replace$1(e3, /(\w+).+(:[^]+)/, WEBKIT + "box-$1$2" + MS + "flex-$1$2") + e3;
    case 5443:
      return WEBKIT + e3 + MS + "flex-item-" + replace$1(e3, /flex-|-self/, "") + e3;
    case 4675:
      return WEBKIT + e3 + MS + "flex-line-pack" + replace$1(e3, /align-content|flex-|-self/, "") + e3;
    case 5548:
      return WEBKIT + e3 + MS + replace$1(e3, "shrink", "negative") + e3;
    case 5292:
      return WEBKIT + e3 + MS + replace$1(e3, "basis", "preferred-size") + e3;
    case 6060:
      return WEBKIT + "box-" + replace$1(e3, "-grow", "") + WEBKIT + e3 + MS + replace$1(e3, "grow", "positive") + e3;
    case 4554:
      return WEBKIT + replace$1(e3, /([^-])(transform)/g, "$1" + WEBKIT + "$2") + e3;
    case 6187:
      return replace$1(replace$1(replace$1(e3, /(zoom-|grab)/, WEBKIT + "$1"), /(image-set)/, WEBKIT + "$1"), e3, "") + e3;
    case 5495:
    case 3959:
      return replace$1(e3, /(image-set\([^]*)/, WEBKIT + "$1$`$1");
    case 4968:
      return replace$1(replace$1(e3, /(.+:)(flex-)?(.*)/, WEBKIT + "box-pack:$3" + MS + "flex-pack:$3"), /s.+-b[^;]+/, "justify") + WEBKIT + e3 + e3;
    case 4095:
    case 3583:
    case 4068:
    case 2532:
      return replace$1(e3, /(.+)-inline(.+)/, WEBKIT + "$1$2") + e3;
    case 8116:
    case 7059:
    case 5753:
    case 5535:
    case 5445:
    case 5701:
    case 4933:
    case 4677:
    case 5533:
    case 5789:
    case 5021:
    case 4765:
      if (6 < strlen(e3) - 1 - t)
        switch (charat(e3, t + 1)) {
          case 109:
            if (45 !== charat(e3, t + 4))
              break;
          case 102:
            return replace$1(e3, /(.+:)(.+)-([^]+)/, "$1" + WEBKIT + "$2-$3$1" + MOZ + (108 == charat(e3, t + 3) ? "$3" : "$2-$3")) + e3;
          case 115:
            return ~indexof(e3, "stretch") ? prefix(replace$1(e3, "stretch", "fill-available"), t) + e3 : e3;
        }
      break;
    case 4949:
      if (115 !== charat(e3, t + 1))
        break;
    case 6444:
      switch (charat(e3, strlen(e3) - 3 - (~indexof(e3, "!important") && 10))) {
        case 107:
          return replace$1(e3, ":", ":" + WEBKIT) + e3;
        case 101:
          return replace$1(e3, /(.+:)([^;!]+)(;|!.+)?/, "$1" + WEBKIT + (45 === charat(e3, 14) ? "inline-" : "") + "box$3$1" + WEBKIT + "$2$3$1" + MS + "$2box$3") + e3;
      }
      break;
    case 5936:
      switch (charat(e3, t + 11)) {
        case 114:
          return WEBKIT + e3 + MS + replace$1(e3, /[svh]\w+-[tblr]{2}/, "tb") + e3;
        case 108:
          return WEBKIT + e3 + MS + replace$1(e3, /[svh]\w+-[tblr]{2}/, "tb-rl") + e3;
        case 45:
          return WEBKIT + e3 + MS + replace$1(e3, /[svh]\w+-[tblr]{2}/, "lr") + e3;
      }
      return WEBKIT + e3 + MS + e3 + e3;
  }
  return e3;
}
var prefixer = function(t, e3, n, r) {
  if (-1 < t.length && !t.return)
    switch (t.type) {
      case DECLARATION:
        t.return = prefix(t.value, t.length);
        break;
      case KEYFRAMES:
        return serialize$1([copy$2(t, { value: replace$1(t.value, "@", "@" + WEBKIT) })], r);
      case RULESET:
        if (t.length)
          return combine(t.props, function(e4) {
            switch (match(e4, /(::plac\w+|:read-\w+)/)) {
              case ":read-only":
              case ":read-write":
                return serialize$1([copy$2(t, { props: [replace$1(e4, /:(read-\w+)/, ":" + MOZ + "$1")] })], r);
              case "::placeholder":
                return serialize$1([copy$2(t, { props: [replace$1(e4, /:(plac\w+)/, ":" + WEBKIT + "input-$1")] }), copy$2(t, { props: [replace$1(e4, /:(plac\w+)/, ":" + MOZ + "$1")] }), copy$2(t, { props: [replace$1(e4, /:(plac\w+)/, MS + "input-$1")] })], r);
            }
            return "";
          });
    }
};
var isBrowser$5 = "undefined" != typeof document;
var getServerStylisCache = isBrowser$5 ? void 0 : weakMemoize(function() {
  return memoize(function() {
    var t = {};
    return function(e3) {
      return t[e3];
    };
  });
});
var defaultStylisPlugins = [prefixer];
var createCache = function(e3) {
  var t = e3.key;
  if (!t)
    throw new Error("You have to configure `key` for your cache. Please make sure it's unique (and not equal to 'css') as it's used for linking styles to your cache.\nIf multiple caches share the same key they might \"fight\" for each other's style elements.");
  isBrowser$5 && "css" === t && (n = document.querySelectorAll("style[data-emotion]:not([data-s])"), Array.prototype.forEach.call(n, function(e4) {
    -1 !== e4.getAttribute("data-emotion").indexOf(" ") && (document.head.appendChild(e4), e4.setAttribute("data-s", ""));
  }));
  var n = e3.stylisPlugins || defaultStylisPlugins;
  if (/[^a-z-]/.test(t))
    throw new Error('Emotion key must only contain lower case alphabetical characters and - but "' + t + '" was passed');
  var r, o, i, a, s, l, c, u = {}, d = [], p = (isBrowser$5 && (r = e3.container || document.head, Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="' + t + ' "]'), function(e4) {
    for (var t2 = e4.getAttribute("data-emotion").split(" "), n2 = 1; n2 < t2.length; n2++)
      u[t2[n2]] = true;
    d.push(e4);
  })), [compat, removeLabel]), f = (p.push(createUnsafeSelectorsAlarm({ get compat() {
    return f.compat;
  } }), incorrectImportAlarm), a = isBrowser$5 ? (a = [stringify, true ? function(e4) {
    e4.root || (e4.return ? o.insert(e4.return) : e4.value && e4.type !== COMMENT && o.insert(e4.value + "{}"));
  } : rulesheet(function(e4) {
    o.insert(e4);
  })], i = middleware(p.concat(n, a)), function(e4, t2, n2, r2) {
    o = n2, void 0 !== t2.map && (o = { insert: function(e5) {
      n2.insert(e5 + t2.map);
    } }), serialize$1(compile(e4 ? e4 + "{" + t2.styles + "}" : t2.styles), i), r2 && (f.inserted[t2.name] = true);
  }) : (s = middleware(p.concat(n, [stringify])), l = function(e4) {
    return serialize$1(compile(e4), s);
  }, c = getServerStylisCache(n)(t), function(e4, t2, n2, r2) {
    var o2, i2, a2 = t2.name, e4 = (e4 = e4, i2 = (o2 = t2).name, void 0 === c[i2] && (c[i2] = l(e4 ? e4 + "{" + o2.styles + "}" : o2.styles)), c[i2]);
    return void 0 === f.compat ? (r2 && (f.inserted[a2] = true), void 0 !== t2.map ? e4 + t2.map : e4) : r2 ? void (f.inserted[a2] = e4) : e4;
  }), { key: t, sheet: new StyleSheet({ key: t, container: r, nonce: e3.nonce, speedy: e3.speedy, prepend: e3.prepend, insertionPoint: e3.insertionPoint }), nonce: e3.nonce, inserted: u, registered: {}, insert: a });
  return f.sheet.hydrate(d), f;
};
function _extends$1() {
  return (_extends$1 = Object.assign ? Object.assign.bind() : function(e3) {
    for (var t = 1; t < arguments.length; t++) {
      var n, r = arguments[t];
      for (n in r)
        Object.prototype.hasOwnProperty.call(r, n) && (e3[n] = r[n]);
    }
    return e3;
  }).apply(this, arguments);
}
var commonjsGlobal = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
function getDefaultExportFromCjs(e3) {
  return e3 && e3.__esModule && Object.prototype.hasOwnProperty.call(e3, "default") ? e3.default : e3;
}
var reactIs$1 = { exports: {} };
var hasRequiredReactIs_development;
var reactIs_development = {};
function requireReactIs_development() {
  var e3, o, i, a, s, l, c, u, d, p, f, h, t, m, g, n, r, v, y, b, w, x, S, k, C, E, T, _, R, O, I;
  return hasRequiredReactIs_development || (hasRequiredReactIs_development = 1, e3 = "function" == typeof Symbol && Symbol.for, o = e3 ? Symbol.for("react.element") : 60103, i = e3 ? Symbol.for("react.portal") : 60106, a = e3 ? Symbol.for("react.fragment") : 60107, s = e3 ? Symbol.for("react.strict_mode") : 60108, l = e3 ? Symbol.for("react.profiler") : 60114, c = e3 ? Symbol.for("react.provider") : 60109, u = e3 ? Symbol.for("react.context") : 60110, d = e3 ? Symbol.for("react.async_mode") : 60111, p = e3 ? Symbol.for("react.concurrent_mode") : 60111, f = e3 ? Symbol.for("react.forward_ref") : 60112, h = e3 ? Symbol.for("react.suspense") : 60113, t = e3 ? Symbol.for("react.suspense_list") : 60120, m = e3 ? Symbol.for("react.memo") : 60115, g = e3 ? Symbol.for("react.lazy") : 60116, n = e3 ? Symbol.for("react.block") : 60121, r = e3 ? Symbol.for("react.fundamental") : 60117, v = e3 ? Symbol.for("react.responder") : 60118, y = e3 ? Symbol.for("react.scope") : 60119, e3 = p, b = u, w = c, x = o, S = f, k = a, C = g, E = m, T = i, _ = l, R = s, O = h, I = false, reactIs_development.AsyncMode = d, reactIs_development.ConcurrentMode = e3, reactIs_development.ContextConsumer = b, reactIs_development.ContextProvider = w, reactIs_development.Element = x, reactIs_development.ForwardRef = S, reactIs_development.Fragment = k, reactIs_development.Lazy = C, reactIs_development.Memo = E, reactIs_development.Portal = T, reactIs_development.Profiler = _, reactIs_development.StrictMode = R, reactIs_development.Suspense = O, reactIs_development.isAsyncMode = function(e4) {
    return I || (I = true, console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")), D(e4) || M(e4) === d;
  }, reactIs_development.isConcurrentMode = D, reactIs_development.isContextConsumer = function(e4) {
    return M(e4) === u;
  }, reactIs_development.isContextProvider = function(e4) {
    return M(e4) === c;
  }, reactIs_development.isElement = function(e4) {
    return "object" == typeof e4 && null !== e4 && e4.$$typeof === o;
  }, reactIs_development.isForwardRef = function(e4) {
    return M(e4) === f;
  }, reactIs_development.isFragment = function(e4) {
    return M(e4) === a;
  }, reactIs_development.isLazy = function(e4) {
    return M(e4) === g;
  }, reactIs_development.isMemo = function(e4) {
    return M(e4) === m;
  }, reactIs_development.isPortal = function(e4) {
    return M(e4) === i;
  }, reactIs_development.isProfiler = function(e4) {
    return M(e4) === l;
  }, reactIs_development.isStrictMode = function(e4) {
    return M(e4) === s;
  }, reactIs_development.isSuspense = function(e4) {
    return M(e4) === h;
  }, reactIs_development.isValidElementType = function(e4) {
    return "string" == typeof e4 || "function" == typeof e4 || e4 === a || e4 === p || e4 === l || e4 === s || e4 === h || e4 === t || "object" == typeof e4 && null !== e4 && (e4.$$typeof === g || e4.$$typeof === m || e4.$$typeof === c || e4.$$typeof === u || e4.$$typeof === f || e4.$$typeof === r || e4.$$typeof === v || e4.$$typeof === y || e4.$$typeof === n);
  }, reactIs_development.typeOf = M), reactIs_development;
  function M(e4) {
    if ("object" == typeof e4 && null !== e4) {
      var t2 = e4.$$typeof;
      switch (t2) {
        case o:
          var n2 = e4.type;
          switch (n2) {
            case d:
            case p:
            case a:
            case l:
            case s:
            case h:
              return n2;
            default:
              var r2 = n2 && n2.$$typeof;
              switch (r2) {
                case u:
                case f:
                case g:
                case m:
                case c:
                  return r2;
                default:
                  return t2;
              }
          }
        case i:
          return t2;
      }
    }
  }
  function D(e4) {
    return M(e4) === p;
  }
}
false ? reactIs$1.exports = requireReactIs_production_min() : reactIs$1.exports = requireReactIs_development();
var reactIsExports = reactIs$1.exports;
var reactIs = reactIsExports;
var FORWARD_REF_STATICS = { $$typeof: true, render: true, defaultProps: true, displayName: true, propTypes: true };
var MEMO_STATICS = { $$typeof: true, compare: true, defaultProps: true, displayName: true, propTypes: true, type: true };
var TYPE_STATICS = {};
var isBrowser$4 = (TYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS, TYPE_STATICS[reactIs.Memo] = MEMO_STATICS, "undefined" != typeof document);
function getRegisteredStyles(t, n, e3) {
  var r = "";
  return e3.split(" ").forEach(function(e4) {
    void 0 !== t[e4] ? n.push(t[e4] + ";") : r += e4 + " ";
  }), r;
}
var registerStyles = function(e3, t, n) {
  var r = e3.key + "-" + t.name;
  (false === n || false === isBrowser$4 && void 0 !== e3.compat) && void 0 === e3.registered[r] && (e3.registered[r] = t.styles);
};
var insertStyles = function(e3, t, n) {
  registerStyles(e3, t, n);
  var r = e3.key + "-" + t.name;
  if (void 0 === e3.inserted[t.name]) {
    var o = "", i = t;
    do {
      var a = e3.insert(t === i ? "." + r : "", i, e3.sheet, true);
    } while (isBrowser$4 || void 0 === a || (o += a), void 0 !== (i = i.next));
    if (!isBrowser$4 && 0 !== o.length)
      return o;
  }
};
function murmur2(e3) {
  for (var t, n = 0, r = 0, o = e3.length; 4 <= o; ++r, o -= 4)
    t = 1540483477 * (65535 & (t = 255 & e3.charCodeAt(r) | (255 & e3.charCodeAt(++r)) << 8 | (255 & e3.charCodeAt(++r)) << 16 | (255 & e3.charCodeAt(++r)) << 24)) + (59797 * (t >>> 16) << 16), n = 1540483477 * (65535 & (t ^= t >>> 24)) + (59797 * (t >>> 16) << 16) ^ 1540483477 * (65535 & n) + (59797 * (n >>> 16) << 16);
  switch (o) {
    case 3:
      n ^= (255 & e3.charCodeAt(r + 2)) << 16;
    case 2:
      n ^= (255 & e3.charCodeAt(r + 1)) << 8;
    case 1:
      n = 1540483477 * (65535 & (n ^= 255 & e3.charCodeAt(r))) + (59797 * (n >>> 16) << 16);
  }
  return (((n = 1540483477 * (65535 & (n ^= n >>> 13)) + (59797 * (n >>> 16) << 16)) ^ n >>> 15) >>> 0).toString(36);
}
var contentValuePattern;
var contentValues;
var oldProcessStyleValue;
var msPattern;
var hyphenPattern;
var hyphenatedCache;
var unitlessKeys = { animationIterationCount: 1, aspectRatio: 1, borderImageOutset: 1, borderImageSlice: 1, borderImageWidth: 1, boxFlex: 1, boxFlexGroup: 1, boxOrdinalGroup: 1, columnCount: 1, columns: 1, flex: 1, flexGrow: 1, flexPositive: 1, flexShrink: 1, flexNegative: 1, flexOrder: 1, gridRow: 1, gridRowEnd: 1, gridRowSpan: 1, gridRowStart: 1, gridColumn: 1, gridColumnEnd: 1, gridColumnSpan: 1, gridColumnStart: 1, msGridRow: 1, msGridRowSpan: 1, msGridColumn: 1, msGridColumnSpan: 1, fontWeight: 1, lineHeight: 1, opacity: 1, order: 1, orphans: 1, tabSize: 1, widows: 1, zIndex: 1, zoom: 1, WebkitLineClamp: 1, fillOpacity: 1, floodOpacity: 1, stopOpacity: 1, strokeDasharray: 1, strokeDashoffset: 1, strokeMiterlimit: 1, strokeOpacity: 1, strokeWidth: 1 };
var ILLEGAL_ESCAPE_SEQUENCE_ERROR = `You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`;
var UNDEFINED_AS_OBJECT_KEY_ERROR = "You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).";
var hyphenateRegex = /[A-Z]|^ms/g;
var animationRegex = /_EMO_([^_]+?)_([^]*?)_EMO_/g;
var isCustomProperty = function(e3) {
  return 45 === e3.charCodeAt(1);
};
var isProcessableValue = function(e3) {
  return null != e3 && "boolean" != typeof e3;
};
var processStyleName = memoize(function(e3) {
  return isCustomProperty(e3) ? e3 : e3.replace(hyphenateRegex, "-$&").toLowerCase();
});
var processStyleValue = function(e3, t) {
  switch (e3) {
    case "animation":
    case "animationName":
      if ("string" == typeof t)
        return t.replace(animationRegex, function(e4, t2, n) {
          return cursor = { name: t2, styles: n, next: cursor }, t2;
        });
  }
  return 1 === unitlessKeys[e3] || isCustomProperty(e3) || "number" != typeof t || 0 === t ? t : t + "px";
};
var noComponentSelectorMessage = (contentValuePattern = /(var|attr|counters?|url|element|(((repeating-)?(linear|radial))|conic)-gradient)\(|(no-)?(open|close)-quote/, contentValues = ["normal", "none", "initial", "inherit", "unset"], oldProcessStyleValue = processStyleValue, msPattern = /^-ms-/, hyphenPattern = /-(.)/g, hyphenatedCache = {}, processStyleValue = function(e3, t) {
  var n;
  if ("content" !== e3 || "string" == typeof t && (-1 !== contentValues.indexOf(t) || contentValuePattern.test(t) || t.charAt(0) === t.charAt(t.length - 1) && ('"' === t.charAt(0) || "'" === t.charAt(0))))
    return "" === (n = oldProcessStyleValue(e3, t)) || isCustomProperty(e3) || -1 === e3.indexOf("-") || void 0 !== hyphenatedCache[e3] || (hyphenatedCache[e3] = true, console.error("Using kebab-case for css properties in objects is not supported. Did you mean " + e3.replace(msPattern, "ms-").replace(hyphenPattern, function(e4, t2) {
      return t2.toUpperCase();
    }) + "?")), n;
  throw new Error("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\"" + t + "\"'`");
}, "Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.");
function handleInterpolation(e3, t, n) {
  if (null == n)
    return "";
  if (void 0 !== n.__emotion_styles) {
    if ("NO_COMPONENT_SELECTOR" === n.toString())
      throw new Error(noComponentSelectorMessage);
    return n;
  }
  switch (typeof n) {
    case "boolean":
      return "";
    case "object":
      if (1 === n.anim)
        return cursor = { name: n.name, styles: n.styles, next: cursor }, n.name;
      if (void 0 === n.styles)
        return createStringFromObject(e3, t, n);
      var r = n.next;
      if (void 0 !== r)
        for (; void 0 !== r; )
          cursor = { name: r.name, styles: r.styles, next: cursor }, r = r.next;
      var o = n.styles + ";";
      return void 0 !== n.map && (o += n.map), o;
    case "function":
      var i;
      if (void 0 !== e3)
        return o = cursor, i = n(e3), cursor = o, handleInterpolation(e3, t, i);
      console.error("Functions that are interpolated in css calls will be stringified.\nIf you want to have a css call based on props, create a function that returns a css call like this\nlet dynamicStyle = (props) => css`color: ${props.color}`\nIt can be called directly with props or interpolated in a styled call like this\nlet SomeComponent = styled('div')`${dynamicStyle}`");
      break;
    case "string":
      var a;
      (a = [], o = n.replace(animationRegex, function(e4, t2, n2) {
        var r2 = "animation" + a.length;
        return a.push("const " + r2 + " = keyframes`" + n2.replace(/^@keyframes animation-\w+/, "") + "`"), "${" + r2 + "}";
      }), a.length) && console.error("`keyframes` output got interpolated into plain string, please wrap it with `css`.\n\nInstead of doing this:\n\n" + [].concat(a, ["`" + o + "`"]).join("\n") + "\n\nYou should wrap it with `css` like this:\n\ncss`" + o + "`");
  }
  var s;
  return null != t && void 0 !== (s = t[n]) ? s : n;
}
function createStringFromObject(e3, t, n) {
  var r = "";
  if (Array.isArray(n))
    for (var o = 0; o < n.length; o++)
      r += handleInterpolation(e3, t, n[o]) + ";";
  else
    for (var i in n) {
      var a = n[i];
      if ("object" != typeof a)
        null != t && void 0 !== t[a] ? r += i + "{" + t[a] + "}" : isProcessableValue(a) && (r += processStyleName(i) + ":" + processStyleValue(i, a) + ";");
      else {
        if ("NO_COMPONENT_SELECTOR" === i && true)
          throw new Error(noComponentSelectorMessage);
        if (!Array.isArray(a) || "string" != typeof a[0] || null != t && void 0 !== t[a[0]]) {
          var s = handleInterpolation(e3, t, a);
          switch (i) {
            case "animation":
            case "animationName":
              r += processStyleName(i) + ":" + s + ";";
              break;
            default:
              "undefined" === i && console.error(UNDEFINED_AS_OBJECT_KEY_ERROR), r += i + "{" + s + "}";
          }
        } else
          for (var l = 0; l < a.length; l++)
            isProcessableValue(a[l]) && (r += processStyleName(i) + ":" + processStyleValue(i, a[l]) + ";");
      }
    }
  return r;
}
var sourceMapPattern;
var cursor;
var labelPattern = /label:\s*([^\s;\n{]+)\s*(;|$)/g;
var serializeStyles = (sourceMapPattern = /\/\*#\ssourceMappingURL=data:application\/json;\S+\s+\*\//g, function(e3, t, n) {
  if (1 === e3.length && "object" == typeof e3[0] && null !== e3[0] && void 0 !== e3[0].styles)
    return e3[0];
  var r = true, o = "", i = (cursor = void 0, e3[0]);
  null == i || void 0 === i.raw ? (r = false, o += handleInterpolation(n, t, i)) : (void 0 === i[0] && console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR), o += i[0]);
  for (var a, s = 1; s < e3.length; s++)
    o += handleInterpolation(n, t, e3[s]), r && (void 0 === i[s] && console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR), o += i[s]);
  o = o.replace(sourceMapPattern, function(e4) {
    return a = e4, "";
  }), labelPattern.lastIndex = 0;
  for (var l, c = ""; null !== (l = labelPattern.exec(o)); )
    c += "-" + l[1];
  var u = murmur2(o) + c;
  return true ? { name: u, styles: o, map: a, next: cursor, toString: function() {
    return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
  } } : { name: u, styles: o, next: cursor };
});
var isBrowser$3 = "undefined" != typeof document;
var syncFallback = function(e3) {
  return e3();
};
var useInsertionEffect2 = React$1.useInsertionEffect || false;
var useInsertionEffectAlwaysWithSyncFallback = isBrowser$3 && useInsertionEffect2 || syncFallback;
var useInsertionEffectWithLayoutFallback = useInsertionEffect2 || React$1.useLayoutEffect;
var isBrowser$2 = "undefined" != typeof document;
var hasOwnProperty = {}.hasOwnProperty;
var EmotionCacheContext = React$1.createContext("undefined" != typeof HTMLElement ? createCache({ key: "css" }) : null);
var withEmotionCache = (EmotionCacheContext.displayName = "EmotionCacheContext", EmotionCacheContext.Provider, function(r) {
  return (0, import_react.forwardRef)(function(e3, t) {
    var n = (0, import_react.useContext)(EmotionCacheContext);
    return r(e3, n, t);
  });
});
var ThemeContext = (isBrowser$2 || (withEmotionCache = function(n) {
  return function(e3) {
    var t = (0, import_react.useContext)(EmotionCacheContext);
    return null === t ? (t = createCache({ key: "css" }), React$1.createElement(EmotionCacheContext.Provider, { value: t }, n(e3, t))) : n(e3, t);
  };
}), React$1.createContext({}));
var getLastPart = (ThemeContext.displayName = "EmotionThemeContext", function(e3) {
  e3 = e3.split(".");
  return e3[e3.length - 1];
});
var getFunctionNameFromStackTraceLine = function(e3) {
  var t = /^\s+at\s+([A-Za-z0-9$.]+)\s/.exec(e3);
  return (t = t || /^([A-Za-z0-9$.]+)@/.exec(e3)) ? getLastPart(t[1]) : void 0;
};
var internalReactFunctionNames = /* @__PURE__ */ new Set(["renderWithHooks", "processChild", "finishClassComponent", "renderToString"]);
var sanitizeIdentifier = function(e3) {
  return e3.replace(/\$/g, "-");
};
var getLabelFromStackTrace = function(e3) {
  if (e3)
    for (var t = e3.split("\n"), n = 0; n < t.length; n++) {
      var r = getFunctionNameFromStackTraceLine(t[n]);
      if (r) {
        if (internalReactFunctionNames.has(r))
          break;
        if (/^[A-Z]/.test(r))
          return sanitizeIdentifier(r);
      }
    }
};
var typePropName = "__EMOTION_TYPE_PLEASE_DO_NOT_USE__";
var labelPropName = "__EMOTION_LABEL_PLEASE_DO_NOT_USE__";
var createEmotionProps = function(e3, t) {
  if ("string" == typeof t.css && -1 !== t.css.indexOf(":"))
    throw new Error("Strings are not allowed as css prop values, please wrap it in a css template literal from '@emotion/react' like this: css`" + t.css + "`");
  var n, r = {};
  for (n in t)
    hasOwnProperty.call(t, n) && (r[n] = t[n]);
  return r[typePropName] = e3, !t.css || "object" == typeof t.css && "string" == typeof t.css.name && -1 !== t.css.name.indexOf("-") || (e3 = getLabelFromStackTrace(new Error().stack)) && (r[labelPropName] = e3), r;
};
var Insertion$1 = function(e3) {
  var t = e3.cache, n = e3.serialized, r = e3.isStringTag, e3 = (registerStyles(t, n, r), useInsertionEffectAlwaysWithSyncFallback(function() {
    return insertStyles(t, n, r);
  }));
  if (isBrowser$2 || void 0 === e3)
    return null;
  for (var o, i = n.name, a = n.next; void 0 !== a; )
    i += " " + a.name, a = a.next;
  return React$1.createElement("style", ((o = {})["data-emotion"] = t.key + " " + i, o.dangerouslySetInnerHTML = { __html: e3 }, o.nonce = t.sheet.nonce, o));
};
var Emotion = withEmotionCache(function(e3, t, n) {
  var r, o, i = e3.css, a = ("string" == typeof i && void 0 !== t.registered[i] && (i = t.registered[i]), e3[typePropName]), i = [i], s = "", i = ("string" == typeof e3.className ? s = getRegisteredStyles(t.registered, i, e3.className) : null != e3.className && (s = e3.className + " "), serializeStyles(i, void 0, React$1.useContext(ThemeContext))), l = (-1 === i.name.indexOf("-") && (r = e3[labelPropName]) && (i = serializeStyles([i, "label:" + r + ";"])), s += t.key + "-" + i.name, {});
  for (o in e3)
    !hasOwnProperty.call(e3, o) || "css" === o || o === typePropName || o === labelPropName || (l[o] = e3[o]);
  return l.ref = n, l.className = s, React$1.createElement(React$1.Fragment, null, React$1.createElement(Insertion$1, { cache: t, serialized: i, isStringTag: "string" == typeof a }), React$1.createElement(a, l));
});
var Emotion$1 = (Emotion.displayName = "EmotionCssPropInternal", Emotion);
function jsx2(e3, t, n) {
  return hasOwnProperty.call(t, "css") ? ReactJSXRuntime.jsx(Emotion$1, createEmotionProps(e3, t), n) : ReactJSXRuntime.jsx(e3, t, n);
}
function jsxs2(e3, t, n) {
  return hasOwnProperty.call(t, "css") ? ReactJSXRuntime.jsxs(Emotion$1, createEmotionProps(e3, t), n) : ReactJSXRuntime.jsxs(e3, t, n);
}
var LayerContext = (0, import_react.createContext)({});
var LayerProvider = ({ id: e3, children: t }) => jsx2(LayerContext.Provider, { value: { id: e3 }, children: t });
var PageContext = (0, import_react.createContext)({});
var PageProvider = ({ pageIndex: e3, children: t }) => jsx2(PageContext.Provider, { value: { pageIndex: e3 }, children: t });
var useLayer = (t) => {
  const o = (0, import_react.useContext)(PageContext)["pageIndex"], i = (0, import_react.useContext)(LayerContext)["id"], e3 = useEditor((e4) => t && e4.pages[o] && e4.pages[o].layers[i] && t(e4.pages[o].layers[i])), { state: n, actions: a } = e3, r = __rest(e3, ["state", "actions"]);
  var s = (0, import_react.useMemo)(() => ({ setProp: (e4) => a.setProp(o, i, e4), select: () => a.selectLayers(o, i), hover: (e4) => a.hoverLayer(o, void 0 === e4 ? i : null), setTextEditor: (e4) => a.setTextEditor(o, i, e4), openTextEditor: () => a.openTextEditor(o, i), openImageEditor: ({ boxSize: e4, position: t2, rotate: n2, image: r2 }) => a.openImageEditor(o, i, { boxSize: e4, position: t2, rotate: n2, image: r2 }) }), [i, a]);
  return Object.assign(Object.assign({}, r), { pageIndex: o, id: i, state: n, actions: s });
};
var useSelectedLayers = () => {
  const r = (0, import_react.useContext)(PageContext)["pageIndex"];
  var { selectedLayerIds: e3, selectedLayers: t } = useEditor((t2) => {
    const n = void 0 === r ? t2.activePage : r;
    var e4 = (t2.selectedLayers[n] || []).filter((e5) => t2.pages[n] && t2.pages[n].layers[e5]);
    return { selectedLayerIds: e4, selectedLayers: e4.map((e5) => t2.pages[n].layers[e5]) };
  });
  return { selectedLayerIds: e3, selectedLayers: t };
};
var normalizeNumber = (e3) => 0 < e3 % 1 && e3 % 1 < 0.5 ? Math.round(e3) : Math.round(1e3 * e3) / 1e3;
var getCirclePath = ({ width: e3, height: t }) => {
  var n = 4 * (Math.sqrt(2) - 1) / 3, r = normalizeNumber(e3 / 2), o = normalizeNumber(t / 2), i = normalizeNumber(e3 * n), n = normalizeNumber(t * n), i = normalizeNumber((e3 - i) / 2), n = normalizeNumber((t - n) / 2), a = [`M ${r} 0`];
  return a.push(`C ${e3 - i} 0 ${e3} ${n} ${e3} ` + o), a.push(`C ${e3} ${t - n} ${e3 - i} ${t} ${r} ` + t), a.push(`C ${i} ${t} 0 ${t - n} 0 ` + o), a.push(`C 0 ${n} ${i} 0 ${r} 0`), a.join(" ");
};
var getRectanglePath = ({ width: e3, height: t, roundedCorners: n }) => {
  var r = 5e-3 * Math.min(e3, t), r = normalizeNumber(Math.min(Math.min(e3 / 2, r * n), t / 2)), o = 4 * (Math.sqrt(2) - 1) / 3, o = normalizeNumber(r * (1 - o)), i = [`M ${r} 0`];
  return i.push(`L ${normalizeNumber(e3) - r} 0`), n && i.push(`C ${normalizeNumber(e3) - o} 0 ${normalizeNumber(e3)} ${o} ${normalizeNumber(e3)} ` + r), i.push(`L ${normalizeNumber(e3)} ` + (normalizeNumber(t) - r)), n && i.push(`C ${normalizeNumber(e3)} ${normalizeNumber(t) - o} ${normalizeNumber(e3) - o} ${normalizeNumber(t)} ${normalizeNumber(e3) - r} ` + normalizeNumber(t)), i.push(`L ${r} ` + normalizeNumber(t)), n && i.push(`C ${o} ${normalizeNumber(t)} 0 ${normalizeNumber(t) - o} 0 ` + (normalizeNumber(t) - r)), i.push("L 0 " + r), n && i.push(`C 0 ${o} ${o} 0 ${r} 0`), i.join(" ");
};
var getTrianglePath = ({ width: e3, height: t }) => {
  var n = normalizeNumber(e3 / 2), r = [`M ${n} 0`];
  return r.push(`L ${normalizeNumber(e3)} ` + normalizeNumber(t)), r.push("L 0 " + normalizeNumber(t)), r.push(`L ${n} 0`), r.join(" ");
};
var getTriangleUpsideDownPath = ({ width: e3, height: t }) => {
  var n = normalizeNumber(e3 / 2), r = ["M 0 0"];
  return r.push(`L ${normalizeNumber(e3)} 0`), r.push(`L ${n} ` + normalizeNumber(t)), r.push("L 0 0"), r.join(" ");
};
var PADDING$1 = 16;
var getParallelogramPath = ({ width: e3, height: t }) => {
  var n = [`M ${PADDING$1} 0`];
  return n.push(`L ${normalizeNumber(e3)} 0`), n.push(`L ${normalizeNumber(e3) - PADDING$1} ` + normalizeNumber(t)), n.push("L 0 " + normalizeNumber(t)), n.push(`L ${PADDING$1} 0`), n.join(" ");
};
var getParallelogramUpsideDownPath = ({ width: e3, height: t }) => {
  var n = [`M ${normalizeNumber(e3 - PADDING$1)} 0`];
  return n.push("L 0 0"), n.push(`L ${PADDING$1} ` + normalizeNumber(t)), n.push(`L ${PADDING$1} ` + normalizeNumber(t)), n.push(`L ${normalizeNumber(e3)} ` + normalizeNumber(t)), n.push(`L ${normalizeNumber(e3) - PADDING$1} 0`), n.join(" ");
};
var ARROW_SIZE = 32;
var getArrowPath = ({ width: e3, height: t }) => {
  var n = normalizeNumber(t / 4), r = [`M ${normalizeNumber(e3) - ARROW_SIZE} 0`];
  return r.push(`L ${normalizeNumber(e3)} ` + normalizeNumber(t / 2)), r.push(`L ${normalizeNumber(e3) - ARROW_SIZE} ` + normalizeNumber(t)), r.push(`L ${normalizeNumber(e3) - ARROW_SIZE} ` + normalizeNumber(t - n)), r.push("L 0 " + normalizeNumber(t - n)), r.push("L 0 " + normalizeNumber(n)), r.push(`L ${normalizeNumber(e3) - ARROW_SIZE} ` + normalizeNumber(n)), r.push(`L  ${normalizeNumber(e3) - ARROW_SIZE} 0`), r.join(" ");
};
var getArrowBottomPath = ({ width: e3, height: t }) => {
  var n = normalizeNumber(e3 / 4), r = [`M ${normalizeNumber(n)} 0`];
  return r.push(`L ${normalizeNumber(e3 - n)} 0`), r.push(`L ${normalizeNumber(e3 - n)} ` + (normalizeNumber(t) - ARROW_SIZE)), r.push(`L ${normalizeNumber(e3)} ` + (normalizeNumber(t) - ARROW_SIZE)), r.push(`L ${normalizeNumber(e3 / 2)} ` + t), r.push("L 0 " + (normalizeNumber(t) - ARROW_SIZE)), r.push(`L ${n} ` + (normalizeNumber(t) - ARROW_SIZE)), r.push(`L ${n} 0`), r.join(" ");
};
var getArrowTopPath = ({ width: e3, height: t }) => {
  var n = e3 / 4, r = [`M ${normalizeNumber(e3 / 2)} 0`];
  return r.push(`L ${normalizeNumber(e3)} ` + ARROW_SIZE), r.push(`L ${normalizeNumber(e3 - n)} ` + ARROW_SIZE), r.push(`L ${normalizeNumber(e3 - n)} ` + normalizeNumber(t)), r.push(`L ${n} ` + normalizeNumber(t)), r.push(`L ${n} ` + ARROW_SIZE), r.push("L 0 " + ARROW_SIZE), r.push(`L ${normalizeNumber(e3 / 2)} 0`), r.join(" ");
};
var getArrowLeftPath = ({ width: e3, height: t }) => {
  var n = normalizeNumber(t / 4), r = [`M ${ARROW_SIZE} 0`];
  return r.push(`L ${ARROW_SIZE} ` + n), r.push(`L ${normalizeNumber(e3)} ` + n), r.push(`L ${normalizeNumber(e3)} ` + (normalizeNumber(t) - n)), r.push(`L ${ARROW_SIZE} ` + (normalizeNumber(t) - n)), r.push(`L ${ARROW_SIZE} ` + normalizeNumber(t)), r.push("L 0 " + normalizeNumber(t / 2)), r.push(`L ${ARROW_SIZE} 0`), r.join(" ");
};
var getChevronPath = ({ width: e3, height: t }) => {
  var n = ARROW_SIZE / 2, r = normalizeNumber(t / 2), o = ["M 0 0"];
  return o.push(`L ${normalizeNumber(e3) - n} 0`), o.push(`L ${normalizeNumber(e3)} ` + r), o.push(`L ${normalizeNumber(e3) - n} ` + t), o.push("L 0 " + normalizeNumber(t)), o.push(`L ${n} ` + r), o.push("L 0 0"), o.join(" ");
};
var getArrowPentagonPath = ({ width: e3, height: t }) => {
  var n = ARROW_SIZE / 2, r = t / 2, o = ["M 0 0"];
  return o.push(`L ${e3 - n} 0`), o.push(`L ${e3} ` + r), o.push(`L ${e3 - n} ` + t), o.push("L 0 " + t), o.push("L 0 0"), o.join(" ");
};
var getRhombusPath = ({ width: e3, height: t }) => {
  var n = normalizeNumber(e3 / 2), r = normalizeNumber(t / 2), o = [`M ${n} 0`];
  return o.push(`L ${normalizeNumber(e3)} ` + r), o.push(`L ${n} ` + normalizeNumber(t)), o.push("L 0 " + r), o.push(`L ${n} 0`), o.join(" ");
};
var PADDING = 16;
var getTrapezoidPath = ({ width: e3, height: t }) => {
  var n = [`M ${PADDING} 0`];
  return n.push(`L ${normalizeNumber(e3) - PADDING} 0`), n.push(`L ${normalizeNumber(e3)} ` + normalizeNumber(t)), n.push("L 0 " + normalizeNumber(t)), n.push(`L ${PADDING} 0`), n.join(" ");
};
var getTrapezoidUpsideDownPath = ({ width: e3, height: t }) => {
  var n = ["M 0 0"];
  return n.push(`L ${normalizeNumber(e3)} 0`), n.push(`L ${normalizeNumber(e3) - PADDING} ` + normalizeNumber(t)), n.push(`L ${PADDING} ` + normalizeNumber(t)), n.push("L 0 0"), n.join(" ");
};
var getCrossPath = ({ width: e3, height: t }) => {
  var n = normalizeNumber(e3 / 3), r = 2 * n, o = normalizeNumber(t / 3), i = 2 * o, a = [`M ${n} 0`];
  return a.push(`L ${r} 0`), a.push(`L ${r} ` + o), a.push(`L ${normalizeNumber(e3)} ` + o), a.push(`L ${normalizeNumber(e3)} ` + i), a.push(`L ${r} ` + i), a.push(`L ${r} ` + normalizeNumber(t)), a.push(`L ${n} ` + normalizeNumber(t)), a.push(`L ${n} ` + i), a.push("L 0 " + i), a.push("L 0 " + o), a.push(`L ${n} ` + o), a.push(`L ${n} 0`), a.join(" ");
};
var getPentagonPath = ({ width: e3, height: t }) => {
  var n = [`M ${normalizeNumber(e3 / 2)} 0`];
  return n.push(`L ${normalizeNumber(e3)} ` + normalizeNumber(0.382 * t)), n.push(`L ${normalizeNumber(e3 - 0.191 * e3)} ` + normalizeNumber(t)), n.push(`L ${normalizeNumber(0.191 * e3)} ` + normalizeNumber(t)), n.push("L 0 " + normalizeNumber(0.382 * t)), n.push(`L ${normalizeNumber(e3 / 2)} 0`), n.join(" ");
};
var getHexagonVerticalPath = ({ width: e3, height: t }) => {
  var n = normalizeNumber(0.25 * t), r = [`M ${normalizeNumber(e3 / 2)} 0`];
  return r.push(`L ${normalizeNumber(e3)} ` + n), r.push(`L ${normalizeNumber(e3)} ` + (normalizeNumber(t) - n)), r.push(`L ${normalizeNumber(e3 / 2)} ` + normalizeNumber(t)), r.push("L 0 " + normalizeNumber(t - n)), r.push("L 0 " + n), r.push(`L ${normalizeNumber(e3 / 2)} 0`), r.join(" ");
};
var getHexagonHorizontalPath = ({ width: e3, height: t }) => {
  var n = normalizeNumber(0.25 * e3), r = [`M ${n} 0`];
  return r.push(`L ${normalizeNumber(e3) - n} 0`), r.push(`L ${normalizeNumber(e3)} ` + normalizeNumber(t / 2)), r.push(`L ${normalizeNumber(e3 - n)} ` + normalizeNumber(t)), r.push(`L ${n} ` + normalizeNumber(t)), r.push("L 0 " + normalizeNumber(t / 2)), r.push(`L ${n} 0`), r.join(" ");
};
var getOctagonPath = ({ width: e3, height: t }) => {
  var n = normalizeNumber(0.29 * e3), r = normalizeNumber(0.29 * t), o = [`M ${n} 0`];
  return o.push(`L ${normalizeNumber(e3) - n} 0`), o.push(`L ${normalizeNumber(e3)} ` + r), o.push(`L ${normalizeNumber(e3)} ` + (normalizeNumber(t) - r)), o.push(`L ${normalizeNumber(e3) - n} ` + normalizeNumber(t)), o.push(`L ${n} ` + normalizeNumber(t)), o.push("L 0 " + (normalizeNumber(t) - r)), o.push("L 0 " + r), o.push(`L ${n} 0`), o.join(" ");
};
var getShapePath = (e3, t) => {
  switch (e3) {
    case "circle":
      return getCirclePath(t);
    case "rectangle":
      return getRectanglePath(t);
    case "triangle":
      return getTrianglePath(t);
    case "triangleUpsideDown":
      return getTriangleUpsideDownPath(t);
    case "cross":
      return getCrossPath(t);
    case "parallelogram":
      return getParallelogramPath(t);
    case "parallelogramUpsideDown":
      return getParallelogramUpsideDownPath(t);
    case "trapezoid":
      return getTrapezoidPath(t);
    case "trapezoidUpsideDown":
      return getTrapezoidUpsideDownPath(t);
    case "arrowRight":
      return getArrowPath(t);
    case "arrowLeft":
      return getArrowLeftPath(t);
    case "arrowTop":
      return getArrowTopPath(t);
    case "arrowBottom":
      return getArrowBottomPath(t);
    case "rhombus":
      return getRhombusPath(t);
    case "chevron":
      return getChevronPath(t);
    case "arrowPentagon":
      return getArrowPentagonPath(t);
    case "pentagon":
      return getPentagonPath(t);
    case "hexagonVertical":
      return getHexagonVerticalPath(t);
    case "hexagonHorizontal":
      return getHexagonHorizontalPath(t);
    case "octagon":
      return getOctagonPath(t);
  }
};
var scalePath = (e3, t) => {
  return e3.split(" ").map((e4) => e4.match(/^[+-]?\d+(\.\d+)?$/) ? parseFloat(e4) * t : e4).join(" ");
};
var hex2rgb = (e3) => (e3 = "#" === e3[0] ? e3.substring(1) : e3).length < 6 ? { r: parseInt(e3[0] + e3[0], 16), g: parseInt(e3[1] + e3[1], 16), b: parseInt(e3[2] + e3[2], 16), a: 4 === e3.length ? Math.round(parseInt(e3[3] + e3[3], 16) / 255 * 100) / 100 : 1 } : { r: parseInt(e3.substring(0, 2), 16), g: parseInt(e3.substring(2, 4), 16), b: parseInt(e3.substring(4, 6), 16), a: 8 === e3.length ? Math.round(parseInt(e3.substring(6, 8), 16) / 255 * 100) / 100 : 1 };
var hex2rgbString = (e3) => {
  var { r: e3, g: t, b: n, a: r } = hex2rgb(e3);
  return 1 === r ? `rgb(${e3}, ${t}, ${n})` : `rgba(${e3}, ${t}, ${n}, ${r})`;
};
var rgb2hsv = ({ r: e3, g: t, b: n, a: r }) => {
  let o;
  var i = Math.max(e3, t, n), a = i - Math.min(e3, t, n);
  return o = 0 == a ? 0 : e3 === i ? (t - n) / a % 6 : t === i ? (n - e3) / a + 2 : (e3 - t) / a + 4, (o *= 60) < 0 && (o += 360), { h: o, s: 100 * (0 === i ? 0 : a / i), v: i / 255 * 100, a: r };
};
var hex2hsv = (e3) => {
  e3 = hex2rgb(e3);
  return rgb2hsv(e3);
};
var hsl2hsv = ({ h: e3, s: t, l: n, a: r }) => ({ h: e3, s: 0 < (t *= (n < 50 ? n : 100 - n) / 100) ? 2 * t / (n + t) * 100 : 0, v: n + t, a: r });
var hsv2rgb = ({ h: e3, s: t, v: n, a: r }) => {
  let o = [];
  var t = (n /= 100) * (t /= 100), i = e3 / 60, a = t * (1 - Math.abs(i % 2 - 1)), n = n - t;
  return o = 0 <= i && i < 1 ? [t, a, 0] : 1 <= i && i < 2 ? [a, t, 0] : 2 <= i && i < 3 ? [0, t, a] : 3 <= e3 && i < 4 ? [0, a, t] : 4 <= e3 && i < 5 ? [a, 0, t] : 5 <= e3 && i <= 6 ? [t, 0, a] : [0, 0, 0], { r: Math.round(255 * (o[0] + n)), g: Math.round(255 * (o[1] + n)), b: Math.round(255 * (o[2] + n)), a: r };
};
var convert = (e3) => {
  e3 = e3.toString(16);
  return 1 === e3.length ? "0" + e3 : e3;
};
var rgb2hex = ({ r: e3, g: t, b: n, a: r }) => {
  r = r < 1 ? convert(Math.round(255 * r)) : "";
  return "#" + [convert(e3), convert(t), convert(n), r].join("");
};
var hsv2hex = ({ h: e3, s: t, v: n, a: r }) => {
  e3 = hsv2rgb({ h: e3, s: t, v: n, a: r });
  return rgb2hex(e3);
};
var hsv2hsl = ({ h: e3, s: t, v: n, a: r }) => {
  var o = (200 - t) * n / 100;
  return { h: e3, s: 0 < o && o < 200 ? t * n / 100 / (o <= 100 ? o : 200 - o) * 100 : 0, l: o / 2, a: r };
};
var hsv2hslString = ({ h: e3, s: t, v: n, a: r }) => {
  e3 = hsv2hsl({ h: e3, s: t, v: n, a: r });
  return `hsl(${e3.h}, ${e3.s}%, ${e3.l}%, ${e3.a})`;
};
var rgbColorRegex = /rgba?\((?<r>[.\d]+)[, ]+(?<g>[.\d]+)[, ]+(?<b>[.\d]+)(?:\s?[,\/]\s?(?<a>[.\d]+%?))?\)/i;
var parseRgba = (e3) => {
  e3 = rgbColorRegex.exec(e3);
  if (null != e3 && e3.groups)
    return { r: parseInt(e3.groups.r, 10), g: parseInt(e3.groups.g, 10), b: parseInt(e3.groups.b, 10), a: void 0 !== e3.groups.a ? parseInt(e3.groups.a) : 1 };
};
var hexColorRegex = /^#[0-9A-F]{3,6}[0-9a-f]{0,2}$/i;
var parseHex = (e3) => hex2rgb(e3);
var parseColor = (e3) => {
  let t;
  if (rgbColorRegex.test(e3) ? t = parseRgba(e3) : hexColorRegex.test(e3) && (t = parseHex(e3)), t)
    return rgb2hsv(t);
  throw new Error("Cannot parse " + e3);
};
var isRGB = (e3) => Object.keys(e3).every((e4) => ["r", "g", "b", "a"].includes(e4));
var isHSL = (e3) => Object.keys(e3).every((e4) => ["h", "s", "l", "a"].includes(e4));
var hsv2hwb = ({ h: e3, s: t, v: n }) => ({ h: e3, w: (100 - t) * n / 100, b: 100 - n });
var hwb2hsv = ({ h: e3, w: t, b: n }, r) => ({ h: e3, s: Math.max(0, Math.min(100, 100 === n ? 0 : 100 - t / (100 - n) * 100)), v: 100 - n, a: r });
var Color = class {
  constructor(e3) {
    var t;
    Object.defineProperty(this, "_color", { enumerable: true, configurable: true, writable: true, value: void 0 }), Object.defineProperty(this, "_alpha", { enumerable: true, configurable: true, writable: true, value: void 0 }), "string" == typeof e3 ? (t = parseColor(e3), this._color = t, this._alpha = t.a || 1) : (isRGB(e3) ? this._color = rgb2hsv(e3) : isHSL(e3) ? this._color = hsl2hsv(e3) : this._color = e3, this._alpha = e3.a || 1);
  }
  alpha(e3) {
    return this._alpha = e3, this;
  }
  white() {
    return this.toHwb().w;
  }
  darken(e3) {
    var t = this.toHsl();
    return t.l = Math.min(100, Math.max(t.l - t.l * e3, 0)), this._color = hsl2hsv(t), this;
  }
  whiten(e3) {
    var t = this.toHwb();
    return t.w = Math.min(100, Math.max(t.w + t.w * e3, 0)), this._color = hwb2hsv(t, this._alpha), this;
  }
  blacken(e3) {
    var t = this.toHwb();
    return t.b = Math.min(100, Math.max(t.b + t.b * e3, 0)), this._color = hwb2hsv(t, this._alpha), this;
  }
  toHwb() {
    return hsv2hwb(this._color);
  }
  toHsl() {
    return hsv2hsl(Object.assign(Object.assign({}, this._color), { a: this._alpha }));
  }
  toRgbString() {
    var e3 = hsv2rgb(Object.assign(Object.assign({}, this._color), { a: this._alpha }));
    return `rgb${1 !== e3.a ? "a" : ""}(${e3.r}, ${e3.g}, ${e3.b}${1 !== e3.a ? ", " + e3.a : ""})`;
  }
  toHex() {
    return hsv2hex(Object.assign(Object.assign({}, this._color), { a: this._alpha }));
  }
};
var isMouseEvent = (e3) => Boolean((e3.clientX || 0 === e3.clientX) && (e3.clientY || 0 === e3.clientY));
var isTouchEvent = (e3) => Boolean(e3.touches && e3.touches.length);
var getPosition = (e3) => isTouchEvent(e3) ? e3.touches[0] : e3;
var lib = {};
var uaParser_min = { exports: {} };
var uaParser_minExports = (uaParser_min.exports, !function(L, j) {
  function e3(e4) {
    for (var t2 = {}, n2 = 0; n2 < e4.length; n2++)
      t2[e4[n2].toUpperCase()] = e4[n2];
    return t2;
  }
  function A(e4, t2) {
    return typeof e4 === g && -1 !== D(t2).indexOf(D(e4));
  }
  function s(e4, t2) {
    if (typeof e4 === g)
      return e4 = e4.replace(/^\s\s*/, p), typeof t2 == h ? e4 : e4.substring(0, 350);
  }
  function l(e4, t2) {
    for (var n2, r2, o2, i2, a2, s2 = 0; s2 < t2.length && !i2; ) {
      for (var l2 = t2[s2], c2 = t2[s2 + 1], u2 = n2 = 0; u2 < l2.length && !i2 && l2[u2]; )
        if (i2 = l2[u2++].exec(e4))
          for (r2 = 0; r2 < c2.length; r2++)
            a2 = i2[++n2], typeof (o2 = c2[r2]) === m && 0 < o2.length ? 2 === o2.length ? typeof o2[1] == f ? this[o2[0]] = o2[1].call(this, a2) : this[o2[0]] = o2[1] : 3 === o2.length ? typeof o2[1] !== f || o2[1].exec && o2[1].test ? this[o2[0]] = a2 ? a2.replace(o2[1], o2[2]) : d : this[o2[0]] = a2 ? o2[1].call(this, a2, o2[2]) : d : 4 === o2.length && (this[o2[0]] = a2 ? o2[3].call(this, a2.replace(o2[1], o2[2])) : d) : this[o2] = a2 || d;
      s2 += 2;
    }
  }
  function t(e4, t2) {
    for (var n2 in t2)
      if (typeof t2[n2] === m && 0 < t2[n2].length) {
        for (var r2 = 0; r2 < t2[n2].length; r2++)
          if (A(t2[n2][r2], e4))
            return "?" === n2 ? d : n2;
      } else if (A(t2[n2], e4))
        return "?" === n2 ? d : n2;
    return e4;
  }
  function c(e4, t2) {
    var n2, r2, o2, i2, a2;
    return typeof e4 === m && (t2 = e4, e4 = d), this instanceof c ? (n2 = typeof u != h && u.navigator ? u.navigator : d, r2 = e4 || (n2 && n2.userAgent ? n2.userAgent : p), o2 = n2 && n2.userAgentData ? n2.userAgentData : d, i2 = t2 ? function(e5, t3) {
      var n3, r3 = {};
      for (n3 in e5)
        t3[n3] && t3[n3].length % 2 == 0 ? r3[n3] = t3[n3].concat(e5[n3]) : r3[n3] = e5[n3];
      return r3;
    }(P, t2) : P, a2 = n2 && n2.userAgent == r2, this.getBrowser = function() {
      var e5, t3 = {};
      return t3[y] = d, t3[x] = d, l.call(t3, r2, i2.browser), t3.major = typeof (e5 = t3[x]) === g ? e5.replace(/[^\d\.]/g, p).split(".")[0] : d, a2 && n2 && n2.brave && typeof n2.brave.isBrave == f && (t3[y] = "Brave"), t3;
    }, this.getCPU = function() {
      var e5 = {};
      return e5[S] = d, l.call(e5, r2, i2.cpu), e5;
    }, this.getDevice = function() {
      var e5 = {};
      return e5[w] = d, e5[v] = d, e5[b] = d, l.call(e5, r2, i2.device), a2 && !e5[b] && o2 && o2.mobile && (e5[b] = k), a2 && "Macintosh" == e5[v] && n2 && typeof n2.standalone != h && n2.maxTouchPoints && 2 < n2.maxTouchPoints && (e5[v] = "iPad", e5[b] = C), e5;
    }, this.getEngine = function() {
      var e5 = {};
      return e5[y] = d, e5[x] = d, l.call(e5, r2, i2.engine), e5;
    }, this.getOS = function() {
      var e5 = {};
      return e5[y] = d, e5[x] = d, l.call(e5, r2, i2.os), a2 && !e5[y] && o2 && "Unknown" != o2.platform && (e5[y] = o2.platform.replace(/chrome os/i, $).replace(/macos/i, "Mac OS")), e5;
    }, this.getResult = function() {
      return { ua: this.getUA(), browser: this.getBrowser(), engine: this.getEngine(), os: this.getOS(), device: this.getDevice(), cpu: this.getCPU() };
    }, this.getUA = function() {
      return r2;
    }, this.setUA = function(e5) {
      return r2 = typeof e5 === g && 350 < e5.length ? s(e5, 350) : e5, this;
    }, this.setUA(r2), this) : new c(e4, t2).getResult();
  }
  var u, d, r, p, f, h, m, g, v, y, b, w, x, S, k, C, n, o, i, F, a, E, T, _, R, O, I, M, $, D, N, P, z;
  u = "object" == typeof window ? window : commonjsGlobal, f = "function", h = "undefined", m = "object", g = "string", P = { browser: [[/\b(?:crmo|crios)\/([\w\.]+)/i], [x = "version", [y = "name", a = "Chrome"]], [/edg(?:e|ios|a)?\/([\w\.]+)/i], [x, [y, "Edge"]], [/(opera mini)\/([-\w\.]+)/i, /(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i, /(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i], [y, x], [/opios[\/ ]+([\w\.]+)/i], [x, [y, (M = "Opera") + " Mini"]], [/\bopr\/([\w\.]+)/i], [x, [y, M]], [/(kindle)\/([\w\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i, /(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i, /(ba?idubrowser)[\/ ]?([\w\.]+)/i, /(?:ms|\()(ie) ([\w\.]+)/i, /(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i, /(heytap|ovi)browser\/([\d\.]+)/i, /(weibo)__([\d\.]+)/i], [y, x], [/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i], [x, [y, "UC" + (_ = "Browser")]], [/microm.+\bqbcore\/([\w\.]+)/i, /\bqbcore\/([\w\.]+).+microm/i], [x, [y, "WeChat(Win) Desktop"]], [/micromessenger\/([\w\.]+)/i], [x, [y, "WeChat"]], [/konqueror\/([\w\.]+)/i], [x, [y, "Konqueror"]], [/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i], [x, [y, "IE"]], [/ya(?:search)?browser\/([\w\.]+)/i], [x, [y, "Yandex"]], [/(avast|avg)\/([\w\.]+)/i], [[y, /(.+)/, "$1 Secure " + _], x], [/\bfocus\/([\w\.]+)/i], [x, [y, (E = "Firefox") + " Focus"]], [/\bopt\/([\w\.]+)/i], [x, [y, M + " Touch"]], [/coc_coc\w+\/([\w\.]+)/i], [x, [y, "Coc Coc"]], [/dolfin\/([\w\.]+)/i], [x, [y, "Dolphin"]], [/coast\/([\w\.]+)/i], [x, [y, M + " Coast"]], [/miuibrowser\/([\w\.]+)/i], [x, [y, "MIUI " + _]], [/fxios\/([-\w\.]+)/i], [x, [y, E]], [/\bqihu|(qi?ho?o?|360)browser/i], [[y, "360 " + _]], [/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i], [[y, /(.+)/, "$1 " + _], x], [/(comodo_dragon)\/([\w\.]+)/i], [[y, /_/g, " "], x], [/(electron)\/([\w\.]+) safari/i, /(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i, /m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i], [y, x], [/(metasr)[\/ ]?([\w\.]+)/i, /(lbbrowser)/i, /\[(linkedin)app\]/i], [y], [/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i], [[y, M = "Facebook"], x], [/(kakao(?:talk|story))[\/ ]([\w\.]+)/i, /(naver)\(.*?(\d+\.[\w\.]+).*\)/i, /safari (line)\/([\w\.]+)/i, /\b(line)\/([\w\.]+)\/iab/i, /(chromium|instagram)[\/ ]([-\w\.]+)/i], [y, x], [/\bgsa\/([\w\.]+) .*safari\//i], [x, [y, "GSA"]], [/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i], [x, [y, "TikTok"]], [/headlesschrome(?:\/([\w\.]+)| )/i], [x, [y, a + " Headless"]], [/ wv\).+(chrome)\/([\w\.]+)/i], [[y, a + " WebView"], x], [/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i], [x, [y, "Android " + _]], [/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i], [y, x], [/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i], [x, [y, "Mobile Safari"]], [/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i], [x, y], [/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i], [y, [x, t, { "1.0": "/8", 1.2: "/1", 1.3: "/3", "2.0": "/412", "2.0.2": "/416", "2.0.3": "/417", "2.0.4": "/419", "?": "/" }]], [/(webkit|khtml)\/([\w\.]+)/i], [y, x], [/(navigator|netscape\d?)\/([-\w\.]+)/i], [[y, "Netscape"], x], [/mobile vr; rv:([\w\.]+)\).+firefox/i], [x, [y, E + " Reality"]], [/ekiohf.+(flow)\/([\w\.]+)/i, /(swiftfox)/i, /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i, /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i, /(firefox)\/([\w\.]+)/i, /(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i, /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i, /(links) \(([\w\.]+)/i, /panasonic;(viera)/i], [y, x], [/(cobalt)\/([\w\.]+)/i], [y, [x, /master.|lts./, p = ""]]], cpu: [[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i], [[S = "architecture", "amd64"]], [/(ia32(?=;))/i], [[S, D = function(e4) {
    return e4.toLowerCase();
  }]], [/((?:i[346]|x)86)[;\)]/i], [[S, "ia32"]], [/\b(aarch64|arm(v?8e?l?|_?64))\b/i], [[S, "arm64"]], [/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i], [[S, "armhf"]], [/windows (ce|mobile); ppc;/i], [[S, "arm"]], [/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i], [[S, /ower/, p, D]], [/(sun4\w)[;\)]/i], [[S, "sparc"]], [/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i], [[S, D]]], device: [[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i], [v = "model", [w = "vendor", _ = "Samsung"], [b = "type", C = "tablet"]], [/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i, /samsung[- ]([-\w]+)/i, /sec-(sgh\w+)/i], [v, [w, _], [b, k = "mobile"]], [/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i], [v, [w, i = "Apple"], [b, k]], [/\((ipad);[-\w\),; ]+apple/i, /applecoremedia\/[\w\.]+ \((ipad)/i, /\b(ipad)\d\d?,\d\d?[;\]].+ios/i], [v, [w, i], [b, C]], [/(macintosh);/i], [v, [w, i]], [/\b(sh-?[altvz]?\d\d[a-ekm]?)/i], [v, [w, "Sharp"], [b, k]], [/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i], [v, [w, "Huawei"], [b, C]], [/(?:huawei|honor)([-\w ]+)[;\)]/i, /\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i], [v, [w, "Huawei"], [b, k]], [/\b(poco[\w ]+)(?: bui|\))/i, /\b; (\w+) build\/hm\1/i, /\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i, /\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i, /\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i], [[v, /_/g, " "], [w, O = "Xiaomi"], [b, k]], [/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i], [[v, /_/g, " "], [w, O], [b, C]], [/; (\w+) bui.+ oppo/i, /\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i], [v, [w, "OPPO"], [b, k]], [/vivo (\w+)(?: bui|\))/i, /\b(v[12]\d{3}\w?[at])(?: bui|;)/i], [v, [w, "Vivo"], [b, k]], [/\b(rmx[12]\d{3})(?: bui|;|\))/i], [v, [w, "Realme"], [b, k]], [/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i, /\bmot(?:orola)?[- ](\w*)/i, /((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i], [v, [w, T = "Motorola"], [b, k]], [/\b(mz60\d|xoom[2 ]{0,2}) build\//i], [v, [w, T], [b, C]], [/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i], [v, [w, "LG"], [b, C]], [/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i, /\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i, /\blg-?([\d\w]+) bui/i], [v, [w, "LG"], [b, k]], [/(ideatab[-\w ]+)/i, /lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i], [v, [w, "Lenovo"], [b, C]], [/(?:maemo|nokia).*(n900|lumia \d+)/i, /nokia[-_ ]?([-\w\.]*)/i], [[v, /_/g, " "], [w, "Nokia"], [b, k]], [/(pixel c)\b/i], [v, [w, T = "Google"], [b, C]], [/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i], [v, [w, T], [b, k]], [/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i], [v, [w, R = "Sony"], [b, k]], [/sony tablet [ps]/i, /\b(?:sony)?sgp\w+(?: bui|\))/i], [[v, "Xperia Tablet"], [w, R], [b, C]], [/ (kb2005|in20[12]5|be20[12][59])\b/i, /(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i], [v, [w, "OnePlus"], [b, k]], [/(alexa)webm/i, /(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i, /(kf[a-z]+)( bui|\)).+silk\//i], [v, [w, o = "Amazon"], [b, C]], [/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i], [[v, /(.+)/g, "Fire Phone $1"], [w, o], [b, k]], [/(playbook);[-\w\),; ]+(rim)/i], [v, w, [b, C]], [/\b((?:bb[a-f]|st[hv])100-\d)/i, /\(bb10; (\w+)/i], [v, [w, F = "BlackBerry"], [b, k]], [/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i], [v, [w, "ASUS"], [b, C]], [/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i], [v, [w, "ASUS"], [b, k]], [/(nexus 9)/i], [v, [w, "HTC"], [b, C]], [/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i, /(zte)[- ]([\w ]+?)(?: bui|\/|\))/i, /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i], [w, [v, /_/g, " "], [b, k]], [/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i], [v, [w, "Acer"], [b, C]], [/droid.+; (m[1-5] note) bui/i, /\bmz-([-\w]{2,})/i], [v, [w, "Meizu"], [b, k]], [/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i, /(hp) ([\w ]+\w)/i, /(asus)-?(\w+)/i, /(microsoft); (lumia[\w ]+)/i, /(lenovo)[-_ ]?([-\w]+)/i, /(jolla)/i, /(oppo) ?([\w ]+) bui/i], [w, v, [b, k]], [/(kobo)\s(ereader|touch)/i, /(archos) (gamepad2?)/i, /(hp).+(touchpad(?!.+tablet)|tablet)/i, /(kindle)\/([\w\.]+)/i, /(nook)[\w ]+build\/(\w+)/i, /(dell) (strea[kpr\d ]*[\dko])/i, /(le[- ]+pan)[- ]+(\w{1,9}) bui/i, /(trinity)[- ]*(t\d{3}) bui/i, /(gigaset)[- ]+(q\w{1,9}) bui/i, /(vodafone) ([\w ]+)(?:\)| bui)/i], [w, v, [b, C]], [/(surface duo)/i], [v, [w, N = "Microsoft"], [b, C]], [/droid [\d\.]+; (fp\du?)(?: b|\))/i], [v, [w, "Fairphone"], [b, k]], [/(u304aa)/i], [v, [w, "AT&T"], [b, k]], [/\bsie-(\w*)/i], [v, [w, "Siemens"], [b, k]], [/\b(rct\w+) b/i], [v, [w, "RCA"], [b, C]], [/\b(venue[\d ]{2,7}) b/i], [v, [w, "Dell"], [b, C]], [/\b(q(?:mv|ta)\w+) b/i], [v, [w, "Verizon"], [b, C]], [/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i], [v, [w, "Barnes & Noble"], [b, C]], [/\b(tm\d{3}\w+) b/i], [v, [w, "NuVision"], [b, C]], [/\b(k88) b/i], [v, [w, "ZTE"], [b, C]], [/\b(nx\d{3}j) b/i], [v, [w, "ZTE"], [b, k]], [/\b(gen\d{3}) b.+49h/i], [v, [w, "Swiss"], [b, k]], [/\b(zur\d{3}) b/i], [v, [w, "Swiss"], [b, C]], [/\b((zeki)?tb.*\b) b/i], [v, [w, "Zeki"], [b, C]], [/\b([yr]\d{2}) b/i, /\b(dragon[- ]+touch |dt)(\w{5}) b/i], [[w, "Dragon Touch"], v, [b, C]], [/\b(ns-?\w{0,9}) b/i], [v, [w, "Insignia"], [b, C]], [/\b((nxa|next)-?\w{0,9}) b/i], [v, [w, "NextBook"], [b, C]], [/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i], [[w, "Voice"], v, [b, k]], [/\b(lvtel\-)?(v1[12]) b/i], [[w, "LvTel"], v, [b, k]], [/\b(ph-1) /i], [v, [w, "Essential"], [b, k]], [/\b(v(100md|700na|7011|917g).*\b) b/i], [v, [w, "Envizen"], [b, C]], [/\b(trio[-\w\. ]+) b/i], [v, [w, "MachSpeed"], [b, C]], [/\btu_(1491) b/i], [v, [w, "Rotor"], [b, C]], [/(shield[\w ]+) b/i], [v, [w, "Nvidia"], [b, C]], [/(sprint) (\w+)/i], [w, v, [b, k]], [/(kin\.[onetw]{3})/i], [[v, /\./g, " "], [w, N], [b, k]], [/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i], [v, [w, I = "Zebra"], [b, C]], [/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i], [v, [w, I], [b, k]], [/smart-tv.+(samsung)/i], [w, [b, n = "smarttv"]], [/hbbtv.+maple;(\d+)/i], [[v, /^/, "SmartTV"], [w, _], [b, n]], [/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i], [[w, "LG"], [b, n]], [/(apple) ?tv/i], [w, [v, i + " TV"], [b, n]], [/crkey/i], [[v, a + "cast"], [w, T], [b, n]], [/droid.+aft(\w)( bui|\))/i], [v, [w, o], [b, n]], [/\(dtv[\);].+(aquos)/i, /(aquos-tv[\w ]+)\)/i], [v, [w, "Sharp"], [b, n]], [/(bravia[\w ]+)( bui|\))/i], [v, [w, R], [b, n]], [/(mitv-\w{5}) bui/i], [v, [w, O], [b, n]], [/Hbbtv.*(technisat) (.*);/i], [w, v, [b, n]], [/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i, /hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i], [[w, s], [v, s], [b, n]], [/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i], [[b, n]], [/(ouya)/i, /(nintendo) ([wids3utch]+)/i], [w, v, [b, _ = "console"]], [/droid.+; (shield) bui/i], [v, [w, "Nvidia"], [b, _]], [/(playstation [345portablevi]+)/i], [v, [w, R], [b, _]], [/\b(xbox(?: one)?(?!; xbox))[\); ]/i], [v, [w, N], [b, _]], [/((pebble))app/i], [w, v, [b, O = "wearable"]], [/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i], [v, [w, i], [b, O]], [/droid.+; (glass) \d/i], [v, [w, T], [b, O]], [/droid.+; (wt63?0{2,3})\)/i], [v, [w, I], [b, O]], [/(quest( 2| pro)?)/i], [v, [w, M], [b, O]], [/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i], [w, [b, R = "embedded"]], [/(aeobc)\b/i], [v, [w, o], [b, R]], [/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i], [v, [b, k]], [/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i], [v, [b, C]], [/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i], [[b, C]], [/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i], [[b, k]], [/(android[-\w\. ]{0,9});.+buil/i], [v, [w, "Generic"]]], engine: [[/windows.+ edge\/([\w\.]+)/i], [x, [y, "EdgeHTML"]], [/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i], [x, [y, "Blink"]], [/(presto)\/([\w\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i, /ekioh(flow)\/([\w\.]+)/i, /(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i, /(icab)[\/ ]([23]\.[\d\.]+)/i, /\b(libweb)/i], [y, x], [/rv\:([\w\.]{1,9})\b.+(gecko)/i], [x, y]], os: [[/microsoft (windows) (vista|xp)/i], [y, x], [/(windows) nt 6\.2; (arm)/i, /(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i, /(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i], [y, [x, t, N = { ME: "4.90", "NT 3.11": "NT3.51", "NT 4.0": "NT4.0", 2e3: "NT 5.0", XP: ["NT 5.1", "NT 5.2"], Vista: "NT 6.0", 7: "NT 6.1", 8: "NT 6.2", 8.1: "NT 6.3", 10: ["NT 6.4", "NT 10.0"], RT: "ARM" }]], [/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i], [[y, "Windows"], [x, t, N]], [/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i, /ios;fbsv\/([\d\.]+)/i, /cfnetwork\/.+darwin/i], [[x, /_/g, "."], [y, "iOS"]], [/(mac os x) ?([\w\. ]*)/i, /(macintosh|mac_powerpc\b)(?!.+haiku)/i], [[y, "Mac OS"], [x, /_/g, "."]], [/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i], [x, y], [/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i, /(blackberry)\w*\/([\w\.]*)/i, /(tizen|kaios)[\/ ]([\w\.]+)/i, /\((series40);/i], [y, x], [/\(bb(10);/i], [x, [y, F]], [/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i], [x, [y, "Symbian"]], [/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i], [x, [y, E + " OS"]], [/web0s;.+rt(tv)/i, /\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i], [x, [y, "webOS"]], [/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i], [x, [y, "watchOS"]], [/crkey\/([\d\.]+)/i], [x, [y, a + "cast"]], [/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i], [[y, $ = "Chromium OS"], x], [/panasonic;(viera)/i, /(netrange)mmh/i, /(nettv)\/(\d+\.[\w\.]+)/i, /(nintendo|playstation) ([wids345portablevuch]+)/i, /(xbox); +xbox ([^\);]+)/i, /\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i, /(mint)[\/\(\) ]?(\w*)/i, /(mageia|vectorlinux)[; ]/i, /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i, /(hurd|linux) ?([\w\.]*)/i, /(gnu) ?([\w\.]*)/i, /\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i, /(haiku) (\w+)/i], [y, x], [/(sunos) ?([\w\.\d]*)/i], [[y, "Solaris"], x], [/((?:open)?solaris)[-\/ ]?([\w\.]*)/i, /(aix) ((\d)(?=\.|\)| )[\w\.])*/i, /\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i, /(unix) ?([\w\.]*)/i], [y, x]] }, c.VERSION = "1.0.35", c.BROWSER = e3([y, x, "major"]), c.CPU = e3([S]), c.DEVICE = e3([v, w, b, _, k, n, C, O, R]), c.ENGINE = c.OS = e3([y, x]), (j = L.exports ? L.exports = c : j).UAParser = c, (z = typeof u != h && (u.jQuery || u.Zepto)) && !z.ua && (r = new c(), z.ua = r.getResult(), z.ua.get = function() {
    return r.getUA();
  }, z.ua.set = function(e4) {
    r.setUA(e4);
    var t2, n2 = r.getResult();
    for (t2 in n2)
      z.ua[t2] = n2[t2];
  });
}(uaParser_min, uaParser_min.exports), uaParser_min.exports);
function _interopDefault(e3) {
  return e3 && "object" == typeof e3 && "default" in e3 ? e3.default : e3;
}
Object.defineProperty(lib, "__esModule", { value: true });
var React = import_react.default;
var React__default = _interopDefault(React);
var UAParser = uaParser_minExports;
var ClientUAInstance = new UAParser();
var browser = ClientUAInstance.getBrowser();
var cpu = ClientUAInstance.getCPU();
var device = ClientUAInstance.getDevice();
var engine = ClientUAInstance.getEngine();
var os$1 = ClientUAInstance.getOS();
var ua = ClientUAInstance.getUA();
var setUa = function(e3) {
  return ClientUAInstance.setUA(e3);
};
var parseUserAgent = function(e3) {
  var t;
  if (e3)
    return { UA: t = new UAParser(e3), browser: t.getBrowser(), cpu: t.getCPU(), device: t.getDevice(), engine: t.getEngine(), os: t.getOS(), ua: t.getUA(), setUserAgent: function(e4) {
      return t.setUA(e4);
    } };
  console.error("No userAgent string was provided");
};
var UAHelper = Object.freeze({ ClientUAInstance, browser, cpu, device, engine, os: os$1, ua, setUa, parseUserAgent });
function ownKeys(t, e3) {
  var n, r = Object.keys(t);
  return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e3 && (n = n.filter(function(e4) {
    return Object.getOwnPropertyDescriptor(t, e4).enumerable;
  })), r.push.apply(r, n)), r;
}
function _objectSpread2(t) {
  for (var e3 = 1; e3 < arguments.length; e3++) {
    var n = null != arguments[e3] ? arguments[e3] : {};
    e3 % 2 ? ownKeys(Object(n), true).forEach(function(e4) {
      _defineProperty(t, e4, n[e4]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : ownKeys(Object(n)).forEach(function(e4) {
      Object.defineProperty(t, e4, Object.getOwnPropertyDescriptor(n, e4));
    });
  }
  return t;
}
function _typeof(e3) {
  return (_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
    return typeof e4;
  } : function(e4) {
    return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
  })(e3);
}
function _classCallCheck(e3, t) {
  if (!(e3 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function _defineProperties(e3, t) {
  for (var n = 0; n < t.length; n++) {
    var r = t[n];
    r.enumerable = r.enumerable || false, r.configurable = true, "value" in r && (r.writable = true), Object.defineProperty(e3, r.key, r);
  }
}
function _createClass(e3, t, n) {
  return t && _defineProperties(e3.prototype, t), n && _defineProperties(e3, n), e3;
}
function _defineProperty(e3, t, n) {
  return t in e3 ? Object.defineProperty(e3, t, { value: n, enumerable: true, configurable: true, writable: true }) : e3[t] = n, e3;
}
function _extends() {
  return (_extends = Object.assign || function(e3) {
    for (var t = 1; t < arguments.length; t++) {
      var n, r = arguments[t];
      for (n in r)
        Object.prototype.hasOwnProperty.call(r, n) && (e3[n] = r[n]);
    }
    return e3;
  }).apply(this, arguments);
}
function _inherits(e3, t) {
  if ("function" != typeof t && null !== t)
    throw new TypeError("Super expression must either be null or a function");
  e3.prototype = Object.create(t && t.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t && _setPrototypeOf(e3, t);
}
function _getPrototypeOf(e3) {
  return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(e4) {
    return e4.__proto__ || Object.getPrototypeOf(e4);
  })(e3);
}
function _setPrototypeOf(e3, t) {
  return (_setPrototypeOf = Object.setPrototypeOf || function(e4, t2) {
    return e4.__proto__ = t2, e4;
  })(e3, t);
}
function _objectWithoutPropertiesLoose(e3, t) {
  if (null == e3)
    return {};
  for (var n, r = {}, o = Object.keys(e3), i = 0; i < o.length; i++)
    n = o[i], 0 <= t.indexOf(n) || (r[n] = e3[n]);
  return r;
}
function _objectWithoutProperties(e3, t) {
  if (null == e3)
    return {};
  var n, r = _objectWithoutPropertiesLoose(e3, t);
  if (Object.getOwnPropertySymbols)
    for (var o = Object.getOwnPropertySymbols(e3), i = 0; i < o.length; i++)
      n = o[i], 0 <= t.indexOf(n) || Object.prototype.propertyIsEnumerable.call(e3, n) && (r[n] = e3[n]);
  return r;
}
function _assertThisInitialized(e3) {
  if (void 0 === e3)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e3;
}
function _possibleConstructorReturn(e3, t) {
  if (t && ("object" == typeof t || "function" == typeof t))
    return t;
  if (void 0 !== t)
    throw new TypeError("Derived constructors may only return object or undefined");
  return _assertThisInitialized(e3);
}
function _slicedToArray(e3, t) {
  return _arrayWithHoles(e3) || _iterableToArrayLimit(e3, t) || _unsupportedIterableToArray(e3, t) || _nonIterableRest();
}
function _arrayWithHoles(e3) {
  if (Array.isArray(e3))
    return e3;
}
function _iterableToArrayLimit(e3, t) {
  var n = null == e3 ? null : "undefined" != typeof Symbol && e3[Symbol.iterator] || e3["@@iterator"];
  if (null != n) {
    var r, o, i = [], a = true, s = false;
    try {
      for (n = n.call(e3); !(a = (r = n.next()).done) && (i.push(r.value), !t || i.length !== t); a = true)
        ;
    } catch (e4) {
      s = true, o = e4;
    } finally {
      try {
        a || null == n.return || n.return();
      } finally {
        if (s)
          throw o;
      }
    }
    return i;
  }
}
function _unsupportedIterableToArray(e3, t) {
  var n;
  if (e3)
    return "string" == typeof e3 ? _arrayLikeToArray(e3, t) : "Map" === (n = "Object" === (n = Object.prototype.toString.call(e3).slice(8, -1)) && e3.constructor ? e3.constructor.name : n) || "Set" === n ? Array.from(e3) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? _arrayLikeToArray(e3, t) : void 0;
}
function _arrayLikeToArray(e3, t) {
  (null == t || t > e3.length) && (t = e3.length);
  for (var n = 0, r = new Array(t); n < t; n++)
    r[n] = e3[n];
  return r;
}
function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
var DeviceTypes = { Mobile: "mobile", Tablet: "tablet", SmartTv: "smarttv", Console: "console", Wearable: "wearable", Embedded: "embedded", Browser: void 0 };
var BrowserTypes = { Chrome: "Chrome", Firefox: "Firefox", Opera: "Opera", Yandex: "Yandex", Safari: "Safari", InternetExplorer: "Internet Explorer", Edge: "Edge", Chromium: "Chromium", Ie: "IE", MobileSafari: "Mobile Safari", EdgeChromium: "Edge Chromium", MIUI: "MIUI Browser", SamsungBrowser: "Samsung Browser" };
var OsTypes = { IOS: "iOS", Android: "Android", WindowsPhone: "Windows Phone", Windows: "Windows", MAC_OS: "Mac OS" };
var InitialDeviceTypes = { isMobile: false, isTablet: false, isBrowser: false, isSmartTV: false, isConsole: false, isWearable: false };
var checkDeviceType = function(e3) {
  switch (e3) {
    case DeviceTypes.Mobile:
      return { isMobile: true };
    case DeviceTypes.Tablet:
      return { isTablet: true };
    case DeviceTypes.SmartTv:
      return { isSmartTV: true };
    case DeviceTypes.Console:
      return { isConsole: true };
    case DeviceTypes.Wearable:
      return { isWearable: true };
    case DeviceTypes.Browser:
      return { isBrowser: true };
    case DeviceTypes.Embedded:
      return { isEmbedded: true };
    default:
      return InitialDeviceTypes;
  }
};
var setUserAgent = function(e3) {
  return setUa(e3);
};
var setDefaults = function(e3) {
  return e3 || (1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : "none");
};
var getNavigatorInstance = function() {
  return !("undefined" == typeof window || !window.navigator && !navigator) && (window.navigator || navigator);
};
var isIOS13Check = function(e3) {
  var t = getNavigatorInstance();
  return t && t.platform && (-1 !== t.platform.indexOf(e3) || "MacIntel" === t.platform && 1 < t.maxTouchPoints && !window.MSStream);
};
var browserPayload = function(e3, t, n, r, o) {
  return { isBrowser: e3, browserMajorVersion: setDefaults(t.major), browserFullVersion: setDefaults(t.version), browserName: setDefaults(t.name), engineName: setDefaults(n.name), engineVersion: setDefaults(n.version), osName: setDefaults(r.name), osVersion: setDefaults(r.version), userAgent: setDefaults(o) };
};
var mobilePayload = function(e3, t, n, r) {
  return _objectSpread2({}, e3, { vendor: setDefaults(t.vendor), model: setDefaults(t.model), os: setDefaults(n.name), osVersion: setDefaults(n.version), ua: setDefaults(r) });
};
var smartTvPayload = function(e3, t, n, r) {
  return { isSmartTV: e3, engineName: setDefaults(t.name), engineVersion: setDefaults(t.version), osName: setDefaults(n.name), osVersion: setDefaults(n.version), userAgent: setDefaults(r) };
};
var consolePayload = function(e3, t, n, r) {
  return { isConsole: e3, engineName: setDefaults(t.name), engineVersion: setDefaults(t.version), osName: setDefaults(n.name), osVersion: setDefaults(n.version), userAgent: setDefaults(r) };
};
var wearablePayload = function(e3, t, n, r) {
  return { isWearable: e3, engineName: setDefaults(t.name), engineVersion: setDefaults(t.version), osName: setDefaults(n.name), osVersion: setDefaults(n.version), userAgent: setDefaults(r) };
};
var embeddedPayload = function(e3, t, n, r, o) {
  return { isEmbedded: e3, vendor: setDefaults(t.vendor), model: setDefaults(t.model), engineName: setDefaults(n.name), engineVersion: setDefaults(n.version), osName: setDefaults(r.name), osVersion: setDefaults(r.version), userAgent: setDefaults(o) };
};
function deviceDetect(e3) {
  var e3 = e3 ? parseUserAgent(e3) : UAHelper, t = e3.device, n = e3.browser, r = e3.engine, o = e3.os, e3 = e3.ua, i = checkDeviceType(t.type), a = i.isBrowser, s = i.isMobile, l = i.isTablet, c = i.isSmartTV, u = i.isConsole, d = i.isWearable, p = i.isEmbedded;
  return a ? browserPayload(a, n, r, o, e3) : c ? smartTvPayload(c, r, o, e3) : u ? consolePayload(u, r, o, e3) : s || l ? mobilePayload(i, t, o, e3) : d ? wearablePayload(d, r, o, e3) : p ? embeddedPayload(p, t, r, o, e3) : void 0;
}
var isMobileType = function(e3) {
  return e3.type === DeviceTypes.Mobile;
};
var isTabletType = function(e3) {
  return e3.type === DeviceTypes.Tablet;
};
var isMobileAndTabletType = function(e3) {
  e3 = e3.type;
  return e3 === DeviceTypes.Mobile || e3 === DeviceTypes.Tablet;
};
var isSmartTVType = function(e3) {
  return e3.type === DeviceTypes.SmartTv;
};
var isBrowserType = function(e3) {
  return e3.type === DeviceTypes.Browser;
};
var isWearableType = function(e3) {
  return e3.type === DeviceTypes.Wearable;
};
var isConsoleType = function(e3) {
  return e3.type === DeviceTypes.Console;
};
var isEmbeddedType = function(e3) {
  return e3.type === DeviceTypes.Embedded;
};
var getMobileVendor = function(e3) {
  e3 = e3.vendor;
  return setDefaults(e3);
};
var getMobileModel = function(e3) {
  e3 = e3.model;
  return setDefaults(e3);
};
var getDeviceType = function(e3) {
  e3 = e3.type;
  return setDefaults(e3, "browser");
};
var isAndroidType = function(e3) {
  return e3.name === OsTypes.Android;
};
var isWindowsType = function(e3) {
  return e3.name === OsTypes.Windows;
};
var isMacOsType = function(e3) {
  return e3.name === OsTypes.MAC_OS;
};
var isWinPhoneType = function(e3) {
  return e3.name === OsTypes.WindowsPhone;
};
var isIOSType = function(e3) {
  return e3.name === OsTypes.IOS;
};
var getOsVersion = function(e3) {
  e3 = e3.version;
  return setDefaults(e3);
};
var getOsName = function(e3) {
  e3 = e3.name;
  return setDefaults(e3);
};
var isChromeType = function(e3) {
  return e3.name === BrowserTypes.Chrome;
};
var isFirefoxType = function(e3) {
  return e3.name === BrowserTypes.Firefox;
};
var isChromiumType = function(e3) {
  return e3.name === BrowserTypes.Chromium;
};
var isEdgeType = function(e3) {
  return e3.name === BrowserTypes.Edge;
};
var isYandexType = function(e3) {
  return e3.name === BrowserTypes.Yandex;
};
var isSafariType = function(e3) {
  e3 = e3.name;
  return e3 === BrowserTypes.Safari || e3 === BrowserTypes.MobileSafari;
};
var isMobileSafariType = function(e3) {
  return e3.name === BrowserTypes.MobileSafari;
};
var isOperaType = function(e3) {
  return e3.name === BrowserTypes.Opera;
};
var isIEType = function(e3) {
  e3 = e3.name;
  return e3 === BrowserTypes.InternetExplorer || e3 === BrowserTypes.Ie;
};
var isMIUIType = function(e3) {
  return e3.name === BrowserTypes.MIUI;
};
var isSamsungBrowserType = function(e3) {
  return e3.name === BrowserTypes.SamsungBrowser;
};
var getBrowserFullVersion = function(e3) {
  e3 = e3.version;
  return setDefaults(e3);
};
var getBrowserVersion = function(e3) {
  e3 = e3.major;
  return setDefaults(e3);
};
var getBrowserName = function(e3) {
  e3 = e3.name;
  return setDefaults(e3);
};
var getEngineName = function(e3) {
  e3 = e3.name;
  return setDefaults(e3);
};
var getEngineVersion = function(e3) {
  e3 = e3.version;
  return setDefaults(e3);
};
var isElectronType = function() {
  var e3 = getNavigatorInstance(), e3 = e3 && e3.userAgent && e3.userAgent.toLowerCase();
  return "string" == typeof e3 && /electron/.test(e3);
};
var isEdgeChromiumType = function(e3) {
  return "string" == typeof e3 && -1 !== e3.indexOf("Edg/");
};
var getIOS13 = function() {
  var e3 = getNavigatorInstance();
  return e3 && (/iPad|iPhone|iPod/.test(e3.platform) || "MacIntel" === e3.platform && 1 < e3.maxTouchPoints) && !window.MSStream;
};
var getIPad13 = function() {
  return isIOS13Check("iPad");
};
var getIphone13 = function() {
  return isIOS13Check("iPhone");
};
var getIPod13 = function() {
  return isIOS13Check("iPod");
};
var getUseragent = function(e3) {
  return setDefaults(e3);
};
function buildSelectorsObject(e3) {
  var e3 = e3 || UAHelper, t = e3.device, n = e3.browser, r = e3.os, o = e3.engine, e3 = e3.ua;
  return { isSmartTV: isSmartTVType(t), isConsole: isConsoleType(t), isWearable: isWearableType(t), isEmbedded: isEmbeddedType(t), isMobileSafari: isMobileSafariType(n) || getIPad13(), isChromium: isChromiumType(n), isMobile: isMobileAndTabletType(t) || getIPad13(), isMobileOnly: isMobileType(t), isTablet: isTabletType(t) || getIPad13(), isBrowser: isBrowserType(t), isDesktop: isBrowserType(t), isAndroid: isAndroidType(r), isWinPhone: isWinPhoneType(r), isIOS: isIOSType(r) || getIPad13(), isChrome: isChromeType(n), isFirefox: isFirefoxType(n), isSafari: isSafariType(n), isOpera: isOperaType(n), isIE: isIEType(n), osVersion: getOsVersion(r), osName: getOsName(r), fullBrowserVersion: getBrowserFullVersion(n), browserVersion: getBrowserVersion(n), browserName: getBrowserName(n), mobileVendor: getMobileVendor(t), mobileModel: getMobileModel(t), engineName: getEngineName(o), engineVersion: getEngineVersion(o), getUA: getUseragent(e3), isEdge: isEdgeType(n) || isEdgeChromiumType(e3), isYandex: isYandexType(n), deviceType: getDeviceType(t), isIOS13: getIOS13(), isIPad13: getIPad13(), isIPhone13: getIphone13(), isIPod13: getIPod13(), isElectron: isElectronType(), isEdgeChromium: isEdgeChromiumType(e3), isLegacyEdge: isEdgeType(n) && !isEdgeChromiumType(e3), isWindows: isWindowsType(r), isMacOs: isMacOsType(r), isMIUI: isMIUIType(n), isSamsungBrowser: isSamsungBrowserType(n) };
}
var isSmartTV = isSmartTVType(device);
var isConsole = isConsoleType(device);
var isWearable = isWearableType(device);
var isEmbedded = isEmbeddedType(device);
var isMobileSafari = isMobileSafariType(browser) || getIPad13();
var isChromium = isChromiumType(browser);
var isMobile = isMobileAndTabletType(device) || getIPad13();
var isMobileOnly = isMobileType(device);
var isTablet = isTabletType(device) || getIPad13();
var isBrowser$1 = isBrowserType(device);
var isDesktop = isBrowserType(device);
var isAndroid = isAndroidType(os$1);
var isWinPhone = isWinPhoneType(os$1);
var isIOS = isIOSType(os$1) || getIPad13();
var isChrome = isChromeType(browser);
var isFirefox = isFirefoxType(browser);
var isSafari = isSafariType(browser);
var isOpera = isOperaType(browser);
var isIE = isIEType(browser);
var osVersion = getOsVersion(os$1);
var osName = getOsName(os$1);
var fullBrowserVersion = getBrowserFullVersion(browser);
var browserVersion = getBrowserVersion(browser);
var browserName = getBrowserName(browser);
var mobileVendor = getMobileVendor(device);
var mobileModel = getMobileModel(device);
var engineName = getEngineName(engine);
var engineVersion = getEngineVersion(engine);
var getUA = getUseragent(ua);
var isEdge = isEdgeType(browser) || isEdgeChromiumType(ua);
var isYandex = isYandexType(browser);
var deviceType = getDeviceType(device);
var isIOS13 = getIOS13();
var isIPad13 = getIPad13();
var isIPhone13 = getIphone13();
var isIPod13 = getIPod13();
var isElectron = isElectronType();
var isEdgeChromium = isEdgeChromiumType(ua);
var isLegacyEdge = isEdgeType(browser) && !isEdgeChromiumType(ua);
var isWindows = isWindowsType(os$1);
var isMacOs = isMacOsType(os$1);
var isMIUI = isMIUIType(browser);
var isSamsungBrowser = isSamsungBrowserType(browser);
var getSelectorsByUserAgent = function(e3) {
  if (e3 && "string" == typeof e3)
    return buildSelectorsObject({ device: (e3 = parseUserAgent(e3)).device, browser: e3.browser, os: e3.os, engine: e3.engine, ua: e3.ua });
  console.error("No valid user agent string was provided");
};
var AndroidView = function(e3) {
  var t = e3.renderWithFragment, n = e3.children, e3 = _objectWithoutProperties(e3, ["renderWithFragment", "children"]);
  return isAndroid ? t ? React__default.createElement(React.Fragment, null, n) : React__default.createElement("div", e3, n) : null;
};
var BrowserView = function(e3) {
  var t = e3.renderWithFragment, n = e3.children, e3 = _objectWithoutProperties(e3, ["renderWithFragment", "children"]);
  return isBrowser$1 ? t ? React__default.createElement(React.Fragment, null, n) : React__default.createElement("div", e3, n) : null;
};
var IEView = function(e3) {
  var t = e3.renderWithFragment, n = e3.children, e3 = _objectWithoutProperties(e3, ["renderWithFragment", "children"]);
  return isIE ? t ? React__default.createElement(React.Fragment, null, n) : React__default.createElement("div", e3, n) : null;
};
var IOSView = function(e3) {
  var t = e3.renderWithFragment, n = e3.children, e3 = _objectWithoutProperties(e3, ["renderWithFragment", "children"]);
  return isIOS ? t ? React__default.createElement(React.Fragment, null, n) : React__default.createElement("div", e3, n) : null;
};
var MobileView = function(e3) {
  var t = e3.renderWithFragment, n = e3.children, e3 = _objectWithoutProperties(e3, ["renderWithFragment", "children"]);
  return isMobile ? t ? React__default.createElement(React.Fragment, null, n) : React__default.createElement("div", e3, n) : null;
};
var TabletView = function(e3) {
  var t = e3.renderWithFragment, n = e3.children, e3 = _objectWithoutProperties(e3, ["renderWithFragment", "children"]);
  return isTablet ? t ? React__default.createElement(React.Fragment, null, n) : React__default.createElement("div", e3, n) : null;
};
var WinPhoneView = function(e3) {
  var t = e3.renderWithFragment, n = e3.children, e3 = _objectWithoutProperties(e3, ["renderWithFragment", "children"]);
  return isWinPhone ? t ? React__default.createElement(React.Fragment, null, n) : React__default.createElement("div", e3, n) : null;
};
var MobileOnlyView = function(e3) {
  var t = e3.renderWithFragment, n = e3.children, e3 = (e3.viewClassName, e3.style, _objectWithoutProperties(e3, ["renderWithFragment", "children", "viewClassName", "style"]));
  return isMobileOnly ? t ? React__default.createElement(React.Fragment, null, n) : React__default.createElement("div", e3, n) : null;
};
var SmartTVView = function(e3) {
  var t = e3.renderWithFragment, n = e3.children, e3 = _objectWithoutProperties(e3, ["renderWithFragment", "children"]);
  return isSmartTV ? t ? React__default.createElement(React.Fragment, null, n) : React__default.createElement("div", e3, n) : null;
};
var ConsoleView = function(e3) {
  var t = e3.renderWithFragment, n = e3.children, e3 = _objectWithoutProperties(e3, ["renderWithFragment", "children"]);
  return isConsole ? t ? React__default.createElement(React.Fragment, null, n) : React__default.createElement("div", e3, n) : null;
};
var WearableView = function(e3) {
  var t = e3.renderWithFragment, n = e3.children, e3 = _objectWithoutProperties(e3, ["renderWithFragment", "children"]);
  return isWearable ? t ? React__default.createElement(React.Fragment, null, n) : React__default.createElement("div", e3, n) : null;
};
var CustomView = function(e3) {
  var t = e3.renderWithFragment, n = e3.children, r = (e3.viewClassName, e3.style, e3.condition), e3 = _objectWithoutProperties(e3, ["renderWithFragment", "children", "viewClassName", "style", "condition"]);
  return r ? t ? React__default.createElement(React.Fragment, null, n) : React__default.createElement("div", e3, n) : null;
};
function withOrientationChange(e3) {
  return function() {
    function t(e4) {
      return _classCallCheck(this, t), (e4 = _possibleConstructorReturn(this, _getPrototypeOf(t).call(this, e4))).isEventListenerAdded = false, e4.handleOrientationChange = e4.handleOrientationChange.bind(_assertThisInitialized(e4)), e4.onOrientationChange = e4.onOrientationChange.bind(_assertThisInitialized(e4)), e4.onPageLoad = e4.onPageLoad.bind(_assertThisInitialized(e4)), e4.state = { isLandscape: false, isPortrait: false }, e4;
    }
    return _inherits(t, React__default.Component), _createClass(t, [{ key: "handleOrientationChange", value: function() {
      this.isEventListenerAdded || (this.isEventListenerAdded = true);
      var e4 = window.innerWidth > window.innerHeight ? 90 : 0;
      this.setState({ isPortrait: 0 == e4, isLandscape: 90 == e4 });
    } }, { key: "onOrientationChange", value: function() {
      this.handleOrientationChange();
    } }, { key: "onPageLoad", value: function() {
      this.handleOrientationChange();
    } }, { key: "componentDidMount", value: function() {
      void 0 !== ("undefined" == typeof window ? "undefined" : _typeof(window)) && isMobile && (this.isEventListenerAdded ? window.removeEventListener("load", this.onPageLoad, false) : (this.handleOrientationChange(), window.addEventListener("load", this.onPageLoad, false)), window.addEventListener("resize", this.onOrientationChange, false));
    } }, { key: "componentWillUnmount", value: function() {
      window.removeEventListener("resize", this.onOrientationChange, false);
    } }, { key: "render", value: function() {
      return React__default.createElement(e3, _extends({}, this.props, { isLandscape: this.state.isLandscape, isPortrait: this.state.isPortrait }));
    } }]), t;
  }();
}
function useMobileOrientation() {
  var e3 = _slicedToArray(React.useState(function() {
    var e4 = window.innerWidth > window.innerHeight ? 90 : 0;
    return { isPortrait: 0 == e4, isLandscape: 90 == e4, orientation: 0 == e4 ? "portrait" : "landscape" };
  }), 2), t = e3[0], n = e3[1], r = React.useCallback(function() {
    var e4 = window.innerWidth > window.innerHeight ? 90 : 0, e4 = { isPortrait: 0 == e4, isLandscape: 90 == e4, orientation: 0 == e4 ? "portrait" : "landscape" };
    t.orientation !== e4.orientation && n(e4);
  }, [t.orientation]);
  return React.useEffect(function() {
    return void 0 !== ("undefined" == typeof window ? "undefined" : _typeof(window)) && isMobile && (r(), window.addEventListener("load", r, false), window.addEventListener("resize", r, false)), function() {
      window.removeEventListener("resize", r, false), window.removeEventListener("load", r, false);
    };
  }, [r]), t;
}
function useDeviceData(e3) {
  e3 = e3 || window.navigator.userAgent;
  return parseUserAgent(e3);
}
function useDeviceSelectors(e3) {
  e3 = useDeviceData(e3 || window.navigator.userAgent);
  return [buildSelectorsObject(e3), e3];
}
lib.AndroidView = AndroidView, lib.BrowserTypes = BrowserTypes, lib.BrowserView = BrowserView, lib.ConsoleView = ConsoleView, lib.CustomView = CustomView, lib.IEView = IEView, lib.IOSView = IOSView, lib.MobileOnlyView = MobileOnlyView, lib.MobileView = MobileView, lib.OsTypes = OsTypes, lib.SmartTVView = SmartTVView, lib.TabletView = TabletView, lib.WearableView = WearableView, lib.WinPhoneView = WinPhoneView, lib.browserName = browserName, lib.browserVersion = browserVersion, lib.deviceDetect = deviceDetect, lib.deviceType = deviceType, lib.engineName = engineName, lib.engineVersion = engineVersion, lib.fullBrowserVersion = fullBrowserVersion, lib.getSelectorsByUserAgent = getSelectorsByUserAgent, lib.getUA = getUA, lib.isAndroid = isAndroid, lib.isBrowser = isBrowser$1, lib.isChrome = isChrome, lib.isChromium = isChromium, lib.isConsole = isConsole, lib.isDesktop = isDesktop, lib.isEdge = isEdge, lib.isEdgeChromium = isEdgeChromium, lib.isElectron = isElectron, lib.isEmbedded = isEmbedded, lib.isFirefox = isFirefox, lib.isIE = isIE, lib.isIOS = isIOS, lib.isIOS13 = isIOS13, lib.isIPad13 = isIPad13, lib.isIPhone13 = isIPhone13, lib.isIPod13 = isIPod13, lib.isLegacyEdge = isLegacyEdge, lib.isMIUI = isMIUI;
var isMacOs_1 = lib.isMacOs = isMacOs;
var isMobile_1 = lib.isMobile = isMobile;
lib.isMobileOnly = isMobileOnly, lib.isMobileSafari = isMobileSafari, lib.isOpera = isOpera, lib.isSafari = isSafari, lib.isSamsungBrowser = isSamsungBrowser, lib.isSmartTV = isSmartTV, lib.isTablet = isTablet, lib.isWearable = isWearable, lib.isWinPhone = isWinPhone, lib.isWindows = isWindows, lib.isYandex = isYandex, lib.mobileModel = mobileModel, lib.mobileVendor = mobileVendor, lib.osName = osName, lib.osVersion = osVersion, lib.parseUserAgent = parseUserAgent, lib.setUserAgent = setUserAgent, lib.useDeviceData = useDeviceData, lib.useDeviceSelectors = useDeviceSelectors, lib.useMobileOrientation = useMobileOrientation, lib.withOrientationChange = withOrientationChange;
var normalizeKeyName$1 = (e3) => {
  var t = e3.split(/-(?!$)/);
  let n = t[t.length - 1];
  "Space" == n && (n = " ");
  let r, o, i, a;
  for (let e4 = 0; e4 < t.length - 1; e4++) {
    var s = t[e4];
    if (/^(cmd|meta|m)$/i.test(s))
      a = true;
    else if (/^a(lt)?$/i.test(s))
      r = true;
    else if (/^(c|ctrl|control)$/i.test(s))
      o = true;
    else if (/^s(hift)?$/i.test(s))
      i = true;
    else {
      if (!/^mod$/i.test(s))
        throw new Error("Unrecognized modifier name: " + s);
      isMacOs_1 ? a = true : o = true;
    }
  }
  return r && (n = "Alt-" + n), o && (n = "Ctrl-" + n), a && (n = "Meta-" + n), n = i ? "Shift-" + n : n;
};
var modifiers$1 = (e3, t, n = true) => (t.altKey && (e3 = "Alt-" + e3), t.ctrlKey && (e3 = "Ctrl-" + e3), t.metaKey && (e3 = "Meta-" + e3), e3 = n && t.shiftKey ? "Shift-" + e3 : e3);
var isValidUrl = (e3) => {
  try {
    return new URL(e3), true;
  } catch (e4) {
    return false;
  }
};
var fetchSvgContent = (o) => new Promise((t, n) => {
  const e3 = new XMLHttpRequest(), r = new FileReader();
  isValidUrl(o) ? (e3.open("GET", o), e3.responseType = "blob", e3.onload = () => {
    200 === e3.status ? (r.readAsText(e3.response), r.onloadend = () => {
      var e4 = new DOMParser().parseFromString(r.result, "text/xml").documentElement;
      t(e4);
    }) : n("Cannot parse content");
  }, e3.onerror = (e4) => {
    n(e4);
  }, e3.send()) : (r.readAsDataURL(b64toBlob(o, "image/svg+xml")), r.onloadend = () => {
    var e4 = new DOMParser().parseFromString(r.result, "text/xml").documentElement;
    t(e4);
  });
});
var b64toBlob = (e3, t = "", n = 512) => {
  var r = atob(e3), o = [];
  for (let e4 = 0; e4 < r.length; e4 += n) {
    var i = r.slice(e4, e4 + n), a = new Array(i.length);
    for (let e5 = 0; e5 < i.length; e5++)
      a[e5] = i.charCodeAt(e5);
    var s = new Uint8Array(a);
    o.push(s);
  }
  return new Blob(o, { type: t });
};
var lodash = { exports: {} };
var lodashExports = (lodash.exports, !function(O, I) {
  !(function() {
    var Bi, Vi = "Expected a function", ya = "__lodash_hash_undefined__", ba = "__lodash_placeholder__", Hi = 128, Wi = 9007199254740991, wa = NaN, Ui = 4294967295, xa = [["ary", Hi], ["bind", 1], ["bindKey", 2], ["curry", 8], ["curryRight", 16], ["flip", 512], ["partial", 32], ["partialRight", 64], ["rearg", 256]], qi = "[object Arguments]", Sa = "[object Array]", Yi = "[object Boolean]", Ki = "[object Date]", ka = "[object Error]", Ca = "[object Function]", Ea = "[object GeneratorFunction]", Gi = "[object Map]", Zi = "[object Number]", Xi = "[object Object]", Ta = "[object Promise]", Ji = "[object RegExp]", Qi = "[object Set]", ea = "[object String]", _a = "[object Symbol]", ta = "[object WeakMap]", Ra = "[object ArrayBuffer]", na = "[object DataView]", Oa = "[object Float32Array]", Ia = "[object Float64Array]", Ma = "[object Int8Array]", Da = "[object Int16Array]", Na = "[object Int32Array]", Pa = "[object Uint8Array]", za = "[object Uint8ClampedArray]", La = "[object Uint16Array]", ja = "[object Uint32Array]", Aa = /\b__p \+= '';/g, Fa = /\b(__p \+=) '' \+/g, $a = /(__e\(.*?\)|\b__t\)) \+\n'';/g, Ba = /&(?:amp|lt|gt|quot|#39);/g, Va = /[&<>"']/g, Ha = RegExp(Ba.source), Wa = RegExp(Va.source), Ua = /<%-([\s\S]+?)%>/g, qa = /<%([\s\S]+?)%>/g, Ya = /<%=([\s\S]+?)%>/g, Ka = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, Ga = /^\w*$/, Za = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, Xa = /[\\^$.*+?()[\]{}|]/g, Ja = RegExp(Xa.source), Qa = /^\s+/, i = /\s/, es = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/, ts = /\{\n\/\* \[wrapped with (.+)\] \*/, ns = /,? & /, rs = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g, os2 = /[()=,{}\[\]\/\s]/, is2 = /\\(\\)?/g, as = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, ss = /\w*$/, ls = /^[-+]0x[0-9a-f]+$/i, cs = /^0b[01]+$/i, us = /^\[object .+?Constructor\]$/, ds = /^0o[0-7]+$/i, ps = /^(?:0|[1-9]\d*)$/, fs = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, hs = /($^)/, ms = /['\n\r\u2028\u2029\\]/g, a = "\\ud800-\\udfff", s = "\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff", l = "\\u2700-\\u27bf", e3 = "a-z\\xdf-\\xf6\\xf8-\\xff", t = "A-Z\\xc0-\\xd6\\xd8-\\xde", c = "\\ufe0e\\ufe0f", u = "\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", d = "['’]", n = "[" + a + "]", p = "[" + u + "]", f = "[" + s + "]", h = "[" + l + "]", m = "[" + e3 + "]", u = "[^" + a + u + "\\d+" + l + e3 + t + "]", l = "\\ud83c[\\udffb-\\udfff]", e3 = "[^" + a + "]", g = "(?:\\ud83c[\\udde6-\\uddff]){2}", r = "[\\ud800-\\udbff][\\udc00-\\udfff]", t = "[" + t + "]", v = "\\u200d", y = "(?:" + m + "|" + u + ")", u = "(?:" + t + "|" + u + ")", b = "(?:['’](?:d|ll|m|re|s|t|ve))?", w = "(?:['’](?:D|LL|M|RE|S|T|VE))?", x = "(?:" + f + "|" + l + ")?", S = "[" + c + "]?", S = S + x + ("(?:" + v + "(?:" + [e3, g, r].join("|") + ")" + S + x + ")*"), x = "(?:" + [h, g, r].join("|") + ")" + S, h = "(?:" + [e3 + f + "?", f, g, r, n].join("|") + ")", gs = RegExp(d, "g"), vs = RegExp(f, "g"), k = RegExp(l + "(?=" + l + ")|" + h + S, "g"), ys = RegExp([t + "?" + m + "+" + b + "(?=" + [p, t, "$"].join("|") + ")", u + "+" + w + "(?=" + [p, t + y, "$"].join("|") + ")", t + "?" + y + "+" + b, t + "+" + w, "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", "\\d+", x].join("|"), "g"), C = RegExp("[" + v + a + s + c + "]"), bs = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/, ws = ["Array", "Buffer", "DataView", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Map", "Math", "Object", "Promise", "RegExp", "Set", "String", "Symbol", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap", "_", "clearTimeout", "isFinite", "parseInt", "setTimeout"], xs = -1, ra = {}, oa = (ra[Oa] = ra[Ia] = ra[Ma] = ra[Da] = ra[Na] = ra[Pa] = ra[za] = ra[La] = ra[ja] = true, ra[qi] = ra[Sa] = ra[Ra] = ra[Yi] = ra[na] = ra[Ki] = ra[ka] = ra[Ca] = ra[Gi] = ra[Zi] = ra[Xi] = ra[Ji] = ra[Qi] = ra[ea] = ra[ta] = false, {}), E = (oa[qi] = oa[Sa] = oa[Ra] = oa[na] = oa[Yi] = oa[Ki] = oa[Oa] = oa[Ia] = oa[Ma] = oa[Da] = oa[Na] = oa[Gi] = oa[Zi] = oa[Xi] = oa[Ji] = oa[Qi] = oa[ea] = oa[_a] = oa[Pa] = oa[za] = oa[La] = oa[ja] = true, oa[ka] = oa[Ca] = oa[ta] = false, { "\\": "\\", "'": "'", "\n": "n", "\r": "r", "\u2028": "u2028", "\u2029": "u2029" }), Ss = parseFloat, ks = parseInt, e3 = "object" == typeof commonjsGlobal && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal, g = "object" == typeof self && self && self.Object === Object && self, ia = e3 || g || Function("return this")(), r = I && !I.nodeType && I, o = r && O && !O.nodeType && O, Cs = o && o.exports === r, T = Cs && e3.process, n = function() {
      try {
        var e4 = o && o.require && o.require("util").types;
        return e4 ? e4 : T && T.binding && T.binding("util");
      } catch (e5) {
      }
    }(), Es = n && n.isArrayBuffer, Ts = n && n.isDate, _s = n && n.isMap, Rs = n && n.isRegExp, Os = n && n.isSet, Is = n && n.isTypedArray;
    function aa(e4, t2, n2) {
      switch (n2.length) {
        case 0:
          return e4.call(t2);
        case 1:
          return e4.call(t2, n2[0]);
        case 2:
          return e4.call(t2, n2[0], n2[1]);
        case 3:
          return e4.call(t2, n2[0], n2[1], n2[2]);
      }
      return e4.apply(t2, n2);
    }
    function Ms(e4, t2, n2, r2) {
      for (var o2 = -1, i2 = null == e4 ? 0 : e4.length; ++o2 < i2; ) {
        var a2 = e4[o2];
        t2(r2, a2, n2(a2), e4);
      }
      return r2;
    }
    function sa(e4, t2) {
      for (var n2 = -1, r2 = null == e4 ? 0 : e4.length; ++n2 < r2 && false !== t2(e4[n2], n2, e4); )
        ;
      return e4;
    }
    function Ds(e4, t2) {
      for (var n2 = null == e4 ? 0 : e4.length; n2-- && false !== t2(e4[n2], n2, e4); )
        ;
      return e4;
    }
    function Ns(e4, t2) {
      for (var n2 = -1, r2 = null == e4 ? 0 : e4.length; ++n2 < r2; )
        if (!t2(e4[n2], n2, e4))
          return false;
      return true;
    }
    function la(e4, t2) {
      for (var n2 = -1, r2 = null == e4 ? 0 : e4.length, o2 = 0, i2 = []; ++n2 < r2; ) {
        var a2 = e4[n2];
        t2(a2, n2, e4) && (i2[o2++] = a2);
      }
      return i2;
    }
    function Ps(e4, t2) {
      return !!(null == e4 ? 0 : e4.length) && -1 < da(e4, t2, 0);
    }
    function zs(e4, t2, n2) {
      for (var r2 = -1, o2 = null == e4 ? 0 : e4.length; ++r2 < o2; )
        if (n2(t2, e4[r2]))
          return true;
      return false;
    }
    function ca(e4, t2) {
      for (var n2 = -1, r2 = null == e4 ? 0 : e4.length, o2 = Array(r2); ++n2 < r2; )
        o2[n2] = t2(e4[n2], n2, e4);
      return o2;
    }
    function ua2(e4, t2) {
      for (var n2 = -1, r2 = t2.length, o2 = e4.length; ++n2 < r2; )
        e4[o2 + n2] = t2[n2];
      return e4;
    }
    function Ls(e4, t2, n2, r2) {
      var o2 = -1, i2 = null == e4 ? 0 : e4.length;
      for (r2 && i2 && (n2 = e4[++o2]); ++o2 < i2; )
        n2 = t2(n2, e4[o2], o2, e4);
      return n2;
    }
    function js(e4, t2, n2, r2) {
      var o2 = null == e4 ? 0 : e4.length;
      for (r2 && o2 && (n2 = e4[--o2]); o2--; )
        n2 = t2(n2, e4[o2], o2, e4);
      return n2;
    }
    function As(e4, t2) {
      for (var n2 = -1, r2 = null == e4 ? 0 : e4.length; ++n2 < r2; )
        if (t2(e4[n2], n2, e4))
          return true;
      return false;
    }
    var _ = Ws("length");
    function Fs(e4, r2, t2) {
      var o2;
      return t2(e4, function(e5, t3, n2) {
        if (r2(e5, t3, n2))
          return o2 = t3, false;
      }), o2;
    }
    function $s(e4, t2, n2, r2) {
      for (var o2 = e4.length, i2 = n2 + (r2 ? 1 : -1); r2 ? i2-- : ++i2 < o2; )
        if (t2(e4[i2], i2, e4))
          return i2;
      return -1;
    }
    function da(e4, t2, n2) {
      if (t2 != t2)
        return $s(e4, Vs, n2);
      for (var r2 = e4, o2 = t2, i2 = n2 - 1, a2 = r2.length; ++i2 < a2; )
        if (r2[i2] === o2)
          return i2;
      return -1;
    }
    function Bs(e4, t2, n2, r2) {
      for (var o2 = n2 - 1, i2 = e4.length; ++o2 < i2; )
        if (r2(e4[o2], t2))
          return o2;
      return -1;
    }
    function Vs(e4) {
      return e4 != e4;
    }
    function Hs(e4, t2) {
      var n2 = null == e4 ? 0 : e4.length;
      return n2 ? qs(e4, t2) / n2 : wa;
    }
    function Ws(t2) {
      return function(e4) {
        return null == e4 ? Bi : e4[t2];
      };
    }
    function R(t2) {
      return function(e4) {
        return null == t2 ? Bi : t2[e4];
      };
    }
    function Us(e4, r2, o2, i2, t2) {
      return t2(e4, function(e5, t3, n2) {
        o2 = i2 ? (i2 = false, e5) : r2(o2, e5, t3, n2);
      }), o2;
    }
    function qs(e4, t2) {
      for (var n2, r2 = -1, o2 = e4.length; ++r2 < o2; ) {
        var i2 = t2(e4[r2]);
        i2 !== Bi && (n2 = n2 === Bi ? i2 : n2 + i2);
      }
      return n2;
    }
    function Ys(e4, t2) {
      for (var n2 = -1, r2 = Array(e4); ++n2 < e4; )
        r2[n2] = t2(n2);
      return r2;
    }
    function Ks(e4) {
      return e4 && e4.slice(0, il(e4) + 1).replace(Qa, "");
    }
    function pa(t2) {
      return function(e4) {
        return t2(e4);
      };
    }
    function Gs(t2, e4) {
      return ca(e4, function(e5) {
        return t2[e5];
      });
    }
    function Zs(e4, t2) {
      return e4.has(t2);
    }
    function Xs(e4, t2) {
      for (var n2 = -1, r2 = e4.length; ++n2 < r2 && -1 < da(t2, e4[n2], 0); )
        ;
      return n2;
    }
    function Js(e4, t2) {
      for (var n2 = e4.length; n2-- && -1 < da(t2, e4[n2], 0); )
        ;
      return n2;
    }
    var Qs = R({ "À": "A", "Á": "A", "Â": "A", "Ã": "A", "Ä": "A", "Å": "A", "à": "a", "á": "a", "â": "a", "ã": "a", "ä": "a", "å": "a", "Ç": "C", "ç": "c", "Ð": "D", "ð": "d", "È": "E", "É": "E", "Ê": "E", "Ë": "E", "è": "e", "é": "e", "ê": "e", "ë": "e", "Ì": "I", "Í": "I", "Î": "I", "Ï": "I", "ì": "i", "í": "i", "î": "i", "ï": "i", "Ñ": "N", "ñ": "n", "Ò": "O", "Ó": "O", "Ô": "O", "Õ": "O", "Ö": "O", "Ø": "O", "ò": "o", "ó": "o", "ô": "o", "õ": "o", "ö": "o", "ø": "o", "Ù": "U", "Ú": "U", "Û": "U", "Ü": "U", "ù": "u", "ú": "u", "û": "u", "ü": "u", "Ý": "Y", "ý": "y", "ÿ": "y", "Æ": "Ae", "æ": "ae", "Þ": "Th", "þ": "th", "ß": "ss", "Ā": "A", "Ă": "A", "Ą": "A", "ā": "a", "ă": "a", "ą": "a", "Ć": "C", "Ĉ": "C", "Ċ": "C", "Č": "C", "ć": "c", "ĉ": "c", "ċ": "c", "č": "c", "Ď": "D", "Đ": "D", "ď": "d", "đ": "d", "Ē": "E", "Ĕ": "E", "Ė": "E", "Ę": "E", "Ě": "E", "ē": "e", "ĕ": "e", "ė": "e", "ę": "e", "ě": "e", "Ĝ": "G", "Ğ": "G", "Ġ": "G", "Ģ": "G", "ĝ": "g", "ğ": "g", "ġ": "g", "ģ": "g", "Ĥ": "H", "Ħ": "H", "ĥ": "h", "ħ": "h", "Ĩ": "I", "Ī": "I", "Ĭ": "I", "Į": "I", "İ": "I", "ĩ": "i", "ī": "i", "ĭ": "i", "į": "i", "ı": "i", "Ĵ": "J", "ĵ": "j", "Ķ": "K", "ķ": "k", "ĸ": "k", "Ĺ": "L", "Ļ": "L", "Ľ": "L", "Ŀ": "L", "Ł": "L", "ĺ": "l", "ļ": "l", "ľ": "l", "ŀ": "l", "ł": "l", "Ń": "N", "Ņ": "N", "Ň": "N", "Ŋ": "N", "ń": "n", "ņ": "n", "ň": "n", "ŋ": "n", "Ō": "O", "Ŏ": "O", "Ő": "O", "ō": "o", "ŏ": "o", "ő": "o", "Ŕ": "R", "Ŗ": "R", "Ř": "R", "ŕ": "r", "ŗ": "r", "ř": "r", "Ś": "S", "Ŝ": "S", "Ş": "S", "Š": "S", "ś": "s", "ŝ": "s", "ş": "s", "š": "s", "Ţ": "T", "Ť": "T", "Ŧ": "T", "ţ": "t", "ť": "t", "ŧ": "t", "Ũ": "U", "Ū": "U", "Ŭ": "U", "Ů": "U", "Ű": "U", "Ų": "U", "ũ": "u", "ū": "u", "ŭ": "u", "ů": "u", "ű": "u", "ų": "u", "Ŵ": "W", "ŵ": "w", "Ŷ": "Y", "ŷ": "y", "Ÿ": "Y", "Ź": "Z", "Ż": "Z", "Ž": "Z", "ź": "z", "ż": "z", "ž": "z", "Ĳ": "IJ", "ĳ": "ij", "Œ": "Oe", "œ": "oe", "ŉ": "'n", "ſ": "s" }), el = R({ "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;" });
    function tl(e4) {
      return "\\" + E[e4];
    }
    function fa(e4) {
      return C.test(e4);
    }
    function nl(e4) {
      var n2 = -1, r2 = Array(e4.size);
      return e4.forEach(function(e5, t2) {
        r2[++n2] = [t2, e5];
      }), r2;
    }
    function rl(t2, n2) {
      return function(e4) {
        return t2(n2(e4));
      };
    }
    function ha(e4, t2) {
      for (var n2 = -1, r2 = e4.length, o2 = 0, i2 = []; ++n2 < r2; ) {
        var a2 = e4[n2];
        a2 !== t2 && a2 !== ba || (e4[n2] = ba, i2[o2++] = n2);
      }
      return i2;
    }
    function ol(e4) {
      var t2 = -1, n2 = Array(e4.size);
      return e4.forEach(function(e5) {
        n2[++t2] = e5;
      }), n2;
    }
    function ma(e4) {
      return (fa(e4) ? function(e5) {
        var t2 = k.lastIndex = 0;
        for (; k.test(e5); )
          ++t2;
        return t2;
      } : _)(e4);
    }
    function ga(e4) {
      return fa(e4) ? e4.match(k) || [] : e4.split("");
    }
    function il(e4) {
      for (var t2 = e4.length; t2-- && i.test(e4.charAt(t2)); )
        ;
      return t2;
    }
    var al = R({ "&amp;": "&", "&lt;": "<", "&gt;": ">", "&quot;": '"', "&#39;": "'" });
    var va = function o2(e4) {
      var S2 = (e4 = null == e4 ? ia : va.defaults(ia.Object(), e4, va.pick(ia, ws))).Array, i2 = e4.Date, D = e4.Error, N = e4.Function, P = e4.Math, m2 = e4.Object, z = e4.RegExp, V = e4.String, k2 = e4.TypeError, H = S2.prototype, W = N.prototype, U = m2.prototype, q = e4["__core-js_shared__"], Y = W.toString, L = U.hasOwnProperty, K = 0, G = (W = /[^.]+$/.exec(q && q.keys && q.keys.IE_PROTO || "")) ? "Symbol(src)_1." + W : "", Z = U.toString, X = Y.call(m2), J = ia._, Q = z("^" + Y.call(L).replace(Xa, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), W = Cs ? e4.Buffer : Bi, t2 = e4.Symbol, ee = e4.Uint8Array, te = W ? W.allocUnsafe : Bi, ne = rl(m2.getPrototypeOf, m2), re = m2.create, oe = U.propertyIsEnumerable, ie2 = H.splice, ae = t2 ? t2.isConcatSpreadable : Bi, se = t2 ? t2.iterator : Bi, le = t2 ? t2.toStringTag : Bi, ce = function() {
        try {
          var e5 = Jn(m2, "defineProperty");
          return e5({}, "", {}), e5;
        } catch (e6) {
        }
      }(), ue = e4.clearTimeout !== ia.clearTimeout && e4.clearTimeout, de = i2 && i2.now !== ia.Date.now && i2.now, pe = e4.setTimeout !== ia.setTimeout && e4.setTimeout, fe = P.ceil, he = P.floor, me = m2.getOwnPropertySymbols, W = W ? W.isBuffer : Bi, ge = e4.isFinite, ve = H.join, ye = rl(m2.keys, m2), C2 = P.max, E2 = P.min, be = i2.now, we = e4.parseInt, xe = P.random, Se = H.reverse, i2 = Jn(e4, "DataView"), ke = Jn(e4, "Map"), Ce = Jn(e4, "Promise"), Ee = Jn(e4, "Set"), e4 = Jn(e4, "WeakMap"), Te = Jn(m2, "create"), _e = e4 && new e4(), Re = {}, Oe = kr(i2), Ie = kr(ke), Me = kr(Ce), De = kr(Ee), Ne = kr(e4), t2 = t2 ? t2.prototype : Bi, Pe = t2 ? t2.valueOf : Bi, ze = t2 ? t2.toString : Bi;
      function h2(e5) {
        if (B(e5) && !$(e5) && !(e5 instanceof v2)) {
          if (e5 instanceof g2)
            return e5;
          if (L.call(e5, "__wrapped__"))
            return Cr(e5);
        }
        return new g2(e5);
      }
      var Le = function(e5) {
        if (!x2(e5))
          return {};
        if (re)
          return re(e5);
        je.prototype = e5;
        e5 = new je();
        return je.prototype = Bi, e5;
      };
      function je() {
      }
      function Ae() {
      }
      function g2(e5, t3) {
        this.__wrapped__ = e5, this.__actions__ = [], this.__chain__ = !!t3, this.__index__ = 0, this.__values__ = Bi;
      }
      function v2(e5) {
        this.__wrapped__ = e5, this.__actions__ = [], this.__dir__ = 1, this.__filtered__ = false, this.__iteratees__ = [], this.__takeCount__ = Ui, this.__views__ = [];
      }
      function Fe(e5) {
        var t3 = -1, n3 = null == e5 ? 0 : e5.length;
        for (this.clear(); ++t3 < n3; ) {
          var r3 = e5[t3];
          this.set(r3[0], r3[1]);
        }
      }
      function $e(e5) {
        var t3 = -1, n3 = null == e5 ? 0 : e5.length;
        for (this.clear(); ++t3 < n3; ) {
          var r3 = e5[t3];
          this.set(r3[0], r3[1]);
        }
      }
      function Be(e5) {
        var t3 = -1, n3 = null == e5 ? 0 : e5.length;
        for (this.clear(); ++t3 < n3; ) {
          var r3 = e5[t3];
          this.set(r3[0], r3[1]);
        }
      }
      function Ve(e5) {
        var t3 = -1, n3 = null == e5 ? 0 : e5.length;
        for (this.__data__ = new Be(); ++t3 < n3; )
          this.add(e5[t3]);
      }
      function j(e5) {
        e5 = this.__data__ = new $e(e5);
        this.size = e5.size;
      }
      function He(e5, t3) {
        var n3, r3 = $(e5), o3 = !r3 && yo(e5), i3 = !r3 && !o3 && wo(e5), a3 = !r3 && !o3 && !i3 && Mo(e5), s3 = r3 || o3 || i3 || a3, l3 = s3 ? Ys(e5.length, V) : [], c3 = l3.length;
        for (n3 in e5)
          !t3 && !L.call(e5, n3) || s3 && ("length" == n3 || i3 && ("offset" == n3 || "parent" == n3) || a3 && ("buffer" == n3 || "byteLength" == n3 || "byteOffset" == n3) || or(n3, c3)) || l3.push(n3);
        return l3;
      }
      function We(e5) {
        var t3 = e5.length;
        return t3 ? e5[At(0, t3 - 1)] : Bi;
      }
      function Ue(e5, t3) {
        return br(T2(e5), et(t3, 0, e5.length));
      }
      function qe(e5) {
        return br(T2(e5));
      }
      function Ye(e5, t3, n3) {
        (n3 === Bi || F(e5[t3], n3)) && (n3 !== Bi || t3 in e5) || Je(e5, t3, n3);
      }
      function Ke(e5, t3, n3) {
        var r3 = e5[t3];
        L.call(e5, t3) && F(r3, n3) && (n3 !== Bi || t3 in e5) || Je(e5, t3, n3);
      }
      function Ge(e5, t3) {
        for (var n3 = e5.length; n3--; )
          if (F(e5[n3][0], t3))
            return n3;
        return -1;
      }
      function Ze(e5, r3, o3, i3) {
        return ot(e5, function(e6, t3, n3) {
          r3(i3, e6, o3(e6), n3);
        }), i3;
      }
      function Xe(e5, t3) {
        return e5 && gn(t3, O2(t3), e5);
      }
      function Je(e5, t3, n3) {
        "__proto__" == t3 && ce ? ce(e5, t3, { configurable: true, enumerable: true, value: n3, writable: true }) : e5[t3] = n3;
      }
      function Qe(e5, t3) {
        for (var n3 = -1, r3 = t3.length, o3 = S2(r3), i3 = null == e5; ++n3 < r3; )
          o3[n3] = i3 ? Bi : Uo(e5, t3[n3]);
        return o3;
      }
      function et(e5, t3, n3) {
        return e5 = e5 == e5 && (n3 !== Bi && (e5 = e5 <= n3 ? e5 : n3), t3 !== Bi) ? t3 <= e5 ? e5 : t3 : e5;
      }
      function y2(n3, r3, o3, e5, t3, i3) {
        var a3, s3 = 1 & r3, l3 = 2 & r3, c3 = 4 & r3;
        if ((a3 = o3 ? t3 ? o3(n3, e5, t3, i3) : o3(n3) : a3) === Bi) {
          if (!x2(n3))
            return n3;
          var u3, e5 = $(n3);
          if (e5) {
            if (a3 = function(e6) {
              var t4 = e6.length, n4 = new e6.constructor(t4);
              t4 && "string" == typeof e6[0] && L.call(e6, "index") && (n4.index = e6.index, n4.input = e6.input);
              return n4;
            }(n3), !s3)
              return T2(n3, a3);
          } else {
            var d3 = A(n3), p3 = d3 == Ca || d3 == Ea;
            if (wo(n3))
              return un(n3, s3);
            if (d3 == Xi || d3 == qi || p3 && !t3) {
              if (a3 = l3 || p3 ? {} : nr(n3), !s3)
                return l3 ? (f3 = p3 = n3, f3 = (u3 = a3) && gn(f3, I2(f3), u3), gn(p3, er(p3), f3)) : (p3 = Xe(a3, u3 = n3), gn(u3, Qn(u3), p3));
            } else {
              if (!oa[d3])
                return t3 ? n3 : {};
              a3 = function(e6, t4, n4) {
                var r4 = e6.constructor;
                switch (t4) {
                  case Ra:
                    return dn(e6);
                  case Yi:
                  case Ki:
                    return new r4(+e6);
                  case na:
                    return function(e7, t5) {
                      t5 = t5 ? dn(e7.buffer) : e7.buffer;
                      return new e7.constructor(t5, e7.byteOffset, e7.byteLength);
                    }(e6, n4);
                  case Oa:
                  case Ia:
                  case Ma:
                  case Da:
                  case Na:
                  case Pa:
                  case za:
                  case La:
                  case ja:
                    return pn(e6, n4);
                  case Gi:
                    return new r4();
                  case Zi:
                  case ea:
                    return new r4(e6);
                  case Ji:
                    return function(e7) {
                      var t5 = new e7.constructor(e7.source, ss.exec(e7));
                      return t5.lastIndex = e7.lastIndex, t5;
                    }(e6);
                  case Qi:
                    return new r4();
                  case _a:
                    return function(e7) {
                      return Pe ? m2(Pe.call(e7)) : {};
                    }(e6);
                }
              }(n3, d3, s3);
            }
          }
          var f3 = (i3 = i3 || new j()).get(n3);
          if (f3)
            return f3;
          i3.set(n3, a3), Oo(n3) ? n3.forEach(function(e6) {
            a3.add(y2(e6, r3, o3, e6, n3, i3));
          }) : Eo(n3) && n3.forEach(function(e6, t4) {
            a3.set(t4, y2(e6, r3, o3, t4, n3, i3));
          });
          var h3 = e5 ? Bi : (c3 ? l3 ? qn : Un : l3 ? I2 : O2)(n3);
          sa(h3 || n3, function(e6, t4) {
            h3 && (e6 = n3[t4 = e6]), Ke(a3, t4, y2(e6, r3, o3, t4, n3, i3));
          });
        }
        return a3;
      }
      function tt(e5, t3, n3) {
        var r3 = n3.length;
        if (null == e5)
          return !r3;
        for (e5 = m2(e5); r3--; ) {
          var o3 = n3[r3], i3 = t3[o3], a3 = e5[o3];
          if (a3 === Bi && !(o3 in e5) || !i3(a3))
            return false;
        }
        return true;
      }
      function nt(e5, t3, n3) {
        if ("function" != typeof e5)
          throw new k2(Vi);
        return mr(function() {
          e5.apply(Bi, n3);
        }, t3);
      }
      function rt(e5, t3, n3, r3) {
        var o3 = -1, i3 = Ps, a3 = true, s3 = e5.length, l3 = [], c3 = t3.length;
        if (s3) {
          n3 && (t3 = ca(t3, pa(n3))), r3 ? (i3 = zs, a3 = false) : 200 <= t3.length && (i3 = Zs, a3 = false, t3 = new Ve(t3));
          e:
            for (; ++o3 < s3; ) {
              var u3 = e5[o3], d3 = null == n3 ? u3 : n3(u3), u3 = r3 || 0 !== u3 ? u3 : 0;
              if (a3 && d3 == d3) {
                for (var p3 = c3; p3--; )
                  if (t3[p3] === d3)
                    continue e;
                l3.push(u3);
              } else
                i3(t3, d3, r3) || l3.push(u3);
            }
        }
        return l3;
      }
      h2.templateSettings = { escape: Ua, evaluate: qa, interpolate: Ya, variable: "", imports: { _: h2 } }, (h2.prototype = Ae.prototype).constructor = h2, (g2.prototype = Le(Ae.prototype)).constructor = g2, (v2.prototype = Le(Ae.prototype)).constructor = v2, Fe.prototype.clear = function() {
        this.__data__ = Te ? Te(null) : {}, this.size = 0;
      }, Fe.prototype.delete = function(e5) {
        return e5 = this.has(e5) && delete this.__data__[e5], this.size -= e5 ? 1 : 0, e5;
      }, Fe.prototype.get = function(e5) {
        var t3, n3 = this.__data__;
        return Te ? (t3 = n3[e5]) === ya ? Bi : t3 : L.call(n3, e5) ? n3[e5] : Bi;
      }, Fe.prototype.has = function(e5) {
        var t3 = this.__data__;
        return Te ? t3[e5] !== Bi : L.call(t3, e5);
      }, Fe.prototype.set = function(e5, t3) {
        var n3 = this.__data__;
        return this.size += this.has(e5) ? 0 : 1, n3[e5] = Te && t3 === Bi ? ya : t3, this;
      }, $e.prototype.clear = function() {
        this.__data__ = [], this.size = 0;
      }, $e.prototype.delete = function(e5) {
        var t3 = this.__data__;
        return !((e5 = Ge(t3, e5)) < 0 || (e5 == t3.length - 1 ? t3.pop() : ie2.call(t3, e5, 1), --this.size, 0));
      }, $e.prototype.get = function(e5) {
        var t3 = this.__data__;
        return (e5 = Ge(t3, e5)) < 0 ? Bi : t3[e5][1];
      }, $e.prototype.has = function(e5) {
        return -1 < Ge(this.__data__, e5);
      }, $e.prototype.set = function(e5, t3) {
        var n3 = this.__data__, r3 = Ge(n3, e5);
        return r3 < 0 ? (++this.size, n3.push([e5, t3])) : n3[r3][1] = t3, this;
      }, Be.prototype.clear = function() {
        this.size = 0, this.__data__ = { hash: new Fe(), map: new (ke || $e)(), string: new Fe() };
      }, Be.prototype.delete = function(e5) {
        return e5 = Zn(this, e5).delete(e5), this.size -= e5 ? 1 : 0, e5;
      }, Be.prototype.get = function(e5) {
        return Zn(this, e5).get(e5);
      }, Be.prototype.has = function(e5) {
        return Zn(this, e5).has(e5);
      }, Be.prototype.set = function(e5, t3) {
        var n3 = Zn(this, e5), r3 = n3.size;
        return n3.set(e5, t3), this.size += n3.size == r3 ? 0 : 1, this;
      }, Ve.prototype.add = Ve.prototype.push = function(e5) {
        return this.__data__.set(e5, ya), this;
      }, Ve.prototype.has = function(e5) {
        return this.__data__.has(e5);
      }, j.prototype.clear = function() {
        this.__data__ = new $e(), this.size = 0;
      }, j.prototype.delete = function(e5) {
        var t3 = this.__data__, e5 = t3.delete(e5);
        return this.size = t3.size, e5;
      }, j.prototype.get = function(e5) {
        return this.__data__.get(e5);
      }, j.prototype.has = function(e5) {
        return this.__data__.has(e5);
      }, j.prototype.set = function(e5, t3) {
        var n3 = this.__data__;
        if (n3 instanceof $e) {
          var r3 = n3.__data__;
          if (!ke || r3.length < 199)
            return r3.push([e5, t3]), this.size = ++n3.size, this;
          n3 = this.__data__ = new Be(r3);
        }
        return n3.set(e5, t3), this.size = n3.size, this;
      };
      var ot = bn(dt), it = bn(pt, true);
      function at(e5, r3) {
        var o3 = true;
        return ot(e5, function(e6, t3, n3) {
          return o3 = !!r3(e6, t3, n3);
        }), o3;
      }
      function st(e5, t3, n3) {
        for (var r3 = -1, o3 = e5.length; ++r3 < o3; ) {
          var i3, a3, s3 = e5[r3], l3 = t3(s3);
          null != l3 && (i3 === Bi ? l3 == l3 && !b2(l3) : n3(l3, i3)) && (i3 = l3, a3 = s3);
        }
        return a3;
      }
      function lt(e5, r3) {
        var o3 = [];
        return ot(e5, function(e6, t3, n3) {
          r3(e6, t3, n3) && o3.push(e6);
        }), o3;
      }
      function l2(e5, t3, n3, r3, o3) {
        var i3 = -1, a3 = e5.length;
        for (n3 = n3 || rr, o3 = o3 || []; ++i3 < a3; ) {
          var s3 = e5[i3];
          0 < t3 && n3(s3) ? 1 < t3 ? l2(s3, t3 - 1, n3, r3, o3) : ua2(o3, s3) : r3 || (o3[o3.length] = s3);
        }
        return o3;
      }
      var ct = wn(), ut = wn(true);
      function dt(e5, t3) {
        return e5 && ct(e5, t3, O2);
      }
      function pt(e5, t3) {
        return e5 && ut(e5, t3, O2);
      }
      function ft(t3, e5) {
        return la(e5, function(e6) {
          return So(t3[e6]);
        });
      }
      function ht(e5, t3) {
        for (var n3 = 0, r3 = (t3 = an(t3, e5)).length; null != e5 && n3 < r3; )
          e5 = e5[Sr(t3[n3++])];
        return n3 && n3 == r3 ? e5 : Bi;
      }
      function mt(e5, t3, n3) {
        t3 = t3(e5);
        return $(e5) ? t3 : ua2(t3, n3(e5));
      }
      function n2(e5) {
        if (null == e5)
          return e5 === Bi ? "[object Undefined]" : "[object Null]";
        if (le && le in m2(e5)) {
          var t3 = e5, n3 = L.call(t3, le), r3 = t3[le];
          try {
            t3[le] = Bi;
            var o3 = true;
          } catch (e6) {
          }
          var i3 = Z.call(t3);
          return o3 && (n3 ? t3[le] = r3 : delete t3[le]), i3;
        }
        return Z.call(e5);
      }
      function gt(e5, t3) {
        return t3 < e5;
      }
      function vt(e5, t3) {
        return null != e5 && L.call(e5, t3);
      }
      function yt(e5, t3) {
        return null != e5 && t3 in m2(e5);
      }
      function bt(e5, t3, n3) {
        for (var r3 = n3 ? zs : Ps, o3 = e5[0].length, i3 = e5.length, a3 = i3, s3 = S2(i3), l3 = 1 / 0, c3 = []; a3--; ) {
          var u3 = e5[a3];
          a3 && t3 && (u3 = ca(u3, pa(t3))), l3 = E2(u3.length, l3), s3[a3] = !n3 && (t3 || 120 <= o3 && 120 <= u3.length) ? new Ve(a3 && u3) : Bi;
        }
        var u3 = e5[0], d3 = -1, p3 = s3[0];
        e:
          for (; ++d3 < o3 && c3.length < l3; ) {
            var f3 = u3[d3], h3 = t3 ? t3(f3) : f3, f3 = n3 || 0 !== f3 ? f3 : 0;
            if (!(p3 ? Zs(p3, h3) : r3(c3, h3, n3))) {
              for (a3 = i3; --a3; ) {
                var m3 = s3[a3];
                if (!(m3 ? Zs(m3, h3) : r3(e5[a3], h3, n3)))
                  continue e;
              }
              p3 && p3.push(h3), c3.push(f3);
            }
          }
        return c3;
      }
      function wt(e5, t3, n3) {
        t3 = null == (e5 = pr(e5, t3 = an(t3, e5))) ? e5 : e5[Sr(r2(t3))];
        return null == t3 ? Bi : aa(t3, e5, n3);
      }
      function xt(e5) {
        return B(e5) && n2(e5) == qi;
      }
      function St(e5, t3, n3, r3, o3) {
        if (e5 === t3)
          return true;
        if (null == e5 || null == t3 || !B(e5) && !B(t3))
          return e5 != e5 && t3 != t3;
        var i3 = St, a3 = $(e5), s3 = $(t3), l3 = a3 ? Sa : A(e5), s3 = s3 ? Sa : A(t3), c3 = (l3 = l3 == qi ? Xi : l3) == Xi, u3 = (s3 = s3 == qi ? Xi : s3) == Xi;
        if ((s3 = l3 == s3) && wo(e5)) {
          if (!wo(t3))
            return false;
          c3 = !(a3 = true);
        }
        if (s3 && !c3) {
          o3 = o3 || new j();
          if (a3 || Mo(e5))
            return Hn(e5, t3, n3, r3, i3, o3);
          else {
            var d3 = e5;
            var p3 = t3;
            var f3 = l3;
            var h3 = n3;
            var m3 = r3;
            var g3 = i3;
            var v3 = o3;
            switch (f3) {
              case na:
                if (d3.byteLength != p3.byteLength || d3.byteOffset != p3.byteOffset)
                  return false;
                d3 = d3.buffer, p3 = p3.buffer;
              case Ra:
                return d3.byteLength == p3.byteLength && g3(new ee(d3), new ee(p3)) ? true : false;
              case Yi:
              case Ki:
              case Zi:
                return F(+d3, +p3);
              case ka:
                return d3.name == p3.name && d3.message == p3.message;
              case Ji:
              case ea:
                return d3 == p3 + "";
              case Gi:
                var y3 = nl;
              case Qi:
                var b3 = 1 & h3;
                if (y3 = y3 || ol, d3.size != p3.size && !b3)
                  return false;
                b3 = v3.get(d3);
                if (b3)
                  return b3 == p3;
                h3 |= 2, v3.set(d3, p3);
                b3 = Hn(y3(d3), y3(p3), h3, m3, g3, v3);
                return v3.delete(d3), b3;
              case _a:
                if (Pe)
                  return Pe.call(d3) == Pe.call(p3);
            }
            return false;
            return;
          }
        }
        if (!(1 & n3)) {
          a3 = c3 && L.call(e5, "__wrapped__"), l3 = u3 && L.call(t3, "__wrapped__");
          if (a3 || l3)
            return c3 = a3 ? e5.value() : e5, u3 = l3 ? t3.value() : t3, o3 = o3 || new j(), i3(c3, u3, n3, r3, o3);
        }
        if (s3) {
          o3 = o3 || new j();
          var w3 = e5, x3 = t3, S3 = n3, k3 = r3, C3 = i3, E3 = o3, T3 = 1 & S3, _3 = Un(w3), R3 = _3.length, a3 = Un(x3).length;
          if (R3 != a3 && !T3)
            return false;
          for (var O3 = R3; O3--; ) {
            var I3 = _3[O3];
            if (!(T3 ? I3 in x3 : L.call(x3, I3)))
              return false;
          }
          a3 = E3.get(w3), l3 = E3.get(x3);
          if (a3 && l3)
            return a3 == x3 && l3 == w3;
          for (var M2 = true, D2 = (E3.set(w3, x3), E3.set(x3, w3), T3); ++O3 < R3; ) {
            I3 = _3[O3];
            var N2, P2 = w3[I3], z2 = x3[I3];
            if (!((N2 = k3 ? T3 ? k3(z2, P2, I3, x3, w3, E3) : k3(P2, z2, I3, w3, x3, E3) : N2) === Bi ? P2 === z2 || C3(P2, z2, S3, k3, E3) : N2)) {
              M2 = false;
              break;
            }
            D2 = D2 || "constructor" == I3;
          }
          return M2 && !D2 && (a3 = w3.constructor, l3 = x3.constructor, a3 != l3) && "constructor" in w3 && "constructor" in x3 && !("function" == typeof a3 && a3 instanceof a3 && "function" == typeof l3 && l3 instanceof l3) && (M2 = false), E3.delete(w3), E3.delete(x3), M2;
        }
        return false;
      }
      function kt(e5, t3, n3, r3) {
        var o3 = n3.length, i3 = o3, a3 = !r3;
        if (null == e5)
          return !i3;
        for (e5 = m2(e5); o3--; ) {
          var s3 = n3[o3];
          if (a3 && s3[2] ? s3[1] !== e5[s3[0]] : !(s3[0] in e5))
            return false;
        }
        for (; ++o3 < i3; ) {
          var l3 = (s3 = n3[o3])[0], c3 = e5[l3], u3 = s3[1];
          if (a3 && s3[2]) {
            if (c3 === Bi && !(l3 in e5))
              return false;
          } else {
            var d3, p3 = new j();
            if (!((d3 = r3 ? r3(c3, u3, l3, e5, t3, p3) : d3) === Bi ? St(u3, c3, 3, r3, p3) : d3))
              return false;
          }
        }
        return true;
      }
      function Ct(e5) {
        var t3;
        return !(!x2(e5) || (t3 = e5, G && G in t3)) && (So(e5) ? Q : us).test(kr(e5));
      }
      function Et(e5) {
        return "function" == typeof e5 ? e5 : null == e5 ? M : "object" == typeof e5 ? $(e5) ? Mt(e5[0], e5[1]) : It(e5) : Ri(e5);
      }
      function Tt(e5) {
        if (!lr(e5))
          return ye(e5);
        var t3, n3 = [];
        for (t3 in m2(e5))
          L.call(e5, t3) && "constructor" != t3 && n3.push(t3);
        return n3;
      }
      function _t(e5) {
        if (!x2(e5)) {
          var t3 = e5, n3 = [];
          if (null != t3)
            for (var r3 in m2(t3))
              n3.push(r3);
          return n3;
        }
        var o3, i3 = lr(e5), a3 = [];
        for (o3 in e5)
          ("constructor" != o3 || !i3 && L.call(e5, o3)) && a3.push(o3);
        return a3;
      }
      function Rt(e5, t3) {
        return e5 < t3;
      }
      function Ot(e5, r3) {
        var o3 = -1, i3 = u2(e5) ? S2(e5.length) : [];
        return ot(e5, function(e6, t3, n3) {
          i3[++o3] = r3(e6, t3, n3);
        }), i3;
      }
      function It(t3) {
        var n3 = Xn(t3);
        return 1 == n3.length && n3[0][2] ? ur(n3[0][0], n3[0][1]) : function(e5) {
          return e5 === t3 || kt(e5, t3, n3);
        };
      }
      function Mt(n3, r3) {
        return ir(n3) && cr(r3) ? ur(Sr(n3), r3) : function(e5) {
          var t3 = Uo(e5, n3);
          return t3 === Bi && t3 === r3 ? qo(e5, n3) : St(r3, t3, 3);
        };
      }
      function Dt(m3, g3, v3, y3, b3) {
        m3 !== g3 && ct(g3, function(e5, t3) {
          var n3, r3, o3, i3, a3, s3, l3, c3, u3, d3, p3, f3, h3;
          b3 = b3 || new j(), x2(e5) ? (r3 = g3, i3 = v3, a3 = Dt, s3 = y3, l3 = b3, p3 = fr(n3 = m3, o3 = t3), f3 = fr(r3, o3), (h3 = l3.get(f3)) ? Ye(n3, o3, h3) : (h3 = s3 ? s3(p3, f3, o3 + "", n3, r3, l3) : Bi, (r3 = h3 === Bi) && (c3 = $(f3), u3 = !c3 && wo(f3), d3 = !c3 && !u3 && Mo(f3), h3 = f3, c3 || u3 || d3 ? h3 = $(p3) ? p3 : w2(p3) ? T2(p3) : u3 ? un(f3, !(r3 = false)) : d3 ? pn(f3, !(r3 = false)) : [] : _o(f3) || yo(f3) ? yo(h3 = p3) ? h3 = jo(p3) : x2(p3) && !So(p3) || (h3 = nr(f3)) : r3 = false), r3 && (l3.set(f3, h3), a3(h3, f3, i3, s3, l3), l3.delete(f3)), Ye(n3, o3, h3))) : (c3 = y3 ? y3(fr(m3, t3), e5, t3 + "", m3, g3, b3) : Bi, Ye(m3, t3, c3 = c3 === Bi ? e5 : c3));
        }, I2);
      }
      function Nt(e5, t3) {
        var n3 = e5.length;
        if (n3)
          return or(t3 += t3 < 0 ? n3 : 0, n3) ? e5[t3] : Bi;
      }
      function Pt(e5, r3, u3) {
        r3 = r3.length ? ca(r3, function(t4) {
          return $(t4) ? function(e6) {
            return ht(e6, 1 === t4.length ? t4[0] : t4);
          } : t4;
        }) : [M];
        var o3 = -1;
        r3 = ca(r3, pa(d2()));
        var t3 = Ot(e5, function(t4, e6, n4) {
          return { criteria: ca(r3, function(e7) {
            return e7(t4);
          }), index: ++o3, value: t4 };
        }), e5 = function(e6, t4) {
          for (var n4 = u3, r4 = -1, o4 = e6.criteria, i3 = t4.criteria, a3 = o4.length, s3 = n4.length; ++r4 < a3; ) {
            var l3, c3 = fn(o4[r4], i3[r4]);
            if (c3)
              return s3 <= r4 ? c3 : (l3 = n4[r4], c3 * ("desc" == l3 ? -1 : 1));
          }
          return e6.index - t4.index;
        }, n3 = t3.length;
        for (t3.sort(e5); n3--; )
          t3[n3] = t3[n3].value;
        return t3;
      }
      function zt(e5, t3, n3) {
        for (var r3 = -1, o3 = t3.length, i3 = {}; ++r3 < o3; ) {
          var a3 = t3[r3], s3 = ht(e5, a3);
          n3(s3, a3) && Vt(i3, an(a3, e5), s3);
        }
        return i3;
      }
      function Lt(e5, t3, n3, r3) {
        var o3 = r3 ? Bs : da, i3 = -1, a3 = t3.length, s3 = e5;
        for (e5 === t3 && (t3 = T2(t3)), n3 && (s3 = ca(e5, pa(n3))); ++i3 < a3; )
          for (var l3 = 0, c3 = t3[i3], u3 = n3 ? n3(c3) : c3; -1 < (l3 = o3(s3, u3, l3, r3)); )
            s3 !== e5 && ie2.call(s3, l3, 1), ie2.call(e5, l3, 1);
        return e5;
      }
      function jt(e5, t3) {
        for (var n3 = e5 ? t3.length : 0, r3 = n3 - 1; n3--; ) {
          var o3, i3 = t3[n3];
          n3 != r3 && i3 === o3 || (or(o3 = i3) ? ie2.call(e5, i3, 1) : Xt(e5, i3));
        }
      }
      function At(e5, t3) {
        return e5 + he(xe() * (t3 - e5 + 1));
      }
      function Ft(e5, t3) {
        var n3 = "";
        if (!(!e5 || t3 < 1 || Wi < t3))
          for (; t3 % 2 && (n3 += e5), (t3 = he(t3 / 2)) && (e5 += e5), t3; )
            ;
        return n3;
      }
      function a2(e5, t3) {
        return gr(dr(e5, t3, M), e5 + "");
      }
      function $t(e5) {
        return We(ri(e5));
      }
      function Bt(e5, t3) {
        e5 = ri(e5);
        return br(e5, et(t3, 0, e5.length));
      }
      function Vt(e5, t3, n3, r3) {
        if (x2(e5))
          for (var o3 = -1, i3 = (t3 = an(t3, e5)).length, a3 = i3 - 1, s3 = e5; null != s3 && ++o3 < i3; ) {
            var l3, c3 = Sr(t3[o3]), u3 = n3;
            if ("__proto__" === c3 || "constructor" === c3 || "prototype" === c3)
              return e5;
            Ke(s3, c3, u3 = o3 != a3 && (l3 = s3[c3], (u3 = r3 ? r3(l3, c3, s3) : Bi) === Bi) ? x2(l3) ? l3 : or(t3[o3 + 1]) ? [] : {} : u3), s3 = s3[c3];
          }
        return e5;
      }
      var Ht = _e ? function(e5, t3) {
        return _e.set(e5, t3), e5;
      } : M, t2 = ce ? function(e5, t3) {
        return ce(e5, "toString", { configurable: true, enumerable: false, value: vi2(t3), writable: true });
      } : M;
      function Wt(e5) {
        return br(ri(e5));
      }
      function s2(e5, t3, n3) {
        for (var r3 = -1, o3 = e5.length, i3 = ((n3 = o3 < n3 ? o3 : n3) < 0 && (n3 += o3), o3 = n3 < (t3 = t3 < 0 ? o3 < -t3 ? 0 : o3 + t3 : t3) ? 0 : n3 - t3 >>> 0, t3 >>>= 0, S2(o3)); ++r3 < o3; )
          i3[r3] = e5[r3 + t3];
        return i3;
      }
      function Ut(e5, r3) {
        var o3;
        return ot(e5, function(e6, t3, n3) {
          return !(o3 = r3(e6, t3, n3));
        }), !!o3;
      }
      function qt(e5, t3, n3) {
        var r3 = 0, o3 = null == e5 ? r3 : e5.length;
        if ("number" == typeof t3 && t3 == t3 && o3 <= 2147483647) {
          for (; r3 < o3; ) {
            var i3 = r3 + o3 >>> 1, a3 = e5[i3];
            null !== a3 && !b2(a3) && (n3 ? a3 <= t3 : a3 < t3) ? r3 = 1 + i3 : o3 = i3;
          }
          return o3;
        }
        return Yt(e5, t3, M, n3);
      }
      function Yt(e5, t3, n3, r3) {
        var o3 = 0, i3 = null == e5 ? 0 : e5.length;
        if (0 === i3)
          return 0;
        for (var a3 = (t3 = n3(t3)) != t3, s3 = null === t3, l3 = b2(t3), c3 = t3 === Bi; o3 < i3; ) {
          var u3 = he((o3 + i3) / 2), d3 = n3(e5[u3]), p3 = d3 !== Bi, f3 = null === d3, h3 = d3 == d3, m3 = b2(d3), h3 = a3 ? r3 || h3 : c3 ? h3 && (r3 || p3) : s3 ? h3 && p3 && (r3 || !f3) : l3 ? h3 && p3 && !f3 && (r3 || !m3) : !f3 && !m3 && (r3 ? d3 <= t3 : d3 < t3);
          h3 ? o3 = u3 + 1 : i3 = u3;
        }
        return E2(i3, 4294967294);
      }
      function Kt(e5, t3) {
        for (var n3 = -1, r3 = e5.length, o3 = 0, i3 = []; ++n3 < r3; ) {
          var a3, s3 = e5[n3], l3 = t3 ? t3(s3) : s3;
          n3 && F(l3, a3) || (a3 = l3, i3[o3++] = 0 === s3 ? 0 : s3);
        }
        return i3;
      }
      function Gt(e5) {
        return "number" == typeof e5 ? e5 : b2(e5) ? wa : +e5;
      }
      function c2(e5) {
        var t3;
        return "string" == typeof e5 ? e5 : $(e5) ? ca(e5, c2) + "" : b2(e5) ? ze ? ze.call(e5) : "" : "0" == (t3 = e5 + "") && 1 / e5 == -1 / 0 ? "-0" : t3;
      }
      function Zt(e5, t3, n3) {
        var r3 = -1, o3 = Ps, i3 = e5.length, a3 = true, s3 = [], l3 = s3;
        if (n3)
          a3 = false, o3 = zs;
        else if (200 <= i3) {
          var c3 = t3 ? null : jn(e5);
          if (c3)
            return ol(c3);
          a3 = false, o3 = Zs, l3 = new Ve();
        } else
          l3 = t3 ? [] : s3;
        e:
          for (; ++r3 < i3; ) {
            var u3 = e5[r3], d3 = t3 ? t3(u3) : u3, u3 = n3 || 0 !== u3 ? u3 : 0;
            if (a3 && d3 == d3) {
              for (var p3 = l3.length; p3--; )
                if (l3[p3] === d3)
                  continue e;
              t3 && l3.push(d3), s3.push(u3);
            } else
              o3(l3, d3, n3) || (l3 !== s3 && l3.push(d3), s3.push(u3));
          }
        return s3;
      }
      function Xt(e5, t3) {
        return null == (e5 = pr(e5, t3 = an(t3, e5))) || delete e5[Sr(r2(t3))];
      }
      function Jt(e5, t3, n3, r3) {
        return Vt(e5, t3, n3(ht(e5, t3)), r3);
      }
      function Qt(e5, t3, n3, r3) {
        for (var o3 = e5.length, i3 = r3 ? o3 : -1; (r3 ? i3-- : ++i3 < o3) && t3(e5[i3], i3, e5); )
          ;
        return n3 ? s2(e5, r3 ? 0 : i3, r3 ? i3 + 1 : o3) : s2(e5, r3 ? i3 + 1 : 0, r3 ? o3 : i3);
      }
      function en(e5, t3) {
        var n3 = e5;
        return Ls(t3, function(e6, t4) {
          return t4.func.apply(t4.thisArg, ua2([e6], t4.args));
        }, n3 = e5 instanceof v2 ? e5.value() : n3);
      }
      function tn(e5, t3, n3) {
        var r3 = e5.length;
        if (r3 < 2)
          return r3 ? Zt(e5[0]) : [];
        for (var o3 = -1, i3 = S2(r3); ++o3 < r3; )
          for (var a3 = e5[o3], s3 = -1; ++s3 < r3; )
            s3 != o3 && (i3[o3] = rt(i3[o3] || a3, e5[s3], t3, n3));
        return Zt(l2(i3, 1), t3, n3);
      }
      function nn(e5, t3, n3) {
        for (var r3 = -1, o3 = e5.length, i3 = t3.length, a3 = {}; ++r3 < o3; ) {
          var s3 = r3 < i3 ? t3[r3] : Bi;
          n3(a3, e5[r3], s3);
        }
        return a3;
      }
      function rn(e5) {
        return w2(e5) ? e5 : [];
      }
      function on(e5) {
        return "function" == typeof e5 ? e5 : M;
      }
      function an(e5, t3) {
        return $(e5) ? e5 : ir(e5, t3) ? [e5] : xr(f2(e5));
      }
      var sn = a2;
      function ln(e5, t3, n3) {
        var r3 = e5.length;
        return n3 = n3 === Bi ? r3 : n3, !t3 && r3 <= n3 ? e5 : s2(e5, t3, n3);
      }
      var cn = ue || function(e5) {
        return ia.clearTimeout(e5);
      };
      function un(e5, t3) {
        return t3 ? e5.slice() : (t3 = e5.length, t3 = te ? te(t3) : new e5.constructor(t3), e5.copy(t3), t3);
      }
      function dn(e5) {
        var t3 = new e5.constructor(e5.byteLength);
        return new ee(t3).set(new ee(e5)), t3;
      }
      function pn(e5, t3) {
        t3 = t3 ? dn(e5.buffer) : e5.buffer;
        return new e5.constructor(t3, e5.byteOffset, e5.length);
      }
      function fn(e5, t3) {
        if (e5 !== t3) {
          var n3 = e5 !== Bi, r3 = null === e5, o3 = e5 == e5, i3 = b2(e5), a3 = t3 !== Bi, s3 = null === t3, l3 = t3 == t3, c3 = b2(t3);
          if (!s3 && !c3 && !i3 && t3 < e5 || i3 && a3 && l3 && !s3 && !c3 || r3 && a3 && l3 || !n3 && l3 || !o3)
            return 1;
          if (!r3 && !i3 && !c3 && e5 < t3 || c3 && n3 && o3 && !r3 && !i3 || s3 && n3 && o3 || !a3 && o3 || !l3)
            return -1;
        }
        return 0;
      }
      function hn(e5, t3, n3, r3) {
        for (var o3 = -1, i3 = e5.length, a3 = n3.length, s3 = -1, l3 = t3.length, c3 = C2(i3 - a3, 0), u3 = S2(l3 + c3), d3 = !r3; ++s3 < l3; )
          u3[s3] = t3[s3];
        for (; ++o3 < a3; )
          (d3 || o3 < i3) && (u3[n3[o3]] = e5[o3]);
        for (; c3--; )
          u3[s3++] = e5[o3++];
        return u3;
      }
      function mn(e5, t3, n3, r3) {
        for (var o3 = -1, i3 = e5.length, a3 = -1, s3 = n3.length, l3 = -1, c3 = t3.length, u3 = C2(i3 - s3, 0), d3 = S2(u3 + c3), p3 = !r3; ++o3 < u3; )
          d3[o3] = e5[o3];
        for (var f3 = o3; ++l3 < c3; )
          d3[f3 + l3] = t3[l3];
        for (; ++a3 < s3; )
          (p3 || o3 < i3) && (d3[f3 + n3[a3]] = e5[o3++]);
        return d3;
      }
      function T2(e5, t3) {
        var n3 = -1, r3 = e5.length;
        for (t3 = t3 || S2(r3); ++n3 < r3; )
          t3[n3] = e5[n3];
        return t3;
      }
      function gn(e5, t3, n3, r3) {
        for (var o3 = !n3, i3 = (n3 = n3 || {}, -1), a3 = t3.length; ++i3 < a3; ) {
          var s3 = t3[i3], l3 = r3 ? r3(n3[s3], e5[s3], s3, n3, e5) : Bi;
          (o3 ? Je : Ke)(n3, s3, l3 = l3 === Bi ? e5[s3] : l3);
        }
        return n3;
      }
      function vn(o3, i3) {
        return function(e5, t3) {
          var n3 = $(e5) ? Ms : Ze, r3 = i3 ? i3() : {};
          return n3(e5, o3, d2(t3, 2), r3);
        };
      }
      function yn(s3) {
        return a2(function(e5, t3) {
          var n3 = -1, r3 = t3.length, o3 = 1 < r3 ? t3[r3 - 1] : Bi, i3 = 2 < r3 ? t3[2] : Bi, o3 = 3 < s3.length && "function" == typeof o3 ? (r3--, o3) : Bi;
          for (i3 && p2(t3[0], t3[1], i3) && (o3 = r3 < 3 ? Bi : o3, r3 = 1), e5 = m2(e5); ++n3 < r3; ) {
            var a3 = t3[n3];
            a3 && s3(e5, a3, n3, o3);
          }
          return e5;
        });
      }
      function bn(i3, a3) {
        return function(e5, t3) {
          if (null != e5) {
            if (!u2(e5))
              return i3(e5, t3);
            for (var n3 = e5.length, r3 = a3 ? n3 : -1, o3 = m2(e5); (a3 ? r3-- : ++r3 < n3) && false !== t3(o3[r3], r3, o3); )
              ;
          }
          return e5;
        };
      }
      function wn(l3) {
        return function(e5, t3, n3) {
          for (var r3 = -1, o3 = m2(e5), i3 = n3(e5), a3 = i3.length; a3--; ) {
            var s3 = i3[l3 ? a3 : ++r3];
            if (false === t3(o3[s3], s3, o3))
              break;
          }
          return e5;
        };
      }
      function xn(r3) {
        return function(e5) {
          var t3 = fa(e5 = f2(e5)) ? ga(e5) : Bi, n3 = t3 ? t3[0] : e5.charAt(0), t3 = t3 ? ln(t3, 1).join("") : e5.slice(1);
          return n3[r3]() + t3;
        };
      }
      function Sn(t3) {
        return function(e5) {
          return Ls(hi(ai(e5).replace(gs, "")), t3, "");
        };
      }
      function kn(r3) {
        return function() {
          var e5 = arguments;
          switch (e5.length) {
            case 0:
              return new r3();
            case 1:
              return new r3(e5[0]);
            case 2:
              return new r3(e5[0], e5[1]);
            case 3:
              return new r3(e5[0], e5[1], e5[2]);
            case 4:
              return new r3(e5[0], e5[1], e5[2], e5[3]);
            case 5:
              return new r3(e5[0], e5[1], e5[2], e5[3], e5[4]);
            case 6:
              return new r3(e5[0], e5[1], e5[2], e5[3], e5[4], e5[5]);
            case 7:
              return new r3(e5[0], e5[1], e5[2], e5[3], e5[4], e5[5], e5[6]);
          }
          var t3 = Le(r3.prototype), n3 = r3.apply(t3, e5);
          return x2(n3) ? n3 : t3;
        };
      }
      function Cn(i3, a3, s3) {
        var l3 = kn(i3);
        return function e5() {
          for (var t3 = arguments.length, n3 = S2(t3), r3 = t3, o3 = Gn(e5); r3--; )
            n3[r3] = arguments[r3];
          o3 = t3 < 3 && n3[0] !== o3 && n3[t3 - 1] !== o3 ? [] : ha(n3, o3);
          return (t3 -= o3.length) < s3 ? zn(i3, a3, _n, e5.placeholder, Bi, n3, o3, Bi, Bi, s3 - t3) : aa(this && this !== ia && this instanceof e5 ? l3 : i3, this, n3);
        };
      }
      function En(i3) {
        return function(e5, t3, n3) {
          var r3, o3 = m2(e5), t3 = (u2(e5) || (r3 = d2(t3, 3), e5 = O2(e5), t3 = function(e6) {
            return r3(o3[e6], e6, o3);
          }), i3(e5, t3, n3));
          return -1 < t3 ? o3[r3 ? e5[t3] : t3] : Bi;
        };
      }
      function Tn(l3) {
        return Wn(function(o3) {
          var i3 = o3.length, e5 = i3, t3 = g2.prototype.thru;
          for (l3 && o3.reverse(); e5--; ) {
            var n3 = o3[e5];
            if ("function" != typeof n3)
              throw new k2(Vi);
            t3 && !s3 && "wrapper" == Kn(n3) && (s3 = new g2([], true));
          }
          for (e5 = s3 ? e5 : i3; ++e5 < i3; )
            var r3 = Kn(n3 = o3[e5]), a3 = "wrapper" == r3 ? Yn(n3) : Bi, s3 = a3 && ar(a3[0]) && 424 == a3[1] && !a3[4].length && 1 == a3[9] ? s3[Kn(a3[0])].apply(s3, a3[3]) : 1 == n3.length && ar(n3) ? s3[r3]() : s3.thru(n3);
          return function() {
            var e6 = arguments, t4 = e6[0];
            if (s3 && 1 == e6.length && $(t4))
              return s3.plant(t4).value();
            for (var n4 = 0, r4 = i3 ? o3[n4].apply(this, e6) : t4; ++n4 < i3; )
              r4 = o3[n4].call(this, r4);
            return r4;
          };
        });
      }
      function _n(a3, s3, l3, c3, u3, d3, p3, f3, h3, m3) {
        var g3 = s3 & Hi, v3 = 1 & s3, y3 = 2 & s3, b3 = 24 & s3, w3 = 512 & s3, x3 = y3 ? Bi : kn(a3);
        return function e5() {
          for (var t3, n3, r3, o3 = S2(r3 = arguments.length), i3 = r3; i3--; )
            o3[i3] = arguments[i3];
          return b3 && (n3 = function(e6, t4) {
            for (var n4 = e6.length, r4 = 0; n4--; )
              e6[n4] === t4 && ++r4;
            return r4;
          }(o3, t3 = Gn(e5))), c3 && (o3 = hn(o3, c3, u3, b3)), d3 && (o3 = mn(o3, d3, p3, b3)), r3 -= n3, b3 && r3 < m3 ? (n3 = ha(o3, t3), zn(a3, s3, _n, e5.placeholder, l3, o3, n3, f3, h3, m3 - r3)) : (t3 = v3 ? l3 : this, n3 = y3 ? t3[a3] : a3, r3 = o3.length, f3 ? o3 = function(e6, t4) {
            for (var n4 = e6.length, r4 = E2(t4.length, n4), o4 = T2(e6); r4--; ) {
              var i4 = t4[r4];
              e6[r4] = or(i4, n4) ? o4[i4] : Bi;
            }
            return e6;
          }(o3, f3) : w3 && 1 < r3 && o3.reverse(), g3 && h3 < r3 && (o3.length = h3), (n3 = this && this !== ia && this instanceof e5 ? x3 || kn(n3) : n3).apply(t3, o3));
        };
      }
      function Rn(n3, a3) {
        return function(e5, t3) {
          return e5 = e5, r3 = n3, o3 = a3(t3), i3 = {}, dt(e5, function(e6, t4, n4) {
            r3(i3, o3(e6), t4, n4);
          }), i3;
          var r3, o3, i3;
        };
      }
      function On(r3, o3) {
        return function(e5, t3) {
          var n3;
          if (e5 === Bi && t3 === Bi)
            return o3;
          if (e5 !== Bi && (n3 = e5), t3 !== Bi) {
            if (n3 === Bi)
              return t3;
            t3 = ("string" == typeof e5 || "string" == typeof t3 ? (e5 = c2(e5), c2) : (e5 = Gt(e5), Gt))(t3), n3 = r3(e5, t3);
          }
          return n3;
        };
      }
      function In(r3) {
        return Wn(function(e5) {
          return e5 = ca(e5, pa(d2())), a2(function(t3) {
            var n3 = this;
            return r3(e5, function(e6) {
              return aa(e6, n3, t3);
            });
          });
        });
      }
      function Mn(e5, t3) {
        var n3 = (t3 = t3 === Bi ? " " : c2(t3)).length;
        return n3 < 2 ? n3 ? Ft(t3, e5) : t3 : (n3 = Ft(t3, fe(e5 / ma(t3))), fa(t3) ? ln(ga(n3), 0, e5).join("") : n3.slice(0, e5));
      }
      function Dn(s3, e5, l3, c3) {
        var u3 = 1 & e5, d3 = kn(s3);
        return function e6() {
          for (var t3 = -1, n3 = arguments.length, r3 = -1, o3 = c3.length, i3 = S2(o3 + n3), a3 = this && this !== ia && this instanceof e6 ? d3 : s3; ++r3 < o3; )
            i3[r3] = c3[r3];
          for (; n3--; )
            i3[r3++] = arguments[++t3];
          return aa(a3, u3 ? l3 : this, i3);
        };
      }
      function Nn(c3) {
        return function(e5, t3, n3) {
          n3 && "number" != typeof n3 && p2(e5, t3, n3) && (t3 = n3 = Bi), e5 = zo(e5), t3 === Bi ? (t3 = e5, e5 = 0) : t3 = zo(t3), n3 = n3 === Bi ? e5 < t3 ? 1 : -1 : zo(n3);
          for (var r3 = e5, o3 = n3, i3 = c3, a3 = -1, s3 = C2(fe((t3 - r3) / (o3 || 1)), 0), l3 = S2(s3); s3--; )
            l3[i3 ? s3 : ++a3] = r3, r3 += o3;
          return l3;
        };
      }
      function Pn(n3) {
        return function(e5, t3) {
          return "string" == typeof e5 && "string" == typeof t3 || (e5 = R2(e5), t3 = R2(t3)), n3(e5, t3);
        };
      }
      function zn(e5, t3, n3, r3, o3, i3, a3, s3, l3, c3) {
        var u3 = 8 & t3, o3 = (4 & (t3 = (t3 | (u3 ? 32 : 64)) & ~(u3 ? 64 : 32)) || (t3 &= -4), [e5, t3, o3, u3 ? i3 : Bi, u3 ? a3 : Bi, u3 ? Bi : i3, u3 ? Bi : a3, s3, l3, c3]), i3 = n3.apply(Bi, o3);
        return ar(e5) && hr(i3, o3), i3.placeholder = r3, vr(i3, e5, t3);
      }
      function Ln(e5) {
        var r3 = P[e5];
        return function(e6, t3) {
          var n3;
          return e6 = R2(e6), (t3 = null == t3 ? 0 : E2(_2(t3), 292)) && ge(e6) ? (n3 = (f2(e6) + "e").split("e"), +((n3 = (f2(r3(n3[0] + "e" + (+n3[1] + t3))) + "e").split("e"))[0] + "e" + (+n3[1] - t3))) : r3(e6);
        };
      }
      var jn = Ee && 1 / ol(new Ee([, -0]))[1] == 1 / 0 ? function(e5) {
        return new Ee(e5);
      } : Ci;
      function An(i3) {
        return function(e5) {
          var t3, n3, r3, o3 = A(e5);
          return o3 == Gi ? nl(e5) : o3 == Qi ? (o3 = e5, t3 = -1, n3 = Array(o3.size), o3.forEach(function(e6) {
            n3[++t3] = [e6, e6];
          }), n3) : ca(i3(r3 = e5), function(e6) {
            return [e6, r3[e6]];
          });
        };
      }
      function Fn(e5, t3, n3, r3, o3, i3, a3, s3) {
        var l3, c3, u3, d3, p3, f3, h3, m3, g3, v3, y3, b3, w3, x3 = 2 & t3;
        if (x3 || "function" == typeof e5)
          return (l3 = r3 ? r3.length : 0) || (t3 &= -97, r3 = o3 = Bi), a3 = a3 === Bi ? a3 : C2(_2(a3), 0), s3 = s3 === Bi ? s3 : _2(s3), l3 -= o3 ? o3.length : 0, 64 & t3 && (u3 = r3, d3 = o3, r3 = o3 = Bi), c3 = x3 ? Bi : Yn(e5), u3 = [e5, t3, n3, r3, o3, u3, d3, i3, a3, s3], c3 && (d3 = c3, a3 = (i3 = u3)[1], f3 = d3[1], m3 = (h3 = a3 | f3) < 131, g3 = f3 == Hi && 8 == a3 || f3 == Hi && 256 == a3 && i3[7].length <= d3[8] || 384 == f3 && d3[7].length <= d3[8] && 8 == a3, m3 || g3) && (1 & f3 && (i3[2] = d3[2], h3 |= 1 & a3 ? 0 : 4), (m3 = d3[3]) && (p3 = i3[3], i3[3] = p3 ? hn(p3, m3, d3[4]) : m3, i3[4] = p3 ? ha(i3[3], ba) : d3[4]), (m3 = d3[5]) && (p3 = i3[5], i3[5] = p3 ? mn(p3, m3, d3[6]) : m3, i3[6] = p3 ? ha(i3[5], ba) : d3[6]), (m3 = d3[7]) && (i3[7] = m3), f3 & Hi && (i3[8] = null == i3[8] ? d3[8] : E2(i3[8], d3[8])), null == i3[9] && (i3[9] = d3[9]), i3[0] = d3[0], i3[1] = h3), e5 = u3[0], t3 = u3[1], n3 = u3[2], r3 = u3[3], o3 = u3[4], !(s3 = u3[9] = u3[9] === Bi ? x3 ? 0 : e5.length : C2(u3[9] - l3, 0)) && 24 & t3 && (t3 &= -25), g3 = t3 && 1 != t3 ? 8 == t3 || 16 == t3 ? Cn(e5, t3, s3) : 32 != t3 && 33 != t3 || o3.length ? _n.apply(Bi, u3) : Dn(e5, t3, n3, r3) : (y3 = n3, b3 = 1 & t3, w3 = kn(v3 = e5), function e6() {
            return (this && this !== ia && this instanceof e6 ? w3 : v3).apply(b3 ? y3 : this, arguments);
          }), vr((c3 ? Ht : hr)(g3, u3), e5, t3);
        throw new k2(Vi);
      }
      function $n(e5, t3, n3, r3) {
        return e5 === Bi || F(e5, U[n3]) && !L.call(r3, n3) ? t3 : e5;
      }
      function Bn(e5, t3, n3, r3, o3, i3) {
        return x2(e5) && x2(t3) && (i3.set(t3, e5), Dt(e5, t3, Bi, Bn, i3), i3.delete(t3)), e5;
      }
      function Vn(e5) {
        return _o(e5) ? Bi : e5;
      }
      function Hn(e5, t3, n3, r3, o3, i3) {
        var a3 = 1 & n3, s3 = e5.length, l3 = t3.length;
        if (s3 != l3 && !(a3 && s3 < l3))
          return false;
        var l3 = i3.get(e5), c3 = i3.get(t3);
        if (l3 && c3)
          return l3 == t3 && c3 == e5;
        var u3 = -1, d3 = true, p3 = 2 & n3 ? new Ve() : Bi;
        for (i3.set(e5, t3), i3.set(t3, e5); ++u3 < s3; ) {
          var f3, h3 = e5[u3], m3 = t3[u3];
          if ((f3 = r3 ? a3 ? r3(m3, h3, u3, t3, e5, i3) : r3(h3, m3, u3, e5, t3, i3) : f3) !== Bi) {
            if (f3)
              continue;
            d3 = false;
            break;
          }
          if (p3) {
            if (!As(t3, function(e6, t4) {
              return !Zs(p3, t4) && (h3 === e6 || o3(h3, e6, n3, r3, i3)) && p3.push(t4);
            })) {
              d3 = false;
              break;
            }
          } else if (h3 !== m3 && !o3(h3, m3, n3, r3, i3)) {
            d3 = false;
            break;
          }
        }
        return i3.delete(e5), i3.delete(t3), d3;
      }
      function Wn(e5) {
        return gr(dr(e5, Bi, _r), e5 + "");
      }
      function Un(e5) {
        return mt(e5, O2, Qn);
      }
      function qn(e5) {
        return mt(e5, I2, er);
      }
      var Yn = _e ? function(e5) {
        return _e.get(e5);
      } : Ci;
      function Kn(e5) {
        for (var t3 = e5.name + "", n3 = Re[t3], r3 = L.call(Re, t3) ? n3.length : 0; r3--; ) {
          var o3 = n3[r3], i3 = o3.func;
          if (null == i3 || i3 == e5)
            return o3.name;
        }
        return t3;
      }
      function Gn(e5) {
        return (L.call(h2, "placeholder") ? h2 : e5).placeholder;
      }
      function d2() {
        var e5 = (e5 = h2.iteratee || wi) === wi ? Et : e5;
        return arguments.length ? e5(arguments[0], arguments[1]) : e5;
      }
      function Zn(e5, t3) {
        var n3, r3, e5 = e5.__data__;
        return ("string" == (r3 = typeof (n3 = t3)) || "number" == r3 || "symbol" == r3 || "boolean" == r3 ? "__proto__" !== n3 : null === n3) ? e5["string" == typeof t3 ? "string" : "hash"] : e5.map;
      }
      function Xn(e5) {
        for (var t3 = O2(e5), n3 = t3.length; n3--; ) {
          var r3 = t3[n3], o3 = e5[r3];
          t3[n3] = [r3, o3, cr(o3)];
        }
        return t3;
      }
      function Jn(e5, t3) {
        t3 = t3;
        e5 = null == (e5 = e5) ? Bi : e5[t3];
        return Ct(e5) ? e5 : Bi;
      }
      var Qn = me ? function(t3) {
        return null == t3 ? [] : (t3 = m2(t3), la(me(t3), function(e5) {
          return oe.call(t3, e5);
        }));
      } : Mi, er = me ? function(e5) {
        for (var t3 = []; e5; )
          ua2(t3, Qn(e5)), e5 = ne(e5);
        return t3;
      } : Mi, A = n2;
      function tr(e5, t3, n3) {
        for (var r3 = -1, o3 = (t3 = an(t3, e5)).length, i3 = false; ++r3 < o3; ) {
          var a3 = Sr(t3[r3]);
          if (!(i3 = null != e5 && n3(e5, a3)))
            break;
          e5 = e5[a3];
        }
        return i3 || ++r3 != o3 ? i3 : !!(o3 = null == e5 ? 0 : e5.length) && Co(o3) && or(a3, o3) && ($(e5) || yo(e5));
      }
      function nr(e5) {
        return "function" != typeof e5.constructor || lr(e5) ? {} : Le(ne(e5));
      }
      function rr(e5) {
        return $(e5) || yo(e5) || !!(ae && e5 && e5[ae]);
      }
      function or(e5, t3) {
        var n3 = typeof e5;
        return !!(t3 = null == t3 ? Wi : t3) && ("number" == n3 || "symbol" != n3 && ps.test(e5)) && -1 < e5 && e5 % 1 == 0 && e5 < t3;
      }
      function p2(e5, t3, n3) {
        var r3;
        if (x2(n3))
          return ("number" == (r3 = typeof t3) ? u2(n3) && or(t3, n3.length) : "string" == r3 && t3 in n3) && F(n3[t3], e5);
      }
      function ir(e5, t3) {
        var n3;
        if (!$(e5))
          return "number" == (n3 = typeof e5) || "symbol" == n3 || "boolean" == n3 || null == e5 || b2(e5) || Ga.test(e5) || !Ka.test(e5) || null != t3 && e5 in m2(t3);
      }
      function ar(e5) {
        var t3 = Kn(e5), n3 = h2[t3];
        return "function" == typeof n3 && t3 in v2.prototype && (e5 === n3 || (t3 = Yn(n3)) && e5 === t3[0]);
      }
      (i2 && A(new i2(new ArrayBuffer(1))) != na || ke && A(new ke()) != Gi || Ce && A(Ce.resolve()) != Ta || Ee && A(new Ee()) != Qi || e4 && A(new e4()) != ta) && (A = function(e5) {
        var t3 = n2(e5), e5 = t3 == Xi ? e5.constructor : Bi, e5 = e5 ? kr(e5) : "";
        if (e5)
          switch (e5) {
            case Oe:
              return na;
            case Ie:
              return Gi;
            case Me:
              return Ta;
            case De:
              return Qi;
            case Ne:
              return ta;
          }
        return t3;
      });
      var sr = q ? So : Di;
      function lr(e5) {
        var t3 = e5 && e5.constructor;
        return e5 === ("function" == typeof t3 && t3.prototype || U);
      }
      function cr(e5) {
        return e5 == e5 && !x2(e5);
      }
      function ur(t3, n3) {
        return function(e5) {
          return null != e5 && e5[t3] === n3 && (n3 !== Bi || t3 in m2(e5));
        };
      }
      function dr(i3, a3, s3) {
        return a3 = C2(a3 === Bi ? i3.length - 1 : a3, 0), function() {
          for (var e5 = arguments, t3 = -1, n3 = C2(e5.length - a3, 0), r3 = S2(n3); ++t3 < n3; )
            r3[t3] = e5[a3 + t3];
          for (var t3 = -1, o3 = S2(a3 + 1); ++t3 < a3; )
            o3[t3] = e5[t3];
          return o3[a3] = s3(r3), aa(i3, this, o3);
        };
      }
      function pr(e5, t3) {
        return t3.length < 2 ? e5 : ht(e5, s2(t3, 0, -1));
      }
      function fr(e5, t3) {
        if (("constructor" !== t3 || "function" != typeof e5[t3]) && "__proto__" != t3)
          return e5[t3];
      }
      var hr = yr(Ht), mr = pe || function(e5, t3) {
        return ia.setTimeout(e5, t3);
      }, gr = yr(t2);
      function vr(e5, t3, n3) {
        var r3, o3, i3, t3 = t3 + "";
        return gr(e5, (o3 = (t3 = (t3 = e5 = t3).match(ts)) ? t3[1].split(ns) : [], i3 = n3, sa(xa, function(e6) {
          var t4 = "_." + e6[0];
          i3 & e6[1] && !Ps(o3, t4) && o3.push(t4);
        }), t3 = o3.sort(), (n3 = t3.length) ? (t3[r3 = n3 - 1] = (1 < n3 ? "& " : "") + t3[r3], t3 = t3.join(2 < n3 ? ", " : " "), e5.replace(es, "{\n/* [wrapped with " + t3 + "] */\n")) : e5));
      }
      function yr(n3) {
        var r3 = 0, o3 = 0;
        return function() {
          var e5 = be(), t3 = 16 - (e5 - o3);
          if (o3 = e5, 0 < t3) {
            if (800 <= ++r3)
              return arguments[0];
          } else
            r3 = 0;
          return n3.apply(Bi, arguments);
        };
      }
      function br(e5, t3) {
        var n3 = -1, r3 = e5.length, o3 = r3 - 1;
        for (t3 = t3 === Bi ? r3 : t3; ++n3 < t3; ) {
          var i3 = At(n3, o3), a3 = e5[i3];
          e5[i3] = e5[n3], e5[n3] = a3;
        }
        return e5.length = t3, e5;
      }
      wr = (ue = uo(ue = function(e5) {
        var o3 = [];
        return 46 === e5.charCodeAt(0) && o3.push(""), e5.replace(Za, function(e6, t3, n3, r3) {
          o3.push(n3 ? r3.replace(is2, "$1") : t3 || e6);
        }), o3;
      }, function(e5) {
        return 500 === wr.size && wr.clear(), e5;
      })).cache;
      var wr, xr = ue;
      function Sr(e5) {
        var t3;
        return "string" == typeof e5 || b2(e5) ? e5 : "0" == (t3 = e5 + "") && 1 / e5 == -1 / 0 ? "-0" : t3;
      }
      function kr(e5) {
        if (null != e5) {
          try {
            return Y.call(e5);
          } catch (e6) {
          }
          try {
            return e5 + "";
          } catch (e6) {
          }
        }
        return "";
      }
      function Cr(e5) {
        var t3;
        return e5 instanceof v2 ? e5.clone() : ((t3 = new g2(e5.__wrapped__, e5.__chain__)).__actions__ = T2(e5.__actions__), t3.__index__ = e5.__index__, t3.__values__ = e5.__values__, t3);
      }
      i2 = a2(function(e5, t3) {
        return w2(e5) ? rt(e5, l2(t3, 1, w2, true)) : [];
      }), Ce = a2(function(e5, t3) {
        var n3 = r2(t3);
        return w2(n3) && (n3 = Bi), w2(e5) ? rt(e5, l2(t3, 1, w2, true), d2(n3, 2)) : [];
      }), e4 = a2(function(e5, t3) {
        var n3 = r2(t3);
        return w2(n3) && (n3 = Bi), w2(e5) ? rt(e5, l2(t3, 1, w2, true), Bi, n3) : [];
      });
      function Er(e5, t3, n3) {
        var r3 = null == e5 ? 0 : e5.length;
        return r3 ? ((n3 = null == n3 ? 0 : _2(n3)) < 0 && (n3 = C2(r3 + n3, 0)), $s(e5, d2(t3, 3), n3)) : -1;
      }
      function Tr(e5, t3, n3) {
        var r3, o3 = null == e5 ? 0 : e5.length;
        return o3 ? (r3 = o3 - 1, n3 !== Bi && (r3 = _2(n3), r3 = n3 < 0 ? C2(o3 + r3, 0) : E2(r3, o3 - 1)), $s(e5, d2(t3, 3), r3, true)) : -1;
      }
      function _r(e5) {
        return (null == e5 ? 0 : e5.length) ? l2(e5, 1) : [];
      }
      function Rr(e5) {
        return e5 && e5.length ? e5[0] : Bi;
      }
      q = a2(function(e5) {
        var t3 = ca(e5, rn);
        return t3.length && t3[0] === e5[0] ? bt(t3) : [];
      }), pe = a2(function(e5) {
        var t3 = r2(e5), n3 = ca(e5, rn);
        return t3 === r2(n3) ? t3 = Bi : n3.pop(), n3.length && n3[0] === e5[0] ? bt(n3, d2(t3, 2)) : [];
      }), t2 = a2(function(e5) {
        var t3 = r2(e5), n3 = ca(e5, rn);
        return (t3 = "function" == typeof t3 ? t3 : Bi) && n3.pop(), n3.length && n3[0] === e5[0] ? bt(n3, Bi, t3) : [];
      });
      function r2(e5) {
        var t3 = null == e5 ? 0 : e5.length;
        return t3 ? e5[t3 - 1] : Bi;
      }
      ue = a2(Or);
      function Or(e5, t3) {
        return e5 && e5.length && t3 && t3.length ? Lt(e5, t3) : e5;
      }
      var Ir = Wn(function(e5, t3) {
        var n3 = null == e5 ? 0 : e5.length, r3 = Qe(e5, t3);
        return jt(e5, ca(t3, function(e6) {
          return or(e6, n3) ? +e6 : e6;
        }).sort(fn)), r3;
      });
      function Mr(e5) {
        return null == e5 ? e5 : Se.call(e5);
      }
      var Dr = a2(function(e5) {
        return Zt(l2(e5, 1, w2, true));
      }), Nr = a2(function(e5) {
        var t3 = r2(e5);
        return w2(t3) && (t3 = Bi), Zt(l2(e5, 1, w2, true), d2(t3, 2));
      }), Pr = a2(function(e5) {
        var t3 = "function" == typeof (t3 = r2(e5)) ? t3 : Bi;
        return Zt(l2(e5, 1, w2, true), Bi, t3);
      });
      function zr(t3) {
        var n3;
        return t3 && t3.length ? (n3 = 0, t3 = la(t3, function(e5) {
          return w2(e5) && (n3 = C2(e5.length, n3), 1);
        }), Ys(n3, function(e5) {
          return ca(t3, Ws(e5));
        })) : [];
      }
      function Lr(e5, t3) {
        return e5 && e5.length ? (e5 = zr(e5), null == t3 ? e5 : ca(e5, function(e6) {
          return aa(t3, Bi, e6);
        })) : [];
      }
      var jr = a2(function(e5, t3) {
        return w2(e5) ? rt(e5, t3) : [];
      }), Ar = a2(function(e5) {
        return tn(la(e5, w2));
      }), Fr = a2(function(e5) {
        var t3 = r2(e5);
        return w2(t3) && (t3 = Bi), tn(la(e5, w2), d2(t3, 2));
      }), $r = a2(function(e5) {
        var t3 = "function" == typeof (t3 = r2(e5)) ? t3 : Bi;
        return tn(la(e5, w2), Bi, t3);
      }), Br = a2(zr);
      var Vr = a2(function(e5) {
        var t3 = e5.length, t3 = "function" == typeof (t3 = 1 < t3 ? e5[t3 - 1] : Bi) ? (e5.pop(), t3) : Bi;
        return Lr(e5, t3);
      });
      function Hr(e5) {
        e5 = h2(e5);
        return e5.__chain__ = true, e5;
      }
      function Wr(e5, t3) {
        return t3(e5);
      }
      var Ur = Wn(function(t3) {
        function e5(e6) {
          return Qe(e6, t3);
        }
        var n3 = t3.length, r3 = n3 ? t3[0] : 0, o3 = this.__wrapped__;
        return !(1 < n3 || this.__actions__.length) && o3 instanceof v2 && or(r3) ? ((o3 = o3.slice(r3, +r3 + (n3 ? 1 : 0))).__actions__.push({ func: Wr, args: [e5], thisArg: Bi }), new g2(o3, this.__chain__).thru(function(e6) {
          return n3 && !e6.length && e6.push(Bi), e6;
        })) : this.thru(e5);
      });
      var qr = vn(function(e5, t3, n3) {
        L.call(e5, n3) ? ++e5[n3] : Je(e5, n3, 1);
      });
      var Yr = En(Er), Kr = En(Tr);
      function Gr(e5, t3) {
        return ($(e5) ? sa : ot)(e5, d2(t3, 3));
      }
      function Zr(e5, t3) {
        return ($(e5) ? Ds : it)(e5, d2(t3, 3));
      }
      var Xr = vn(function(e5, t3, n3) {
        L.call(e5, n3) ? e5[n3].push(t3) : Je(e5, n3, [t3]);
      });
      var Jr = a2(function(e5, t3, n3) {
        var r3 = -1, o3 = "function" == typeof t3, i3 = u2(e5) ? S2(e5.length) : [];
        return ot(e5, function(e6) {
          i3[++r3] = o3 ? aa(t3, e6, n3) : wt(e6, t3, n3);
        }), i3;
      }), Qr = vn(function(e5, t3, n3) {
        Je(e5, n3, t3);
      });
      function eo(e5, t3) {
        return ($(e5) ? ca : Ot)(e5, d2(t3, 3));
      }
      var to = vn(function(e5, t3, n3) {
        e5[n3 ? 0 : 1].push(t3);
      }, function() {
        return [[], []];
      });
      var no = a2(function(e5, t3) {
        var n3;
        return null == e5 ? [] : (1 < (n3 = t3.length) && p2(e5, t3[0], t3[1]) ? t3 = [] : 2 < n3 && p2(t3[0], t3[1], t3[2]) && (t3 = [t3[0]]), Pt(e5, l2(t3, 1), []));
      }), ro = de || function() {
        return ia.Date.now();
      };
      function oo(e5, t3, n3) {
        return t3 = n3 ? Bi : t3, t3 = e5 && null == t3 ? e5.length : t3, Fn(e5, Hi, Bi, Bi, Bi, Bi, t3);
      }
      function io(e5, t3) {
        var n3;
        if ("function" != typeof t3)
          throw new k2(Vi);
        return e5 = _2(e5), function() {
          return 0 < --e5 && (n3 = t3.apply(this, arguments)), e5 <= 1 && (t3 = Bi), n3;
        };
      }
      var ao = a2(function(e5, t3, n3) {
        var r3, o3 = 1;
        return n3.length && (r3 = ha(n3, Gn(ao)), o3 |= 32), Fn(e5, o3, t3, n3, r3);
      }), so = a2(function(e5, t3, n3) {
        var r3, o3 = 3;
        return n3.length && (r3 = ha(n3, Gn(so)), o3 |= 32), Fn(t3, o3, e5, n3, r3);
      });
      function lo(r3, n3, e5) {
        var o3, i3, a3, s3, l3, c3, u3 = 0, d3 = false, p3 = false, t3 = true;
        if ("function" != typeof r3)
          throw new k2(Vi);
        function f3(e6) {
          var t4 = o3, n4 = i3;
          return o3 = i3 = Bi, u3 = e6, s3 = r3.apply(n4, t4);
        }
        function h3(e6) {
          var t4 = e6 - c3;
          return c3 === Bi || n3 <= t4 || t4 < 0 || p3 && a3 <= e6 - u3;
        }
        function m3() {
          var e6, t4 = ro();
          if (h3(t4))
            return g3(t4);
          l3 = mr(m3, (e6 = n3 - ((t4 = t4) - c3), p3 ? E2(e6, a3 - (t4 - u3)) : e6));
        }
        function g3(e6) {
          return l3 = Bi, t3 && o3 ? f3(e6) : (o3 = i3 = Bi, s3);
        }
        function v3() {
          var e6 = ro(), t4 = h3(e6);
          if (o3 = arguments, i3 = this, c3 = e6, t4) {
            if (l3 === Bi)
              return u3 = e6 = c3, l3 = mr(m3, n3), d3 ? f3(e6) : s3;
            if (p3)
              return cn(l3), l3 = mr(m3, n3), f3(c3);
          }
          return l3 === Bi && (l3 = mr(m3, n3)), s3;
        }
        return n3 = R2(n3) || 0, x2(e5) && (d3 = !!e5.leading, p3 = "maxWait" in e5, a3 = p3 ? C2(R2(e5.maxWait) || 0, n3) : a3, t3 = "trailing" in e5 ? !!e5.trailing : t3), v3.cancel = function() {
          l3 !== Bi && cn(l3), u3 = 0, o3 = c3 = i3 = l3 = Bi;
        }, v3.flush = function() {
          return l3 === Bi ? s3 : g3(ro());
        }, v3;
      }
      var de = a2(function(e5, t3) {
        return nt(e5, 1, t3);
      }), co = a2(function(e5, t3, n3) {
        return nt(e5, R2(t3) || 0, n3);
      });
      function uo(r3, o3) {
        if ("function" != typeof r3 || null != o3 && "function" != typeof o3)
          throw new k2(Vi);
        function i3() {
          var e5 = arguments, t3 = o3 ? o3.apply(this, e5) : e5[0], n3 = i3.cache;
          return n3.has(t3) ? n3.get(t3) : (e5 = r3.apply(this, e5), i3.cache = n3.set(t3, e5) || n3, e5);
        }
        return i3.cache = new (uo.Cache || Be)(), i3;
      }
      function po(t3) {
        if ("function" != typeof t3)
          throw new k2(Vi);
        return function() {
          var e5 = arguments;
          switch (e5.length) {
            case 0:
              return !t3.call(this);
            case 1:
              return !t3.call(this, e5[0]);
            case 2:
              return !t3.call(this, e5[0], e5[1]);
            case 3:
              return !t3.call(this, e5[0], e5[1], e5[2]);
          }
          return !t3.apply(this, e5);
        };
      }
      uo.Cache = Be;
      var sn = sn(function(r3, o3) {
        var i3 = (o3 = 1 == o3.length && $(o3[0]) ? ca(o3[0], pa(d2())) : ca(l2(o3, 1), pa(d2()))).length;
        return a2(function(e5) {
          for (var t3 = -1, n3 = E2(e5.length, i3); ++t3 < n3; )
            e5[t3] = o3[t3].call(this, e5[t3]);
          return aa(r3, this, e5);
        });
      }), fo = a2(function(e5, t3) {
        var n3 = ha(t3, Gn(fo));
        return Fn(e5, 32, Bi, t3, n3);
      }), ho = a2(function(e5, t3) {
        var n3 = ha(t3, Gn(ho));
        return Fn(e5, 64, Bi, t3, n3);
      }), mo = Wn(function(e5, t3) {
        return Fn(e5, 256, Bi, Bi, Bi, t3);
      });
      function F(e5, t3) {
        return e5 === t3 || e5 != e5 && t3 != t3;
      }
      var go = Pn(gt), vo = Pn(function(e5, t3) {
        return t3 <= e5;
      }), yo = xt(function() {
        return arguments;
      }()) ? xt : function(e5) {
        return B(e5) && L.call(e5, "callee") && !oe.call(e5, "callee");
      }, $ = S2.isArray, bo = Es ? pa(Es) : function(e5) {
        return B(e5) && n2(e5) == Ra;
      };
      function u2(e5) {
        return null != e5 && Co(e5.length) && !So(e5);
      }
      function w2(e5) {
        return B(e5) && u2(e5);
      }
      var wo = W || Di, W = Ts ? pa(Ts) : function(e5) {
        return B(e5) && n2(e5) == Ki;
      };
      function xo(e5) {
        var t3;
        return !!B(e5) && ((t3 = n2(e5)) == ka || "[object DOMException]" == t3 || "string" == typeof e5.message && "string" == typeof e5.name && !_o(e5));
      }
      function So(e5) {
        return !!x2(e5) && ((e5 = n2(e5)) == Ca || e5 == Ea || "[object AsyncFunction]" == e5 || "[object Proxy]" == e5);
      }
      function ko(e5) {
        return "number" == typeof e5 && e5 == _2(e5);
      }
      function Co(e5) {
        return "number" == typeof e5 && -1 < e5 && e5 % 1 == 0 && e5 <= Wi;
      }
      function x2(e5) {
        var t3 = typeof e5;
        return null != e5 && ("object" == t3 || "function" == t3);
      }
      function B(e5) {
        return null != e5 && "object" == typeof e5;
      }
      var Eo = _s ? pa(_s) : function(e5) {
        return B(e5) && A(e5) == Gi;
      };
      function To(e5) {
        return "number" == typeof e5 || B(e5) && n2(e5) == Zi;
      }
      function _o(e5) {
        return !(!B(e5) || n2(e5) != Xi) && (null === (e5 = ne(e5)) || "function" == typeof (e5 = L.call(e5, "constructor") && e5.constructor) && e5 instanceof e5 && Y.call(e5) == X);
      }
      var Ro = Rs ? pa(Rs) : function(e5) {
        return B(e5) && n2(e5) == Ji;
      };
      var Oo = Os ? pa(Os) : function(e5) {
        return B(e5) && A(e5) == Qi;
      };
      function Io(e5) {
        return "string" == typeof e5 || !$(e5) && B(e5) && n2(e5) == ea;
      }
      function b2(e5) {
        return "symbol" == typeof e5 || B(e5) && n2(e5) == _a;
      }
      var Mo = Is ? pa(Is) : function(e5) {
        return B(e5) && Co(e5.length) && !!ra[n2(e5)];
      };
      var Do = Pn(Rt), No = Pn(function(e5, t3) {
        return e5 <= t3;
      });
      function Po(e5) {
        if (!e5)
          return [];
        if (u2(e5))
          return (Io(e5) ? ga : T2)(e5);
        if (se && e5[se]) {
          for (var t3, n3 = e5[se](), r3 = []; !(t3 = n3.next()).done; )
            r3.push(t3.value);
          return r3;
        }
        var o3 = A(e5);
        return (o3 == Gi ? nl : o3 == Qi ? ol : ri)(e5);
      }
      function zo(e5) {
        return e5 ? (e5 = R2(e5)) === 1 / 0 || e5 === -1 / 0 ? 17976931348623157e292 * (e5 < 0 ? -1 : 1) : e5 == e5 ? e5 : 0 : 0 === e5 ? e5 : 0;
      }
      function _2(e5) {
        var e5 = zo(e5), t3 = e5 % 1;
        return e5 == e5 ? t3 ? e5 - t3 : e5 : 0;
      }
      function Lo(e5) {
        return e5 ? et(_2(e5), 0, Ui) : 0;
      }
      function R2(e5) {
        if ("number" == typeof e5)
          return e5;
        if (b2(e5))
          return wa;
        if ("string" != typeof (e5 = x2(e5) ? x2(t3 = "function" == typeof e5.valueOf ? e5.valueOf() : e5) ? t3 + "" : t3 : e5))
          return 0 === e5 ? e5 : +e5;
        e5 = Ks(e5);
        var t3 = cs.test(e5);
        return t3 || ds.test(e5) ? ks(e5.slice(2), t3 ? 2 : 8) : ls.test(e5) ? wa : +e5;
      }
      function jo(e5) {
        return gn(e5, I2(e5));
      }
      function f2(e5) {
        return null == e5 ? "" : c2(e5);
      }
      var Ao = yn(function(e5, t3) {
        if (lr(t3) || u2(t3))
          gn(t3, O2(t3), e5);
        else
          for (var n3 in t3)
            L.call(t3, n3) && Ke(e5, n3, t3[n3]);
      }), Fo = yn(function(e5, t3) {
        gn(t3, I2(t3), e5);
      }), $o = yn(function(e5, t3, n3, r3) {
        gn(t3, I2(t3), e5, r3);
      }), Bo = yn(function(e5, t3, n3, r3) {
        gn(t3, O2(t3), e5, r3);
      }), Vo = Wn(Qe);
      var Ho = a2(function(e5, t3) {
        e5 = m2(e5);
        var n3 = -1, r3 = t3.length, o3 = 2 < r3 ? t3[2] : Bi;
        for (o3 && p2(t3[0], t3[1], o3) && (r3 = 1); ++n3 < r3; )
          for (var i3 = t3[n3], a3 = I2(i3), s3 = -1, l3 = a3.length; ++s3 < l3; ) {
            var c3 = a3[s3], u3 = e5[c3];
            (u3 === Bi || F(u3, U[c3]) && !L.call(e5, c3)) && (e5[c3] = i3[c3]);
          }
        return e5;
      }), Wo = a2(function(e5) {
        return e5.push(Bi, Bn), aa(Xo, Bi, e5);
      });
      function Uo(e5, t3, n3) {
        e5 = null == e5 ? Bi : ht(e5, t3);
        return e5 === Bi ? n3 : e5;
      }
      function qo(e5, t3) {
        return null != e5 && tr(e5, t3, yt);
      }
      var Yo = Rn(function(e5, t3, n3) {
        e5[t3 = null != t3 && "function" != typeof t3.toString ? Z.call(t3) : t3] = n3;
      }, vi2(M)), Ko = Rn(function(e5, t3, n3) {
        null != t3 && "function" != typeof t3.toString && (t3 = Z.call(t3)), L.call(e5, t3) ? e5[t3].push(n3) : e5[t3] = [n3];
      }, d2), Go = a2(wt);
      function O2(e5) {
        return (u2(e5) ? He : Tt)(e5);
      }
      function I2(e5) {
        return u2(e5) ? He(e5, true) : _t(e5);
      }
      var Zo = yn(function(e5, t3, n3) {
        Dt(e5, t3, n3);
      }), Xo = yn(function(e5, t3, n3, r3) {
        Dt(e5, t3, n3, r3);
      }), Jo = Wn(function(t3, e5) {
        var n3 = {};
        if (null != t3)
          for (var r3 = false, o3 = (e5 = ca(e5, function(e6) {
            return e6 = an(e6, t3), r3 = r3 || 1 < e6.length, e6;
          }), gn(t3, qn(t3), n3), r3 && (n3 = y2(n3, 7, Vn)), e5.length); o3--; )
            Xt(n3, e5[o3]);
        return n3;
      });
      var Qo = Wn(function(e5, t3) {
        return null == e5 ? {} : zt(n3 = e5, t3, function(e6, t4) {
          return qo(n3, t4);
        });
        var n3;
      });
      function ei(e5, n3) {
        var t3;
        return null == e5 ? {} : (t3 = ca(qn(e5), function(e6) {
          return [e6];
        }), n3 = d2(n3), zt(e5, t3, function(e6, t4) {
          return n3(e6, t4[0]);
        }));
      }
      var ti = An(O2), ni = An(I2);
      function ri(e5) {
        return null == e5 ? [] : Gs(e5, O2(e5));
      }
      var oi = Sn(function(e5, t3, n3) {
        return t3 = t3.toLowerCase(), e5 + (n3 ? ii(t3) : t3);
      });
      function ii(e5) {
        return fi(f2(e5).toLowerCase());
      }
      function ai(e5) {
        return (e5 = f2(e5)) && e5.replace(fs, Qs).replace(vs, "");
      }
      var si = Sn(function(e5, t3, n3) {
        return e5 + (n3 ? "-" : "") + t3.toLowerCase();
      }), li = Sn(function(e5, t3, n3) {
        return e5 + (n3 ? " " : "") + t3.toLowerCase();
      }), ci = xn("toLowerCase");
      var ui = Sn(function(e5, t3, n3) {
        return e5 + (n3 ? "_" : "") + t3.toLowerCase();
      });
      var di = Sn(function(e5, t3, n3) {
        return e5 + (n3 ? " " : "") + fi(t3);
      });
      var pi = Sn(function(e5, t3, n3) {
        return e5 + (n3 ? " " : "") + t3.toUpperCase();
      }), fi = xn("toUpperCase");
      function hi(e5, t3, n3) {
        return e5 = f2(e5), (t3 = n3 ? Bi : t3) === Bi ? (n3 = e5, bs.test(n3) ? e5.match(ys) || [] : e5.match(rs) || []) : e5.match(t3) || [];
      }
      var mi = a2(function(e5, t3) {
        try {
          return aa(e5, Bi, t3);
        } catch (e6) {
          return xo(e6) ? e6 : new D(e6);
        }
      }), gi = Wn(function(t3, e5) {
        return sa(e5, function(e6) {
          e6 = Sr(e6), Je(t3, e6, ao(t3[e6], t3));
        }), t3;
      });
      function vi2(e5) {
        return function() {
          return e5;
        };
      }
      var yi = Tn(), bi = Tn(true);
      function M(e5) {
        return e5;
      }
      function wi(e5) {
        return Et("function" == typeof e5 ? e5 : y2(e5, 1));
      }
      var xi = a2(function(t3, n3) {
        return function(e5) {
          return wt(e5, t3, n3);
        };
      }), Si = a2(function(t3, n3) {
        return function(e5) {
          return wt(t3, e5, n3);
        };
      });
      function ki(r3, t3, e5) {
        var n3 = O2(t3), o3 = ft(t3, n3), i3 = (null != e5 || x2(t3) && (o3.length || !n3.length) || (e5 = t3, t3 = r3, r3 = this, o3 = ft(t3, O2(t3))), !(x2(e5) && "chain" in e5 && !e5.chain)), a3 = So(r3);
        return sa(o3, function(e6) {
          var n4 = t3[e6];
          r3[e6] = n4, a3 && (r3.prototype[e6] = function() {
            var e7, t4 = this.__chain__;
            return i3 || t4 ? (((e7 = r3(this.__wrapped__)).__actions__ = T2(this.__actions__)).push({ func: n4, args: arguments, thisArg: r3 }), e7.__chain__ = t4, e7) : n4.apply(r3, ua2([this.value()], arguments));
          });
        }), r3;
      }
      function Ci() {
      }
      var Ei = In(ca), Ti = In(Ns), _i = In(As);
      function Ri(e5) {
        return ir(e5) ? Ws(Sr(e5)) : (t3 = e5, function(e6) {
          return ht(e6, t3);
        });
        var t3;
      }
      var Oi = Nn(), Ii = Nn(true);
      function Mi() {
        return [];
      }
      function Di() {
        return false;
      }
      var Ni = On(function(e5, t3) {
        return e5 + t3;
      }, 0), Pi = Ln("ceil"), zi = On(function(e5, t3) {
        return e5 / t3;
      }, 1), Li = Ln("floor");
      var ji, Ai = On(function(e5, t3) {
        return e5 * t3;
      }, 1), Fi = Ln("round"), $i = On(function(e5, t3) {
        return e5 - t3;
      }, 0);
      return h2.after = function(e5, t3) {
        if ("function" != typeof t3)
          throw new k2(Vi);
        return e5 = _2(e5), function() {
          if (--e5 < 1)
            return t3.apply(this, arguments);
        };
      }, h2.ary = oo, h2.assign = Ao, h2.assignIn = Fo, h2.assignInWith = $o, h2.assignWith = Bo, h2.at = Vo, h2.before = io, h2.bind = ao, h2.bindAll = gi, h2.bindKey = so, h2.castArray = function() {
        var e5;
        return arguments.length ? $(e5 = arguments[0]) ? e5 : [e5] : [];
      }, h2.chain = Hr, h2.chunk = function(e5, t3, n3) {
        t3 = (n3 ? p2(e5, t3, n3) : t3 === Bi) ? 1 : C2(_2(t3), 0);
        var r3 = null == e5 ? 0 : e5.length;
        if (!r3 || t3 < 1)
          return [];
        for (var o3 = 0, i3 = 0, a3 = S2(fe(r3 / t3)); o3 < r3; )
          a3[i3++] = s2(e5, o3, o3 += t3);
        return a3;
      }, h2.compact = function(e5) {
        for (var t3 = -1, n3 = null == e5 ? 0 : e5.length, r3 = 0, o3 = []; ++t3 < n3; ) {
          var i3 = e5[t3];
          i3 && (o3[r3++] = i3);
        }
        return o3;
      }, h2.concat = function() {
        var e5 = arguments.length;
        if (!e5)
          return [];
        for (var t3 = S2(e5 - 1), n3 = arguments[0], r3 = e5; r3--; )
          t3[r3 - 1] = arguments[r3];
        return ua2($(n3) ? T2(n3) : [n3], l2(t3, 1));
      }, h2.cond = function(r3) {
        var o3 = null == r3 ? 0 : r3.length, t3 = d2();
        return r3 = o3 ? ca(r3, function(e5) {
          if ("function" != typeof e5[1])
            throw new k2(Vi);
          return [t3(e5[0]), e5[1]];
        }) : [], a2(function(e5) {
          for (var t4 = -1; ++t4 < o3; ) {
            var n3 = r3[t4];
            if (aa(n3[0], this, e5))
              return aa(n3[1], this, e5);
          }
        });
      }, h2.conforms = function(e5) {
        return t3 = y2(e5, 1), n3 = O2(t3), function(e6) {
          return tt(e6, t3, n3);
        };
        var t3, n3;
      }, h2.constant = vi2, h2.countBy = qr, h2.create = function(e5, t3) {
        return e5 = Le(e5), null == t3 ? e5 : Xe(e5, t3);
      }, h2.curry = function e5(t3, n3, r3) {
        t3 = Fn(t3, 8, Bi, Bi, Bi, Bi, Bi, n3 = r3 ? Bi : n3);
        return t3.placeholder = e5.placeholder, t3;
      }, h2.curryRight = function e5(t3, n3, r3) {
        t3 = Fn(t3, 16, Bi, Bi, Bi, Bi, Bi, n3 = r3 ? Bi : n3);
        return t3.placeholder = e5.placeholder, t3;
      }, h2.debounce = lo, h2.defaults = Ho, h2.defaultsDeep = Wo, h2.defer = de, h2.delay = co, h2.difference = i2, h2.differenceBy = Ce, h2.differenceWith = e4, h2.drop = function(e5, t3, n3) {
        var r3 = null == e5 ? 0 : e5.length;
        return r3 ? s2(e5, (t3 = n3 || t3 === Bi ? 1 : _2(t3)) < 0 ? 0 : t3, r3) : [];
      }, h2.dropRight = function(e5, t3, n3) {
        var r3 = null == e5 ? 0 : e5.length;
        return r3 ? s2(e5, 0, (t3 = r3 - (t3 = n3 || t3 === Bi ? 1 : _2(t3))) < 0 ? 0 : t3) : [];
      }, h2.dropRightWhile = function(e5, t3) {
        return e5 && e5.length ? Qt(e5, d2(t3, 3), true, true) : [];
      }, h2.dropWhile = function(e5, t3) {
        return e5 && e5.length ? Qt(e5, d2(t3, 3), true) : [];
      }, h2.fill = function(e5, t3, n3, r3) {
        if (!(l3 = null == e5 ? 0 : e5.length))
          return [];
        n3 && "number" != typeof n3 && p2(e5, t3, n3) && (n3 = 0, r3 = l3);
        var o3 = e5, i3 = t3, a3 = n3, s3 = r3, l3 = o3.length;
        for ((a3 = _2(a3)) < 0 && (a3 = l3 < -a3 ? 0 : l3 + a3), (s3 = s3 === Bi || l3 < s3 ? l3 : _2(s3)) < 0 && (s3 += l3), s3 = s3 < a3 ? 0 : Lo(s3); a3 < s3; )
          o3[a3++] = i3;
        return o3;
      }, h2.filter = function(e5, t3) {
        return ($(e5) ? la : lt)(e5, d2(t3, 3));
      }, h2.flatMap = function(e5, t3) {
        return l2(eo(e5, t3), 1);
      }, h2.flatMapDeep = function(e5, t3) {
        return l2(eo(e5, t3), 1 / 0);
      }, h2.flatMapDepth = function(e5, t3, n3) {
        return n3 = n3 === Bi ? 1 : _2(n3), l2(eo(e5, t3), n3);
      }, h2.flatten = _r, h2.flattenDeep = function(e5) {
        return (null == e5 ? 0 : e5.length) ? l2(e5, 1 / 0) : [];
      }, h2.flattenDepth = function(e5, t3) {
        return (null == e5 ? 0 : e5.length) ? l2(e5, t3 = t3 === Bi ? 1 : _2(t3)) : [];
      }, h2.flip = function(e5) {
        return Fn(e5, 512);
      }, h2.flow = yi, h2.flowRight = bi, h2.fromPairs = function(e5) {
        for (var t3 = -1, n3 = null == e5 ? 0 : e5.length, r3 = {}; ++t3 < n3; ) {
          var o3 = e5[t3];
          r3[o3[0]] = o3[1];
        }
        return r3;
      }, h2.functions = function(e5) {
        return null == e5 ? [] : ft(e5, O2(e5));
      }, h2.functionsIn = function(e5) {
        return null == e5 ? [] : ft(e5, I2(e5));
      }, h2.groupBy = Xr, h2.initial = function(e5) {
        return (null == e5 ? 0 : e5.length) ? s2(e5, 0, -1) : [];
      }, h2.intersection = q, h2.intersectionBy = pe, h2.intersectionWith = t2, h2.invert = Yo, h2.invertBy = Ko, h2.invokeMap = Jr, h2.iteratee = wi, h2.keyBy = Qr, h2.keys = O2, h2.keysIn = I2, h2.map = eo, h2.mapKeys = function(e5, r3) {
        var o3 = {};
        return r3 = d2(r3, 3), dt(e5, function(e6, t3, n3) {
          Je(o3, r3(e6, t3, n3), e6);
        }), o3;
      }, h2.mapValues = function(e5, r3) {
        var o3 = {};
        return r3 = d2(r3, 3), dt(e5, function(e6, t3, n3) {
          Je(o3, t3, r3(e6, t3, n3));
        }), o3;
      }, h2.matches = function(e5) {
        return It(y2(e5, 1));
      }, h2.matchesProperty = function(e5, t3) {
        return Mt(e5, y2(t3, 1));
      }, h2.memoize = uo, h2.merge = Zo, h2.mergeWith = Xo, h2.method = xi, h2.methodOf = Si, h2.mixin = ki, h2.negate = po, h2.nthArg = function(t3) {
        return t3 = _2(t3), a2(function(e5) {
          return Nt(e5, t3);
        });
      }, h2.omit = Jo, h2.omitBy = function(e5, t3) {
        return ei(e5, po(d2(t3)));
      }, h2.once = function(e5) {
        return io(2, e5);
      }, h2.orderBy = function(e5, t3, n3, r3) {
        return null == e5 ? [] : Pt(e5, t3 = $(t3) ? t3 : null == t3 ? [] : [t3], n3 = $(n3 = r3 ? Bi : n3) ? n3 : null == n3 ? [] : [n3]);
      }, h2.over = Ei, h2.overArgs = sn, h2.overEvery = Ti, h2.overSome = _i, h2.partial = fo, h2.partialRight = ho, h2.partition = to, h2.pick = Qo, h2.pickBy = ei, h2.property = Ri, h2.propertyOf = function(t3) {
        return function(e5) {
          return null == t3 ? Bi : ht(t3, e5);
        };
      }, h2.pull = ue, h2.pullAll = Or, h2.pullAllBy = function(e5, t3, n3) {
        return e5 && e5.length && t3 && t3.length ? Lt(e5, t3, d2(n3, 2)) : e5;
      }, h2.pullAllWith = function(e5, t3, n3) {
        return e5 && e5.length && t3 && t3.length ? Lt(e5, t3, Bi, n3) : e5;
      }, h2.pullAt = Ir, h2.range = Oi, h2.rangeRight = Ii, h2.rearg = mo, h2.reject = function(e5, t3) {
        return ($(e5) ? la : lt)(e5, po(d2(t3, 3)));
      }, h2.remove = function(e5, t3) {
        var n3 = [];
        if (e5 && e5.length) {
          var r3 = -1, o3 = [], i3 = e5.length;
          for (t3 = d2(t3, 3); ++r3 < i3; ) {
            var a3 = e5[r3];
            t3(a3, r3, e5) && (n3.push(a3), o3.push(r3));
          }
          jt(e5, o3);
        }
        return n3;
      }, h2.rest = function(e5, t3) {
        if ("function" != typeof e5)
          throw new k2(Vi);
        return a2(e5, t3 = t3 === Bi ? t3 : _2(t3));
      }, h2.reverse = Mr, h2.sampleSize = function(e5, t3, n3) {
        return t3 = (n3 ? p2(e5, t3, n3) : t3 === Bi) ? 1 : _2(t3), ($(e5) ? Ue : Bt)(e5, t3);
      }, h2.set = function(e5, t3, n3) {
        return null == e5 ? e5 : Vt(e5, t3, n3);
      }, h2.setWith = function(e5, t3, n3, r3) {
        return r3 = "function" == typeof r3 ? r3 : Bi, null == e5 ? e5 : Vt(e5, t3, n3, r3);
      }, h2.shuffle = function(e5) {
        return ($(e5) ? qe : Wt)(e5);
      }, h2.slice = function(e5, t3, n3) {
        var r3 = null == e5 ? 0 : e5.length;
        return r3 ? (n3 = n3 && "number" != typeof n3 && p2(e5, t3, n3) ? (t3 = 0, r3) : (t3 = null == t3 ? 0 : _2(t3), n3 === Bi ? r3 : _2(n3)), s2(e5, t3, n3)) : [];
      }, h2.sortBy = no, h2.sortedUniq = function(e5) {
        return e5 && e5.length ? Kt(e5) : [];
      }, h2.sortedUniqBy = function(e5, t3) {
        return e5 && e5.length ? Kt(e5, d2(t3, 2)) : [];
      }, h2.split = function(e5, t3, n3) {
        return n3 && "number" != typeof n3 && p2(e5, t3, n3) && (t3 = n3 = Bi), (n3 = n3 === Bi ? Ui : n3 >>> 0) ? (e5 = f2(e5)) && ("string" == typeof t3 || null != t3 && !Ro(t3)) && !(t3 = c2(t3)) && fa(e5) ? ln(ga(e5), 0, n3) : e5.split(t3, n3) : [];
      }, h2.spread = function(n3, r3) {
        if ("function" != typeof n3)
          throw new k2(Vi);
        return r3 = null == r3 ? 0 : C2(_2(r3), 0), a2(function(e5) {
          var t3 = e5[r3], e5 = ln(e5, 0, r3);
          return t3 && ua2(e5, t3), aa(n3, this, e5);
        });
      }, h2.tail = function(e5) {
        var t3 = null == e5 ? 0 : e5.length;
        return t3 ? s2(e5, 1, t3) : [];
      }, h2.take = function(e5, t3, n3) {
        return e5 && e5.length ? s2(e5, 0, (t3 = n3 || t3 === Bi ? 1 : _2(t3)) < 0 ? 0 : t3) : [];
      }, h2.takeRight = function(e5, t3, n3) {
        var r3 = null == e5 ? 0 : e5.length;
        return r3 ? s2(e5, (t3 = r3 - (t3 = n3 || t3 === Bi ? 1 : _2(t3))) < 0 ? 0 : t3, r3) : [];
      }, h2.takeRightWhile = function(e5, t3) {
        return e5 && e5.length ? Qt(e5, d2(t3, 3), false, true) : [];
      }, h2.takeWhile = function(e5, t3) {
        return e5 && e5.length ? Qt(e5, d2(t3, 3)) : [];
      }, h2.tap = function(e5, t3) {
        return t3(e5), e5;
      }, h2.throttle = function(e5, t3, n3) {
        var r3 = true, o3 = true;
        if ("function" != typeof e5)
          throw new k2(Vi);
        return x2(n3) && (r3 = "leading" in n3 ? !!n3.leading : r3, o3 = "trailing" in n3 ? !!n3.trailing : o3), lo(e5, t3, { leading: r3, maxWait: t3, trailing: o3 });
      }, h2.thru = Wr, h2.toArray = Po, h2.toPairs = ti, h2.toPairsIn = ni, h2.toPath = function(e5) {
        return $(e5) ? ca(e5, Sr) : b2(e5) ? [e5] : T2(xr(f2(e5)));
      }, h2.toPlainObject = jo, h2.transform = function(e5, r3, o3) {
        var t3, n3 = $(e5), i3 = n3 || wo(e5) || Mo(e5);
        return r3 = d2(r3, 4), null == o3 && (t3 = e5 && e5.constructor, o3 = i3 ? n3 ? new t3() : [] : x2(e5) && So(t3) ? Le(ne(e5)) : {}), (i3 ? sa : dt)(e5, function(e6, t4, n4) {
          return r3(o3, e6, t4, n4);
        }), o3;
      }, h2.unary = function(e5) {
        return oo(e5, 1);
      }, h2.union = Dr, h2.unionBy = Nr, h2.unionWith = Pr, h2.uniq = function(e5) {
        return e5 && e5.length ? Zt(e5) : [];
      }, h2.uniqBy = function(e5, t3) {
        return e5 && e5.length ? Zt(e5, d2(t3, 2)) : [];
      }, h2.uniqWith = function(e5, t3) {
        return t3 = "function" == typeof t3 ? t3 : Bi, e5 && e5.length ? Zt(e5, Bi, t3) : [];
      }, h2.unset = function(e5, t3) {
        return null == e5 || Xt(e5, t3);
      }, h2.unzip = zr, h2.unzipWith = Lr, h2.update = function(e5, t3, n3) {
        return null == e5 ? e5 : Jt(e5, t3, on(n3));
      }, h2.updateWith = function(e5, t3, n3, r3) {
        return r3 = "function" == typeof r3 ? r3 : Bi, null == e5 ? e5 : Jt(e5, t3, on(n3), r3);
      }, h2.values = ri, h2.valuesIn = function(e5) {
        return null == e5 ? [] : Gs(e5, I2(e5));
      }, h2.without = jr, h2.words = hi, h2.wrap = function(e5, t3) {
        return fo(on(t3), e5);
      }, h2.xor = Ar, h2.xorBy = Fr, h2.xorWith = $r, h2.zip = Br, h2.zipObject = function(e5, t3) {
        return nn(e5 || [], t3 || [], Ke);
      }, h2.zipObjectDeep = function(e5, t3) {
        return nn(e5 || [], t3 || [], Vt);
      }, h2.zipWith = Vr, h2.entries = ti, h2.entriesIn = ni, h2.extend = Fo, h2.extendWith = $o, ki(h2, h2), h2.add = Ni, h2.attempt = mi, h2.camelCase = oi, h2.capitalize = ii, h2.ceil = Pi, h2.clamp = function(e5, t3, n3) {
        return n3 === Bi && (n3 = t3, t3 = Bi), n3 !== Bi && (n3 = (n3 = R2(n3)) == n3 ? n3 : 0), t3 !== Bi && (t3 = (t3 = R2(t3)) == t3 ? t3 : 0), et(R2(e5), t3, n3);
      }, h2.clone = function(e5) {
        return y2(e5, 4);
      }, h2.cloneDeep = function(e5) {
        return y2(e5, 5);
      }, h2.cloneDeepWith = function(e5, t3) {
        return y2(e5, 5, t3 = "function" == typeof t3 ? t3 : Bi);
      }, h2.cloneWith = function(e5, t3) {
        return y2(e5, 4, t3 = "function" == typeof t3 ? t3 : Bi);
      }, h2.conformsTo = function(e5, t3) {
        return null == t3 || tt(e5, t3, O2(t3));
      }, h2.deburr = ai, h2.defaultTo = function(e5, t3) {
        return null == e5 || e5 != e5 ? t3 : e5;
      }, h2.divide = zi, h2.endsWith = function(e5, t3, n3) {
        e5 = f2(e5), t3 = c2(t3);
        var r3 = e5.length, r3 = n3 = n3 === Bi ? r3 : et(_2(n3), 0, r3);
        return 0 <= (n3 -= t3.length) && e5.slice(n3, r3) == t3;
      }, h2.eq = F, h2.escape = function(e5) {
        return (e5 = f2(e5)) && Wa.test(e5) ? e5.replace(Va, el) : e5;
      }, h2.escapeRegExp = function(e5) {
        return (e5 = f2(e5)) && Ja.test(e5) ? e5.replace(Xa, "\\$&") : e5;
      }, h2.every = function(e5, t3, n3) {
        return ($(e5) ? Ns : at)(e5, d2(t3 = n3 && p2(e5, t3, n3) ? Bi : t3, 3));
      }, h2.find = Yr, h2.findIndex = Er, h2.findKey = function(e5, t3) {
        return Fs(e5, d2(t3, 3), dt);
      }, h2.findLast = Kr, h2.findLastIndex = Tr, h2.findLastKey = function(e5, t3) {
        return Fs(e5, d2(t3, 3), pt);
      }, h2.floor = Li, h2.forEach = Gr, h2.forEachRight = Zr, h2.forIn = function(e5, t3) {
        return null == e5 ? e5 : ct(e5, d2(t3, 3), I2);
      }, h2.forInRight = function(e5, t3) {
        return null == e5 ? e5 : ut(e5, d2(t3, 3), I2);
      }, h2.forOwn = function(e5, t3) {
        return e5 && dt(e5, d2(t3, 3));
      }, h2.forOwnRight = function(e5, t3) {
        return e5 && pt(e5, d2(t3, 3));
      }, h2.get = Uo, h2.gt = go, h2.gte = vo, h2.has = function(e5, t3) {
        return null != e5 && tr(e5, t3, vt);
      }, h2.hasIn = qo, h2.head = Rr, h2.identity = M, h2.includes = function(e5, t3, n3, r3) {
        return e5 = u2(e5) ? e5 : ri(e5), n3 = n3 && !r3 ? _2(n3) : 0, r3 = e5.length, n3 < 0 && (n3 = C2(r3 + n3, 0)), Io(e5) ? n3 <= r3 && -1 < e5.indexOf(t3, n3) : !!r3 && -1 < da(e5, t3, n3);
      }, h2.indexOf = function(e5, t3, n3) {
        var r3 = null == e5 ? 0 : e5.length;
        return r3 ? da(e5, t3, e5 = (e5 = null == n3 ? 0 : _2(n3)) < 0 ? C2(r3 + e5, 0) : e5) : -1;
      }, h2.inRange = function(e5, t3, n3) {
        return t3 = zo(t3), n3 === Bi ? (n3 = t3, t3 = 0) : n3 = zo(n3), (e5 = e5 = R2(e5)) >= E2(t3 = t3, n3 = n3) && e5 < C2(t3, n3);
      }, h2.invoke = Go, h2.isArguments = yo, h2.isArray = $, h2.isArrayBuffer = bo, h2.isArrayLike = u2, h2.isArrayLikeObject = w2, h2.isBoolean = function(e5) {
        return true === e5 || false === e5 || B(e5) && n2(e5) == Yi;
      }, h2.isBuffer = wo, h2.isDate = W, h2.isElement = function(e5) {
        return B(e5) && 1 === e5.nodeType && !_o(e5);
      }, h2.isEmpty = function(e5) {
        if (null != e5) {
          if (u2(e5) && ($(e5) || "string" == typeof e5 || "function" == typeof e5.splice || wo(e5) || Mo(e5) || yo(e5)))
            return !e5.length;
          var t3, n3 = A(e5);
          if (n3 == Gi || n3 == Qi)
            return !e5.size;
          if (lr(e5))
            return !Tt(e5).length;
          for (t3 in e5)
            if (L.call(e5, t3))
              return false;
        }
        return true;
      }, h2.isEqual = function(e5, t3) {
        return St(e5, t3);
      }, h2.isEqualWith = function(e5, t3, n3) {
        var r3 = (n3 = "function" == typeof n3 ? n3 : Bi) ? n3(e5, t3) : Bi;
        return r3 === Bi ? St(e5, t3, Bi, n3) : !!r3;
      }, h2.isError = xo, h2.isFinite = function(e5) {
        return "number" == typeof e5 && ge(e5);
      }, h2.isFunction = So, h2.isInteger = ko, h2.isLength = Co, h2.isMap = Eo, h2.isMatch = function(e5, t3) {
        return e5 === t3 || kt(e5, t3, Xn(t3));
      }, h2.isMatchWith = function(e5, t3, n3) {
        return n3 = "function" == typeof n3 ? n3 : Bi, kt(e5, t3, Xn(t3), n3);
      }, h2.isNaN = function(e5) {
        return To(e5) && e5 != +e5;
      }, h2.isNative = function(e5) {
        if (sr(e5))
          throw new D("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");
        return Ct(e5);
      }, h2.isNil = function(e5) {
        return null == e5;
      }, h2.isNull = function(e5) {
        return null === e5;
      }, h2.isNumber = To, h2.isObject = x2, h2.isObjectLike = B, h2.isPlainObject = _o, h2.isRegExp = Ro, h2.isSafeInteger = function(e5) {
        return ko(e5) && -Wi <= e5 && e5 <= Wi;
      }, h2.isSet = Oo, h2.isString = Io, h2.isSymbol = b2, h2.isTypedArray = Mo, h2.isUndefined = function(e5) {
        return e5 === Bi;
      }, h2.isWeakMap = function(e5) {
        return B(e5) && A(e5) == ta;
      }, h2.isWeakSet = function(e5) {
        return B(e5) && "[object WeakSet]" == n2(e5);
      }, h2.join = function(e5, t3) {
        return null == e5 ? "" : ve.call(e5, t3);
      }, h2.kebabCase = si, h2.last = r2, h2.lastIndexOf = function(e5, t3, n3) {
        var r3 = null == e5 ? 0 : e5.length;
        if (!r3)
          return -1;
        var o3 = r3;
        if (n3 !== Bi && (o3 = (o3 = _2(n3)) < 0 ? C2(r3 + o3, 0) : E2(o3, r3 - 1)), t3 != t3)
          return $s(e5, Vs, o3, true);
        for (var i3 = e5, a3 = t3, s3 = o3 + 1; s3--; )
          if (i3[s3] === a3)
            return s3;
        return s3;
      }, h2.lowerCase = li, h2.lowerFirst = ci, h2.lt = Do, h2.lte = No, h2.max = function(e5) {
        return e5 && e5.length ? st(e5, M, gt) : Bi;
      }, h2.maxBy = function(e5, t3) {
        return e5 && e5.length ? st(e5, d2(t3, 2), gt) : Bi;
      }, h2.mean = function(e5) {
        return Hs(e5, M);
      }, h2.meanBy = function(e5, t3) {
        return Hs(e5, d2(t3, 2));
      }, h2.min = function(e5) {
        return e5 && e5.length ? st(e5, M, Rt) : Bi;
      }, h2.minBy = function(e5, t3) {
        return e5 && e5.length ? st(e5, d2(t3, 2), Rt) : Bi;
      }, h2.stubArray = Mi, h2.stubFalse = Di, h2.stubObject = function() {
        return {};
      }, h2.stubString = function() {
        return "";
      }, h2.stubTrue = function() {
        return true;
      }, h2.multiply = Ai, h2.nth = function(e5, t3) {
        return e5 && e5.length ? Nt(e5, _2(t3)) : Bi;
      }, h2.noConflict = function() {
        return ia._ === this && (ia._ = J), this;
      }, h2.noop = Ci, h2.now = ro, h2.pad = function(e5, t3, n3) {
        e5 = f2(e5);
        var r3 = (t3 = _2(t3)) ? ma(e5) : 0;
        return !t3 || t3 <= r3 ? e5 : Mn(he(t3 = (t3 - r3) / 2), n3) + e5 + Mn(fe(t3), n3);
      }, h2.padEnd = function(e5, t3, n3) {
        e5 = f2(e5);
        var r3 = (t3 = _2(t3)) ? ma(e5) : 0;
        return t3 && r3 < t3 ? e5 + Mn(t3 - r3, n3) : e5;
      }, h2.padStart = function(e5, t3, n3) {
        e5 = f2(e5);
        var r3 = (t3 = _2(t3)) ? ma(e5) : 0;
        return t3 && r3 < t3 ? Mn(t3 - r3, n3) + e5 : e5;
      }, h2.parseInt = function(e5, t3, n3) {
        return t3 = n3 || null == t3 ? 0 : t3 && +t3, we(f2(e5).replace(Qa, ""), t3 || 0);
      }, h2.random = function(e5, t3, n3) {
        var r3;
        return n3 && "boolean" != typeof n3 && p2(e5, t3, n3) && (t3 = n3 = Bi), n3 === Bi && ("boolean" == typeof t3 ? (n3 = t3, t3 = Bi) : "boolean" == typeof e5 && (n3 = e5, e5 = Bi)), e5 === Bi && t3 === Bi ? (e5 = 0, t3 = 1) : (e5 = zo(e5), t3 === Bi ? (t3 = e5, e5 = 0) : t3 = zo(t3)), t3 < e5 && (r3 = e5, e5 = t3, t3 = r3), n3 || e5 % 1 || t3 % 1 ? (r3 = xe(), E2(e5 + r3 * (t3 - e5 + Ss("1e-" + ((r3 + "").length - 1))), t3)) : At(e5, t3);
      }, h2.reduce = function(e5, t3, n3) {
        var r3 = $(e5) ? Ls : Us, o3 = arguments.length < 3;
        return r3(e5, d2(t3, 4), n3, o3, ot);
      }, h2.reduceRight = function(e5, t3, n3) {
        var r3 = $(e5) ? js : Us, o3 = arguments.length < 3;
        return r3(e5, d2(t3, 4), n3, o3, it);
      }, h2.repeat = function(e5, t3, n3) {
        return t3 = (n3 ? p2(e5, t3, n3) : t3 === Bi) ? 1 : _2(t3), Ft(f2(e5), t3);
      }, h2.replace = function() {
        var e5 = arguments, t3 = f2(e5[0]);
        return e5.length < 3 ? t3 : t3.replace(e5[1], e5[2]);
      }, h2.result = function(e5, t3, n3) {
        var r3 = -1, o3 = (t3 = an(t3, e5)).length;
        for (o3 || (o3 = 1, e5 = Bi); ++r3 < o3; ) {
          var i3 = null == e5 ? Bi : e5[Sr(t3[r3])];
          i3 === Bi && (r3 = o3, i3 = n3), e5 = So(i3) ? i3.call(e5) : i3;
        }
        return e5;
      }, h2.round = Fi, h2.runInContext = o2, h2.sample = function(e5) {
        return ($(e5) ? We : $t)(e5);
      }, h2.size = function(e5) {
        var t3;
        return null == e5 ? 0 : u2(e5) ? Io(e5) ? ma(e5) : e5.length : (t3 = A(e5)) == Gi || t3 == Qi ? e5.size : Tt(e5).length;
      }, h2.snakeCase = ui, h2.some = function(e5, t3, n3) {
        return ($(e5) ? As : Ut)(e5, d2(t3 = n3 && p2(e5, t3, n3) ? Bi : t3, 3));
      }, h2.sortedIndex = function(e5, t3) {
        return qt(e5, t3);
      }, h2.sortedIndexBy = function(e5, t3, n3) {
        return Yt(e5, t3, d2(n3, 2));
      }, h2.sortedIndexOf = function(e5, t3) {
        var n3 = null == e5 ? 0 : e5.length;
        if (n3) {
          var r3 = qt(e5, t3);
          if (r3 < n3 && F(e5[r3], t3))
            return r3;
        }
        return -1;
      }, h2.sortedLastIndex = function(e5, t3) {
        return qt(e5, t3, true);
      }, h2.sortedLastIndexBy = function(e5, t3, n3) {
        return Yt(e5, t3, d2(n3, 2), true);
      }, h2.sortedLastIndexOf = function(e5, t3) {
        if (null == e5 ? 0 : e5.length) {
          var n3 = qt(e5, t3, true) - 1;
          if (F(e5[n3], t3))
            return n3;
        }
        return -1;
      }, h2.startCase = di, h2.startsWith = function(e5, t3, n3) {
        return e5 = f2(e5), n3 = null == n3 ? 0 : et(_2(n3), 0, e5.length), t3 = c2(t3), e5.slice(n3, n3 + t3.length) == t3;
      }, h2.subtract = $i, h2.sum = function(e5) {
        return e5 && e5.length ? qs(e5, M) : 0;
      }, h2.sumBy = function(e5, t3) {
        return e5 && e5.length ? qs(e5, d2(t3, 2)) : 0;
      }, h2.template = function(a3, e5, t3) {
        var s3, l3, n3 = h2.templateSettings;
        t3 && p2(a3, e5, t3) && (e5 = Bi), a3 = f2(a3), e5 = $o({}, e5, n3, $n);
        var r3 = O2(t3 = $o({}, e5.imports, n3.imports, $n)), o3 = Gs(t3, r3), c3 = 0, n3 = e5.interpolate || hs, u3 = "__p += '", t3 = z((e5.escape || hs).source + "|" + n3.source + "|" + (n3 === Ya ? as : hs).source + "|" + (e5.evaluate || hs).source + "|$", "g"), i3 = "//# sourceURL=" + (L.call(e5, "sourceURL") ? (e5.sourceURL + "").replace(/\s/g, " ") : "lodash.templateSources[" + ++xs + "]") + "\n";
        if (a3.replace(t3, function(e6, t4, n4, r4, o4, i4) {
          return n4 = n4 || r4, u3 += a3.slice(c3, i4).replace(ms, tl), t4 && (s3 = true, u3 += "' +\n__e(" + t4 + ") +\n'"), o4 && (l3 = true, u3 += "';\n" + o4 + ";\n__p += '"), n4 && (u3 += "' +\n((__t = (" + n4 + ")) == null ? '' : __t) +\n'"), c3 = i4 + e6.length, e6;
        }), u3 += "';\n", n3 = L.call(e5, "variable") && e5.variable) {
          if (os2.test(n3))
            throw new D("Invalid `variable` option passed into `_.template`");
        } else
          u3 = "with (obj) {\n" + u3 + "\n}\n";
        if (u3 = (l3 ? u3.replace(Aa, "") : u3).replace(Fa, "$1").replace($a, "$1;"), u3 = "function(" + (n3 || "obj") + ") {\n" + (n3 ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (s3 ? ", __e = _.escape" : "") + (l3 ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + u3 + "return __p\n}", (t3 = mi(function() {
          return N(r3, i3 + "return " + u3).apply(Bi, o3);
        })).source = u3, xo(t3))
          throw t3;
        return t3;
      }, h2.times = function(e5, t3) {
        if ((e5 = _2(e5)) < 1 || Wi < e5)
          return [];
        for (var n3 = Ui, r3 = E2(e5, Ui), r3 = (t3 = d2(t3), e5 -= Ui, Ys(r3, t3)); ++n3 < e5; )
          t3(n3);
        return r3;
      }, h2.toFinite = zo, h2.toInteger = _2, h2.toLength = Lo, h2.toLower = function(e5) {
        return f2(e5).toLowerCase();
      }, h2.toNumber = R2, h2.toSafeInteger = function(e5) {
        return e5 ? et(_2(e5), -Wi, Wi) : 0 === e5 ? e5 : 0;
      }, h2.toString = f2, h2.toUpper = function(e5) {
        return f2(e5).toUpperCase();
      }, h2.trim = function(e5, t3, n3) {
        return (e5 = f2(e5)) && (n3 || t3 === Bi) ? Ks(e5) : e5 && (t3 = c2(t3)) ? ln(n3 = ga(e5), Xs(n3, t3 = ga(t3)), Js(n3, t3) + 1).join("") : e5;
      }, h2.trimEnd = function(e5, t3, n3) {
        return (e5 = f2(e5)) && (n3 || t3 === Bi) ? e5.slice(0, il(e5) + 1) : e5 && (t3 = c2(t3)) ? ln(n3 = ga(e5), 0, Js(n3, ga(t3)) + 1).join("") : e5;
      }, h2.trimStart = function(e5, t3, n3) {
        return (e5 = f2(e5)) && (n3 || t3 === Bi) ? e5.replace(Qa, "") : e5 && (t3 = c2(t3)) ? ln(n3 = ga(e5), Xs(n3, ga(t3))).join("") : e5;
      }, h2.truncate = function(e5, t3) {
        var n3, r3 = 30, o3 = "...", t3 = (x2(t3) && (n3 = "separator" in t3 ? t3.separator : n3, r3 = "length" in t3 ? _2(t3.length) : r3, o3 = "omission" in t3 ? c2(t3.omission) : o3), (e5 = f2(e5)).length);
        if ((t3 = fa(e5) ? (i3 = ga(e5)).length : t3) <= r3)
          return e5;
        if ((t3 = r3 - ma(o3)) < 1)
          return o3;
        var i3, r3 = i3 ? ln(i3, 0, t3).join("") : e5.slice(0, t3);
        if (n3 !== Bi)
          if (i3 && (t3 += r3.length - t3), Ro(n3)) {
            if (e5.slice(t3).search(n3)) {
              var a3, s3 = r3;
              for ((n3 = n3.global ? n3 : z(n3.source, f2(ss.exec(n3)) + "g")).lastIndex = 0; a3 = n3.exec(s3); )
                var l3 = a3.index;
              r3 = r3.slice(0, l3 === Bi ? t3 : l3);
            }
          } else
            e5.indexOf(c2(n3), t3) != t3 && -1 < (i3 = r3.lastIndexOf(n3)) && (r3 = r3.slice(0, i3));
        return r3 + o3;
      }, h2.unescape = function(e5) {
        return (e5 = f2(e5)) && Ha.test(e5) ? e5.replace(Ba, al) : e5;
      }, h2.uniqueId = function(e5) {
        var t3 = ++K;
        return f2(e5) + t3;
      }, h2.upperCase = pi, h2.upperFirst = fi, h2.each = Gr, h2.eachRight = Zr, h2.first = Rr, ki(h2, (ji = {}, dt(h2, function(e5, t3) {
        L.call(h2.prototype, t3) || (ji[t3] = e5);
      }), ji), { chain: false }), h2.VERSION = "4.17.21", sa(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(e5) {
        h2[e5].placeholder = h2;
      }), sa(["drop", "take"], function(n3, r3) {
        v2.prototype[n3] = function(e5) {
          e5 = e5 === Bi ? 1 : C2(_2(e5), 0);
          var t3 = this.__filtered__ && !r3 ? new v2(this) : this.clone();
          return t3.__filtered__ ? t3.__takeCount__ = E2(e5, t3.__takeCount__) : t3.__views__.push({ size: E2(e5, Ui), type: n3 + (t3.__dir__ < 0 ? "Right" : "") }), t3;
        }, v2.prototype[n3 + "Right"] = function(e5) {
          return this.reverse()[n3](e5).reverse();
        };
      }), sa(["filter", "map", "takeWhile"], function(e5, t3) {
        var n3 = t3 + 1, r3 = 1 == n3 || 3 == n3;
        v2.prototype[e5] = function(e6) {
          var t4 = this.clone();
          return t4.__iteratees__.push({ iteratee: d2(e6, 3), type: n3 }), t4.__filtered__ = t4.__filtered__ || r3, t4;
        };
      }), sa(["head", "last"], function(e5, t3) {
        var n3 = "take" + (t3 ? "Right" : "");
        v2.prototype[e5] = function() {
          return this[n3](1).value()[0];
        };
      }), sa(["initial", "tail"], function(e5, t3) {
        var n3 = "drop" + (t3 ? "" : "Right");
        v2.prototype[e5] = function() {
          return this.__filtered__ ? new v2(this) : this[n3](1);
        };
      }), v2.prototype.compact = function() {
        return this.filter(M);
      }, v2.prototype.find = function(e5) {
        return this.filter(e5).head();
      }, v2.prototype.findLast = function(e5) {
        return this.reverse().find(e5);
      }, v2.prototype.invokeMap = a2(function(t3, n3) {
        return "function" == typeof t3 ? new v2(this) : this.map(function(e5) {
          return wt(e5, t3, n3);
        });
      }), v2.prototype.reject = function(e5) {
        return this.filter(po(d2(e5)));
      }, v2.prototype.slice = function(e5, t3) {
        e5 = _2(e5);
        var n3 = this;
        return n3.__filtered__ && (0 < e5 || t3 < 0) ? new v2(n3) : (e5 < 0 ? n3 = n3.takeRight(-e5) : e5 && (n3 = n3.drop(e5)), t3 !== Bi ? (t3 = _2(t3)) < 0 ? n3.dropRight(-t3) : n3.take(t3 - e5) : n3);
      }, v2.prototype.takeRightWhile = function(e5) {
        return this.reverse().takeWhile(e5).reverse();
      }, v2.prototype.toArray = function() {
        return this.take(Ui);
      }, dt(v2.prototype, function(c3, e5) {
        var u3 = /^(?:filter|find|map|reject)|While$/.test(e5), d3 = /^(?:head|last)$/.test(e5), p3 = h2[d3 ? "take" + ("last" == e5 ? "Right" : "") : e5], f3 = d3 || /^find/.test(e5);
        p3 && (h2.prototype[e5] = function() {
          function e6(e7) {
            return e7 = p3.apply(h2, ua2([e7], r3)), d3 && s3 ? e7[0] : e7;
          }
          var t3, n3 = this.__wrapped__, r3 = d3 ? [1] : arguments, o3 = n3 instanceof v2, i3 = r3[0], a3 = o3 || $(n3), s3 = (a3 && u3 && "function" == typeof i3 && 1 != i3.length && (o3 = a3 = false), this.__chain__), i3 = !!this.__actions__.length, l3 = f3 && !s3, o3 = o3 && !i3;
          return !f3 && a3 ? (n3 = o3 ? n3 : new v2(this), (t3 = c3.apply(n3, r3)).__actions__.push({ func: Wr, args: [e6], thisArg: Bi }), new g2(t3, s3)) : l3 && o3 ? c3.apply(this, r3) : (t3 = this.thru(e6), l3 ? d3 ? t3.value()[0] : t3.value() : t3);
        });
      }), sa(["pop", "push", "shift", "sort", "splice", "unshift"], function(e5) {
        var n3 = H[e5], r3 = /^(?:push|sort|unshift)$/.test(e5) ? "tap" : "thru", o3 = /^(?:pop|shift)$/.test(e5);
        h2.prototype[e5] = function() {
          var e6, t3 = arguments;
          return o3 && !this.__chain__ ? (e6 = this.value(), n3.apply($(e6) ? e6 : [], t3)) : this[r3](function(e7) {
            return n3.apply($(e7) ? e7 : [], t3);
          });
        };
      }), dt(v2.prototype, function(e5, t3) {
        var n3, r3 = h2[t3];
        r3 && (n3 = r3.name + "", L.call(Re, n3) || (Re[n3] = []), Re[n3].push({ name: t3, func: r3 }));
      }), Re[_n(Bi, 2).name] = [{ name: "wrapper", func: Bi }], v2.prototype.clone = function() {
        var e5 = new v2(this.__wrapped__);
        return e5.__actions__ = T2(this.__actions__), e5.__dir__ = this.__dir__, e5.__filtered__ = this.__filtered__, e5.__iteratees__ = T2(this.__iteratees__), e5.__takeCount__ = this.__takeCount__, e5.__views__ = T2(this.__views__), e5;
      }, v2.prototype.reverse = function() {
        var e5;
        return this.__filtered__ ? ((e5 = new v2(this)).__dir__ = -1, e5.__filtered__ = true) : (e5 = this.clone()).__dir__ *= -1, e5;
      }, v2.prototype.value = function() {
        var e5 = this.__wrapped__.value(), t3 = this.__dir__, n3 = $(e5), r3 = t3 < 0, o3 = n3 ? e5.length : 0, i3 = function(e6, t4, n4) {
          var r4 = -1, o4 = n4.length;
          for (; ++r4 < o4; ) {
            var i4 = n4[r4], a4 = i4.size;
            switch (i4.type) {
              case "drop":
                e6 += a4;
                break;
              case "dropRight":
                t4 -= a4;
                break;
              case "take":
                t4 = E2(t4, e6 + a4);
                break;
              case "takeRight":
                e6 = C2(e6, t4 - a4);
            }
          }
          return { start: e6, end: t4 };
        }(0, o3, this.__views__), a3 = i3.start, s3 = (i3 = i3.end) - a3, l3 = r3 ? i3 : a3 - 1, c3 = this.__iteratees__, u3 = c3.length, d3 = 0, p3 = E2(s3, this.__takeCount__);
        if (!n3 || !r3 && o3 == s3 && p3 == s3)
          return en(e5, this.__actions__);
        var f3 = [];
        e:
          for (; s3-- && d3 < p3; ) {
            for (var h3 = -1, m3 = e5[l3 += t3]; ++h3 < u3; ) {
              var g3 = c3[h3], v3 = g3.iteratee, g3 = g3.type, v3 = v3(m3);
              if (2 == g3)
                m3 = v3;
              else if (!v3) {
                if (1 == g3)
                  continue e;
                break e;
              }
            }
            f3[d3++] = m3;
          }
        return f3;
      }, h2.prototype.at = Ur, h2.prototype.chain = function() {
        return Hr(this);
      }, h2.prototype.commit = function() {
        return new g2(this.value(), this.__chain__);
      }, h2.prototype.next = function() {
        this.__values__ === Bi && (this.__values__ = Po(this.value()));
        var e5 = this.__index__ >= this.__values__.length;
        return { done: e5, value: e5 ? Bi : this.__values__[this.__index__++] };
      }, h2.prototype.plant = function(e5) {
        for (var t3, n3 = this; n3 instanceof Ae; )
          var r3 = Cr(n3), o3 = (r3.__index__ = 0, r3.__values__ = Bi, t3 ? o3.__wrapped__ = r3 : t3 = r3, r3), n3 = n3.__wrapped__;
        return o3.__wrapped__ = e5, t3;
      }, h2.prototype.reverse = function() {
        var e5 = this.__wrapped__;
        return e5 instanceof v2 ? (e5 = e5, (e5 = (e5 = this.__actions__.length ? new v2(this) : e5).reverse()).__actions__.push({ func: Wr, args: [Mr], thisArg: Bi }), new g2(e5, this.__chain__)) : this.thru(Mr);
      }, h2.prototype.toJSON = h2.prototype.valueOf = h2.prototype.value = function() {
        return en(this.__wrapped__, this.__actions__);
      }, h2.prototype.first = h2.prototype.head, se && (h2.prototype[se] = function() {
        return this;
      }), h2;
    }();
    o ? ((o.exports = va)._ = va, r._ = va) : ia._ = va;
  }).call(commonjsGlobal);
}(lodash, lodash.exports), lodash.exports);
var mergeWithoutArray = (e3, t, n) => lodashExports.isArray(e3) || lodashExports.isArray(t) ? t : lodashExports.mergeWith(e3, t, n = n || ((e4, t2) => {
  if (lodashExports.isArray(e4))
    return t2;
}));
var getTextEffectStyle = (e3, t, n, r) => {
  var o, i, a, s = {};
  return "shadow" === e3 ? (a = new Color(t.color), i = (t.direction || 0) * Math.PI / 180, o = 183334e-8 * (t.offset || 0) * r * Math.sin(i), i = 183334e-8 * (t.offset || 0) * r * Math.cos(i), s.textShadow = `${a.alpha((t.transparency || 0) / 100).toRgbString()} ${o}px ${i}px ${t.blur}px`) : "lift" === e3 ? s.textShadow = `rgba(0, 0, 0, ${0.05 + 5e-3 * ((null == t ? void 0 : t.intensity) || 0)}) 0px ${Math.max(0.45, 0.05 * r)}px ${Math.max(0.45, 0.05 * r) + 0.065 * ((null == t ? void 0 : t.intensity) || 0)}px; filter: opacity(1)` : "hollow" === e3 ? (s.caretColor = n, s.WebkitTextFillColor = "transparent", s.WebkitTextStroke = (91666e-7 + 833325e-9 * ((null == t ? void 0 : t.thickness) || 0)) * r + "px " + n) : "splice" === e3 ? (s.caretColor = n, s.WebkitTextFillColor = "transparent", a = (null == t ? void 0 : t.thickness) || 0, s.WebkitTextStroke = 916666e-8 * Math.max(8, r) + 83333e-8 * r * a + "px " + n, o = ((null == t ? void 0 : t.direction) || 0) * Math.PI / 180, i = 183334e-8 * ((null == t ? void 0 : t.offset) || 0) * r * Math.sin(o), a = 183334e-8 * ((null == t ? void 0 : t.offset) || 0) * r * Math.cos(o), s.textShadow = t.color + ` ${i}px ${a}px 0px`) : "outline" !== e3 && "echo" === e3 && (n = new Color(t.color), o = ((null == t ? void 0 : t.direction) || 0) * Math.PI / 180, i = 166666e-8 * ((null == t ? void 0 : t.offset) || 0) * r * Math.sin(o), a = 166666e-8 * ((null == t ? void 0 : t.offset) || 0) * r * Math.cos(o), s.textShadow = `${n.alpha(0.5).toRgbString()} ${i}px ${a}px 0px, ${n.alpha(0.3).toRgbString()} ${2 * i}px ${2 * a}px 0px`), s;
};
var getTransformStyle = (e3) => {
  var t = [];
  return e3.position && t.push(`translate(${e3.position.x}px, ${e3.position.y}px)`), e3.scale && t.push(`scale(${e3.scale})`), e3.rotate && t.push(`rotate(${e3.rotate}deg)`), t.join(" ");
};
var pkg = { name: "@emotion/react", version: "11.11.1", main: "dist/emotion-react.cjs.js", module: "dist/emotion-react.esm.js", browser: { "./dist/emotion-react.esm.js": "./dist/emotion-react.browser.esm.js" }, exports: { ".": { module: { worker: "./dist/emotion-react.worker.esm.js", browser: "./dist/emotion-react.browser.esm.js", default: "./dist/emotion-react.esm.js" }, import: "./dist/emotion-react.cjs.mjs", default: "./dist/emotion-react.cjs.js" }, "./jsx-runtime": { module: { worker: "./jsx-runtime/dist/emotion-react-jsx-runtime.worker.esm.js", browser: "./jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js", default: "./jsx-runtime/dist/emotion-react-jsx-runtime.esm.js" }, import: "./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.mjs", default: "./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.js" }, "./_isolated-hnrs": { module: { worker: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.worker.esm.js", browser: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js", default: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.esm.js" }, import: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.mjs", default: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.js" }, "./jsx-dev-runtime": { module: { worker: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.worker.esm.js", browser: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.esm.js", default: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.esm.js" }, import: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.mjs", default: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.js" }, "./package.json": "./package.json", "./types/css-prop": "./types/css-prop.d.ts", "./macro": { types: { import: "./macro.d.mts", default: "./macro.d.ts" }, default: "./macro.js" } }, types: "types/index.d.ts", files: ["src", "dist", "jsx-runtime", "jsx-dev-runtime", "_isolated-hnrs", "types/*.d.ts", "macro.*"], sideEffects: false, author: "Emotion Contributors", license: "MIT", scripts: { "test:typescript": "dtslint types" }, dependencies: { "@babel/runtime": "^7.18.3", "@emotion/babel-plugin": "^11.11.0", "@emotion/cache": "^11.11.0", "@emotion/serialize": "^1.1.2", "@emotion/use-insertion-effect-with-fallbacks": "^1.0.1", "@emotion/utils": "^1.2.1", "@emotion/weak-memoize": "^0.3.1", "hoist-non-react-statics": "^3.3.1" }, peerDependencies: { react: ">=16.8.0" }, peerDependenciesMeta: { "@types/react": { optional: true } }, devDependencies: { "@definitelytyped/dtslint": "0.0.112", "@emotion/css": "11.11.0", "@emotion/css-prettifier": "1.1.3", "@emotion/server": "11.11.0", "@emotion/styled": "11.11.0", "html-tag-names": "^1.1.2", react: "16.14.0", "svg-tag-names": "^1.1.1", typescript: "^4.5.5" }, repository: "https://github.com/emotion-js/emotion/tree/main/packages/react", publishConfig: { access: "public" }, "umd:main": "dist/emotion-react.umd.min.js", preconstruct: { entrypoints: ["./index.js", "./jsx-runtime.js", "./jsx-dev-runtime.js", "./_isolated-hnrs.js"], umdName: "emotionReact", exports: { envConditions: ["browser", "worker"], extra: { "./types/css-prop": "./types/css-prop.d.ts", "./macro": { types: { import: "./macro.d.mts", default: "./macro.d.ts" }, default: "./macro.js" } } } } };
var warnedAboutCssPropForGlobal = false;
var Global = withEmotionCache(function(e3, o) {
  warnedAboutCssPropForGlobal || !e3.className && !e3.css || (console.error("It looks like you're using the css prop on Global, did you mean to use the styles prop instead?"), warnedAboutCssPropForGlobal = true);
  var i, e3 = e3.styles, a = serializeStyles([e3], void 0, React$1.useContext(ThemeContext));
  if (isBrowser$2)
    return i = React$1.useRef(), useInsertionEffectWithLayoutFallback(function() {
      var e4 = o.key + "-global", t2 = new o.sheet.constructor({ key: e4, nonce: o.sheet.nonce, container: o.sheet.container, speedy: o.sheet.isSpeedy }), n2 = false, r2 = document.querySelector('style[data-emotion="' + e4 + " " + a.name + '"]');
      return o.sheet.tags.length && (t2.before = o.sheet.tags[0]), null !== r2 && (n2 = true, r2.setAttribute("data-emotion", e4), t2.hydrate([r2])), i.current = [t2, n2], function() {
        t2.flush();
      };
    }, [o]), useInsertionEffectWithLayoutFallback(function() {
      var e4 = i.current, t2 = e4[0];
      e4[1] ? e4[1] = false : (void 0 !== a.next && insertStyles(o, a.next, true), t2.tags.length && (e4 = t2.tags[t2.tags.length - 1].nextElementSibling, t2.before = e4, t2.flush()), o.insert("", a, t2, false));
    }, [o, a.name]), null;
  for (var t = a.name, n = a.styles, r = a.next; void 0 !== r; )
    t += " " + r.name, n += r.styles, r = r.next;
  var e3 = true === o.compat, s = o.insert("", { name: t, styles: n }, o.sheet, e3);
  return e3 ? null : React$1.createElement("style", ((e3 = {})["data-emotion"] = o.key + "-global " + t, e3.dangerouslySetInnerHTML = { __html: s }, e3.nonce = o.sheet.nonce, e3));
});
function css() {
  for (var e3 = arguments.length, t = new Array(e3), n = 0; n < e3; n++)
    t[n] = arguments[n];
  return serializeStyles(t);
}
Global.displayName = "EmotionGlobal";
var classnames = function e(t) {
  for (var n = t.length, r = 0, o = ""; r < n; r++) {
    var i = t[r];
    if (null != i) {
      var a = void 0;
      switch (typeof i) {
        case "boolean":
          break;
        case "object":
          if (Array.isArray(i))
            a = e(i);
          else
            for (var s in void 0 !== i.styles && void 0 !== i.name && console.error("You have passed styles created with `css` from `@emotion/react` package to the `cx`.\n`cx` is meant to compose class names (strings) so you should convert those styles to a class name by passing them to the `css` received from <ClassNames/> component."), a = "", i)
              i[s] && s && (a && (a += " "), a += s);
          break;
        default:
          a = i;
      }
      a && (o && (o += " "), o += a);
    }
  }
  return o;
};
function merge(e3, t, n) {
  var r = [], e3 = getRegisteredStyles(e3, r, n);
  return r.length < 2 ? n : e3 + t(r);
}
var isBrowser;
var isTestEnv;
var globalContext;
var globalKey;
var Insertion = function(e3) {
  var t, r = e3.cache, o = e3.serializedArr, e3 = useInsertionEffectAlwaysWithSyncFallback(function() {
    for (var e4 = "", t2 = 0; t2 < o.length; t2++) {
      var n = insertStyles(r, o[t2], false);
      isBrowser$2 || void 0 === n || (e4 += n);
    }
    if (!isBrowser$2)
      return e4;
  });
  return isBrowser$2 || 0 === e3.length ? null : React$1.createElement("style", ((t = {})["data-emotion"] = r.key + " " + o.map(function(e4) {
    return e4.name;
  }).join(" "), t.dangerouslySetInnerHTML = { __html: e3 }, t.nonce = r.sheet.nonce, t));
};
var ClassNames = withEmotionCache(function(e3, o) {
  function r() {
    if (i && true)
      throw new Error("css can only be used during render");
    for (var e4 = arguments.length, t2 = new Array(e4), n = 0; n < e4; n++)
      t2[n] = arguments[n];
    var r2 = serializeStyles(t2, o.registered);
    return a.push(r2), registerStyles(o, r2, false), o.key + "-" + r2.name;
  }
  var i = false, a = [], t = { css: r, cx: function() {
    if (i && true)
      throw new Error("cx can only be used during render");
    for (var e4 = arguments.length, t2 = new Array(e4), n = 0; n < e4; n++)
      t2[n] = arguments[n];
    return merge(o.registered, r, classnames(t2));
  }, theme: React$1.useContext(ThemeContext) }, e3 = e3.children(t), i = true;
  return React$1.createElement(React$1.Fragment, null, React$1.createElement(Insertion, { cache: o, serializedArr: a }), e3);
});
ClassNames.displayName = "EmotionClassNames", (isBrowser = "undefined" != typeof document, isTestEnv = "undefined" != typeof jest || "undefined" != typeof vi, isBrowser) && !isTestEnv && ((globalContext = "undefined" != typeof globalThis ? globalThis : isBrowser ? window : global)[globalKey = "__EMOTION_REACT_" + pkg.version.split(".")[0] + "__"] && console.warn("You are loading @emotion/react when it is already loaded. Running multiple instances may cause problems. This can happen if multiple versions are used, or if multiple builds of the same version are used."), globalContext[globalKey] = true);
var FontStyle$2 = ({ font: r }) => {
  var e3 = (0, import_react.useMemo)(() => {
    const n = [];
    return r.fonts.forEach((e4) => {
      var t;
      n.push(`
                @font-face {
                  font-family: '${r.name}';
                  font-weight: ${(null == (t = e4.style) ? void 0 : t.replace("_Italic", "")) || "normal"};
                  ${null != (t = e4.style) && t.includes("_Italic") ? "font-style: italic;\n" : ""}
                  src: url(${e4.urls.join(",")}) format('woff2');
                  font-display: block;
                }
            `);
    }), n.join("\n");
  }, [r]);
  return jsx2(Global, { styles: css`
                ${e3}
            ` });
};
var FontStyle$3 = import_react.default.memo(FontStyle$2);
var GlobalStyle = ({ fonts: e3, mode: t = "view" }) => {
  return jsxs2(import_react.Fragment, { children: [jsx2(Global, { styles: css`
                    ${`
        .lidojs-text {
            counter-reset: list;
            p {
                margin-left: calc(var(--indent-level)*1.7em);

            }
            p:before {
                counter-increment: list;
                content: counter(list, var(--counter-list-marker)) ".";
                left: 0;
                padding-right: 0.1em;
                height: calc(var(--line-height))*1em;
                width: calc(var(--indent-level)*1em);
                position: absolute;
                margin: 0;
                padding: 0;
                white-space: nowrap;
            }
        }
    `}
                    ${`
        * {
            -webkit-user-select: ${"editor" === t ? "none" : "text"}; /* Safari */
            -khtml-user-select: ${"editor" === t ? "none" : "text"}; /* Konqueror HTML */
            -moz-user-select: ${"editor" === t ? "none" : "text"}; /* Old versions of Firefox */
            -ms-user-select: ${"editor" === t ? "none" : "text"}; /* Internet Explorer/Edge */
            user-select: ${"editor" === t ? "none" : "text"};
            -webkit-user-drag: none;
             -webkit-touch-callout: none; /* iOS Safari */
        }
    `}
                ` }), e3.map((e4) => jsx2(FontStyle$3, { font: e4 }, e4.name))] });
};
var getGradientBackground = (e3, t) => {
  const n = 100 / (e3.length - 1);
  var r = e3.map((e4, t2) => `${e4} ${t2 * n}%`);
  switch (t) {
    case "leftToRight":
      return `linear-gradient(90deg, ${r.join(", ")})`;
    case "topToBottom":
      return `linear-gradient(${r.join(", ")})`;
    case "topLeftToBottomRight":
      return `linear-gradient(135deg, ${r.join(", ")})`;
    case "circleCenter":
      return `radial-gradient(circle at 50% 50%, ${r.join(", ")})`;
    default:
      return `radial-gradient(circle at 0% 0%, ${r.join(", ")})`;
  }
};
var FrameContent = ({ clipPath: e3, image: t, color: n, gradientBackground: r }) => jsx2("div", { css: { width: "100%", height: "100%", clipPath: e3, background: r ? getGradientBackground(r.colors, r.style) : null != n ? n : void 0 }, children: t && jsx2("div", { css: { width: t.boxSize.width, height: t.boxSize.height, transform: getTransformStyle({ position: t.position, rotate: t.rotate }), position: "relative", userSelect: "none" }, children: jsx2("img", { src: t.url, css: { objectFit: "fill", width: "100%", height: "100%", position: "absolute", pointerEvents: "none" } }) }) });
var TextContent = ({ text: e3, colors: t, fontSizes: n, effect: r }) => jsx2("div", { className: "lidojs-text", css: Object.assign({ p: { "&:before": Object.assign({}, getTextEffectStyle((null == r ? void 0 : r.name) || "none", null == r ? void 0 : r.settings, t[0], n[0])) } }, getTextEffectStyle((null == r ? void 0 : r.name) || "none", null == r ? void 0 : r.settings, t[0], n[0])), dangerouslySetInnerHTML: { __html: e3 } });
var ImageContent = ({ image: e3, boxSize: t }) => jsx2("div", { css: { overflow: "hidden", pointerEvents: "auto", width: t.width, height: t.height }, children: jsx2("div", { css: { width: e3.boxSize.width, height: e3.boxSize.height, transform: getTransformStyle({ position: e3.position, rotate: e3.rotate }), position: "relative", userSelect: "none", opacity: e3.transparency }, children: jsx2("img", { src: e3.url, css: { objectFit: "fill", width: "100%", height: "100%", position: "absolute", pointerEvents: "none" } }) }) });
var ShapeContent = ({ boxSize: e3, shape: t, color: n, gradientBackground: r, roundedCorners: o = 0, scale: i = 1, border: a }) => {
  return jsxs2("div", { css: { position: "relative", width: e3.width / i, height: e3.height / i }, children: [jsx2("div", { css: { clipPath: `path("${getShapePath(t, { width: e3.width / i, height: e3.height / i, roundedCorners: o })}")`, width: "100%", height: "100%", background: r ? getGradientBackground(r.colors, r.style) : n || "#fff" } }), a && jsxs2("svg", { viewBox: `0 0 ${e3.width / i} ` + e3.height / i, css: { position: "absolute", inset: 0 }, children: [o && jsx2("defs", { children: jsx2("clipPath", { id: "roundedCorners", children: jsx2("path", { d: getShapePath(t, { width: e3.width / i, height: e3.height / i, roundedCorners: o }) }) }) }), jsx2("path", { d: getShapePath(t, { width: e3.width / i, height: e3.height / i, roundedCorners: o }), strokeLinecap: "butt", fill: "none", stroke: a.color, strokeWidth: a.weight, strokeDasharray: (() => {
    switch (null == a ? void 0 : a.style) {
      case "longDashes":
        return 6 * a.weight + ", " + a.weight;
      case "shortDashes":
        return 3 * a.weight + ", " + a.weight;
      case "dots":
        return a.weight + ", " + a.weight;
      default:
        return;
    }
  })(), clipPath: `path("${getShapePath(t, { width: e3.width / i, height: e3.height / i, roundedCorners: o })}")` })] })] });
};
var RootContent = (e3) => {
  var { boxSize: t, color: n, gradientBackground: r, image: o, position: i, rotate: a } = e3, e3 = __rest(e3, ["boxSize", "color", "gradientBackground", "image", "position", "rotate"]);
  return jsxs2("div", Object.assign({ css: { position: "absolute", overflow: "hidden", pointerEvents: "auto", width: t.width, height: t.height } }, e3, { children: [jsx2("div", { css: { position: "absolute", top: 0, left: 0, width: t.width, height: t.height, background: r ? getGradientBackground(r.colors, r.style) : n || "#fff" } }), o && jsx2("div", { css: { width: t.width, height: t.height }, children: jsx2(ImageContent, { image: o, boxSize: t, rotate: a, position: i }) })] }));
};
function useMountedState() {
  var e3 = (0, import_react.useRef)(false), t = (0, import_react.useCallback)(function() {
    return e3.current;
  }, []);
  return (0, import_react.useEffect)(function() {
    return e3.current = true, function() {
      e3.current = false;
    };
  }, []), t;
}
function useAsyncFn(r, e3, t) {
  void 0 === e3 && (e3 = []), void 0 === t && (t = { loading: false });
  var o = (0, import_react.useRef)(0), i = useMountedState(), t = (0, import_react.useState)(t), a = t[0], s = t[1], t = (0, import_react.useCallback)(function() {
    for (var e4 = [], t2 = 0; t2 < arguments.length; t2++)
      e4[t2] = arguments[t2];
    var n = ++o.current;
    return a.loading || s(function(e5) {
      return __assign(__assign({}, e5), { loading: true });
    }), r.apply(void 0, e4).then(function(e5) {
      return i() && n === o.current && s({ value: e5, loading: false }), e5;
    }, function(e5) {
      return i() && n === o.current && s({ error: e5, loading: false }), e5;
    });
  }, e3);
  return [a, t];
}
function useAsync(e3, t) {
  var e3 = useAsyncFn(e3, t = void 0 === t ? [] : t, { loading: true }), t = e3[0], n = e3[1];
  return (0, import_react.useEffect)(function() {
    n();
  }, [n]), t;
}
var SvgContent = ({ image: u, boxSize: e3, colors: d }) => {
  const [t, p] = (0, import_react.useState)();
  return useAsync(async () => {
    var e4 = await fetchSvgContent(u), t2 = (e4.style.fill = "", e4.style.stroke = "", e4.getElementsByTagName("g"));
    if (0 < t2.length)
      for (let e5 = 0; e5 < t2.length; e5++) {
        var n = t2[e5].getAttribute("id");
        if (n) {
          n = n.match(/^[a-z]+(\d+)(_)*(\d*)$/i);
          if (n && 2 <= n.length) {
            var r = parseInt(n[1], 10) - 1, o = t2[e5].querySelectorAll("path, circle, ellipse,line, rect, polygon,polyline, text");
            for (let e6 = 0; e6 < o.length; e6++) {
              var i = o[e6].getAttribute("stroke") || "none";
              o[e6].style.fill = "", o[e6].style.stroke = "", "none" !== i ? o[e6].setAttribute("stroke", d[r] || "#000000") : o[e6].setAttribute("fill", d[r] || "#000000");
            }
          }
        }
      }
    else {
      var a = [], s = e4.querySelectorAll("path, circle, ellipse,line, rect, polygon,polyline, text");
      for (let n2 = 0; n2 < s.length; n2++) {
        var l = s[n2].getAttribute("style");
        let e5 = s[n2].getAttribute("stroke") || "none", t3 = s[n2].getAttribute("fill") || "#000000";
        const c = {};
        l && l.split(";").forEach((e6) => {
          var [e6, t4] = e6.split(":");
          c[e6.trim()] = t4.trim();
        }), c.stroke && (e5 = c.stroke), c.fill && (t3 = c.fill), e5 && "none" !== e5 ? (a.includes(new Color(e5).toRgbString()) || a.push(new Color(e5).toRgbString()), s[n2].style.fill = "", s[n2].style.stroke = "", s[n2].setAttribute("stroke", d[a.indexOf(new Color(e5).toRgbString())] || "#000000")) : t3 && "none" !== t3 && (a.includes(new Color(t3).toRgbString()) || a.push(new Color(t3).toRgbString()), s[n2].style.fill = "", s[n2].style.stroke = "", s[n2].setAttribute("fill", d[a.indexOf(new Color(t3).toRgbString())] || "#000000"));
      }
    }
    e4 = new Blob([e4.outerHTML], { type: "image/svg+xml;charset=utf-8" }), e4 = URL.createObjectURL(e4);
    p(e4);
  }, [u, d]), jsx2("div", { css: { width: "100%", height: "100%" }, children: u && jsx2("div", { css: { width: e3.width, height: e3.height, position: "relative", userSelect: "none" }, children: jsx2("img", { src: t, crossOrigin: "anonymous", css: { objectFit: "fill", width: "100%", height: "100%", position: "absolute", pointerEvents: "none" } }) }) });
};
function useEventCallback(e3) {
  const t = (0, import_react.useRef)(e3);
  var n = (0, import_react.useRef)((e4) => {
    t.current && t.current(e4);
  });
  return t.current = e3, n.current;
}
var SelectionBox = ({ selectedLayers: e3 }, t) => jsxs2(import_react.Fragment, { children: [jsx2("div", { ref: t, css: { border: "1px solid #3d8eff", background: "rgba(61, 142, 255, 0.2)", position: "absolute" } }), jsx2("div", { css: { position: "absolute", inset: 0, pointerEvents: "none", zIndex: 2 }, children: Object.entries(e3 || {}).map(([e4, { boxSize: t2, position: n, rotate: r }]) => jsx2("div", { css: { position: "absolute", border: "1px solid #3d8eff", transform: getTransformStyle({ position: n, rotate: r }), width: t2.width, height: t2.height } }, e4)) })] });
var SelectionBox$1 = (0, import_react.forwardRef)(SelectionBox);
var getRandomValues;
var rnds8 = new Uint8Array(16);
function rng() {
  if (getRandomValues = getRandomValues || "undefined" != typeof crypto && crypto.getRandomValues && crypto.getRandomValues.bind(crypto))
    return getRandomValues(rnds8);
  throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
}
var byteToHex = [];
for (let e3 = 0; e3 < 256; ++e3)
  byteToHex.push((e3 + 256).toString(16).slice(1));
function unsafeStringify(e3, t = 0) {
  return (byteToHex[e3[t + 0]] + byteToHex[e3[t + 1]] + byteToHex[e3[t + 2]] + byteToHex[e3[t + 3]] + "-" + byteToHex[e3[t + 4]] + byteToHex[e3[t + 5]] + "-" + byteToHex[e3[t + 6]] + byteToHex[e3[t + 7]] + "-" + byteToHex[e3[t + 8]] + byteToHex[e3[t + 9]] + "-" + byteToHex[e3[t + 10]] + byteToHex[e3[t + 11]] + byteToHex[e3[t + 12]] + byteToHex[e3[t + 13]] + byteToHex[e3[t + 14]] + byteToHex[e3[t + 15]]).toLowerCase();
}
var randomUUID = "undefined" != typeof crypto && crypto.randomUUID && crypto.randomUUID.bind(crypto);
var native = { randomUUID };
function v4(e3, t, n) {
  if (native.randomUUID && !t && !e3)
    return native.randomUUID();
  var r = (e3 = e3 || {}).random || (e3.rng || rng)();
  if (r[6] = 15 & r[6] | 64, r[8] = 63 & r[8] | 128, t) {
    n = n || 0;
    for (let e4 = 0; e4 < 16; ++e4)
      t[n + e4] = r[e4];
    return t;
  }
  return unsafeStringify(r);
}
var ShapeLayer = ({ boxSize: e3, shape: t, color: n, gradientBackground: r, roundedCorners: o = 0, scale: i = 1, rotate: a, position: s, border: l }) => jsx2("div", { css: { transformOrigin: "0 0" }, style: { width: e3.width / (i || 1), height: e3.height / (i || 1), transform: `scale(${i || 1})` }, children: jsx2(ShapeContent, { shape: t, color: n, roundedCorners: o, gradientBackground: r, boxSize: e3, rotate: a, scale: i, position: s, border: l }) });
function OrderedMap(e3) {
  this.content = e3;
}
function findDiffStart(t, n, r) {
  for (let e3 = 0; ; e3++) {
    if (e3 == t.childCount || e3 == n.childCount)
      return t.childCount == n.childCount ? null : r;
    var o = t.child(e3), i = n.child(e3);
    if (o == i)
      ;
    else {
      if (!o.sameMarkup(i))
        return r;
      if (o.isText && o.text != i.text) {
        for (let e4 = 0; o.text[e4] == i.text[e4]; e4++)
          r++;
        return r;
      }
      if (o.content.size || i.content.size) {
        var a = findDiffStart(o.content, i.content, r + 1);
        if (null != a)
          return a;
      }
    }
    r += o.nodeSize;
  }
}
function findDiffEnd(n, r, o, i) {
  for (let e3 = n.childCount, t = r.childCount; ; ) {
    if (0 == e3 || 0 == t)
      return e3 == t ? null : { a: o, b: i };
    var a = n.child(--e3), s = r.child(--t), l = a.nodeSize;
    if (a == s)
      ;
    else {
      if (!a.sameMarkup(s))
        return { a: o, b: i };
      if (a.isText && a.text != s.text) {
        let e4 = 0, t2 = Math.min(a.text.length, s.text.length);
        for (; e4 < t2 && a.text[a.text.length - e4 - 1] == s.text[s.text.length - e4 - 1]; )
          e4++, o--, i--;
        return { a: o, b: i };
      }
      if (a.content.size || s.content.size) {
        var c = findDiffEnd(a.content, s.content, o - 1, i - 1);
        if (c)
          return c;
      }
    }
    o -= l, i -= l;
  }
}
ShapeLayer.info = { name: "Shape", type: "Shape" }, OrderedMap.prototype = { constructor: OrderedMap, find: function(e3) {
  for (var t = 0; t < this.content.length; t += 2)
    if (this.content[t] === e3)
      return t;
  return -1;
}, get: function(e3) {
  e3 = this.find(e3);
  return -1 == e3 ? void 0 : this.content[e3 + 1];
}, update: function(e3, t, n) {
  var r = n && n != e3 ? this.remove(n) : this, o = r.find(e3), r = r.content.slice();
  return -1 == o ? r.push(n || e3, t) : (r[o + 1] = t, n && (r[o] = n)), new OrderedMap(r);
}, remove: function(e3) {
  var t, e3 = this.find(e3);
  return -1 == e3 ? this : ((t = this.content.slice()).splice(e3, 2), new OrderedMap(t));
}, addToStart: function(e3, t) {
  return new OrderedMap([e3, t].concat(this.remove(e3).content));
}, addToEnd: function(e3, t) {
  var n = this.remove(e3).content.slice();
  return n.push(e3, t), new OrderedMap(n);
}, addBefore: function(e3, t, n) {
  var r = this.remove(t), o = r.content.slice(), r = r.find(e3);
  return o.splice(-1 == r ? o.length : r, 0, t, n), new OrderedMap(o);
}, forEach: function(e3) {
  for (var t = 0; t < this.content.length; t += 2)
    e3(this.content[t], this.content[t + 1]);
}, prepend: function(e3) {
  return (e3 = OrderedMap.from(e3)).size ? new OrderedMap(e3.content.concat(this.subtract(e3).content)) : this;
}, append: function(e3) {
  return (e3 = OrderedMap.from(e3)).size ? new OrderedMap(this.subtract(e3).content.concat(e3.content)) : this;
}, subtract: function(e3) {
  var t = this;
  e3 = OrderedMap.from(e3);
  for (var n = 0; n < e3.content.length; n += 2)
    t = t.remove(e3.content[n]);
  return t;
}, toObject: function() {
  var n = {};
  return this.forEach(function(e3, t) {
    n[e3] = t;
  }), n;
}, get size() {
  return this.content.length >> 1;
} }, OrderedMap.from = function(e3) {
  if (e3 instanceof OrderedMap)
    return e3;
  var t = [];
  if (e3)
    for (var n in e3)
      t.push(n, e3[n]);
  return new OrderedMap(t);
};
var Fragment2 = class _Fragment {
  constructor(t, e3) {
    if (this.content = t, this.size = e3 || 0, null == e3)
      for (let e4 = 0; e4 < t.length; e4++)
        this.size += t[e4].nodeSize;
  }
  nodesBetween(n, r, o, i = 0, a) {
    for (let e3 = 0, t = 0; t < r; e3++) {
      var s, l = this.content[e3], c = t + l.nodeSize;
      n < c && false !== o(l, i + t, a || null, e3) && l.content.size && (s = t + 1, l.nodesBetween(Math.max(0, n - s), Math.min(l.content.size, r - s), o, i + s)), t = c;
    }
  }
  descendants(e3) {
    this.nodesBetween(0, this.size, e3);
  }
  textBetween(n, r, o, i) {
    let a = "", s = true;
    return this.nodesBetween(n, r, (e3, t) => {
      e3.isText ? (a += e3.text.slice(Math.max(n, t) - t, r - t), s = !o) : e3.isLeaf ? (i ? a += "function" == typeof i ? i(e3) : i : e3.type.spec.leafText && (a += e3.type.spec.leafText(e3)), s = !o) : !s && e3.isBlock && (a += o, s = true);
    }, 0), a;
  }
  append(e3) {
    if (!e3.size)
      return this;
    if (!this.size)
      return e3;
    let t = this.lastChild, n = e3.firstChild, r = this.content.slice(), o = 0;
    for (t.isText && t.sameMarkup(n) && (r[r.length - 1] = t.withText(t.text + n.text), o = 1); o < e3.content.length; o++)
      r.push(e3.content[o]);
    return new _Fragment(r, this.size + e3.size);
  }
  cut(o, i = this.size) {
    if (0 == o && i == this.size)
      return this;
    let a = [], s = 0;
    if (o < i)
      for (let n = 0, r = 0; r < i; n++) {
        let e3 = this.content[n], t = r + e3.nodeSize;
        o < t && ((r < o || i < t) && (e3 = e3.isText ? e3.cut(Math.max(0, o - r), Math.min(e3.text.length, i - r)) : e3.cut(Math.max(0, o - r - 1), Math.min(e3.content.size, i - r - 1))), a.push(e3), s += e3.nodeSize), r = t;
      }
    return new _Fragment(a, s);
  }
  cutByIndex(e3, t) {
    return e3 == t ? _Fragment.empty : 0 == e3 && t == this.content.length ? this : new _Fragment(this.content.slice(e3, t));
  }
  replaceChild(e3, t) {
    var n, r = this.content[e3];
    return r == t ? this : (n = this.content.slice(), r = this.size + t.nodeSize - r.nodeSize, n[e3] = t, new _Fragment(n, r));
  }
  addToStart(e3) {
    return new _Fragment([e3].concat(this.content), this.size + e3.nodeSize);
  }
  addToEnd(e3) {
    return new _Fragment(this.content.concat(e3), this.size + e3.nodeSize);
  }
  eq(t) {
    if (this.content.length != t.content.length)
      return false;
    for (let e3 = 0; e3 < this.content.length; e3++)
      if (!this.content[e3].eq(t.content[e3]))
        return false;
    return true;
  }
  get firstChild() {
    return this.content.length ? this.content[0] : null;
  }
  get lastChild() {
    return this.content.length ? this.content[this.content.length - 1] : null;
  }
  get childCount() {
    return this.content.length;
  }
  child(e3) {
    var t = this.content[e3];
    if (t)
      return t;
    throw new RangeError("Index " + e3 + " out of range for " + this);
  }
  maybeChild(e3) {
    return this.content[e3] || null;
  }
  forEach(n) {
    for (let e3 = 0, t = 0; e3 < this.content.length; e3++) {
      var r = this.content[e3];
      n(r, t, e3), t += r.nodeSize;
    }
  }
  findDiffStart(e3, t = 0) {
    return findDiffStart(this, e3, t);
  }
  findDiffEnd(e3, t = this.size, n = e3.size) {
    return findDiffEnd(this, e3, t, n);
  }
  findIndex(n, r = -1) {
    if (0 == n)
      return retIndex(0, n);
    if (n == this.size)
      return retIndex(this.content.length, n);
    if (n > this.size || n < 0)
      throw new RangeError(`Position ${n} outside of fragment (${this})`);
    for (let e3 = 0, t = 0; ; e3++) {
      var o = this.child(e3), o = t + o.nodeSize;
      if (n <= o)
        return o == n || 0 < r ? retIndex(e3 + 1, o) : retIndex(e3, t);
      t = o;
    }
  }
  toString() {
    return "<" + this.toStringInner() + ">";
  }
  toStringInner() {
    return this.content.join(", ");
  }
  toJSON() {
    return this.content.length ? this.content.map((e3) => e3.toJSON()) : null;
  }
  static fromJSON(e3, t) {
    if (!t)
      return _Fragment.empty;
    if (Array.isArray(t))
      return new _Fragment(t.map(e3.nodeFromJSON));
    throw new RangeError("Invalid input for Fragment.fromJSON");
  }
  static fromArray(t) {
    if (!t.length)
      return _Fragment.empty;
    let n, r = 0;
    for (let e3 = 0; e3 < t.length; e3++) {
      var o = t[e3];
      r += o.nodeSize, e3 && o.isText && t[e3 - 1].sameMarkup(o) ? (n = n || t.slice(0, e3))[n.length - 1] = o.withText(n[n.length - 1].text + o.text) : n && n.push(o);
    }
    return new _Fragment(n || t, r);
  }
  static from(e3) {
    if (!e3)
      return _Fragment.empty;
    if (e3 instanceof _Fragment)
      return e3;
    if (Array.isArray(e3))
      return this.fromArray(e3);
    if (e3.attrs)
      return new _Fragment([e3], e3.nodeSize);
    throw new RangeError("Can not convert " + e3 + " to a Fragment" + (e3.nodesBetween ? " (looks like multiple versions of prosemirror-model were loaded)" : ""));
  }
};
Fragment2.empty = new Fragment2([], 0);
var found = { index: 0, offset: 0 };
function retIndex(e3, t) {
  return found.index = e3, found.offset = t, found;
}
function compareDeep(t, n) {
  if (t !== n) {
    if (!t || "object" != typeof t || !n || "object" != typeof n)
      return false;
    var e3 = Array.isArray(t);
    if (Array.isArray(n) != e3)
      return false;
    if (e3) {
      if (t.length != n.length)
        return false;
      for (let e4 = 0; e4 < t.length; e4++)
        if (!compareDeep(t[e4], n[e4]))
          return false;
    } else {
      for (var r in t)
        if (!(r in n && compareDeep(t[r], n[r])))
          return false;
      for (var o in n)
        if (!(o in t))
          return false;
    }
  }
  return true;
}
var Mark = class _Mark {
  constructor(e3, t) {
    this.type = e3, this.attrs = t;
  }
  addToSet(t) {
    let n, r = false;
    for (let e3 = 0; e3 < t.length; e3++) {
      var o = t[e3];
      if (this.eq(o))
        return t;
      if (this.type.excludes(o.type))
        n = n || t.slice(0, e3);
      else {
        if (o.type.excludes(this.type))
          return t;
        !r && o.type.rank > this.type.rank && ((n = n || t.slice(0, e3)).push(this), r = true), n && n.push(o);
      }
    }
    return n = n || t.slice(), r || n.push(this), n;
  }
  removeFromSet(t) {
    for (let e3 = 0; e3 < t.length; e3++)
      if (this.eq(t[e3]))
        return t.slice(0, e3).concat(t.slice(e3 + 1));
    return t;
  }
  isInSet(t) {
    for (let e3 = 0; e3 < t.length; e3++)
      if (this.eq(t[e3]))
        return true;
    return false;
  }
  eq(e3) {
    return this == e3 || this.type == e3.type && compareDeep(this.attrs, e3.attrs);
  }
  toJSON() {
    var e3, t = { type: this.type.name };
    for (e3 in this.attrs) {
      t.attrs = this.attrs;
      break;
    }
    return t;
  }
  static fromJSON(e3, t) {
    if (!t)
      throw new RangeError("Invalid input for Mark.fromJSON");
    e3 = e3.marks[t.type];
    if (e3)
      return e3.create(t.attrs);
    throw new RangeError(`There is no mark type ${t.type} in this schema`);
  }
  static sameSet(t, n) {
    if (t != n) {
      if (t.length != n.length)
        return false;
      for (let e3 = 0; e3 < t.length; e3++)
        if (!t[e3].eq(n[e3]))
          return false;
    }
    return true;
  }
  static setFrom(e3) {
    return !e3 || Array.isArray(e3) && 0 == e3.length ? _Mark.none : e3 instanceof _Mark ? [e3] : ((e3 = e3.slice()).sort((e4, t) => e4.type.rank - t.type.rank), e3);
  }
};
Mark.none = [];
var ReplaceError = class extends Error {
};
var Slice = class _Slice {
  constructor(e3, t, n) {
    this.content = e3, this.openStart = t, this.openEnd = n;
  }
  get size() {
    return this.content.size - this.openStart - this.openEnd;
  }
  insertAt(e3, t) {
    e3 = insertInto(this.content, e3 + this.openStart, t);
    return e3 && new _Slice(e3, this.openStart, this.openEnd);
  }
  removeBetween(e3, t) {
    return new _Slice(removeRange(this.content, e3 + this.openStart, t + this.openStart), this.openStart, this.openEnd);
  }
  eq(e3) {
    return this.content.eq(e3.content) && this.openStart == e3.openStart && this.openEnd == e3.openEnd;
  }
  toString() {
    return this.content + "(" + this.openStart + "," + this.openEnd + ")";
  }
  toJSON() {
    var e3;
    return this.content.size ? (e3 = { content: this.content.toJSON() }, 0 < this.openStart && (e3.openStart = this.openStart), 0 < this.openEnd && (e3.openEnd = this.openEnd), e3) : null;
  }
  static fromJSON(e3, t) {
    if (!t)
      return _Slice.empty;
    var n = t.openStart || 0, r = t.openEnd || 0;
    if ("number" != typeof n || "number" != typeof r)
      throw new RangeError("Invalid input for Slice.fromJSON");
    return new _Slice(Fragment2.fromJSON(e3, t.content), n, r);
  }
  static maxOpen(t, n = true) {
    let r = 0, o = 0;
    for (let e3 = t.firstChild; e3 && !e3.isLeaf && (n || !e3.type.spec.isolating); e3 = e3.firstChild)
      r++;
    for (let e3 = t.lastChild; e3 && !e3.isLeaf && (n || !e3.type.spec.isolating); e3 = e3.lastChild)
      o++;
    return new _Slice(t, r, o);
  }
};
function removeRange(e3, t, n) {
  var { index: r, offset: o } = e3.findIndex(t), i = e3.maybeChild(r), { index: a, offset: s } = e3.findIndex(n);
  if (o == t || i.isText) {
    if (s == n || e3.child(a).isText)
      return e3.cut(0, t).append(e3.cut(n));
    throw new RangeError("Removing non-flat range");
  }
  if (r != a)
    throw new RangeError("Removing non-flat range");
  return e3.replaceChild(r, i.copy(removeRange(i.content, t - o - 1, n - o - 1)));
}
function insertInto(e3, t, n, r) {
  var { index: o, offset: i } = e3.findIndex(t), a = e3.maybeChild(o);
  return i == t || a.isText ? r && !r.canReplace(o, o, n) ? null : e3.cut(0, t).append(n).append(e3.cut(t)) : (r = insertInto(a.content, t - i - 1, n)) && e3.replaceChild(o, a.copy(r));
}
function replace(e3, t, n) {
  if (n.openStart > e3.depth)
    throw new ReplaceError("Inserted content deeper than insertion position");
  if (e3.depth - n.openStart != t.depth - n.openEnd)
    throw new ReplaceError("Inconsistent open depths");
  return replaceOuter(e3, t, n, 0);
}
function replaceOuter(e3, t, n, r) {
  var o, i = e3.index(r), a = e3.node(r);
  return i == t.index(r) && r < e3.depth - n.openStart ? (o = replaceOuter(e3, t, n, r + 1), a.copy(a.content.replaceChild(i, o))) : n.content.size ? n.openStart || n.openEnd || e3.depth != r || t.depth != r ? ({ start: i, end: o } = prepareSliceForReplace(n, e3), close(a, replaceThreeWay(e3, i, o, t, r))) : close(i = e3.parent, (o = i.content).cut(0, e3.parentOffset).append(n.content).append(o.cut(t.parentOffset))) : close(a, replaceTwoWay(e3, t, r));
}
function checkJoin(e3, t) {
  if (!t.type.compatibleContent(e3.type))
    throw new ReplaceError("Cannot join " + t.type.name + " onto " + e3.type.name);
}
function joinable$1(e3, t, n) {
  e3 = e3.node(n);
  return checkJoin(e3, t.node(n)), e3;
}
function addNode(e3, t) {
  var n = t.length - 1;
  0 <= n && e3.isText && e3.sameMarkup(t[n]) ? t[n] = e3.withText(t[n].text + e3.text) : t.push(e3);
}
function addRange(e3, t, n, r) {
  var o = (t || e3).node(n);
  let i = 0, a = t ? t.index(n) : o.childCount;
  e3 && (i = e3.index(n), e3.depth > n ? i++ : e3.textOffset && (addNode(e3.nodeAfter, r), i++));
  for (let e4 = i; e4 < a; e4++)
    addNode(o.child(e4), r);
  t && t.depth == n && t.textOffset && addNode(t.nodeBefore, r);
}
function close(e3, t) {
  return e3.type.checkContent(t), e3.copy(t);
}
function replaceThreeWay(e3, t, n, r, o) {
  var i = e3.depth > o && joinable$1(e3, t, o + 1), a = r.depth > o && joinable$1(n, r, o + 1), s = [];
  return addRange(null, e3, o, s), i && a && t.index(o) == n.index(o) ? (checkJoin(i, a), addNode(close(i, replaceThreeWay(e3, t, n, r, o + 1)), s)) : (i && addNode(close(i, replaceTwoWay(e3, t, o + 1)), s), addRange(t, n, o, s), a && addNode(close(a, replaceTwoWay(n, r, o + 1)), s)), addRange(r, null, o, s), new Fragment2(s);
}
function replaceTwoWay(e3, t, n) {
  var r = [];
  return addRange(null, e3, n, r), e3.depth > n && addNode(close(joinable$1(e3, t, n + 1), replaceTwoWay(e3, t, n + 1)), r), addRange(t, null, n, r), new Fragment2(r);
}
function prepareSliceForReplace(e3, t) {
  var n = t.depth - e3.openStart;
  let r = t.node(n).copy(e3.content);
  for (let e4 = n - 1; 0 <= e4; e4--)
    r = t.node(e4).copy(Fragment2.from(r));
  return { start: r.resolveNoCache(e3.openStart + n), end: r.resolveNoCache(r.content.size - e3.openEnd - n) };
}
Slice.empty = new Slice(Fragment2.empty, 0, 0);
var ResolvedPos = class _ResolvedPos {
  constructor(e3, t, n) {
    this.pos = e3, this.path = t, this.parentOffset = n, this.depth = t.length / 3 - 1;
  }
  resolveDepth(e3) {
    return null == e3 ? this.depth : e3 < 0 ? this.depth + e3 : e3;
  }
  get parent() {
    return this.node(this.depth);
  }
  get doc() {
    return this.node(0);
  }
  node(e3) {
    return this.path[3 * this.resolveDepth(e3)];
  }
  index(e3) {
    return this.path[3 * this.resolveDepth(e3) + 1];
  }
  indexAfter(e3) {
    return e3 = this.resolveDepth(e3), this.index(e3) + (e3 != this.depth || this.textOffset ? 1 : 0);
  }
  start(e3) {
    return 0 == (e3 = this.resolveDepth(e3)) ? 0 : this.path[3 * e3 - 1] + 1;
  }
  end(e3) {
    return e3 = this.resolveDepth(e3), this.start(e3) + this.node(e3).content.size;
  }
  before(e3) {
    if (e3 = this.resolveDepth(e3))
      return e3 == this.depth + 1 ? this.pos : this.path[3 * e3 - 1];
    throw new RangeError("There is no position before the top-level node");
  }
  after(e3) {
    if (e3 = this.resolveDepth(e3))
      return e3 == this.depth + 1 ? this.pos : this.path[3 * e3 - 1] + this.path[3 * e3].nodeSize;
    throw new RangeError("There is no position after the top-level node");
  }
  get textOffset() {
    return this.pos - this.path[this.path.length - 1];
  }
  get nodeAfter() {
    var e3, t, n = this.parent, r = this.index(this.depth);
    return r == n.childCount ? null : (e3 = this.pos - this.path[this.path.length - 1], t = n.child(r), e3 ? n.child(r).cut(e3) : t);
  }
  get nodeBefore() {
    var e3 = this.index(this.depth), t = this.pos - this.path[this.path.length - 1];
    return t ? this.parent.child(e3).cut(0, t) : 0 == e3 ? null : this.parent.child(e3 - 1);
  }
  posAtIndex(t, e3) {
    e3 = this.resolveDepth(e3);
    let n = this.path[3 * e3], r = 0 == e3 ? 0 : this.path[3 * e3 - 1] + 1;
    for (let e4 = 0; e4 < t; e4++)
      r += n.child(e4).nodeSize;
    return r;
  }
  marks() {
    var e3 = this.parent, t = this.index();
    if (0 == e3.content.size)
      return Mark.none;
    if (this.textOffset)
      return e3.child(t).marks;
    let n = e3.maybeChild(t - 1), r = e3.maybeChild(t), o = (n || (e3 = n, n = r, r = e3), n.marks);
    for (var i = 0; i < o.length; i++)
      false !== o[i].type.spec.inclusive || r && o[i].isInSet(r.marks) || (o = o[i--].removeFromSet(o));
    return o;
  }
  marksAcross(e3) {
    var t = this.parent.maybeChild(this.index());
    if (!t || !t.isInline)
      return null;
    let n = t.marks, r = e3.parent.maybeChild(e3.index());
    for (var o = 0; o < n.length; o++)
      false !== n[o].type.spec.inclusive || r && n[o].isInSet(r.marks) || (n = n[o--].removeFromSet(n));
    return n;
  }
  sharedDepth(t) {
    for (let e3 = this.depth; 0 < e3; e3--)
      if (this.start(e3) <= t && this.end(e3) >= t)
        return e3;
    return 0;
  }
  blockRange(t = this, n) {
    if (t.pos < this.pos)
      return t.blockRange(this);
    for (let e3 = this.depth - (this.parent.inlineContent || this.pos == t.pos ? 1 : 0); 0 <= e3; e3--)
      if (t.pos <= this.end(e3) && (!n || n(this.node(e3))))
        return new NodeRange(this, t, e3);
    return null;
  }
  sameParent(e3) {
    return this.pos - this.parentOffset == e3.pos - e3.parentOffset;
  }
  max(e3) {
    return e3.pos > this.pos ? e3 : this;
  }
  min(e3) {
    return e3.pos < this.pos ? e3 : this;
  }
  toString() {
    let t = "";
    for (let e3 = 1; e3 <= this.depth; e3++)
      t += (t ? "/" : "") + this.node(e3).type.name + "_" + this.index(e3 - 1);
    return t + ":" + this.parentOffset;
  }
  static resolve(t, e3) {
    if (!(0 <= e3 && e3 <= t.content.size))
      throw new RangeError("Position " + e3 + " out of range");
    var n = [];
    let r = 0, o = e3;
    for (let e4 = t; ; ) {
      var { index: i, offset: a } = e4.content.findIndex(o), s = o - a;
      if (n.push(e4, i, r + a), !s)
        break;
      if ((e4 = e4.child(i)).isText)
        break;
      o = s - 1, r += a + 1;
    }
    return new _ResolvedPos(e3, n, o);
  }
  static resolveCached(t, n) {
    for (let e4 = 0; e4 < resolveCache.length; e4++) {
      var r = resolveCache[e4];
      if (r.pos == n && r.doc == t)
        return r;
    }
    var e3 = resolveCache[resolveCachePos] = _ResolvedPos.resolve(t, n);
    return resolveCachePos = (resolveCachePos + 1) % resolveCacheSize, e3;
  }
};
var resolveCache = [];
var resolveCachePos = 0;
var resolveCacheSize = 12;
var NodeRange = class {
  constructor(e3, t, n) {
    this.$from = e3, this.$to = t, this.depth = n;
  }
  get start() {
    return this.$from.before(this.depth + 1);
  }
  get end() {
    return this.$to.after(this.depth + 1);
  }
  get parent() {
    return this.$from.node(this.depth);
  }
  get startIndex() {
    return this.$from.index(this.depth);
  }
  get endIndex() {
    return this.$to.indexAfter(this.depth);
  }
};
var emptyAttrs = /* @__PURE__ */ Object.create(null);
var Node = class _Node {
  constructor(e3, t, n, r = Mark.none) {
    this.type = e3, this.attrs = t, this.marks = r, this.content = n || Fragment2.empty;
  }
  get nodeSize() {
    return this.isLeaf ? 1 : 2 + this.content.size;
  }
  get childCount() {
    return this.content.childCount;
  }
  child(e3) {
    return this.content.child(e3);
  }
  maybeChild(e3) {
    return this.content.maybeChild(e3);
  }
  forEach(e3) {
    this.content.forEach(e3);
  }
  nodesBetween(e3, t, n, r = 0) {
    this.content.nodesBetween(e3, t, n, r, this);
  }
  descendants(e3) {
    this.nodesBetween(0, this.content.size, e3);
  }
  get textContent() {
    return this.isLeaf && this.type.spec.leafText ? this.type.spec.leafText(this) : this.textBetween(0, this.content.size, "");
  }
  textBetween(e3, t, n, r) {
    return this.content.textBetween(e3, t, n, r);
  }
  get firstChild() {
    return this.content.firstChild;
  }
  get lastChild() {
    return this.content.lastChild;
  }
  eq(e3) {
    return this == e3 || this.sameMarkup(e3) && this.content.eq(e3.content);
  }
  sameMarkup(e3) {
    return this.hasMarkup(e3.type, e3.attrs, e3.marks);
  }
  hasMarkup(e3, t, n) {
    return this.type == e3 && compareDeep(this.attrs, t || e3.defaultAttrs || emptyAttrs) && Mark.sameSet(this.marks, n || Mark.none);
  }
  copy(e3 = null) {
    return e3 == this.content ? this : new _Node(this.type, this.attrs, e3, this.marks);
  }
  mark(e3) {
    return e3 == this.marks ? this : new _Node(this.type, this.attrs, this.content, e3);
  }
  cut(e3, t = this.content.size) {
    return 0 == e3 && t == this.content.size ? this : this.copy(this.content.cut(e3, t));
  }
  slice(e3, t = this.content.size, n = false) {
    var r;
    return e3 == t ? Slice.empty : (e3 = this.resolve(e3), r = this.resolve(t), n = n ? 0 : e3.sharedDepth(t), t = e3.start(n), t = e3.node(n).content.cut(e3.pos - t, r.pos - t), new Slice(t, e3.depth - n, r.depth - n));
  }
  replace(e3, t, n) {
    return replace(this.resolve(e3), this.resolve(t), n);
  }
  nodeAt(t) {
    for (let e3 = this; ; ) {
      var { index: n, offset: r } = e3.content.findIndex(t);
      if (!(e3 = e3.maybeChild(n)))
        return null;
      if (r == t || e3.isText)
        return e3;
      t -= r + 1;
    }
  }
  childAfter(e3) {
    var { index: e3, offset: t } = this.content.findIndex(e3);
    return { node: this.content.maybeChild(e3), index: e3, offset: t };
  }
  childBefore(e3) {
    var t, n;
    return 0 == e3 ? { node: null, index: 0, offset: 0 } : ({ index: t, offset: n } = this.content.findIndex(e3), n < e3 ? { node: this.content.child(t), index: t, offset: n } : { node: e3 = this.content.child(t - 1), index: t - 1, offset: n - e3.nodeSize });
  }
  resolve(e3) {
    return ResolvedPos.resolveCached(this, e3);
  }
  resolveNoCache(e3) {
    return ResolvedPos.resolve(this, e3);
  }
  rangeHasMark(e3, t, n) {
    let r = false;
    return e3 < t && this.nodesBetween(e3, t, (e4) => !(r = n.isInSet(e4.marks) ? true : r)), r;
  }
  get isBlock() {
    return this.type.isBlock;
  }
  get isTextblock() {
    return this.type.isTextblock;
  }
  get inlineContent() {
    return this.type.inlineContent;
  }
  get isInline() {
    return this.type.isInline;
  }
  get isText() {
    return this.type.isText;
  }
  get isLeaf() {
    return this.type.isLeaf;
  }
  get isAtom() {
    return this.type.isAtom;
  }
  toString() {
    if (this.type.spec.toDebugString)
      return this.type.spec.toDebugString(this);
    let e3 = this.type.name;
    return this.content.size && (e3 += "(" + this.content.toStringInner() + ")"), wrapMarks(this.marks, e3);
  }
  contentMatchAt(e3) {
    e3 = this.type.contentMatch.matchFragment(this.content, 0, e3);
    if (e3)
      return e3;
    throw new Error("Called contentMatchAt on a node with invalid content");
  }
  canReplace(e3, t, n = Fragment2.empty, r = 0, o = n.childCount) {
    e3 = this.contentMatchAt(e3).matchFragment(n, r, o), e3 = e3 && e3.matchFragment(this.content, t);
    if (!e3 || !e3.validEnd)
      return false;
    for (let e4 = r; e4 < o; e4++)
      if (!this.type.allowsMarks(n.child(e4).marks))
        return false;
    return true;
  }
  canReplaceWith(e3, t, n, r) {
    return !(r && !this.type.allowsMarks(r) || !(e3 = (r = this.contentMatchAt(e3).matchType(n)) && r.matchFragment(this.content, t))) && e3.validEnd;
  }
  canAppend(e3) {
    return e3.content.size ? this.canReplace(this.childCount, this.childCount, e3.content) : this.type.compatibleContent(e3.type);
  }
  check() {
    this.type.checkContent(this.content);
    let t = Mark.none;
    for (let e3 = 0; e3 < this.marks.length; e3++)
      t = this.marks[e3].addToSet(t);
    if (!Mark.sameSet(t, this.marks))
      throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ` + this.marks.map((e3) => e3.type.name));
    this.content.forEach((e3) => e3.check());
  }
  toJSON() {
    var e3, t = { type: this.type.name };
    for (e3 in this.attrs) {
      t.attrs = this.attrs;
      break;
    }
    return this.content.size && (t.content = this.content.toJSON()), this.marks.length && (t.marks = this.marks.map((e4) => e4.toJSON())), t;
  }
  static fromJSON(e3, t) {
    if (!t)
      throw new RangeError("Invalid input for Node.fromJSON");
    let n = null;
    if (t.marks) {
      if (!Array.isArray(t.marks))
        throw new RangeError("Invalid mark data for Node.fromJSON");
      n = t.marks.map(e3.markFromJSON);
    }
    if ("text" == t.type) {
      if ("string" != typeof t.text)
        throw new RangeError("Invalid text node in JSON");
      return e3.text(t.text, n);
    }
    var r = Fragment2.fromJSON(e3, t.content);
    return e3.nodeType(t.type).create(t.attrs, r, n);
  }
};
Node.prototype.text = void 0;
var TextNode = class _TextNode extends Node {
  constructor(e3, t, n, r) {
    if (super(e3, t, null, r), !n)
      throw new RangeError("Empty text nodes are not allowed");
    this.text = n;
  }
  toString() {
    return this.type.spec.toDebugString ? this.type.spec.toDebugString(this) : wrapMarks(this.marks, JSON.stringify(this.text));
  }
  get textContent() {
    return this.text;
  }
  textBetween(e3, t) {
    return this.text.slice(e3, t);
  }
  get nodeSize() {
    return this.text.length;
  }
  mark(e3) {
    return e3 == this.marks ? this : new _TextNode(this.type, this.attrs, this.text, e3);
  }
  withText(e3) {
    return e3 == this.text ? this : new _TextNode(this.type, this.attrs, e3, this.marks);
  }
  cut(e3 = 0, t = this.text.length) {
    return 0 == e3 && t == this.text.length ? this : this.withText(this.text.slice(e3, t));
  }
  eq(e3) {
    return this.sameMarkup(e3) && this.text == e3.text;
  }
  toJSON() {
    var e3 = super.toJSON();
    return e3.text = this.text, e3;
  }
};
function wrapMarks(t, n) {
  for (let e3 = t.length - 1; 0 <= e3; e3--)
    n = t[e3].type.name + "(" + n + ")";
  return n;
}
var ContentMatch = class _ContentMatch {
  constructor(e3) {
    this.validEnd = e3, this.next = [], this.wrapCache = [];
  }
  static parse(e3, t) {
    e3 = new TokenStream(e3, t);
    return null == e3.next ? _ContentMatch.empty : (t = parseExpr(e3), e3.next && e3.err("Unexpected trailing text"), checkForDeadEnds(t = dfa(nfa(t)), e3), t);
  }
  matchType(t) {
    for (let e3 = 0; e3 < this.next.length; e3++)
      if (this.next[e3].type == t)
        return this.next[e3].next;
    return null;
  }
  matchFragment(t, n = 0, r = t.childCount) {
    let o = this;
    for (let e3 = n; o && e3 < r; e3++)
      o = o.matchType(t.child(e3).type);
    return o;
  }
  get inlineContent() {
    return 0 != this.next.length && this.next[0].type.isInline;
  }
  get defaultType() {
    for (let e3 = 0; e3 < this.next.length; e3++) {
      var t = this.next[e3]["type"];
      if (!t.isText && !t.hasRequiredAttrs())
        return t;
    }
    return null;
  }
  compatible(n) {
    for (let t = 0; t < this.next.length; t++)
      for (let e3 = 0; e3 < n.next.length; e3++)
        if (this.next[t].type == n.next[e3].type)
          return true;
    return false;
  }
  fillBefore(a, s = false, l = 0) {
    let c = [this];
    return function t(n, r) {
      var e3 = n.matchFragment(a, l);
      if (e3 && (!s || e3.validEnd))
        return Fragment2.from(r.map((e4) => e4.createAndFill()));
      for (let e4 = 0; e4 < n.next.length; e4++) {
        var { type: o, next: i } = n.next[e4];
        if (!o.isText && !o.hasRequiredAttrs() && -1 == c.indexOf(i) && (c.push(i), i = t(i, r.concat(o))))
          return i;
      }
      return null;
    }(this, []);
  }
  findWrapping(t) {
    for (let e4 = 0; e4 < this.wrapCache.length; e4 += 2)
      if (this.wrapCache[e4] == t)
        return this.wrapCache[e4 + 1];
    var e3 = this.computeWrapping(t);
    return this.wrapCache.push(t, e3), e3;
  }
  computeWrapping(e3) {
    for (var t = /* @__PURE__ */ Object.create(null), n = [{ match: this, type: null, via: null }]; n.length; ) {
      var r = n.shift(), o = r.match;
      if (o.matchType(e3)) {
        var i = [];
        for (let e4 = r; e4.type; e4 = e4.via)
          i.push(e4.type);
        return i.reverse();
      }
      for (let e4 = 0; e4 < o.next.length; e4++) {
        var { type: a, next: s } = o.next[e4];
        a.isLeaf || a.hasRequiredAttrs() || a.name in t || r.type && !s.validEnd || (n.push({ match: a.contentMatch, type: a, via: r }), t[a.name] = true);
      }
    }
    return null;
  }
  get edgeCount() {
    return this.next.length;
  }
  edge(e3) {
    if (e3 >= this.next.length)
      throw new RangeError(`There's no ${e3}th edge in this content match`);
    return this.next[e3];
  }
  toString() {
    let r = [];
    return function t(n) {
      r.push(n);
      for (let e3 = 0; e3 < n.next.length; e3++)
        -1 == r.indexOf(n.next[e3].next) && t(n.next[e3].next);
    }(this), r.map((t, e3) => {
      let n = e3 + (t.validEnd ? "*" : " ") + " ";
      for (let e4 = 0; e4 < t.next.length; e4++)
        n += (e4 ? ", " : "") + t.next[e4].type.name + "->" + r.indexOf(t.next[e4].next);
      return n;
    }).join("\n");
  }
};
ContentMatch.empty = new ContentMatch(true);
var TokenStream = class {
  constructor(e3, t) {
    this.string = e3, this.nodeTypes = t, this.inline = null, this.pos = 0, this.tokens = e3.split(/\s*(?=\b|\W|$)/), "" == this.tokens[this.tokens.length - 1] && this.tokens.pop(), "" == this.tokens[0] && this.tokens.shift();
  }
  get next() {
    return this.tokens[this.pos];
  }
  eat(e3) {
    return this.next == e3 && (this.pos++ || true);
  }
  err(e3) {
    throw new SyntaxError(e3 + " (in content expression '" + this.string + "')");
  }
};
function parseExpr(e3) {
  for (var t = []; t.push(parseExprSeq(e3)), e3.eat("|"); )
    ;
  return 1 == t.length ? t[0] : { type: "choice", exprs: t };
}
function parseExprSeq(e3) {
  for (var t = []; t.push(parseExprSubscript(e3)), e3.next && ")" != e3.next && "|" != e3.next; )
    ;
  return 1 == t.length ? t[0] : { type: "seq", exprs: t };
}
function parseExprSubscript(e3) {
  let t = parseExprAtom(e3);
  for (; ; )
    if (e3.eat("+"))
      t = { type: "plus", expr: t };
    else if (e3.eat("*"))
      t = { type: "star", expr: t };
    else if (e3.eat("?"))
      t = { type: "opt", expr: t };
    else {
      if (!e3.eat("{"))
        break;
      t = parseExprRange(e3, t);
    }
  return t;
}
function parseNum(e3) {
  /\D/.test(e3.next) && e3.err("Expected number, got '" + e3.next + "'");
  var t = Number(e3.next);
  return e3.pos++, t;
}
function parseExprRange(e3, t) {
  let n = parseNum(e3), r = n;
  return e3.eat(",") && (r = "}" != e3.next ? parseNum(e3) : -1), e3.eat("}") || e3.err("Unclosed braced range"), { type: "range", min: n, max: r, expr: t };
}
function resolveName(e3, t) {
  var n = e3.nodeTypes, r = n[t];
  if (r)
    return [r];
  var o, i = [];
  for (o in n) {
    var a = n[o];
    -1 < a.groups.indexOf(t) && i.push(a);
  }
  return 0 == i.length && e3.err("No node type or group '" + t + "' found"), i;
}
function parseExprAtom(t) {
  var e3;
  return t.eat("(") ? (e3 = parseExpr(t), t.eat(")") || t.err("Missing closing paren"), e3) : /\W/.test(t.next) ? void t.err("Unexpected token '" + t.next + "'") : (e3 = resolveName(t, t.next).map((e4) => (null == t.inline ? t.inline = e4.isInline : t.inline != e4.isInline && t.err("Mixing inline and block content"), { type: "name", value: e4 })), t.pos++, 1 == e3.length ? e3[0] : { type: "choice", exprs: e3 });
}
function nfa(e3) {
  let r = [[]];
  return s(function n(r2, o) {
    {
      if ("choice" == r2.type)
        return r2.exprs.reduce((e4, t) => e4.concat(n(t, o)), []);
      if ("seq" != r2.type) {
        if ("star" == r2.type) {
          let e4 = i();
          return a(o, e4), s(n(r2.expr, e4), e4), [a(e4)];
        }
        if ("plus" == r2.type) {
          let e4 = i();
          return s(n(r2.expr, o), e4), s(n(r2.expr, e4), e4), [a(e4)];
        }
        if ("opt" == r2.type)
          return [a(o)].concat(n(r2.expr, o));
        if ("range" == r2.type) {
          let t = o;
          for (let e4 = 0; e4 < r2.min; e4++) {
            let e5 = i();
            s(n(r2.expr, t), e5), t = e5;
          }
          if (-1 == r2.max)
            s(n(r2.expr, t), t);
          else
            for (let e4 = r2.min; e4 < r2.max; e4++) {
              let e5 = i();
              a(t, e5), s(n(r2.expr, t), e5), t = e5;
            }
          return [a(t)];
        }
        if ("name" == r2.type)
          return [a(o, void 0, r2.value)];
        throw new Error("Unknown expr type");
      }
      for (let t = 0; ; t++) {
        let e4 = n(r2.exprs[t], o);
        if (t == r2.exprs.length - 1)
          return e4;
        s(e4, o = i());
      }
    }
  }(e3, 0), i()), r;
  function i() {
    return r.push([]) - 1;
  }
  function a(e4, t, n) {
    n = { term: n, to: t };
    return r[e4].push(n), n;
  }
  function s(e4, t) {
    e4.forEach((e5) => e5.to = t);
  }
}
function cmp(e3, t) {
  return t - e3;
}
function nullFrom(t, e3) {
  let i = [];
  return function r(e4) {
    let o = t[e4];
    if (1 == o.length && !o[0].term)
      return r(o[0].to);
    i.push(e4);
    for (let n = 0; n < o.length; n++) {
      let { term: e5, to: t2 } = o[n];
      e5 || -1 != i.indexOf(t2) || r(t2);
    }
  }(e3), i.sort(cmp);
}
function dfa(i) {
  let a = /* @__PURE__ */ Object.create(null);
  return function n(e3) {
    let r = [];
    e3.forEach((e4) => {
      i[e4].forEach(({ term: n2, to: e5 }) => {
        if (n2) {
          let t;
          for (let e6 = 0; e6 < r.length; e6++)
            r[e6][0] == n2 && (t = r[e6][1]);
          nullFrom(i, e5).forEach((e6) => {
            t || r.push([n2, t = []]), -1 == t.indexOf(e6) && t.push(e6);
          });
        }
      });
    });
    let o = a[e3.join(",")] = new ContentMatch(-1 < e3.indexOf(i.length - 1));
    for (let t = 0; t < r.length; t++) {
      let e4 = r[t][1].sort(cmp);
      o.next.push({ type: r[t][0], next: a[e4.join(",")] || n(e4) });
    }
    return o;
  }(nullFrom(i, 0));
}
function checkForDeadEnds(t, i) {
  for (let e3 = 0, o = [t]; e3 < o.length; e3++) {
    let t2 = o[e3], n = !t2.validEnd, r = [];
    for (let e4 = 0; e4 < t2.next.length; e4++) {
      var { type: a, next: s } = t2.next[e4];
      r.push(a.name), !n || a.isText || a.hasRequiredAttrs() || (n = false), -1 == o.indexOf(s) && o.push(s);
    }
    n && i.err("Only non-generatable nodes (" + r.join(", ") + ") in a required position (see https://prosemirror.net/docs/guide/#generatable)");
  }
}
function defaultAttrs(e3) {
  var t, n = /* @__PURE__ */ Object.create(null);
  for (t in e3) {
    var r = e3[t];
    if (!r.hasDefault)
      return null;
    n[t] = r.default;
  }
  return n;
}
function computeAttrs(t, n) {
  var r, o = /* @__PURE__ */ Object.create(null);
  for (r in t) {
    let e3 = n && n[r];
    if (void 0 === e3) {
      var i = t[r];
      if (!i.hasDefault)
        throw new RangeError("No value supplied for attribute " + r);
      e3 = i.default;
    }
    o[r] = e3;
  }
  return o;
}
function initAttrs(e3) {
  var t = /* @__PURE__ */ Object.create(null);
  if (e3)
    for (var n in e3)
      t[n] = new Attribute(e3[n]);
  return t;
}
var NodeType$1 = class _NodeType$1 {
  constructor(e3, t, n) {
    this.name = e3, this.schema = t, this.spec = n, this.markSet = null, this.groups = n.group ? n.group.split(" ") : [], this.attrs = initAttrs(n.attrs), this.defaultAttrs = defaultAttrs(this.attrs), this.contentMatch = null, this.inlineContent = null, this.isBlock = !(n.inline || "text" == e3), this.isText = "text" == e3;
  }
  get isInline() {
    return !this.isBlock;
  }
  get isTextblock() {
    return this.isBlock && this.inlineContent;
  }
  get isLeaf() {
    return this.contentMatch == ContentMatch.empty;
  }
  get isAtom() {
    return this.isLeaf || !!this.spec.atom;
  }
  get whitespace() {
    return this.spec.whitespace || (this.spec.code ? "pre" : "normal");
  }
  hasRequiredAttrs() {
    for (var e3 in this.attrs)
      if (this.attrs[e3].isRequired)
        return true;
    return false;
  }
  compatibleContent(e3) {
    return this == e3 || this.contentMatch.compatible(e3.contentMatch);
  }
  computeAttrs(e3) {
    return !e3 && this.defaultAttrs ? this.defaultAttrs : computeAttrs(this.attrs, e3);
  }
  create(e3 = null, t, n) {
    if (this.isText)
      throw new Error("NodeType.create can't construct text nodes");
    return new Node(this, this.computeAttrs(e3), Fragment2.from(t), Mark.setFrom(n));
  }
  createChecked(e3 = null, t, n) {
    return t = Fragment2.from(t), this.checkContent(t), new Node(this, this.computeAttrs(e3), t, Mark.setFrom(n));
  }
  createAndFill(e3 = null, t, n) {
    if (e3 = this.computeAttrs(e3), (t = Fragment2.from(t)).size) {
      var r = this.contentMatch.fillBefore(t);
      if (!r)
        return null;
      t = r.append(t);
    }
    r = this.contentMatch.matchFragment(t), r = r && r.fillBefore(Fragment2.empty, true);
    return r ? new Node(this, e3, t.append(r), Mark.setFrom(n)) : null;
  }
  validContent(t) {
    var e3 = this.contentMatch.matchFragment(t);
    if (!e3 || !e3.validEnd)
      return false;
    for (let e4 = 0; e4 < t.childCount; e4++)
      if (!this.allowsMarks(t.child(e4).marks))
        return false;
    return true;
  }
  checkContent(e3) {
    if (!this.validContent(e3))
      throw new RangeError(`Invalid content for node ${this.name}: ` + e3.toString().slice(0, 50));
  }
  allowsMarkType(e3) {
    return null == this.markSet || -1 < this.markSet.indexOf(e3);
  }
  allowsMarks(t) {
    if (null != this.markSet) {
      for (let e3 = 0; e3 < t.length; e3++)
        if (!this.allowsMarkType(t[e3].type))
          return false;
    }
    return true;
  }
  allowedMarks(t) {
    if (null == this.markSet)
      return t;
    let n;
    for (let e3 = 0; e3 < t.length; e3++)
      this.allowsMarkType(t[e3].type) ? n && n.push(t[e3]) : n = n || t.slice(0, e3);
    return n ? n.length ? n : Mark.none : t;
  }
  static compile(e3, n) {
    let r = /* @__PURE__ */ Object.create(null);
    e3.forEach((e4, t2) => r[e4] = new _NodeType$1(e4, n, t2));
    var t, e3 = n.spec.topNode || "doc";
    if (!r[e3])
      throw new RangeError("Schema is missing its top node type ('" + e3 + "')");
    if (!r.text)
      throw new RangeError("Every schema needs a 'text' type");
    for (t in r.text.attrs)
      throw new RangeError("The text node type should not have attributes");
    return r;
  }
};
var Attribute = class {
  constructor(e3) {
    this.hasDefault = Object.prototype.hasOwnProperty.call(e3, "default"), this.default = e3.default;
  }
  get isRequired() {
    return !this.hasDefault;
  }
};
var MarkType = class _MarkType {
  constructor(e3, t, n, r) {
    this.name = e3, this.rank = t, this.schema = n, this.spec = r, this.attrs = initAttrs(r.attrs), this.excluded = null;
    e3 = defaultAttrs(this.attrs);
    this.instance = e3 ? new Mark(this, e3) : null;
  }
  create(e3 = null) {
    return !e3 && this.instance ? this.instance : new Mark(this, computeAttrs(this.attrs, e3));
  }
  static compile(e3, n) {
    let r = /* @__PURE__ */ Object.create(null), o = 0;
    return e3.forEach((e4, t) => r[e4] = new _MarkType(e4, o++, n, t)), r;
  }
  removeFromSet(e3) {
    for (var t = 0; t < e3.length; t++)
      e3[t].type == this && (e3 = e3.slice(0, t).concat(e3.slice(t + 1)), t--);
    return e3;
  }
  isInSet(t) {
    for (let e3 = 0; e3 < t.length; e3++)
      if (t[e3].type == this)
        return t[e3];
  }
  excludes(e3) {
    return -1 < this.excluded.indexOf(e3);
  }
};
var Schema = class {
  constructor(e3) {
    this.cached = /* @__PURE__ */ Object.create(null);
    var t, n = this.spec = {};
    for (t in e3)
      n[t] = e3[t];
    n.nodes = OrderedMap.from(e3.nodes), n.marks = OrderedMap.from(e3.marks || {}), this.nodes = NodeType$1.compile(this.spec.nodes, this), this.marks = MarkType.compile(this.spec.marks, this);
    var r, o, i = /* @__PURE__ */ Object.create(null);
    for (r in this.nodes) {
      if (r in this.marks)
        throw new RangeError(r + " can not be both a node and a mark");
      var a = this.nodes[r], s = a.spec.content || "", l = a.spec.marks;
      a.contentMatch = i[s] || (i[s] = ContentMatch.parse(s, this.nodes)), a.inlineContent = a.contentMatch.inlineContent, a.markSet = "_" == l ? null : l ? gatherMarks(this, l.split(" ")) : "" != l && a.inlineContent ? null : [];
    }
    for (o in this.marks) {
      var c = this.marks[o], u = c.spec.excludes;
      c.excluded = null == u ? [c] : "" == u ? [] : gatherMarks(this, u.split(" "));
    }
    this.nodeFromJSON = this.nodeFromJSON.bind(this), this.markFromJSON = this.markFromJSON.bind(this), this.topNodeType = this.nodes[this.spec.topNode || "doc"], this.cached.wrappings = /* @__PURE__ */ Object.create(null);
  }
  node(e3, t = null, n, r) {
    if ("string" == typeof e3)
      e3 = this.nodeType(e3);
    else {
      if (!(e3 instanceof NodeType$1))
        throw new RangeError("Invalid node type: " + e3);
      if (e3.schema != this)
        throw new RangeError("Node type from different schema used (" + e3.name + ")");
    }
    return e3.createChecked(t, n, r);
  }
  text(e3, t) {
    var n = this.nodes.text;
    return new TextNode(n, n.defaultAttrs, e3, Mark.setFrom(t));
  }
  mark(e3, t) {
    return (e3 = "string" == typeof e3 ? this.marks[e3] : e3).create(t);
  }
  nodeFromJSON(e3) {
    return Node.fromJSON(this, e3);
  }
  markFromJSON(e3) {
    return Mark.fromJSON(this, e3);
  }
  nodeType(e3) {
    var t = this.nodes[e3];
    if (t)
      return t;
    throw new RangeError("Unknown node type: " + e3);
  }
};
function gatherMarks(o, i) {
  var a = [];
  for (let r = 0; r < i.length; r++) {
    let e3 = i[r], t = o.marks[e3], n = t;
    if (t)
      a.push(t);
    else
      for (var s in o.marks) {
        s = o.marks[s];
        ("_" == e3 || s.spec.group && -1 < s.spec.group.split(" ").indexOf(e3)) && a.push(n = s);
      }
    if (!n)
      throw new SyntaxError("Unknown mark type: '" + i[r] + "'");
  }
  return a;
}
var DOMParser$1 = class _DOMParser$1 {
  constructor(t, e3) {
    this.schema = t, this.rules = e3, this.tags = [], this.styles = [], e3.forEach((e4) => {
      e4.tag ? this.tags.push(e4) : e4.style && this.styles.push(e4);
    }), this.normalizeLists = !this.tags.some((e4) => {
      return !(!/^(ul|ol)\b/.test(e4.tag) || !e4.node) && (e4 = t.nodes[e4.node]).contentMatch.matchType(e4);
    });
  }
  parse(e3, t = {}) {
    var n = new ParseContext(this, t, false);
    return n.addAll(e3, t.from, t.to), n.finish();
  }
  parseSlice(e3, t = {}) {
    var n = new ParseContext(this, t, true);
    return n.addAll(e3, t.from, t.to), Slice.maxOpen(n.finish());
  }
  matchTag(t, n, r) {
    for (let e3 = r ? this.tags.indexOf(r) + 1 : 0; e3 < this.tags.length; e3++) {
      var o = this.tags[e3];
      if (matches(t, o.tag) && (void 0 === o.namespace || t.namespaceURI == o.namespace) && (!o.context || n.matchesContext(o.context))) {
        if (o.getAttrs) {
          var i = o.getAttrs(t);
          if (false === i)
            continue;
          o.attrs = i || void 0;
        }
        return o;
      }
    }
  }
  matchStyle(t, n, r, o) {
    for (let e3 = o ? this.styles.indexOf(o) + 1 : 0; e3 < this.styles.length; e3++) {
      var i = this.styles[e3], a = i.style;
      if (!(0 != a.indexOf(t) || i.context && !r.matchesContext(i.context) || a.length > t.length && (61 != a.charCodeAt(t.length) || a.slice(t.length + 1) != n))) {
        if (i.getAttrs) {
          a = i.getAttrs(n);
          if (false === a)
            continue;
          i.attrs = a || void 0;
        }
        return i;
      }
    }
  }
  static schemaRules(e3) {
    let o = [];
    function n(e4) {
      let t = null == e4.priority ? 50 : e4.priority, n2 = 0;
      for (; n2 < o.length; n2++) {
        var r2 = o[n2];
        if ((null == r2.priority ? 50 : r2.priority) < t)
          break;
      }
      o.splice(n2, 0, e4);
    }
    for (let t in e3.marks) {
      var r = e3.marks[t].spec.parseDOM;
      r && r.forEach((e4) => {
        n(e4 = copy$1(e4)), e4.mark || e4.ignore || e4.clearMark || (e4.mark = t);
      });
    }
    for (let t in e3.nodes) {
      var i = e3.nodes[t].spec.parseDOM;
      i && i.forEach((e4) => {
        n(e4 = copy$1(e4)), e4.node || e4.ignore || e4.mark || (e4.node = t);
      });
    }
    return o;
  }
  static fromSchema(e3) {
    return e3.cached.domParser || (e3.cached.domParser = new _DOMParser$1(e3, _DOMParser$1.schemaRules(e3)));
  }
};
var blockTags = { address: true, article: true, aside: true, blockquote: true, canvas: true, dd: true, div: true, dl: true, fieldset: true, figcaption: true, figure: true, footer: true, form: true, h1: true, h2: true, h3: true, h4: true, h5: true, h6: true, header: true, hgroup: true, hr: true, li: true, noscript: true, ol: true, output: true, p: true, pre: true, section: true, table: true, tfoot: true, ul: true };
var ignoreTags = { head: true, noscript: true, object: true, script: true, style: true, title: true };
var listTags = { ol: true, ul: true };
var OPT_PRESERVE_WS = 1;
var OPT_PRESERVE_WS_FULL = 2;
var OPT_OPEN_LEFT = 4;
function wsOptionsFor(e3, t, n) {
  return null != t ? (t ? OPT_PRESERVE_WS : 0) | ("full" === t ? OPT_PRESERVE_WS_FULL : 0) : e3 && "pre" == e3.whitespace ? OPT_PRESERVE_WS | OPT_PRESERVE_WS_FULL : n & ~OPT_OPEN_LEFT;
}
var NodeContext = class {
  constructor(e3, t, n, r, o, i, a) {
    this.type = e3, this.attrs = t, this.marks = n, this.pendingMarks = r, this.solid = o, this.options = a, this.content = [], this.activeMarks = Mark.none, this.stashMarks = [], this.match = i || (a & OPT_OPEN_LEFT ? null : e3.contentMatch);
  }
  findWrapping(e3) {
    if (!this.match) {
      if (!this.type)
        return [];
      var t, n, r = this.type.contentMatch.fillBefore(Fragment2.from(e3));
      if (!r)
        return (n = (t = this.type.contentMatch).findWrapping(e3.type)) ? (this.match = t, n) : null;
      this.match = this.type.contentMatch.matchFragment(r);
    }
    return this.match.findWrapping(e3.type);
  }
  finish(e3) {
    if (!(this.options & OPT_PRESERVE_WS)) {
      let e4 = this.content[this.content.length - 1], t2;
      var n;
      e4 && e4.isText && (t2 = /[ \t\r\n\u000c]+$/.exec(e4.text)) && ((n = e4).text.length == t2[0].length ? this.content.pop() : this.content[this.content.length - 1] = n.withText(n.text.slice(0, n.text.length - t2[0].length)));
    }
    let t = Fragment2.from(this.content);
    return !e3 && this.match && (t = t.append(this.match.fillBefore(Fragment2.empty, true))), this.type ? this.type.create(this.attrs, t, this.marks) : t;
  }
  popFromStashMark(t) {
    for (let e3 = this.stashMarks.length - 1; 0 <= e3; e3--)
      if (t.eq(this.stashMarks[e3]))
        return this.stashMarks.splice(e3, 1)[0];
  }
  applyPending(n) {
    for (let e3 = 0, t = this.pendingMarks; e3 < t.length; e3++) {
      var r = t[e3];
      (this.type ? this.type.allowsMarkType(r.type) : markMayApply(r.type, n)) && !r.isInSet(this.activeMarks) && (this.activeMarks = r.addToSet(this.activeMarks), this.pendingMarks = r.removeFromSet(this.pendingMarks));
    }
  }
  inlineContext(e3) {
    return this.type ? this.type.inlineContent : this.content.length ? this.content[0].isInline : e3.parentNode && !blockTags.hasOwnProperty(e3.parentNode.nodeName.toLowerCase());
  }
};
var ParseContext = class {
  constructor(e3, t, n) {
    this.parser = e3, this.options = t, this.isOpen = n, this.open = 0;
    let r = t.topNode, o;
    var i = wsOptionsFor(null, t.preserveWhitespace, 0) | (n ? OPT_OPEN_LEFT : 0);
    o = r ? new NodeContext(r.type, r.attrs, Mark.none, Mark.none, true, t.topMatch || r.type.contentMatch, i) : n ? new NodeContext(null, null, Mark.none, Mark.none, true, null, i) : new NodeContext(e3.schema.topNodeType, null, Mark.none, Mark.none, true, null, i), this.nodes = [o], this.find = t.findPositions, this.needsBlock = false;
  }
  get top() {
    return this.nodes[this.open];
  }
  addDOM(e3) {
    3 == e3.nodeType ? this.addTextNode(e3) : 1 == e3.nodeType && this.addElement(e3);
  }
  withStyleRules(e3, t) {
    e3 = e3.getAttribute("style");
    if (!e3)
      return t();
    e3 = this.readStyles(parseStyles(e3));
    if (e3) {
      var [n, r] = e3, o = this.top;
      for (let e4 = 0; e4 < r.length; e4++)
        this.removePendingMark(r[e4], o);
      for (let e4 = 0; e4 < n.length; e4++)
        this.addPendingMark(n[e4]);
      t();
      for (let e4 = 0; e4 < n.length; e4++)
        this.removePendingMark(n[e4], o);
      for (let e4 = 0; e4 < r.length; e4++)
        this.addPendingMark(r[e4]);
    }
  }
  addTextNode(e3) {
    let t = e3.nodeValue;
    var n, r = this.top;
    r.options & OPT_PRESERVE_WS_FULL || r.inlineContext(e3) || /[^ \t\r\n\u000c]/.test(t) ? (r.options & OPT_PRESERVE_WS ? t = r.options & OPT_PRESERVE_WS_FULL ? t.replace(/\r\n?/g, "\n") : t.replace(/\r?\n|\r/g, " ") : (t = t.replace(/[ \t\r\n\u000c]+/g, " "), /^[ \t\r\n\u000c]/.test(t) && this.open == this.nodes.length - 1 && (r = r.content[r.content.length - 1], n = e3.previousSibling, !r || n && "BR" == n.nodeName || r.isText && /[ \t\r\n\u000c]$/.test(r.text)) && (t = t.slice(1))), t && this.insertNode(this.parser.schema.text(t)), this.findInText(e3)) : this.findInside(e3);
  }
  addElement(r, e3) {
    let o = r.nodeName.toLowerCase(), t, i = (listTags.hasOwnProperty(o) && this.parser.normalizeLists && normalizeList(r), this.options.ruleFromNode && this.options.ruleFromNode(r) || (t = this.parser.matchTag(r, this, e3)));
    if (i ? i.ignore : ignoreTags.hasOwnProperty(o))
      this.findInside(r), this.ignoreFallback(r);
    else if (!i || i.skip || i.closeParent) {
      i && i.closeParent ? this.open = Math.max(0, this.open - 1) : i && i.skip.nodeType && (r = i.skip);
      let e4, t2 = this.top, n = this.needsBlock;
      if (blockTags.hasOwnProperty(o))
        t2.content.length && t2.content[0].isInline && this.open && (this.open--, t2 = this.top), e4 = true, t2.type || (this.needsBlock = true);
      else if (!r.firstChild)
        return void this.leafFallback(r);
      i && i.skip ? this.addAll(r) : this.withStyleRules(r, () => this.addAll(r)), e4 && this.sync(t2), this.needsBlock = n;
    } else
      this.withStyleRules(r, () => {
        this.addElementByRule(r, i, false === i.consuming ? t : void 0);
      });
  }
  leafFallback(e3) {
    "BR" == e3.nodeName && this.top.type && this.top.type.inlineContent && this.addTextNode(e3.ownerDocument.createTextNode("\n"));
  }
  ignoreFallback(e3) {
    "BR" != e3.nodeName || this.top.type && this.top.type.inlineContent || this.findPlace(this.parser.schema.text("-"));
  }
  readStyles(r) {
    let o = Mark.none, i = Mark.none;
    for (let n = 0; n < r.length; n += 2)
      for (let e3 = void 0; ; ) {
        let t = this.parser.matchStyle(r[n], r[n + 1], this, e3);
        if (!t)
          break;
        if (t.ignore)
          return null;
        if (t.clearMark ? this.top.pendingMarks.concat(this.top.activeMarks).forEach((e4) => {
          t.clearMark(e4) && (i = e4.addToSet(i));
        }) : o = this.parser.schema.marks[t.mark].create(t.attrs).addToSet(o), false !== t.consuming)
          break;
        e3 = t;
      }
    return [o, i];
  }
  addElementByRule(t, n, e3) {
    let r, o, i;
    n.node ? (o = this.parser.schema.nodes[n.node]).isLeaf ? this.insertNode(o.create(n.attrs)) || this.leafFallback(t) : r = this.enter(o, n.attrs || null, n.preserveWhitespace) : (a = this.parser.schema.marks[n.mark], i = a.create(n.attrs), this.addPendingMark(i));
    var a = this.top;
    if (o && o.isLeaf)
      this.findInside(t);
    else if (e3)
      this.addElement(t, e3);
    else if (n.getContent)
      this.findInside(t), n.getContent(t, this.parser.schema).forEach((e4) => this.insertNode(e4));
    else {
      let e4 = t;
      "string" == typeof n.contentElement ? e4 = t.querySelector(n.contentElement) : "function" == typeof n.contentElement ? e4 = n.contentElement(t) : n.contentElement && (e4 = n.contentElement), this.findAround(t, e4, true), this.addAll(e4);
    }
    r && this.sync(a) && this.open--, i && this.removePendingMark(i, a);
  }
  addAll(n, r, o) {
    let i = r || 0;
    for (let e3 = r ? n.childNodes[r] : n.firstChild, t = null == o ? null : n.childNodes[o]; e3 != t; e3 = e3.nextSibling, ++i)
      this.findAtPoint(n, i), this.addDOM(e3);
    this.findAtPoint(n, i);
  }
  findPlace(t) {
    let n, r;
    for (let e3 = this.open; 0 <= e3; e3--) {
      var o = this.nodes[e3], i = o.findWrapping(t);
      if (i && (!n || n.length > i.length) && (n = i, r = o, !i.length))
        break;
      if (o.solid)
        break;
    }
    if (!n)
      return false;
    this.sync(r);
    for (let e3 = 0; e3 < n.length; e3++)
      this.enterInner(n[e3], null, false);
    return true;
  }
  insertNode(n) {
    var e3;
    if (n.isInline && this.needsBlock && !this.top.type && (e3 = this.textblockFromContext()) && this.enterInner(e3), this.findPlace(n)) {
      this.closeExtra();
      var r = this.top;
      r.applyPending(n.type), r.match && (r.match = r.match.matchType(n.type));
      let t = r.activeMarks;
      for (let e4 = 0; e4 < n.marks.length; e4++)
        r.type && !r.type.allowsMarkType(n.marks[e4].type) || (t = n.marks[e4].addToSet(t));
      return r.content.push(n.mark(t)), true;
    }
    return false;
  }
  enter(e3, t, n) {
    var r = this.findPlace(e3.create(t));
    return r && this.enterInner(e3, t, true, n), r;
  }
  enterInner(e3, t = null, n = false, r) {
    this.closeExtra();
    var o = this.top;
    o.applyPending(e3), o.match = o.match && o.match.matchType(e3);
    let i = wsOptionsFor(e3, r, o.options);
    o.options & OPT_OPEN_LEFT && 0 == o.content.length && (i |= OPT_OPEN_LEFT), this.nodes.push(new NodeContext(e3, t, o.activeMarks, o.pendingMarks, n, null, i)), this.open++;
  }
  closeExtra(e3 = false) {
    let t = this.nodes.length - 1;
    if (t > this.open) {
      for (; t > this.open; t--)
        this.nodes[t - 1].content.push(this.nodes[t].finish(e3));
      this.nodes.length = this.open + 1;
    }
  }
  finish() {
    return this.open = 0, this.closeExtra(this.isOpen), this.nodes[0].finish(this.isOpen || this.options.topOpen);
  }
  sync(t) {
    for (let e3 = this.open; 0 <= e3; e3--)
      if (this.nodes[e3] == t)
        return this.open = e3, true;
    return false;
  }
  get currentPos() {
    this.closeExtra();
    let t = 0;
    for (let e3 = this.open; 0 <= e3; e3--) {
      var n = this.nodes[e3].content;
      for (let e4 = n.length - 1; 0 <= e4; e4--)
        t += n[e4].nodeSize;
      e3 && t++;
    }
    return t;
  }
  findAtPoint(t, n) {
    if (this.find)
      for (let e3 = 0; e3 < this.find.length; e3++)
        this.find[e3].node == t && this.find[e3].offset == n && (this.find[e3].pos = this.currentPos);
  }
  findInside(t) {
    if (this.find)
      for (let e3 = 0; e3 < this.find.length; e3++)
        null == this.find[e3].pos && 1 == t.nodeType && t.contains(this.find[e3].node) && (this.find[e3].pos = this.currentPos);
  }
  findAround(t, n, r) {
    if (t != n && this.find)
      for (let e3 = 0; e3 < this.find.length; e3++)
        null == this.find[e3].pos && 1 == t.nodeType && t.contains(this.find[e3].node) && n.compareDocumentPosition(this.find[e3].node) & (r ? 2 : 4) && (this.find[e3].pos = this.currentPos);
  }
  findInText(t) {
    if (this.find)
      for (let e3 = 0; e3 < this.find.length; e3++)
        this.find[e3].node == t && (this.find[e3].pos = this.currentPos - (t.nodeValue.length - this.find[e3].offset));
  }
  matchesContext(e3) {
    if (-1 < e3.indexOf("|"))
      return e3.split(/\s*\|\s*/).some(this.matchesContext, this);
    let o = e3.split("/"), i = this.options.context, a = !(this.isOpen || i && i.parent.type != this.nodes[0].type), s = -(i ? i.depth + 1 : 0) + (a ? 0 : 1), l = (e4, t) => {
      for (; 0 <= e4; e4--) {
        var n = o[e4];
        if ("" == n) {
          if (e4 != o.length - 1 && 0 != e4) {
            for (; t >= s; t--)
              if (l(e4 - 1, t))
                return true;
            return false;
          }
        } else {
          var r = 0 < t || 0 == t && a ? this.nodes[t].type : i && t >= s ? i.node(t - s).type : null;
          if (!r || r.name != n && -1 == r.groups.indexOf(n))
            return false;
          t--;
        }
      }
      return true;
    };
    return l(o.length - 1, this.open);
  }
  textblockFromContext() {
    var e3, t = this.options.context;
    if (t)
      for (let e4 = t.depth; 0 <= e4; e4--) {
        var n = t.node(e4).contentMatchAt(t.indexAfter(e4)).defaultType;
        if (n && n.isTextblock && n.defaultAttrs)
          return n;
      }
    for (e3 in this.parser.schema.nodes) {
      var r = this.parser.schema.nodes[e3];
      if (r.isTextblock && r.defaultAttrs)
        return r;
    }
  }
  addPendingMark(e3) {
    var t = findSameMarkInSet(e3, this.top.pendingMarks);
    t && this.top.stashMarks.push(t), this.top.pendingMarks = e3.addToSet(this.top.pendingMarks);
  }
  removePendingMark(t, n) {
    for (let e3 = this.open; 0 <= e3; e3--) {
      var r, o = this.nodes[e3];
      if (-1 < o.pendingMarks.lastIndexOf(t) ? o.pendingMarks = t.removeFromSet(o.pendingMarks) : (o.activeMarks = t.removeFromSet(o.activeMarks), (r = o.popFromStashMark(t)) && o.type && o.type.allowsMarkType(r.type) && (o.activeMarks = r.addToSet(o.activeMarks))), o == n)
        break;
    }
  }
};
function normalizeList(n) {
  for (let e3 = n.firstChild, t = null; e3; e3 = e3.nextSibling) {
    var r = 1 == e3.nodeType ? e3.nodeName.toLowerCase() : null;
    r && listTags.hasOwnProperty(r) && t ? (t.appendChild(e3), e3 = t) : "li" == r ? t = e3 : r && (t = null);
  }
}
function matches(e3, t) {
  return (e3.matches || e3.msMatchesSelector || e3.webkitMatchesSelector || e3.mozMatchesSelector).call(e3, t);
}
function parseStyles(e3) {
  for (var t, n = /\s*([\w-]+)\s*:\s*([^;]+)/g, r = []; t = n.exec(e3); )
    r.push(t[1], t[2].trim());
  return r;
}
function copy$1(e3) {
  var t, n = {};
  for (t in e3)
    n[t] = e3[t];
  return n;
}
function markMayApply(e3, a) {
  var t, n = a.schema.nodes;
  for (t in n) {
    var r = n[t];
    if (r.allowsMarkType(e3)) {
      let o = [], i = (t2) => {
        o.push(t2);
        for (let e4 = 0; e4 < t2.edgeCount; e4++) {
          var { type: n2, next: r2 } = t2.edge(e4);
          if (n2 == a)
            return true;
          if (o.indexOf(r2) < 0 && i(r2))
            return true;
        }
      };
      if (i(r.contentMatch))
        return true;
    }
  }
}
function findSameMarkInSet(t, n) {
  for (let e3 = 0; e3 < n.length; e3++)
    if (t.eq(n[e3]))
      return n[e3];
}
var DOMSerializer = class _DOMSerializer {
  constructor(e3, t) {
    this.nodes = e3, this.marks = t;
  }
  serializeFragment(e3, a = {}, t) {
    let s = t = t || doc$1(a).createDocumentFragment(), l = [];
    return e3.forEach((n) => {
      if (l.length || n.marks.length) {
        let e4 = 0, t2 = 0;
        for (; e4 < l.length && t2 < n.marks.length; ) {
          var r = n.marks[t2];
          if (this.marks[r.type.name]) {
            if (!r.eq(l[e4][0]) || false === r.type.spec.spanning)
              break;
            e4++;
          }
          t2++;
        }
        for (; e4 < l.length; )
          s = l.pop()[1];
        for (; t2 < n.marks.length; ) {
          var o = n.marks[t2++], i = this.serializeMark(o, n.isInline, a);
          i && (l.push([o, s]), s.appendChild(i.dom), s = i.contentDOM || i.dom);
        }
      }
      s.appendChild(this.serializeNodeInner(n, a));
    }), t;
  }
  serializeNodeInner(e3, t) {
    var { dom: n, contentDOM: r } = _DOMSerializer.renderSpec(doc$1(t), this.nodes[e3.type.name](e3));
    if (r) {
      if (e3.isLeaf)
        throw new RangeError("Content hole not allowed in a leaf node spec");
      this.serializeFragment(e3.content, t, r);
    }
    return n;
  }
  serializeNode(t, n = {}) {
    let r = this.serializeNodeInner(t, n);
    for (let e3 = t.marks.length - 1; 0 <= e3; e3--) {
      var o = this.serializeMark(t.marks[e3], t.isInline, n);
      o && ((o.contentDOM || o.dom).appendChild(r), r = o.dom);
    }
    return r;
  }
  serializeMark(e3, t, n = {}) {
    var r = this.marks[e3.type.name];
    return r && _DOMSerializer.renderSpec(doc$1(n), r(e3, t));
  }
  static renderSpec(t, n, r = null) {
    if ("string" == typeof n)
      return { dom: t.createTextNode(n) };
    if (null != n.nodeType)
      return { dom: n };
    if (n.dom && null != n.dom.nodeType)
      return n;
    let e3 = n[0], o = e3.indexOf(" ");
    0 < o && (r = e3.slice(0, o), e3 = e3.slice(o + 1));
    let i;
    var a, s = r ? t.createElementNS(r, e3) : t.createElement(e3);
    let l = n[1], c = 1;
    if (l && "object" == typeof l && null == l.nodeType && !Array.isArray(l))
      for (var u in c = 2, l)
        null != l[u] && (0 < (a = u.indexOf(" ")) ? s.setAttributeNS(u.slice(0, a), u.slice(a + 1), l[u]) : s.setAttribute(u, l[u]));
    for (let e4 = c; e4 < n.length; e4++) {
      var d = n[e4];
      if (0 === d) {
        if (e4 < n.length - 1 || e4 > c)
          throw new RangeError("Content hole must be the only child of its parent node");
        return { dom: s, contentDOM: s };
      }
      var { dom: d, contentDOM: p } = _DOMSerializer.renderSpec(t, d, r);
      if (s.appendChild(d), p) {
        if (i)
          throw new RangeError("Multiple content holes");
        i = p;
      }
    }
    return { dom: s, contentDOM: i };
  }
  static fromSchema(e3) {
    return e3.cached.domSerializer || (e3.cached.domSerializer = new _DOMSerializer(this.nodesFromSchema(e3), this.marksFromSchema(e3)));
  }
  static nodesFromSchema(e3) {
    e3 = gatherToDOM(e3.nodes);
    return e3.text || (e3.text = (e4) => e4.text), e3;
  }
  static marksFromSchema(e3) {
    return gatherToDOM(e3.marks);
  }
};
function gatherToDOM(e3) {
  var t, n = {};
  for (t in e3) {
    var r = e3[t].spec.toDOM;
    r && (n[t] = r);
  }
  return n;
}
function doc$1(e3) {
  return e3.document || window.document;
}
var lower16 = 65535;
var factor16 = Math.pow(2, 16);
function makeRecover(e3, t) {
  return e3 + t * factor16;
}
function recoverIndex(e3) {
  return e3 & lower16;
}
function recoverOffset(e3) {
  return (e3 - (e3 & lower16)) / factor16;
}
var DEL_BEFORE = 1;
var DEL_AFTER = 2;
var DEL_ACROSS = 4;
var DEL_SIDE = 8;
var MapResult = class {
  constructor(e3, t, n) {
    this.pos = e3, this.delInfo = t, this.recover = n;
  }
  get deleted() {
    return 0 < (this.delInfo & DEL_SIDE);
  }
  get deletedBefore() {
    return 0 < (this.delInfo & (DEL_BEFORE | DEL_ACROSS));
  }
  get deletedAfter() {
    return 0 < (this.delInfo & (DEL_AFTER | DEL_ACROSS));
  }
  get deletedAcross() {
    return 0 < (this.delInfo & DEL_ACROSS);
  }
};
var StepMap = class _StepMap {
  constructor(e3, t = false) {
    if (this.ranges = e3, this.inverted = t, !e3.length && _StepMap.empty)
      return _StepMap.empty;
  }
  recover(e3) {
    let t = 0, n = recoverIndex(e3);
    if (!this.inverted)
      for (let e4 = 0; e4 < n; e4++)
        t += this.ranges[3 * e4 + 2] - this.ranges[3 * e4 + 1];
    return this.ranges[3 * n] + t + recoverOffset(e3);
  }
  mapResult(e3, t = 1) {
    return this._map(e3, t, false);
  }
  map(e3, t = 1) {
    return this._map(e3, t, true);
  }
  _map(n, r, o) {
    let i = 0, e3 = this.inverted ? 2 : 1, a = this.inverted ? 1 : 2;
    for (let t = 0; t < this.ranges.length; t += 3) {
      var s = this.ranges[t] - (this.inverted ? i : 0);
      if (n < s)
        break;
      var l = this.ranges[t + e3], c = this.ranges[t + a], u = s + l;
      if (n <= u) {
        var d = s + i + ((l ? n == s ? -1 : n == u ? 1 : r : r) < 0 ? 0 : c);
        if (o)
          return d;
        var p = n == (r < 0 ? s : u) ? null : makeRecover(t / 3, n - s);
        let e4 = n == s ? DEL_AFTER : n == u ? DEL_BEFORE : DEL_ACROSS;
        return (r < 0 ? n != s : n != u) && (e4 |= DEL_SIDE), new MapResult(d, e4, p);
      }
      i += c - l;
    }
    return o ? n + i : new MapResult(n + i, 0, null);
  }
  touches(t, e3) {
    let n = 0, r = recoverIndex(e3);
    var o = this.inverted ? 2 : 1, i = this.inverted ? 1 : 2;
    for (let e4 = 0; e4 < this.ranges.length; e4 += 3) {
      var a = this.ranges[e4] - (this.inverted ? n : 0);
      if (t < a)
        break;
      var s = this.ranges[e4 + o];
      if (t <= a + s && e4 == 3 * r)
        return true;
      n += this.ranges[e4 + i] - s;
    }
    return false;
  }
  forEach(n) {
    var r = this.inverted ? 2 : 1, o = this.inverted ? 1 : 2;
    for (let e3 = 0, t = 0; e3 < this.ranges.length; e3 += 3) {
      var i = this.ranges[e3], a = i - (this.inverted ? t : 0), i = i + (this.inverted ? 0 : t), s = this.ranges[e3 + r], l = this.ranges[e3 + o];
      n(a, a + s, i, i + l), t += l - s;
    }
  }
  invert() {
    return new _StepMap(this.ranges, !this.inverted);
  }
  toString() {
    return (this.inverted ? "-" : "") + JSON.stringify(this.ranges);
  }
  static offset(e3) {
    return 0 == e3 ? _StepMap.empty : new _StepMap(e3 < 0 ? [0, -e3, 0] : [0, 0, e3]);
  }
};
StepMap.empty = new StepMap([]);
var Mapping = class _Mapping {
  constructor(e3 = [], t, n = 0, r = e3.length) {
    this.maps = e3, this.mirror = t, this.from = n, this.to = r;
  }
  slice(e3 = 0, t = this.maps.length) {
    return new _Mapping(this.maps, this.mirror, e3, t);
  }
  copy() {
    return new _Mapping(this.maps.slice(), this.mirror && this.mirror.slice(), this.from, this.to);
  }
  appendMap(e3, t) {
    this.to = this.maps.push(e3), null != t && this.setMirror(this.maps.length - 1, t);
  }
  appendMapping(n) {
    for (let e3 = 0, t = this.maps.length; e3 < n.maps.length; e3++) {
      var r = n.getMirror(e3);
      this.appendMap(n.maps[e3], null != r && r < e3 ? t + r : void 0);
    }
  }
  getMirror(t) {
    if (this.mirror) {
      for (let e3 = 0; e3 < this.mirror.length; e3++)
        if (this.mirror[e3] == t)
          return this.mirror[e3 + (e3 % 2 ? -1 : 1)];
    }
  }
  setMirror(e3, t) {
    this.mirror || (this.mirror = []), this.mirror.push(e3, t);
  }
  appendMappingInverted(n) {
    for (let e3 = n.maps.length - 1, t = this.maps.length + n.maps.length; 0 <= e3; e3--) {
      var r = n.getMirror(e3);
      this.appendMap(n.maps[e3].invert(), null != r && r > e3 ? t - r - 1 : void 0);
    }
  }
  invert() {
    var e3 = new _Mapping();
    return e3.appendMappingInverted(this), e3;
  }
  map(t, n = 1) {
    if (this.mirror)
      return this._map(t, n, true);
    for (let e3 = this.from; e3 < this.to; e3++)
      t = this.maps[e3].map(t, n);
    return t;
  }
  mapResult(e3, t = 1) {
    return this._map(e3, t, false);
  }
  _map(t, n, e3) {
    let r = 0;
    for (let e4 = this.from; e4 < this.to; e4++) {
      var o = this.maps[e4].mapResult(t, n);
      if (null != o.recover) {
        var i = this.getMirror(e4);
        if (null != i && i > e4 && i < this.to) {
          e4 = i, t = this.maps[i].recover(o.recover);
          continue;
        }
      }
      r |= o.delInfo, t = o.pos;
    }
    return e3 ? t : new MapResult(t, r, null);
  }
};
var stepsByID = /* @__PURE__ */ Object.create(null);
var Step = class {
  getMap() {
    return StepMap.empty;
  }
  merge(e3) {
    return null;
  }
  static fromJSON(e3, t) {
    if (!t || !t.stepType)
      throw new RangeError("Invalid input for Step.fromJSON");
    var n = stepsByID[t.stepType];
    if (n)
      return n.fromJSON(e3, t);
    throw new RangeError(`No step type ${t.stepType} defined`);
  }
  static jsonID(e3, t) {
    if (e3 in stepsByID)
      throw new RangeError("Duplicate use of step JSON ID " + e3);
    return (stepsByID[e3] = t).prototype.jsonID = e3, t;
  }
};
var StepResult = class _StepResult {
  constructor(e3, t) {
    this.doc = e3, this.failed = t;
  }
  static ok(e3) {
    return new _StepResult(e3, null);
  }
  static fail(e3) {
    return new _StepResult(null, e3);
  }
  static fromReplace(e3, t, n, r) {
    try {
      return _StepResult.ok(e3.replace(t, n, r));
    } catch (e4) {
      if (e4 instanceof ReplaceError)
        return _StepResult.fail(e4.message);
      throw e4;
    }
  }
};
function mapFragment(n, r, o) {
  var i = [];
  for (let t = 0; t < n.childCount; t++) {
    let e3 = n.child(t);
    (e3 = e3.content.size ? e3.copy(mapFragment(e3.content, r, e3)) : e3).isInline && (e3 = r(e3, o, t)), i.push(e3);
  }
  return Fragment2.fromArray(i);
}
var AddMarkStep = class _AddMarkStep extends Step {
  constructor(e3, t, n) {
    super(), this.from = e3, this.to = t, this.mark = n;
  }
  apply(e3) {
    var t = e3.slice(this.from, this.to), n = e3.resolve(this.from), n = n.node(n.sharedDepth(this.to)), n = new Slice(mapFragment(t.content, (e4, t2) => e4.isAtom && t2.type.allowsMarkType(this.mark.type) ? e4.mark(this.mark.addToSet(e4.marks)) : e4, n), t.openStart, t.openEnd);
    return StepResult.fromReplace(e3, this.from, this.to, n);
  }
  invert() {
    return new RemoveMarkStep(this.from, this.to, this.mark);
  }
  map(e3) {
    var t = e3.mapResult(this.from, 1), e3 = e3.mapResult(this.to, -1);
    return t.deleted && e3.deleted || t.pos >= e3.pos ? null : new _AddMarkStep(t.pos, e3.pos, this.mark);
  }
  merge(e3) {
    return e3 instanceof _AddMarkStep && e3.mark.eq(this.mark) && this.from <= e3.to && this.to >= e3.from ? new _AddMarkStep(Math.min(this.from, e3.from), Math.max(this.to, e3.to), this.mark) : null;
  }
  toJSON() {
    return { stepType: "addMark", mark: this.mark.toJSON(), from: this.from, to: this.to };
  }
  static fromJSON(e3, t) {
    if ("number" != typeof t.from || "number" != typeof t.to)
      throw new RangeError("Invalid input for AddMarkStep.fromJSON");
    return new _AddMarkStep(t.from, t.to, e3.markFromJSON(t.mark));
  }
};
Step.jsonID("addMark", AddMarkStep);
var RemoveMarkStep = class _RemoveMarkStep extends Step {
  constructor(e3, t, n) {
    super(), this.from = e3, this.to = t, this.mark = n;
  }
  apply(e3) {
    var t = e3.slice(this.from, this.to), t = new Slice(mapFragment(t.content, (e4) => e4.mark(this.mark.removeFromSet(e4.marks)), e3), t.openStart, t.openEnd);
    return StepResult.fromReplace(e3, this.from, this.to, t);
  }
  invert() {
    return new AddMarkStep(this.from, this.to, this.mark);
  }
  map(e3) {
    var t = e3.mapResult(this.from, 1), e3 = e3.mapResult(this.to, -1);
    return t.deleted && e3.deleted || t.pos >= e3.pos ? null : new _RemoveMarkStep(t.pos, e3.pos, this.mark);
  }
  merge(e3) {
    return e3 instanceof _RemoveMarkStep && e3.mark.eq(this.mark) && this.from <= e3.to && this.to >= e3.from ? new _RemoveMarkStep(Math.min(this.from, e3.from), Math.max(this.to, e3.to), this.mark) : null;
  }
  toJSON() {
    return { stepType: "removeMark", mark: this.mark.toJSON(), from: this.from, to: this.to };
  }
  static fromJSON(e3, t) {
    if ("number" != typeof t.from || "number" != typeof t.to)
      throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");
    return new _RemoveMarkStep(t.from, t.to, e3.markFromJSON(t.mark));
  }
};
Step.jsonID("removeMark", RemoveMarkStep);
var AddNodeMarkStep = class _AddNodeMarkStep extends Step {
  constructor(e3, t) {
    super(), this.pos = e3, this.mark = t;
  }
  apply(e3) {
    var t, n = e3.nodeAt(this.pos);
    return n ? (t = n.type.create(n.attrs, null, this.mark.addToSet(n.marks)), StepResult.fromReplace(e3, this.pos, this.pos + 1, new Slice(Fragment2.from(t), 0, n.isLeaf ? 0 : 1))) : StepResult.fail("No node at mark step's position");
  }
  invert(e3) {
    var t = e3.nodeAt(this.pos);
    if (t) {
      var n = this.mark.addToSet(t.marks);
      if (n.length == t.marks.length) {
        for (let e4 = 0; e4 < t.marks.length; e4++)
          if (!t.marks[e4].isInSet(n))
            return new _AddNodeMarkStep(this.pos, t.marks[e4]);
        return new _AddNodeMarkStep(this.pos, this.mark);
      }
    }
    return new RemoveNodeMarkStep(this.pos, this.mark);
  }
  map(e3) {
    e3 = e3.mapResult(this.pos, 1);
    return e3.deletedAfter ? null : new _AddNodeMarkStep(e3.pos, this.mark);
  }
  toJSON() {
    return { stepType: "addNodeMark", pos: this.pos, mark: this.mark.toJSON() };
  }
  static fromJSON(e3, t) {
    if ("number" != typeof t.pos)
      throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");
    return new _AddNodeMarkStep(t.pos, e3.markFromJSON(t.mark));
  }
};
Step.jsonID("addNodeMark", AddNodeMarkStep);
var RemoveNodeMarkStep = class _RemoveNodeMarkStep extends Step {
  constructor(e3, t) {
    super(), this.pos = e3, this.mark = t;
  }
  apply(e3) {
    var t, n = e3.nodeAt(this.pos);
    return n ? (t = n.type.create(n.attrs, null, this.mark.removeFromSet(n.marks)), StepResult.fromReplace(e3, this.pos, this.pos + 1, new Slice(Fragment2.from(t), 0, n.isLeaf ? 0 : 1))) : StepResult.fail("No node at mark step's position");
  }
  invert(e3) {
    e3 = e3.nodeAt(this.pos);
    return e3 && this.mark.isInSet(e3.marks) ? new AddNodeMarkStep(this.pos, this.mark) : this;
  }
  map(e3) {
    e3 = e3.mapResult(this.pos, 1);
    return e3.deletedAfter ? null : new _RemoveNodeMarkStep(e3.pos, this.mark);
  }
  toJSON() {
    return { stepType: "removeNodeMark", pos: this.pos, mark: this.mark.toJSON() };
  }
  static fromJSON(e3, t) {
    if ("number" != typeof t.pos)
      throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");
    return new _RemoveNodeMarkStep(t.pos, e3.markFromJSON(t.mark));
  }
};
Step.jsonID("removeNodeMark", RemoveNodeMarkStep);
var ReplaceStep = class _ReplaceStep extends Step {
  constructor(e3, t, n, r = false) {
    super(), this.from = e3, this.to = t, this.slice = n, this.structure = r;
  }
  apply(e3) {
    return this.structure && contentBetween(e3, this.from, this.to) ? StepResult.fail("Structure replace would overwrite content") : StepResult.fromReplace(e3, this.from, this.to, this.slice);
  }
  getMap() {
    return new StepMap([this.from, this.to - this.from, this.slice.size]);
  }
  invert(e3) {
    return new _ReplaceStep(this.from, this.from + this.slice.size, e3.slice(this.from, this.to));
  }
  map(e3) {
    var t = e3.mapResult(this.from, 1), e3 = e3.mapResult(this.to, -1);
    return t.deletedAcross && e3.deletedAcross ? null : new _ReplaceStep(t.pos, Math.max(t.pos, e3.pos), this.slice);
  }
  merge(e3) {
    var t;
    return e3 instanceof _ReplaceStep && !e3.structure && !this.structure ? this.from + this.slice.size != e3.from || this.slice.openEnd || e3.slice.openStart ? e3.to != this.from || this.slice.openStart || e3.slice.openEnd ? null : (t = this.slice.size + e3.slice.size == 0 ? Slice.empty : new Slice(e3.slice.content.append(this.slice.content), e3.slice.openStart, this.slice.openEnd), new _ReplaceStep(e3.from, this.to, t, this.structure)) : (t = this.slice.size + e3.slice.size == 0 ? Slice.empty : new Slice(this.slice.content.append(e3.slice.content), this.slice.openStart, e3.slice.openEnd), new _ReplaceStep(this.from, this.to + (e3.to - e3.from), t, this.structure)) : null;
  }
  toJSON() {
    var e3 = { stepType: "replace", from: this.from, to: this.to };
    return this.slice.size && (e3.slice = this.slice.toJSON()), this.structure && (e3.structure = true), e3;
  }
  static fromJSON(e3, t) {
    if ("number" != typeof t.from || "number" != typeof t.to)
      throw new RangeError("Invalid input for ReplaceStep.fromJSON");
    return new _ReplaceStep(t.from, t.to, Slice.fromJSON(e3, t.slice), !!t.structure);
  }
};
Step.jsonID("replace", ReplaceStep);
var ReplaceAroundStep = class _ReplaceAroundStep extends Step {
  constructor(e3, t, n, r, o, i, a = false) {
    super(), this.from = e3, this.to = t, this.gapFrom = n, this.gapTo = r, this.slice = o, this.insert = i, this.structure = a;
  }
  apply(e3) {
    var t;
    return this.structure && (contentBetween(e3, this.from, this.gapFrom) || contentBetween(e3, this.gapTo, this.to)) ? StepResult.fail("Structure gap-replace would overwrite content") : (t = e3.slice(this.gapFrom, this.gapTo)).openStart || t.openEnd ? StepResult.fail("Gap is not a flat range") : (t = this.slice.insertAt(this.insert, t.content)) ? StepResult.fromReplace(e3, this.from, this.to, t) : StepResult.fail("Content does not fit in gap");
  }
  getMap() {
    return new StepMap([this.from, this.gapFrom - this.from, this.insert, this.gapTo, this.to - this.gapTo, this.slice.size - this.insert]);
  }
  invert(e3) {
    var t = this.gapTo - this.gapFrom;
    return new _ReplaceAroundStep(this.from, this.from + this.slice.size + t, this.from + this.insert, this.from + this.insert + t, e3.slice(this.from, this.to).removeBetween(this.gapFrom - this.from, this.gapTo - this.from), this.gapFrom - this.from, this.structure);
  }
  map(e3) {
    var t = e3.mapResult(this.from, 1), n = e3.mapResult(this.to, -1), r = e3.map(this.gapFrom, -1), e3 = e3.map(this.gapTo, 1);
    return t.deletedAcross && n.deletedAcross || r < t.pos || e3 > n.pos ? null : new _ReplaceAroundStep(t.pos, n.pos, r, e3, this.slice, this.insert, this.structure);
  }
  toJSON() {
    var e3 = { stepType: "replaceAround", from: this.from, to: this.to, gapFrom: this.gapFrom, gapTo: this.gapTo, insert: this.insert };
    return this.slice.size && (e3.slice = this.slice.toJSON()), this.structure && (e3.structure = true), e3;
  }
  static fromJSON(e3, t) {
    if ("number" != typeof t.from || "number" != typeof t.to || "number" != typeof t.gapFrom || "number" != typeof t.gapTo || "number" != typeof t.insert)
      throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");
    return new _ReplaceAroundStep(t.from, t.to, t.gapFrom, t.gapTo, Slice.fromJSON(e3, t.slice), t.insert, !!t.structure);
  }
};
function contentBetween(e3, t, n) {
  let r = e3.resolve(t), o = n - t, i = r.depth;
  for (; 0 < o && 0 < i && r.indexAfter(i) == r.node(i).childCount; )
    i--, o--;
  if (0 < o) {
    let e4 = r.node(i).maybeChild(r.indexAfter(i));
    for (; 0 < o; ) {
      if (!e4 || e4.isLeaf)
        return true;
      e4 = e4.firstChild, o--;
    }
  }
  return false;
}
function addMark(t, s, l, c) {
  let u = [], d = [], p, f;
  t.doc.nodesBetween(s, l, (e3, t2, n) => {
    if (e3.isInline) {
      var r = e3.marks;
      if (!c.isInSet(r) && n.type.allowsMarkType(c.type)) {
        var o = Math.max(t2, s), i = Math.min(t2 + e3.nodeSize, l), a = c.addToSet(r);
        for (let e4 = 0; e4 < r.length; e4++)
          r[e4].isInSet(a) || (p && p.to == o && p.mark.eq(r[e4]) ? p.to = i : u.push(p = new RemoveMarkStep(o, i, r[e4])));
        f && f.to == o ? f.to = i : d.push(f = new AddMarkStep(o, i, c));
      }
    }
  }), u.forEach((e3) => t.step(e3)), d.forEach((e3) => t.step(e3));
}
function removeMark(t, s, e3, l) {
  let c = [], u = 0;
  t.doc.nodesBetween(s, e3, (n, o) => {
    if (n.isInline) {
      u++;
      let r = null;
      if (l instanceof MarkType) {
        let e4 = n.marks, t2;
        for (; t2 = l.isInSet(e4); )
          (r = r || []).push(t2), e4 = t2.removeFromSet(e4);
      } else
        l ? l.isInSet(n.marks) && (r = [l]) : r = n.marks;
      if (r && r.length) {
        var i = Math.min(o + n.nodeSize, e3);
        for (let e4 = 0; e4 < r.length; e4++) {
          let t2 = r[e4], n2;
          for (let e5 = 0; e5 < c.length; e5++) {
            var a = c[e5];
            a.step == u - 1 && t2.eq(c[e5].style) && (n2 = a);
          }
          n2 ? (n2.to = i, n2.step = u) : c.push({ style: t2, from: Math.max(o, s), to: i, step: u });
        }
      }
    }
  }), c.forEach((e4) => t.step(new RemoveMarkStep(e4.from, e4.to, e4.style)));
}
function clearIncompatible(t, e3, r, n = r.contentMatch) {
  var o = t.doc.nodeAt(e3);
  let i = [], a = e3 + 1;
  for (let e4 = 0; e4 < o.childCount; e4++) {
    var s = o.child(e4), l = a + s.nodeSize, c = n.matchType(s.type);
    if (c) {
      n = c;
      for (let e5 = 0; e5 < s.marks.length; e5++)
        r.allowsMarkType(s.marks[e5].type) || t.step(new RemoveMarkStep(a, l, s.marks[e5]));
      if (s.isText && !r.spec.code) {
        let e5, t2 = /\r?\n|\r/g, n2;
        for (; e5 = t2.exec(s.text); )
          n2 = n2 || new Slice(Fragment2.from(r.schema.text(" ", r.allowedMarks(s.marks))), 0, 0), i.push(new ReplaceStep(a + e5.index, a + e5.index + e5[0].length, n2));
      }
    } else
      i.push(new ReplaceStep(a, l, Slice.empty));
    a = l;
  }
  n.validEnd || (e3 = n.fillBefore(Fragment2.empty, true), t.replace(a, a, new Slice(e3, 0, 0)));
  for (let e4 = i.length - 1; 0 <= e4; e4--)
    t.step(i[e4]);
}
function canCut(e3, t, n) {
  return (0 == t || e3.canReplace(t, e3.childCount)) && (n == e3.childCount || e3.canReplace(0, n));
}
function liftTarget(t) {
  var n = t.parent.content.cutByIndex(t.startIndex, t.endIndex);
  for (let e3 = t.depth; ; --e3) {
    var r = t.$from.node(e3), o = t.$from.index(e3), i = t.$to.indexAfter(e3);
    if (e3 < t.depth && r.canReplace(o, i, n))
      return e3;
    if (0 == e3 || r.type.spec.isolating || !canCut(r, o, i))
      break;
  }
  return null;
}
function lift$1(e3, n, r) {
  var { $from: o, $to: i, depth: n } = n, t = o.before(n + 1), a = i.after(n + 1);
  let s = t, l = a, c = Fragment2.empty, u = 0;
  for (let e4 = n, t2 = false; e4 > r; e4--)
    t2 || 0 < o.index(e4) ? (t2 = true, c = Fragment2.from(o.node(e4).copy(c)), u++) : s--;
  let d = Fragment2.empty, p = 0;
  for (let e4 = n, t2 = false; e4 > r; e4--)
    t2 || i.after(e4 + 1) < i.end(e4) ? (t2 = true, d = Fragment2.from(i.node(e4).copy(d)), p++) : l++;
  e3.step(new ReplaceAroundStep(s, l, t, a, new Slice(c.append(d), u, p), c.size - u, true));
}
function findWrapping(e3, t, n = null, r = e3) {
  var o = findWrappingOutside(e3, t), r = o && findWrappingInside(r, t);
  return r ? o.map(withAttrs).concat({ type: t, attrs: n }).concat(r.map(withAttrs)) : null;
}
function withAttrs(e3) {
  return { type: e3, attrs: null };
}
function findWrappingOutside(e3, t) {
  var { parent: e3, startIndex: n, endIndex: r } = e3, o = e3.contentMatchAt(n).findWrapping(t);
  return o && (t = o.length ? o[0] : t, e3.canReplaceWith(n, r, t)) ? o : null;
}
function findWrappingInside(t, e3) {
  var { parent: n, startIndex: t, endIndex: r } = t, o = n.child(t), o = e3.contentMatch.findWrapping(o.type);
  if (!o)
    return null;
  let i = (o.length ? o[o.length - 1] : e3).contentMatch;
  for (let e4 = t; i && e4 < r; e4++)
    i = i.matchType(n.child(e4).type);
  return i && i.validEnd ? o : null;
}
function wrap(e3, t, n) {
  let r = Fragment2.empty;
  for (let e4 = n.length - 1; 0 <= e4; e4--) {
    if (r.size) {
      var o = n[e4].type.contentMatch.matchFragment(r);
      if (!o || !o.validEnd)
        throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper");
    }
    r = Fragment2.from(n[e4].type.create(n[e4].attrs, r));
  }
  var i = t.start, t = t.end;
  e3.step(new ReplaceAroundStep(i, t, i, t, new Slice(r, 0, 0), n.length, true));
}
function setBlockType$1(o, e3, t, i, a) {
  if (!i.isTextblock)
    throw new RangeError("Type given to setBlockType should be a textblock");
  let s = o.steps.length;
  o.doc.nodesBetween(e3, t, (e4, t2) => {
    var n, r;
    if (e4.isTextblock && !e4.hasMarkup(i, a) && canChangeType(o.doc, o.mapping.slice(s).map(t2), i))
      return o.clearIncompatible(o.mapping.slice(s).map(t2, 1), i), n = (r = o.mapping.slice(s)).map(t2, 1), r = r.map(t2 + e4.nodeSize, 1), o.step(new ReplaceAroundStep(n, r, n + 1, r - 1, new Slice(Fragment2.from(i.create(a, null, e4.marks)), 0, 0), 1, true)), false;
  });
}
function canChangeType(e3, t, n) {
  e3 = e3.resolve(t), t = e3.index();
  return e3.parent.canReplaceWith(t, t + 1, n);
}
function setNodeMarkup(e3, t, n, r, o) {
  var i = e3.doc.nodeAt(t);
  if (!i)
    throw new RangeError("No node at given position");
  r = (n = n || i.type).create(r, null, o || i.marks);
  if (i.isLeaf)
    return e3.replaceWith(t, t + i.nodeSize, r);
  if (!n.validContent(i.content))
    throw new RangeError("Invalid content for node type " + n.name);
  e3.step(new ReplaceAroundStep(t, t + i.nodeSize, t + 1, t + i.nodeSize - 1, new Slice(Fragment2.from(r), 0, 0), 1, true));
}
function canSplit(e3, t, r = 1, o) {
  var i = e3.resolve(t), a = i.depth - r, e3 = o && o[o.length - 1] || i.parent;
  if (a < 0 || i.parent.type.spec.isolating || !i.parent.canReplace(i.index(), i.parent.childCount) || !e3.type.validContent(i.parent.content.cutByIndex(i.index(), i.parent.childCount)))
    return false;
  for (let t2 = i.depth - 1, n = r - 2; t2 > a; t2--, n--) {
    var s = i.node(t2), l = i.index(t2);
    if (s.type.spec.isolating)
      return false;
    let e4 = s.content.cutByIndex(l, s.childCount);
    var c = o && o[n + 1], c = (c && (e4 = e4.replaceChild(0, c.type.create(c.attrs))), o && o[n] || s);
    if (!s.canReplace(l + 1, s.childCount) || !c.type.validContent(e4))
      return false;
  }
  t = i.indexAfter(a), e3 = o && o[0];
  return i.node(a).canReplaceWith(t, t, (e3 || i.node(1 + a)).type);
}
function split(e3, t, r = 1, o) {
  let i = e3.doc.resolve(t), a = Fragment2.empty, s = Fragment2.empty;
  for (let e4 = i.depth, t2 = i.depth - r, n = r - 1; e4 > t2; e4--, n--) {
    a = Fragment2.from(i.node(e4).copy(a));
    var l = o && o[n];
    s = Fragment2.from(l ? l.type.create(l.attrs, s) : i.node(e4).copy(s));
  }
  e3.step(new ReplaceStep(t, t, new Slice(a.append(s), r, r), true));
}
function canJoin(e3, t) {
  e3 = e3.resolve(t), t = e3.index();
  return joinable(e3.nodeBefore, e3.nodeAfter) && e3.parent.canReplace(t, t + 1);
}
function joinable(e3, t) {
  return !(!e3 || !t || e3.isLeaf || !e3.canAppend(t));
}
function joinPoint(e3, o, i = -1) {
  var a = e3.resolve(o);
  for (let r = a.depth; ; r--) {
    let e4, t, n = a.index(r);
    if (t = r == a.depth ? (e4 = a.nodeBefore, a.nodeAfter) : 0 < i ? (e4 = a.node(r + 1), n++, a.node(r).maybeChild(n)) : (e4 = a.node(r).maybeChild(n - 1), a.node(r + 1)), e4 && !e4.isTextblock && joinable(e4, t) && a.node(r).canReplace(n, n + 1))
      return o;
    if (0 == r)
      break;
    o = i < 0 ? a.before(r) : a.after(r);
  }
}
function join(e3, t, n) {
  t = new ReplaceStep(t - n, t + n, Slice.empty, true);
  e3.step(t);
}
function insertPoint(e3, t, n) {
  var r = e3.resolve(t);
  if (r.parent.canReplaceWith(r.index(), r.index(), n))
    return t;
  if (0 == r.parentOffset)
    for (let e4 = r.depth - 1; 0 <= e4; e4--) {
      var o = r.index(e4);
      if (r.node(e4).canReplaceWith(o, o, n))
        return r.before(e4 + 1);
      if (0 < o)
        return null;
    }
  if (r.parentOffset == r.parent.content.size)
    for (let e4 = r.depth - 1; 0 <= e4; e4--) {
      var i = r.indexAfter(e4);
      if (r.node(e4).canReplaceWith(i, i, n))
        return r.after(e4 + 1);
      if (i < r.node(e4).childCount)
        return null;
    }
  return null;
}
function dropPoint(e3, t, n) {
  var o = e3.resolve(t);
  if (!n.content.size)
    return t;
  let i = n.content;
  for (let e4 = 0; e4 < n.openStart; e4++)
    i = i.firstChild.content;
  for (let r = 1; r <= (0 == n.openStart && n.size ? 2 : 1); r++)
    for (let n2 = o.depth; 0 <= n2; n2--) {
      var a, s = n2 == o.depth ? 0 : o.pos <= (o.start(n2 + 1) + o.end(n2 + 1)) / 2 ? -1 : 1, l = o.index(n2) + (0 < s ? 1 : 0);
      let e4 = o.node(n2), t2 = false;
      if (t2 = 1 == r ? e4.canReplace(l, l, i) : (a = e4.contentMatchAt(l).findWrapping(i.firstChild.type)) && e4.canReplaceWith(l, l, a[0]))
        return 0 == s ? o.pos : s < 0 ? o.before(n2 + 1) : o.after(n2 + 1);
    }
  return null;
}
function replaceStep(e3, t, n = t, r = Slice.empty) {
  var o;
  return t != n || r.size ? fitsTrivially(o = e3.resolve(t), e3 = e3.resolve(n), r) ? new ReplaceStep(t, n, r) : new Fitter(o, e3, r).fit() : null;
}
function fitsTrivially(e3, t, n) {
  return !n.openStart && !n.openEnd && e3.start() == t.start() && e3.parent.canReplace(e3.index(), t.index(), n.content);
}
Step.jsonID("replaceAround", ReplaceAroundStep);
var Fitter = class {
  constructor(t, e3, n) {
    this.$from = t, this.$to = e3, this.unplaced = n, this.frontier = [], this.placed = Fragment2.empty;
    for (let e4 = 0; e4 <= t.depth; e4++) {
      var r = t.node(e4);
      this.frontier.push({ type: r.type, match: r.contentMatchAt(t.indexAfter(e4)) });
    }
    for (let e4 = t.depth; 0 < e4; e4--)
      this.placed = Fragment2.from(t.node(e4).copy(this.placed));
  }
  get depth() {
    return this.frontier.length - 1;
  }
  fit() {
    for (; this.unplaced.size; ) {
      var e3 = this.findFittable();
      e3 ? this.placeNodes(e3) : this.openMore() || this.dropNode();
    }
    var t = this.mustMoveInline(), n = this.placed.size - this.depth - this.$from.depth, r = this.$from, o = this.close(t < 0 ? this.$to : r.doc.resolve(t));
    if (!o)
      return null;
    let i = this.placed, a = r.depth, s = o.depth;
    for (; a && s && 1 == i.childCount; )
      i = i.firstChild.content, a--, s--;
    var l = new Slice(i, a, s);
    return -1 < t ? new ReplaceAroundStep(r.pos, t, this.$to.pos, this.$to.end(), l, n) : l.size || r.pos != this.$to.pos ? new ReplaceStep(r.pos, o.pos, l) : null;
  }
  findFittable() {
    let r = this.unplaced.openStart;
    for (let e3 = this.unplaced.content, t = 0, n = this.unplaced.openEnd; t < r; t++) {
      var o = e3.firstChild;
      if (1 < e3.childCount && (n = 0), o.type.spec.isolating && n <= t) {
        r = t;
        break;
      }
      e3 = o.content;
    }
    for (let s = 1; s <= 2; s++)
      for (let a = 1 == s ? r : this.unplaced.openStart; 0 <= a; a--) {
        let e3, i = null;
        var l = (e3 = (a ? i = contentAt(this.unplaced.content, a - 1).firstChild : this.unplaced).content).firstChild;
        for (let o2 = this.depth; 0 <= o2; o2--) {
          let { type: e4, match: t } = this.frontier[o2], n, r2 = null;
          if (1 == s && (l ? t.matchType(l.type) || (r2 = t.fillBefore(Fragment2.from(l), false)) : i && e4.compatibleContent(i.type)))
            return { sliceDepth: a, frontierDepth: o2, parent: i, inject: r2 };
          if (2 == s && l && (n = t.findWrapping(l.type)))
            return { sliceDepth: a, frontierDepth: o2, parent: i, wrap: n };
          if (i && t.matchType(i.type))
            break;
        }
      }
  }
  openMore() {
    var { content: e3, openStart: t, openEnd: n } = this.unplaced, r = contentAt(e3, t);
    return !(!r.childCount || r.firstChild.isLeaf || (this.unplaced = new Slice(e3, t + 1, Math.max(n, r.size + t >= e3.size - n ? t + 1 : 0)), 0));
  }
  dropNode() {
    var { content: e3, openStart: t, openEnd: n } = this.unplaced, r = contentAt(e3, t);
    r.childCount <= 1 && 0 < t ? (r = e3.size - t <= t + r.size, this.unplaced = new Slice(dropFromFragment(e3, t - 1, 1), t - 1, r ? t - 1 : n)) : this.unplaced = new Slice(dropFromFragment(e3, t, 1), t, n);
  }
  placeNodes({ sliceDepth: e3, frontierDepth: t, parent: n, inject: r, wrap: o }) {
    for (; this.depth > t; )
      this.closeFrontierNode();
    if (o)
      for (let e4 = 0; e4 < o.length; e4++)
        this.openFrontierNode(o[e4]);
    var i = this.unplaced, a = (n || i).content, s = i.openStart - e3;
    let l = 0, c = [], { match: u, type: d } = this.frontier[t];
    if (r) {
      for (let e4 = 0; e4 < r.childCount; e4++)
        c.push(r.child(e4));
      u = u.matchFragment(r);
    }
    let p = a.size + e3 - (i.content.size - i.openEnd);
    for (; l < a.childCount; ) {
      var f = a.child(l), h = u.matchType(f.type);
      if (!h)
        break;
      (1 < ++l || 0 == s || f.content.size) && (u = h, c.push(closeNodeStart(f.mark(d.allowedMarks(f.marks)), 1 == l ? s : 0, l == a.childCount ? p : -1)));
    }
    var m = l == a.childCount;
    m || (p = -1), this.placed = addToFragment(this.placed, t, Fragment2.from(c)), this.frontier[t].match = u, m && p < 0 && n && n.type == this.frontier[this.depth].type && 1 < this.frontier.length && this.closeFrontierNode();
    for (let e4 = 0, t2 = a; e4 < p; e4++) {
      var g = t2.lastChild;
      this.frontier.push({ type: g.type, match: g.contentMatchAt(g.childCount) }), t2 = g.content;
    }
    this.unplaced = m ? 0 == e3 ? Slice.empty : new Slice(dropFromFragment(i.content, e3 - 1, 1), e3 - 1, p < 0 ? i.openEnd : e3 - 1) : new Slice(dropFromFragment(i.content, e3, l), i.openStart, i.openEnd);
  }
  mustMoveInline() {
    if (!this.$to.parent.isTextblock)
      return -1;
    let e3 = this.frontier[this.depth], t;
    if (!e3.type.isTextblock || !contentAfterFits(this.$to, this.$to.depth, e3.type, e3.match, false) || this.$to.depth == this.depth && (t = this.findCloseLevel(this.$to)) && t.depth == this.depth)
      return -1;
    let n = this.$to["depth"], r = this.$to.after(n);
    for (; 1 < n && r == this.$to.end(--n); )
      ++r;
    return r;
  }
  findCloseLevel(n) {
    e:
      for (let t = Math.min(this.depth, n.depth); 0 <= t; t--) {
        var { match: e3, type: r } = this.frontier[t], o = t < n.depth && n.end(t + 1) == n.pos + (n.depth - (t + 1)), r = contentAfterFits(n, t, r, e3, o);
        if (r) {
          for (let e4 = t - 1; 0 <= e4; e4--) {
            var { match: i, type: a } = this.frontier[e4], a = contentAfterFits(n, e4, a, i, true);
            if (!a || a.childCount)
              continue e;
          }
          return { depth: t, fit: r, move: o ? n.doc.resolve(n.after(t + 1)) : n };
        }
      }
  }
  close(t) {
    var n = this.findCloseLevel(t);
    if (!n)
      return null;
    for (; this.depth > n.depth; )
      this.closeFrontierNode();
    n.fit.childCount && (this.placed = addToFragment(this.placed, n.depth, n.fit)), t = n.move;
    for (let e3 = n.depth + 1; e3 <= t.depth; e3++) {
      var r = t.node(e3), o = r.type.contentMatch.fillBefore(r.content, true, t.index(e3));
      this.openFrontierNode(r.type, r.attrs, o);
    }
    return t;
  }
  openFrontierNode(e3, t = null, n) {
    var r = this.frontier[this.depth];
    r.match = r.match.matchType(e3), this.placed = addToFragment(this.placed, this.depth, Fragment2.from(e3.create(t, n))), this.frontier.push({ type: e3, match: e3.contentMatch });
  }
  closeFrontierNode() {
    var e3 = this.frontier.pop().match.fillBefore(Fragment2.empty, true);
    e3.childCount && (this.placed = addToFragment(this.placed, this.frontier.length, e3));
  }
};
function dropFromFragment(e3, t, n) {
  return 0 == t ? e3.cutByIndex(n, e3.childCount) : e3.replaceChild(0, e3.firstChild.copy(dropFromFragment(e3.firstChild.content, t - 1, n)));
}
function addToFragment(e3, t, n) {
  return 0 == t ? e3.append(n) : e3.replaceChild(e3.childCount - 1, e3.lastChild.copy(addToFragment(e3.lastChild.content, t - 1, n)));
}
function contentAt(t, n) {
  for (let e3 = 0; e3 < n; e3++)
    t = t.firstChild.content;
  return t;
}
function closeNodeStart(e3, t, n) {
  if (t <= 0)
    return e3;
  let r = e3.content;
  return 1 < t && (r = r.replaceChild(0, closeNodeStart(r.firstChild, t - 1, 1 == r.childCount ? n - 1 : 0))), 0 < t && (r = e3.type.contentMatch.fillBefore(r).append(r), n <= 0) && (r = r.append(e3.type.contentMatch.matchFragment(r).fillBefore(Fragment2.empty, true))), e3.copy(r);
}
function contentAfterFits(e3, t, n, r, o) {
  var i = e3.node(t), o = o ? e3.indexAfter(t) : e3.index(t);
  return (o != i.childCount || n.compatibleContent(i.type)) && (e3 = r.fillBefore(i.content, true, o)) && !invalidMarks(n, i.content, o) ? e3 : null;
}
function invalidMarks(t, n, r) {
  for (let e3 = r; e3 < n.childCount; e3++)
    if (!t.allowsMarks(n.child(e3).marks))
      return true;
  return false;
}
function definesContent(e3) {
  return e3.spec.defining || e3.spec.definingForContent;
}
function replaceRange(r, t, o, i) {
  if (!i.size)
    return r.deleteRange(t, o);
  var a = r.doc.resolve(t), s = r.doc.resolve(o);
  if (fitsTrivially(a, s, i))
    return r.step(new ReplaceStep(t, o, i));
  var l = coveredDepths(a, r.doc.resolve(o));
  0 == l[l.length - 1] && l.pop();
  let n = -(a.depth + 1);
  l.unshift(n);
  for (let e3 = a.depth, t2 = a.pos - 1; 0 < e3; e3--, t2--) {
    var c = a.node(e3).type.spec;
    if (c.defining || c.definingAsContext || c.isolating)
      break;
    -1 < l.indexOf(e3) ? n = e3 : a.before(e3) == t2 && l.splice(1, 0, -e3);
  }
  var u = l.indexOf(n);
  let d = [], p = i.openStart;
  for (let e3 = i.content, t2 = 0; ; t2++) {
    var f = e3.firstChild;
    if (d.push(f), t2 == i.openStart)
      break;
    e3 = f.content;
  }
  for (let e3 = p - 1; 0 <= e3; e3--) {
    var h = d[e3], m = definesContent(h.type);
    if (m && !h.sameMarkup(a.node(Math.abs(n) - 1)))
      p = e3;
    else if (m || !h.type.isTextblock)
      break;
  }
  for (let e3 = i.openStart; 0 <= e3; e3--) {
    var g = (e3 + p + 1) % (i.openStart + 1), v = d[g];
    if (v)
      for (let n2 = 0; n2 < l.length; n2++) {
        let e4 = l[(n2 + u) % l.length], t2 = true;
        e4 < 0 && (t2 = false, e4 = -e4);
        var y = a.node(e4 - 1), b = a.index(e4 - 1);
        if (y.canReplaceWith(b, b, v.type, v.marks))
          return r.replace(a.before(e4), t2 ? s.after(e4) : o, new Slice(closeFragment(i.content, 0, i.openStart, g), g, i.openEnd));
      }
  }
  var w = r.steps.length;
  for (let e3 = l.length - 1; 0 <= e3 && (r.replace(t, o, i), !(r.steps.length > w)); e3--) {
    var x = l[e3];
    x < 0 || (t = a.before(x), o = s.after(x));
  }
}
function closeFragment(e3, t, n, r, o) {
  var i;
  return t < n && (i = e3.firstChild, e3 = e3.replaceChild(0, i.copy(closeFragment(i.content, t + 1, n, r, i)))), e3 = r < t ? (i = (n = o.contentMatchAt(0)).fillBefore(e3).append(e3)).append(n.matchFragment(i).fillBefore(Fragment2.empty, true)) : e3;
}
function replaceRangeWith(e3, t, n, r) {
  var o;
  !r.isInline && t == n && e3.doc.resolve(t).parent.content.size && null != (o = insertPoint(e3.doc, t, r.type)) && (t = n = o), e3.replaceRange(t, n, new Slice(Fragment2.from(r), 0, 0));
}
function deleteRange(t, n, r) {
  var o = t.doc.resolve(n), i = t.doc.resolve(r), a = coveredDepths(o, i);
  for (let e3 = 0; e3 < a.length; e3++) {
    var s = a[e3], l = e3 == a.length - 1;
    if (l && 0 == s || o.node(s).type.contentMatch.validEnd)
      return t.delete(o.start(s), i.end(s));
    if (0 < s && (l || o.node(s - 1).canReplace(o.index(s - 1), i.indexAfter(s - 1))))
      return t.delete(o.before(s), i.after(s));
  }
  for (let e3 = 1; e3 <= o.depth && e3 <= i.depth; e3++)
    if (n - o.start(e3) == o.depth - e3 && r > o.end(e3) && i.end(e3) - r != i.depth - e3)
      return t.delete(o.before(e3), r);
  t.delete(n, r);
}
function coveredDepths(t, n) {
  var r = [];
  for (let e3 = Math.min(t.depth, n.depth); 0 <= e3; e3--) {
    var o = t.start(e3);
    if (o < t.pos - (t.depth - e3) || n.end(e3) > n.pos + (n.depth - e3) || t.node(e3).type.spec.isolating || n.node(e3).type.spec.isolating)
      break;
    (o == n.start(e3) || e3 == t.depth && e3 == n.depth && t.parent.inlineContent && n.parent.inlineContent && e3 && n.start(e3 - 1) == o - 1) && r.push(e3);
  }
  return r;
}
var AttrStep = class _AttrStep extends Step {
  constructor(e3, t, n) {
    super(), this.pos = e3, this.attr = t, this.value = n;
  }
  apply(e3) {
    var t = e3.nodeAt(this.pos);
    if (!t)
      return StepResult.fail("No node at attribute step's position");
    var n, r = /* @__PURE__ */ Object.create(null);
    for (n in t.attrs)
      r[n] = t.attrs[n];
    r[this.attr] = this.value;
    var o = t.type.create(r, null, t.marks);
    return StepResult.fromReplace(e3, this.pos, this.pos + 1, new Slice(Fragment2.from(o), 0, t.isLeaf ? 0 : 1));
  }
  getMap() {
    return StepMap.empty;
  }
  invert(e3) {
    return new _AttrStep(this.pos, this.attr, e3.nodeAt(this.pos).attrs[this.attr]);
  }
  map(e3) {
    e3 = e3.mapResult(this.pos, 1);
    return e3.deletedAfter ? null : new _AttrStep(e3.pos, this.attr, this.value);
  }
  toJSON() {
    return { stepType: "attr", pos: this.pos, attr: this.attr, value: this.value };
  }
  static fromJSON(e3, t) {
    if ("number" != typeof t.pos || "string" != typeof t.attr)
      throw new RangeError("Invalid input for AttrStep.fromJSON");
    return new _AttrStep(t.pos, t.attr, t.value);
  }
};
Step.jsonID("attr", AttrStep);
var TransformError = class extends Error {
};
(TransformError = function e2(t) {
  t = Error.call(this, t);
  return t.__proto__ = e2.prototype, t;
}).prototype = Object.create(Error.prototype), (TransformError.prototype.constructor = TransformError).prototype.name = "TransformError";
var Transform = class {
  constructor(e3) {
    this.doc = e3, this.steps = [], this.docs = [], this.mapping = new Mapping();
  }
  get before() {
    return this.docs.length ? this.docs[0] : this.doc;
  }
  step(e3) {
    e3 = this.maybeStep(e3);
    if (e3.failed)
      throw new TransformError(e3.failed);
    return this;
  }
  maybeStep(e3) {
    var t = e3.apply(this.doc);
    return t.failed || this.addStep(e3, t.doc), t;
  }
  get docChanged() {
    return 0 < this.steps.length;
  }
  addStep(e3, t) {
    this.docs.push(this.doc), this.steps.push(e3), this.mapping.appendMap(e3.getMap()), this.doc = t;
  }
  replace(e3, t = e3, n = Slice.empty) {
    t = replaceStep(this.doc, e3, t, n);
    return t && this.step(t), this;
  }
  replaceWith(e3, t, n) {
    return this.replace(e3, t, new Slice(Fragment2.from(n), 0, 0));
  }
  delete(e3, t) {
    return this.replace(e3, t, Slice.empty);
  }
  insert(e3, t) {
    return this.replaceWith(e3, e3, t);
  }
  replaceRange(e3, t, n) {
    return replaceRange(this, e3, t, n), this;
  }
  replaceRangeWith(e3, t, n) {
    return replaceRangeWith(this, e3, t, n), this;
  }
  deleteRange(e3, t) {
    return deleteRange(this, e3, t), this;
  }
  lift(e3, t) {
    return lift$1(this, e3, t), this;
  }
  join(e3, t = 1) {
    return join(this, e3, t), this;
  }
  wrap(e3, t) {
    return wrap(this, e3, t), this;
  }
  setBlockType(e3, t = e3, n, r = null) {
    return setBlockType$1(this, e3, t, n, r), this;
  }
  setNodeMarkup(e3, t, n = null, r) {
    return setNodeMarkup(this, e3, t, n, r), this;
  }
  setNodeAttribute(e3, t, n) {
    return this.step(new AttrStep(e3, t, n)), this;
  }
  addNodeMark(e3, t) {
    return this.step(new AddNodeMarkStep(e3, t)), this;
  }
  removeNodeMark(e3, t) {
    if (!(t instanceof Mark)) {
      var n = this.doc.nodeAt(e3);
      if (!n)
        throw new RangeError("No node at position " + e3);
      if (!(t = t.isInSet(n.marks)))
        return this;
    }
    return this.step(new RemoveNodeMarkStep(e3, t)), this;
  }
  split(e3, t = 1, n) {
    return split(this, e3, t, n), this;
  }
  addMark(e3, t, n) {
    return addMark(this, e3, t, n), this;
  }
  removeMark(e3, t, n) {
    return removeMark(this, e3, t, n), this;
  }
  clearIncompatible(e3, t, n) {
    return clearIncompatible(this, e3, t, n), this;
  }
};
var classesById = /* @__PURE__ */ Object.create(null);
var Selection = class {
  constructor(e3, t, n) {
    this.$anchor = e3, this.$head = t, this.ranges = n || [new SelectionRange(e3.min(t), e3.max(t))];
  }
  get anchor() {
    return this.$anchor.pos;
  }
  get head() {
    return this.$head.pos;
  }
  get from() {
    return this.$from.pos;
  }
  get to() {
    return this.$to.pos;
  }
  get $from() {
    return this.ranges[0].$from;
  }
  get $to() {
    return this.ranges[0].$to;
  }
  get empty() {
    var t = this.ranges;
    for (let e3 = 0; e3 < t.length; e3++)
      if (t[e3].$from.pos != t[e3].$to.pos)
        return false;
    return true;
  }
  content() {
    return this.$from.doc.slice(this.from, this.to, true);
  }
  replace(t, n = Slice.empty) {
    let r = n.content.lastChild, o = null;
    for (let e3 = 0; e3 < n.openEnd; e3++)
      r = (o = r).lastChild;
    var i = t.steps.length, a = this.ranges;
    for (let e3 = 0; e3 < a.length; e3++) {
      var { $from: s, $to: l } = a[e3], c = t.mapping.slice(i);
      t.replaceRange(c.map(s.pos), c.map(l.pos), e3 ? Slice.empty : n), 0 == e3 && selectionToInsertionEnd(t, i, (r ? r.isInline : o && o.isTextblock) ? -1 : 1);
    }
  }
  replaceWith(t, n) {
    var r = t.steps.length, o = this.ranges;
    for (let e3 = 0; e3 < o.length; e3++) {
      var { $from: i, $to: a } = o[e3], s = t.mapping.slice(r), i = s.map(i.pos), s = s.map(a.pos);
      e3 ? t.deleteRange(i, s) : (t.replaceRangeWith(i, s, n), selectionToInsertionEnd(t, r, n.isInline ? -1 : 1));
    }
  }
  static findFrom(t, n, r = false) {
    var e3 = t.parent.inlineContent ? new TextSelection(t) : findSelectionIn(t.node(0), t.parent, t.pos, t.index(), n, r);
    if (e3)
      return e3;
    for (let e4 = t.depth - 1; 0 <= e4; e4--) {
      var o = n < 0 ? findSelectionIn(t.node(0), t.node(e4), t.before(e4 + 1), t.index(e4), n, r) : findSelectionIn(t.node(0), t.node(e4), t.after(e4 + 1), t.index(e4) + 1, n, r);
      if (o)
        return o;
    }
    return null;
  }
  static near(e3, t = 1) {
    return this.findFrom(e3, t) || this.findFrom(e3, -t) || new AllSelection(e3.node(0));
  }
  static atStart(e3) {
    return findSelectionIn(e3, e3, 0, 0, 1) || new AllSelection(e3);
  }
  static atEnd(e3) {
    return findSelectionIn(e3, e3, e3.content.size, e3.childCount, -1) || new AllSelection(e3);
  }
  static fromJSON(e3, t) {
    if (!t || !t.type)
      throw new RangeError("Invalid input for Selection.fromJSON");
    var n = classesById[t.type];
    if (n)
      return n.fromJSON(e3, t);
    throw new RangeError(`No selection type ${t.type} defined`);
  }
  static jsonID(e3, t) {
    if (e3 in classesById)
      throw new RangeError("Duplicate use of selection JSON ID " + e3);
    return (classesById[e3] = t).prototype.jsonID = e3, t;
  }
  getBookmark() {
    return TextSelection.between(this.$anchor, this.$head).getBookmark();
  }
};
Selection.prototype.visible = true;
var SelectionRange = class {
  constructor(e3, t) {
    this.$from = e3, this.$to = t;
  }
};
var warnedAboutTextSelection = false;
function checkTextSelection(e3) {
  warnedAboutTextSelection || e3.parent.inlineContent || (warnedAboutTextSelection = true, console.warn("TextSelection endpoint not pointing into a node with inline content (" + e3.parent.type.name + ")"));
}
var TextSelection = class _TextSelection extends Selection {
  constructor(e3, t = e3) {
    checkTextSelection(e3), checkTextSelection(t), super(e3, t);
  }
  get $cursor() {
    return this.$anchor.pos == this.$head.pos ? this.$head : null;
  }
  map(e3, t) {
    var n = e3.resolve(t.map(this.head));
    return n.parent.inlineContent ? (e3 = e3.resolve(t.map(this.anchor)), new _TextSelection(e3.parent.inlineContent ? e3 : n, n)) : Selection.near(n);
  }
  replace(e3, t = Slice.empty) {
    super.replace(e3, t), t == Slice.empty && (t = this.$from.marksAcross(this.$to)) && e3.ensureMarks(t);
  }
  eq(e3) {
    return e3 instanceof _TextSelection && e3.anchor == this.anchor && e3.head == this.head;
  }
  getBookmark() {
    return new TextBookmark(this.anchor, this.head);
  }
  toJSON() {
    return { type: "text", anchor: this.anchor, head: this.head };
  }
  static fromJSON(e3, t) {
    if ("number" != typeof t.anchor || "number" != typeof t.head)
      throw new RangeError("Invalid input for TextSelection.fromJSON");
    return new _TextSelection(e3.resolve(t.anchor), e3.resolve(t.head));
  }
  static create(e3, t, n = t) {
    var r = e3.resolve(t);
    return new this(r, n == t ? r : e3.resolve(n));
  }
  static between(e3, t, n) {
    var r = e3.pos - t.pos;
    if (n && !r || (n = 0 <= r ? 1 : -1), !t.parent.inlineContent) {
      var o = Selection.findFrom(t, n, true) || Selection.findFrom(t, -n, true);
      if (!o)
        return Selection.near(t, n);
      t = o.$head;
    }
    return e3.parent.inlineContent || 0 != r && (e3 = (Selection.findFrom(e3, -n, true) || Selection.findFrom(e3, n, true)).$anchor).pos < t.pos == r < 0 || (e3 = t), new _TextSelection(e3, t);
  }
};
Selection.jsonID("text", TextSelection);
var TextBookmark = class _TextBookmark {
  constructor(e3, t) {
    this.anchor = e3, this.head = t;
  }
  map(e3) {
    return new _TextBookmark(e3.map(this.anchor), e3.map(this.head));
  }
  resolve(e3) {
    return TextSelection.between(e3.resolve(this.anchor), e3.resolve(this.head));
  }
};
var NodeSelection = class _NodeSelection extends Selection {
  constructor(e3) {
    var t = e3.nodeAfter, n = e3.node(0).resolve(e3.pos + t.nodeSize);
    super(e3, n), this.node = t;
  }
  map(e3, t) {
    var { deleted: t, pos: n } = t.mapResult(this.anchor), e3 = e3.resolve(n);
    return t ? Selection.near(e3) : new _NodeSelection(e3);
  }
  content() {
    return new Slice(Fragment2.from(this.node), 0, 0);
  }
  eq(e3) {
    return e3 instanceof _NodeSelection && e3.anchor == this.anchor;
  }
  toJSON() {
    return { type: "node", anchor: this.anchor };
  }
  getBookmark() {
    return new NodeBookmark(this.anchor);
  }
  static fromJSON(e3, t) {
    if ("number" != typeof t.anchor)
      throw new RangeError("Invalid input for NodeSelection.fromJSON");
    return new _NodeSelection(e3.resolve(t.anchor));
  }
  static create(e3, t) {
    return new _NodeSelection(e3.resolve(t));
  }
  static isSelectable(e3) {
    return !e3.isText && false !== e3.type.spec.selectable;
  }
};
NodeSelection.prototype.visible = false, Selection.jsonID("node", NodeSelection);
var NodeBookmark = class _NodeBookmark {
  constructor(e3) {
    this.anchor = e3;
  }
  map(e3) {
    var { deleted: e3, pos: t } = e3.mapResult(this.anchor);
    return e3 ? new TextBookmark(t, t) : new _NodeBookmark(t);
  }
  resolve(e3) {
    var e3 = e3.resolve(this.anchor), t = e3.nodeAfter;
    return t && NodeSelection.isSelectable(t) ? new NodeSelection(e3) : Selection.near(e3);
  }
};
var AllSelection = class _AllSelection extends Selection {
  constructor(e3) {
    super(e3.resolve(0), e3.resolve(e3.content.size));
  }
  replace(e3, t = Slice.empty) {
    var n;
    t == Slice.empty ? (e3.delete(0, e3.doc.content.size), (n = Selection.atStart(e3.doc)).eq(e3.selection) || e3.setSelection(n)) : super.replace(e3, t);
  }
  toJSON() {
    return { type: "all" };
  }
  static fromJSON(e3) {
    return new _AllSelection(e3);
  }
  map(e3) {
    return new _AllSelection(e3);
  }
  eq(e3) {
    return e3 instanceof _AllSelection;
  }
  getBookmark() {
    return AllBookmark;
  }
};
Selection.jsonID("all", AllSelection);
var AllBookmark = { map() {
  return this;
}, resolve(e3) {
  return new AllSelection(e3);
} };
function findSelectionIn(t, n, r, o, i, a = false) {
  if (n.inlineContent)
    return TextSelection.create(t, r);
  for (let e3 = o - (0 < i ? 0 : 1); 0 < i ? e3 < n.childCount : 0 <= e3; e3 += i) {
    var s = n.child(e3);
    if (s.isAtom) {
      if (!a && NodeSelection.isSelectable(s))
        return NodeSelection.create(t, r - (i < 0 ? s.nodeSize : 0));
    } else {
      var l = findSelectionIn(t, s, r + i, i < 0 ? s.childCount : 0, i, a);
      if (l)
        return l;
    }
    r += s.nodeSize * i;
  }
  return null;
}
function selectionToInsertionEnd(t, e3, n) {
  var r = t.steps.length - 1;
  if (!(r < e3)) {
    e3 = t.steps[r];
    if (e3 instanceof ReplaceStep || e3 instanceof ReplaceAroundStep) {
      let e4 = t.mapping.maps[r], o;
      e4.forEach((e5, t2, n2, r2) => {
        null == o && (o = r2);
      }), t.setSelection(Selection.near(t.doc.resolve(o), n));
    }
  }
}
var UPDATED_SEL = 1;
var UPDATED_MARKS = 2;
var UPDATED_SCROLL = 4;
var Transaction = class extends Transform {
  constructor(e3) {
    super(e3.doc), this.curSelectionFor = 0, this.updated = 0, this.meta = /* @__PURE__ */ Object.create(null), this.time = Date.now(), this.curSelection = e3.selection, this.storedMarks = e3.storedMarks;
  }
  get selection() {
    return this.curSelectionFor < this.steps.length && (this.curSelection = this.curSelection.map(this.doc, this.mapping.slice(this.curSelectionFor)), this.curSelectionFor = this.steps.length), this.curSelection;
  }
  setSelection(e3) {
    if (e3.$from.doc != this.doc)
      throw new RangeError("Selection passed to setSelection must point at the current document");
    return this.curSelection = e3, this.curSelectionFor = this.steps.length, this.updated = (this.updated | UPDATED_SEL) & ~UPDATED_MARKS, this.storedMarks = null, this;
  }
  get selectionSet() {
    return 0 < (this.updated & UPDATED_SEL);
  }
  setStoredMarks(e3) {
    return this.storedMarks = e3, this.updated |= UPDATED_MARKS, this;
  }
  ensureMarks(e3) {
    return Mark.sameSet(this.storedMarks || this.selection.$from.marks(), e3) || this.setStoredMarks(e3), this;
  }
  addStoredMark(e3) {
    return this.ensureMarks(e3.addToSet(this.storedMarks || this.selection.$head.marks()));
  }
  removeStoredMark(e3) {
    return this.ensureMarks(e3.removeFromSet(this.storedMarks || this.selection.$head.marks()));
  }
  get storedMarksSet() {
    return 0 < (this.updated & UPDATED_MARKS);
  }
  addStep(e3, t) {
    super.addStep(e3, t), this.updated = this.updated & ~UPDATED_MARKS, this.storedMarks = null;
  }
  setTime(e3) {
    return this.time = e3, this;
  }
  replaceSelection(e3) {
    return this.selection.replace(this, e3), this;
  }
  replaceSelectionWith(e3, t = true) {
    var n = this.selection;
    return t && (e3 = e3.mark(this.storedMarks || (n.empty ? n.$from.marks() : n.$from.marksAcross(n.$to) || Mark.none))), n.replaceWith(this, e3), this;
  }
  deleteSelection() {
    return this.selection.replace(this), this;
  }
  insertText(t, n, r) {
    var o, i = this.doc.type.schema;
    if (null == n)
      return t ? this.replaceSelectionWith(i.text(t), true) : this.deleteSelection();
    {
      if (r = null == (r = null == r ? n : r) ? n : r, !t)
        return this.deleteRange(n, r);
      let e3 = this.storedMarks;
      return e3 || (o = this.doc.resolve(n), e3 = r == n ? o.marks() : o.marksAcross(this.doc.resolve(r))), this.replaceRangeWith(n, r, i.text(t, e3)), this.selection.empty || this.setSelection(Selection.near(this.selection.$to)), this;
    }
  }
  setMeta(e3, t) {
    return this.meta["string" == typeof e3 ? e3 : e3.key] = t, this;
  }
  getMeta(e3) {
    return this.meta["string" == typeof e3 ? e3 : e3.key];
  }
  get isGeneric() {
    for (var e3 in this.meta)
      return false;
    return true;
  }
  scrollIntoView() {
    return this.updated |= UPDATED_SCROLL, this;
  }
  get scrolledIntoView() {
    return 0 < (this.updated & UPDATED_SCROLL);
  }
};
function bind(e3, t) {
  return t && e3 ? e3.bind(t) : e3;
}
var FieldDesc = class {
  constructor(e3, t, n) {
    this.name = e3, this.init = bind(t.init, n), this.apply = bind(t.apply, n);
  }
};
var baseFields = [new FieldDesc("doc", { init(e3) {
  return e3.doc || e3.schema.topNodeType.createAndFill();
}, apply(e3) {
  return e3.doc;
} }), new FieldDesc("selection", { init(e3, t) {
  return e3.selection || Selection.atStart(t.doc);
}, apply(e3) {
  return e3.selection;
} }), new FieldDesc("storedMarks", { init(e3) {
  return e3.storedMarks || null;
}, apply(e3, t, n, r) {
  return r.selection.$cursor ? e3.storedMarks : null;
} }), new FieldDesc("scrollToSelection", { init() {
  return 0;
}, apply(e3, t) {
  return e3.scrolledIntoView ? t + 1 : t;
} })];
var Configuration = class {
  constructor(e3, t) {
    this.schema = e3, this.plugins = [], this.pluginsByKey = /* @__PURE__ */ Object.create(null), this.fields = baseFields.slice(), t && t.forEach((e4) => {
      if (this.pluginsByKey[e4.key])
        throw new RangeError("Adding different instances of a keyed plugin (" + e4.key + ")");
      this.plugins.push(e4), (this.pluginsByKey[e4.key] = e4).spec.state && this.fields.push(new FieldDesc(e4.key, e4.spec.state, e4));
    });
  }
};
var EditorState = class _EditorState {
  constructor(e3) {
    this.config = e3;
  }
  get schema() {
    return this.config.schema;
  }
  get plugins() {
    return this.config.plugins;
  }
  apply(e3) {
    return this.applyTransaction(e3).state;
  }
  filterTransaction(t, n = -1) {
    for (let e3 = 0; e3 < this.config.plugins.length; e3++)
      if (e3 != n) {
        var r = this.config.plugins[e3];
        if (r.spec.filterTransaction && !r.spec.filterTransaction.call(r, t, this))
          return false;
      }
    return true;
  }
  applyTransaction(n) {
    if (!this.filterTransaction(n))
      return { state: this, transactions: [] };
    let r = [n], o = this.applyInner(n), i = null;
    for (; ; ) {
      let e3 = false;
      for (let t = 0; t < this.config.plugins.length; t++) {
        var a = this.config.plugins[t];
        if (a.spec.appendTransaction) {
          var s = i ? i[t].n : 0, l = i ? i[t].state : this, a = s < r.length && a.spec.appendTransaction.call(a, s ? r.slice(s) : r, l, o);
          if (a && o.filterTransaction(a, t)) {
            if (a.setMeta("appendedTransaction", n), !i) {
              i = [];
              for (let e4 = 0; e4 < this.config.plugins.length; e4++)
                i.push(e4 < t ? { state: o, n: r.length } : { state: this, n: 0 });
            }
            r.push(a), o = o.applyInner(a), e3 = true;
          }
          i && (i[t] = { state: o, n: r.length });
        }
      }
      if (!e3)
        return { state: o, transactions: r };
    }
  }
  applyInner(t) {
    if (!t.before.eq(this.doc))
      throw new RangeError("Applying a mismatched transaction");
    var n = new _EditorState(this.config), r = this.config.fields;
    for (let e3 = 0; e3 < r.length; e3++) {
      var o = r[e3];
      n[o.name] = o.apply(t, this[o.name], this, n);
    }
    return n;
  }
  get tr() {
    return new Transaction(this);
  }
  static create(t) {
    var n = new Configuration((t.doc ? t.doc.type : t).schema, t.plugins), r = new _EditorState(n);
    for (let e3 = 0; e3 < n.fields.length; e3++)
      r[n.fields[e3].name] = n.fields[e3].init(t, r);
    return r;
  }
  reconfigure(t) {
    var e3 = new Configuration(this.schema, t.plugins), n = e3.fields, r = new _EditorState(e3);
    for (let e4 = 0; e4 < n.length; e4++) {
      var o = n[e4].name;
      r[o] = this.hasOwnProperty(o) ? this[o] : n[e4].init(t, r);
    }
    return r;
  }
  toJSON(e3) {
    var t = { doc: this.doc.toJSON(), selection: this.selection.toJSON() };
    if (this.storedMarks && (t.storedMarks = this.storedMarks.map((e4) => e4.toJSON())), e3 && "object" == typeof e3)
      for (var n in e3) {
        if ("doc" == n || "selection" == n)
          throw new RangeError("The JSON fields `doc` and `selection` are reserved");
        var r = e3[n], o = r.spec.state;
        o && o.toJSON && (t[n] = o.toJSON.call(r, this[r.key]));
      }
    return t;
  }
  static fromJSON(o, i, a) {
    if (!i)
      throw new RangeError("Invalid input for EditorState.fromJSON");
    if (!o.schema)
      throw new RangeError("Required config field 'schema' missing");
    var e3 = new Configuration(o.schema, o.plugins);
    let s = new _EditorState(e3);
    return e3.fields.forEach((e4) => {
      if ("doc" == e4.name)
        s.doc = Node.fromJSON(o.schema, i.doc);
      else if ("selection" == e4.name)
        s.selection = Selection.fromJSON(s.doc, i.selection);
      else if ("storedMarks" == e4.name)
        i.storedMarks && (s.storedMarks = i.storedMarks.map(o.schema.markFromJSON));
      else {
        if (a)
          for (var t in a) {
            var n = a[t], r = n.spec.state;
            if (n.key == e4.name && r && r.fromJSON && Object.prototype.hasOwnProperty.call(i, t))
              return void (s[e4.name] = r.fromJSON.call(n, o, i[t], s));
          }
        s[e4.name] = e4.init(o, s);
      }
    }), s;
  }
};
function bindProps(t, n, r) {
  for (var o in t) {
    let e3 = t[o];
    e3 instanceof Function ? e3 = e3.bind(n) : "handleDOMEvents" == o && (e3 = bindProps(e3, n, {})), r[o] = e3;
  }
  return r;
}
var Plugin = class {
  constructor(e3) {
    this.spec = e3, this.props = {}, e3.props && bindProps(e3.props, this, this.props), this.key = e3.key ? e3.key.key : createKey("plugin");
  }
  getState(e3) {
    return e3[this.key];
  }
};
var keys = /* @__PURE__ */ Object.create(null);
function createKey(e3) {
  return e3 in keys ? e3 + "$" + ++keys[e3] : (keys[e3] = 0, e3 + "$");
}
var PluginKey = class {
  constructor(e3 = "key") {
    this.key = createKey(e3);
  }
  get(e3) {
    return e3.config.pluginsByKey[this.key];
  }
  getState(e3) {
    return e3[this.key];
  }
};
var InputRule = class {
  constructor(e3, t) {
    this.match = e3, this.match = e3, this.handler = "string" == typeof t ? stringHandler(t) : t;
  }
};
function stringHandler(s) {
  return function(e3, t, n, r) {
    let o = s;
    var i, a;
    return t[1] && (i = t[0].lastIndexOf(t[1]), o += t[0].slice(i + t[1].length), 0 < (a = (n += i) - r)) && (o = t[0].slice(i - a, i) + o, n = r), e3.tr.insertText(o, n, r);
  };
}
var MAX_MATCH = 500;
function inputRules({ rules: o }) {
  let i = new Plugin({ state: { init() {
    return null;
  }, apply(e3, t) {
    var n = e3.getMeta(this);
    return n || (e3.selectionSet || e3.docChanged ? null : t);
  } }, props: { handleTextInput(e3, t, n, r) {
    return run(e3, t, n, r, o, i);
  }, handleDOMEvents: { compositionend: (t) => {
    setTimeout(() => {
      var e3 = t.state.selection["$cursor"];
      e3 && run(t, e3.pos, e3.pos, "", o, i);
    });
  } } }, isInputRules: true });
  return i;
}
function run(t, n, r, o, i, a) {
  if (!t.composing) {
    var s = t.state, e3 = s.doc.resolve(n);
    if (!e3.parent.type.spec.code) {
      var l = e3.parent.textBetween(Math.max(0, e3.parentOffset - MAX_MATCH), e3.parentOffset, null, "￼") + o;
      for (let e4 = 0; e4 < i.length; e4++) {
        var c = i[e4].match.exec(l), c = c && i[e4].handler(s, c, n - (c[0].length - o.length), r);
        if (c)
          return t.dispatch(c.setMeta(a, { transform: c, from: n, to: r, text: o })), true;
      }
    }
  }
  return false;
}
var undoInputRule = (r, o) => {
  var i = r.plugins;
  for (let n = 0; n < i.length; n++) {
    let e3 = i[n], t;
    if (e3.spec.isInputRules && (t = e3.getState(r))) {
      if (o) {
        var a, s = r.tr, l = t.transform;
        for (let e4 = l.steps.length - 1; 0 <= e4; e4--)
          s.step(l.steps[e4].invert(l.docs[e4]));
        t.text ? (a = s.doc.resolve(t.from).marks(), s.replaceWith(t.from, t.to, r.schema.text(t.text, a))) : s.delete(t.from, t.to), o(s);
      }
      return true;
    }
  }
  return false;
};
var emDash = new InputRule(/--$/, "—");
var ellipsis = new InputRule(/\.\.\.$/, "…");
var openDoubleQuote = new InputRule(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/, "“");
var closeDoubleQuote = new InputRule(/"$/, "”");
var openSingleQuote = new InputRule(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/, "‘");
var closeSingleQuote = new InputRule(/'$/, "’");
var smartQuotes = [openDoubleQuote, closeDoubleQuote, openSingleQuote, closeSingleQuote];
function wrappingInputRule(e3, i, a = null, s) {
  return new InputRule(e3, (e4, t, n, r) => {
    var o = a instanceof Function ? a(t) : a, e4 = e4.tr.delete(n, r), r = e4.doc.resolve(n).blockRange(), o = r && findWrapping(r, i, o);
    if (!o)
      return null;
    e4.wrap(r, o);
    r = e4.doc.resolve(n - 1).nodeBefore;
    return r && r.type == i && canJoin(e4.doc, n - 1) && (!s || s(t, r)) && e4.join(n - 1), e4;
  });
}
function textblockTypeInputRule(e3, i, a = null) {
  return new InputRule(e3, (e4, t, n, r) => {
    var o = e4.doc.resolve(n), t = a instanceof Function ? a(t) : a;
    return o.node(-1).canReplaceWith(o.index(-1), o.indexAfter(-1), i) ? e4.tr.delete(n, r).setBlockType(n, n, i, t) : null;
  });
}
function blockQuoteRule(e3) {
  return wrappingInputRule(/^\s*>\s$/, e3);
}
function orderedListRule(e3) {
  return wrappingInputRule(/^(\d+)\.\s$/, e3, (e4) => ({ order: +e4[1] }), (e4, t) => t.childCount + t.attrs.order == +e4[1]);
}
function bulletListRule(e3) {
  return wrappingInputRule(/^\s*([-+*])\s$/, e3);
}
function codeBlockRule(e3) {
  return textblockTypeInputRule(/^```$/, e3);
}
function headingRule(e3, t) {
  return textblockTypeInputRule(new RegExp("^(#{1," + t + "})\\s$"), e3, (e4) => ({ level: e4[1].length }));
}
function buildInputRules(e3) {
  var t, n = smartQuotes.concat(ellipsis, emDash);
  return (t = e3.nodes.blockquote) && n.push(blockQuoteRule(t)), (t = e3.nodes.ordered_list) && n.push(orderedListRule(t)), (t = e3.nodes.bullet_list) && n.push(bulletListRule(t)), (t = e3.nodes.code_block) && n.push(codeBlockRule(t)), (t = e3.nodes.heading) && n.push(headingRule(t, 6)), inputRules({ rules: n });
}
var deleteSelection = (e3, t) => !e3.selection.empty && (t && t(e3.tr.deleteSelection().scrollIntoView()), true);
function atBlockStart(e3, t) {
  var n = e3.selection["$cursor"];
  return !n || (t ? !t.endOfTextblock("backward", e3) : 0 < n.parentOffset) ? null : n;
}
var joinBackward = (e3, t, n) => {
  n = atBlockStart(e3, n);
  if (!n)
    return false;
  var r = findCutBefore(n);
  if (!r)
    return null != (i = (o = n.blockRange()) && liftTarget(o)) && (t && t(e3.tr.lift(o, i).scrollIntoView()), true);
  var o = r.nodeBefore;
  if (!o.type.spec.isolating && deleteBarrier(e3, r, t))
    return true;
  if (0 == n.parent.content.size && (textblockAt(o, "end") || NodeSelection.isSelectable(o))) {
    var i = replaceStep(e3.doc, n.before(), n.after(), Slice.empty);
    if (i && i.slice.size < i.to - i.from)
      return t && ((i = e3.tr.step(i)).setSelection(textblockAt(o, "end") ? Selection.findFrom(i.doc.resolve(i.mapping.map(r.pos, -1)), -1) : NodeSelection.create(i.doc, r.pos - o.nodeSize)), t(i.scrollIntoView())), true;
  }
  return !(!o.isAtom || r.depth != n.depth - 1 || (t && t(e3.tr.delete(r.pos - o.nodeSize, r.pos).scrollIntoView()), 0));
};
function textblockAt(t, n, r = false) {
  for (let e3 = t; e3; e3 = "start" == n ? e3.firstChild : e3.lastChild) {
    if (e3.isTextblock)
      return true;
    if (r && 1 != e3.childCount)
      return false;
  }
  return false;
}
var selectNodeBackward = (e3, t, n) => {
  let { $head: r, empty: o } = e3.selection, i = r;
  if (!o)
    return false;
  if (r.parent.isTextblock) {
    if (n ? !n.endOfTextblock("backward", e3) : 0 < r.parentOffset)
      return false;
    i = findCutBefore(r);
  }
  n = i && i.nodeBefore;
  return !(!n || !NodeSelection.isSelectable(n) || (t && t(e3.tr.setSelection(NodeSelection.create(e3.doc, i.pos - n.nodeSize)).scrollIntoView()), 0));
};
function findCutBefore(t) {
  if (!t.parent.type.spec.isolating)
    for (let e3 = t.depth - 1; 0 <= e3; e3--) {
      if (0 < t.index(e3))
        return t.doc.resolve(t.before(e3 + 1));
      if (t.node(e3).type.spec.isolating)
        break;
    }
  return null;
}
function atBlockEnd(e3, t) {
  var n = e3.selection["$cursor"];
  return !n || (t ? !t.endOfTextblock("forward", e3) : n.parentOffset < n.parent.content.size) ? null : n;
}
var joinForward = (e3, t, n) => {
  n = atBlockEnd(e3, n);
  if (!n)
    return false;
  var r = findCutAfter(n);
  if (!r)
    return false;
  var o = r.nodeAfter;
  if (deleteBarrier(e3, r, t))
    return true;
  if (0 == n.parent.content.size && (textblockAt(o, "start") || NodeSelection.isSelectable(o))) {
    var i = replaceStep(e3.doc, n.before(), n.after(), Slice.empty);
    if (i && i.slice.size < i.to - i.from)
      return t && ((i = e3.tr.step(i)).setSelection(textblockAt(o, "start") ? Selection.findFrom(i.doc.resolve(i.mapping.map(r.pos)), 1) : NodeSelection.create(i.doc, i.mapping.map(r.pos))), t(i.scrollIntoView())), true;
  }
  return !(!o.isAtom || r.depth != n.depth - 1 || (t && t(e3.tr.delete(r.pos, r.pos + o.nodeSize).scrollIntoView()), 0));
};
var selectNodeForward = (e3, t, n) => {
  let { $head: r, empty: o } = e3.selection, i = r;
  if (!o)
    return false;
  if (r.parent.isTextblock) {
    if (n ? !n.endOfTextblock("forward", e3) : r.parentOffset < r.parent.content.size)
      return false;
    i = findCutAfter(r);
  }
  n = i && i.nodeAfter;
  return !(!n || !NodeSelection.isSelectable(n) || (t && t(e3.tr.setSelection(NodeSelection.create(e3.doc, i.pos)).scrollIntoView()), 0));
};
function findCutAfter(t) {
  if (!t.parent.type.spec.isolating)
    for (let e3 = t.depth - 1; 0 <= e3; e3--) {
      var n = t.node(e3);
      if (t.index(e3) + 1 < n.childCount)
        return t.doc.resolve(t.after(e3 + 1));
      if (n.type.spec.isolating)
        break;
    }
  return null;
}
var joinUp = (e3, t) => {
  let n = e3.selection, r = n instanceof NodeSelection, o;
  if (r) {
    if (n.node.isTextblock || !canJoin(e3.doc, n.from))
      return false;
    o = n.from;
  } else if (null == (o = joinPoint(e3.doc, n.from, -1)))
    return false;
  var i;
  return t && (i = e3.tr.join(o), r && i.setSelection(NodeSelection.create(i.doc, o - e3.doc.resolve(o).nodeBefore.nodeSize)), t(i.scrollIntoView())), true;
};
var joinDown = (e3, t) => {
  let n = e3.selection, r;
  if (n instanceof NodeSelection) {
    if (n.node.isTextblock || !canJoin(e3.doc, n.to))
      return false;
    r = n.to;
  } else if (null == (r = joinPoint(e3.doc, n.to, 1)))
    return false;
  return t && t(e3.tr.join(r).scrollIntoView()), true;
};
var lift = (e3, t) => {
  var { $from: n, $to: r } = e3.selection, n = n.blockRange(r), r = n && liftTarget(n);
  return null != r && (t && t(e3.tr.lift(n, r).scrollIntoView()), true);
};
var newlineInCode = (e3, t) => {
  var { $head: n, $anchor: r } = e3.selection;
  return !(!n.parent.type.spec.code || !n.sameParent(r) || (t && t(e3.tr.insertText("\n").scrollIntoView()), 0));
};
function defaultBlockAt$1(t) {
  for (let e3 = 0; e3 < t.edgeCount; e3++) {
    var n = t.edge(e3)["type"];
    if (n.isTextblock && !n.hasRequiredAttrs())
      return n;
  }
  return null;
}
var exitCode = (e3, t) => {
  var n, r, { $head: o, $anchor: i } = e3.selection;
  return !(!o.parent.type.spec.code || !o.sameParent(i) || (i = o.node(-1), r = o.indexAfter(-1), !(n = defaultBlockAt$1(i.contentMatchAt(r)))) || !i.canReplaceWith(r, r, n) || (t && (i = o.after(), (r = e3.tr.replaceWith(i, i, n.createAndFill())).setSelection(Selection.near(r.doc.resolve(i), 1)), t(r.scrollIntoView())), 0));
};
var createParagraphNear = (e3, t) => {
  var n = e3.selection, { $from: r, $to: o } = n;
  return !(n instanceof AllSelection || r.parent.inlineContent || o.parent.inlineContent || !(n = defaultBlockAt$1(o.parent.contentMatchAt(o.indexAfter()))) || !n.isTextblock || (t && (r = (!r.parentOffset && o.index() < o.parent.childCount ? r : o).pos, (o = e3.tr.insert(r, n.createAndFill())).setSelection(TextSelection.create(o.doc, r + 1)), t(o.scrollIntoView())), 0));
};
var liftEmptyBlock = (e3, t) => {
  var n = e3.selection["$cursor"];
  if (!n || n.parent.content.size)
    return false;
  if (1 < n.depth && n.after() != n.end(-1)) {
    var r = n.before();
    if (canSplit(e3.doc, r))
      return t && t(e3.tr.split(r).scrollIntoView()), true;
  }
  r = n.blockRange(), n = r && liftTarget(r);
  return null != n && (t && t(e3.tr.lift(r, n).scrollIntoView()), true);
};
function splitBlockAs$1(l) {
  return (n, r) => {
    var { $from: o, $to: i } = n.selection;
    if (n.selection instanceof NodeSelection && n.selection.node.isBlock)
      return !(!o.parentOffset || !canSplit(n.doc, o.pos) || (r && r(n.tr.split(o.pos).scrollIntoView()), 0));
    if (!o.parent.isBlock)
      return false;
    if (r) {
      var a = i.parentOffset == i.parent.content.size, s = n.tr, n = ((n.selection instanceof TextSelection || n.selection instanceof AllSelection) && s.deleteSelection(), 0 == o.depth ? null : defaultBlockAt$1(o.node(-1).contentMatchAt(o.indexAfter(-1)))), i = l && l(i.parent, a);
      let e3 = i ? [i] : a && n ? [{ type: n }] : void 0, t = canSplit(s.doc, s.mapping.map(o.pos), 1, e3);
      e3 || t || !canSplit(s.doc, s.mapping.map(o.pos), 1, n ? [{ type: n }] : void 0) || (n && (e3 = [{ type: n }]), t = true), t && (s.split(s.mapping.map(o.pos), 1, e3), a || o.parentOffset || o.parent.type == n || (i = s.mapping.map(o.before()), a = s.doc.resolve(i), n && o.node(-1).canReplaceWith(a.index(), a.index() + 1, n) && s.setNodeMarkup(s.mapping.map(o.before()), n))), r(s.scrollIntoView());
    }
    return true;
  };
}
var splitBlock = splitBlockAs$1();
var selectParentNode = (e3, t) => {
  var { $from: n, to: r } = e3.selection, r = n.sharedDepth(r);
  return 0 != r && (n = n.before(r), t && t(e3.tr.setSelection(NodeSelection.create(e3.doc, n))), true);
};
var selectAll$1 = (e3, t) => (t && t(e3.tr.setSelection(new AllSelection(e3.doc))), true);
function joinMaybeClear(e3, t, n) {
  var r = t.nodeBefore, o = t.nodeAfter, i = t.index();
  if (!r || !o || !r.type.compatibleContent(o.type))
    return false;
  if (!r.content.size && t.parent.canReplace(i - 1, i))
    n && n(e3.tr.delete(t.pos - r.nodeSize, t.pos).scrollIntoView());
  else {
    if (!t.parent.canReplace(i, i + 1) || !o.isTextblock && !canJoin(e3.doc, t.pos))
      return false;
    n && n(e3.tr.clearIncompatible(t.pos, r.type, r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView());
  }
  return true;
}
function deleteBarrier(o, i, a) {
  let s = i.nodeBefore, l = i.nodeAfter, n, e3;
  if (!s.type.spec.isolating && !l.type.spec.isolating) {
    if (joinMaybeClear(o, i, a))
      return true;
    var t = i.parent.canReplace(i.index(), i.index() + 1);
    if (t && (n = (e3 = s.contentMatchAt(s.childCount)).findWrapping(l.type)) && e3.matchType(n[0] || l.type).validEnd) {
      if (a) {
        let e4 = i.pos + l.nodeSize, t2 = Fragment2.empty;
        for (let e5 = n.length - 1; 0 <= e5; e5--)
          t2 = Fragment2.from(n[e5].create(null, t2));
        t2 = Fragment2.from(s.copy(t2));
        var r = o.tr.step(new ReplaceAroundStep(i.pos - 1, e4, i.pos, e4, new Slice(t2, 1, 0), n.length, true)), c = e4 + 2 * n.length;
        canJoin(r.doc, c) && r.join(c), a(r.scrollIntoView());
      }
      return true;
    }
    c = Selection.findFrom(i, 1), r = c && c.$from.blockRange(c.$to), c = r && liftTarget(r);
    if (null != c && c >= i.depth)
      return a && a(o.tr.lift(r, c).scrollIntoView()), true;
    if (t && textblockAt(l, "start", true) && textblockAt(s, "end")) {
      let e4 = s, n2 = [];
      for (; n2.push(e4), !e4.isTextblock; )
        e4 = e4.lastChild;
      let t2 = l, r2 = 1;
      for (; !t2.isTextblock; t2 = t2.firstChild)
        r2++;
      if (e4.canReplace(e4.childCount, e4.childCount, t2.content)) {
        if (a) {
          let t3 = Fragment2.empty;
          for (let e5 = n2.length - 1; 0 <= e5; e5--)
            t3 = Fragment2.from(n2[e5].copy(t3));
          a(o.tr.step(new ReplaceAroundStep(i.pos - n2.length, i.pos + l.nodeSize, i.pos + r2, i.pos + l.nodeSize - r2, new Slice(t3, n2.length, 0), 0, true)).scrollIntoView());
        }
        return true;
      }
    }
  }
  return false;
}
function selectTextblockSide(i) {
  return function(e3, t) {
    var n = e3.selection, r = i < 0 ? n.$from : n.$to;
    let o = r.depth;
    for (; r.node(o).isInline; ) {
      if (!o)
        return false;
      o--;
    }
    return !!r.node(o).isTextblock && (t && t(e3.tr.setSelection(TextSelection.create(e3.doc, i < 0 ? r.start(o) : r.end(o)))), true);
  };
}
var selectTextblockStart = selectTextblockSide(-1);
var selectTextblockEnd = selectTextblockSide(1);
function setBlockType(l, c = null) {
  return function(n, e3) {
    let r = false;
    for (let e4 = 0; e4 < n.selection.ranges.length && !r; e4++) {
      var { $from: { pos: t }, $to: { pos: o } } = n.selection.ranges[e4];
      n.doc.nodesBetween(t, o, (e5, t2) => {
        if (r)
          return false;
        e5.isTextblock && !e5.hasMarkup(l, c) && (r = e5.type == l || (t2 = (e5 = n.doc.resolve(t2)).index(), e5.parent.canReplaceWith(t2, t2 + 1, l)));
      });
    }
    if (!r)
      return false;
    if (e3) {
      var i = n.tr;
      for (let e4 = 0; e4 < n.selection.ranges.length; e4++) {
        var { $from: { pos: a }, $to: { pos: s } } = n.selection.ranges[e4];
        i.setBlockType(a, s, l, c);
      }
      e3(i.scrollIntoView());
    }
    return true;
  };
}
function chainCommands(...o) {
  return function(t, n, r) {
    for (let e3 = 0; e3 < o.length; e3++)
      if (o[e3](t, n, r))
        return true;
    return false;
  };
}
var backspace = chainCommands(deleteSelection, joinBackward, selectNodeBackward);
var del = chainCommands(deleteSelection, joinForward, selectNodeForward);
var pcBaseKeymap = { Enter: chainCommands(newlineInCode, createParagraphNear, liftEmptyBlock, splitBlock), "Mod-Enter": exitCode, Backspace: backspace, "Mod-Backspace": backspace, "Shift-Backspace": backspace, Delete: del, "Mod-Delete": del, "Mod-a": selectAll$1 };
var macBaseKeymap = { "Ctrl-h": pcBaseKeymap.Backspace, "Alt-Backspace": pcBaseKeymap["Mod-Backspace"], "Ctrl-d": pcBaseKeymap.Delete, "Ctrl-Alt-Backspace": pcBaseKeymap["Mod-Delete"], "Alt-Delete": pcBaseKeymap["Mod-Delete"], "Alt-d": pcBaseKeymap["Mod-Delete"], "Ctrl-a": selectTextblockStart, "Ctrl-e": selectTextblockEnd };
for (let e3 in pcBaseKeymap)
  macBaseKeymap[e3] = pcBaseKeymap[e3];
var mac$3 = "undefined" != typeof navigator ? /Mac|iP(hone|[oa]d)/.test(navigator.platform) : !("undefined" == typeof os || !os.platform) && "darwin" == os.platform();
var baseKeymap = mac$3 ? macBaseKeymap : pcBaseKeymap;
for (base = { 8: "Backspace", 9: "Tab", 10: "Enter", 12: "NumLock", 13: "Enter", 16: "Shift", 17: "Control", 18: "Alt", 20: "CapsLock", 27: "Escape", 32: " ", 33: "PageUp", 34: "PageDown", 35: "End", 36: "Home", 37: "ArrowLeft", 38: "ArrowUp", 39: "ArrowRight", 40: "ArrowDown", 44: "PrintScreen", 45: "Insert", 46: "Delete", 59: ";", 61: "=", 91: "Meta", 92: "Meta", 106: "*", 107: "+", 108: ",", 109: "-", 110: ".", 111: "/", 144: "NumLock", 145: "ScrollLock", 160: "Shift", 161: "Shift", 162: "Control", 163: "Control", 164: "Alt", 165: "Alt", 173: "-", 186: ";", 187: "=", 188: ",", 189: "-", 190: ".", 191: "/", 192: "`", 219: "[", 220: "\\", 221: "]", 222: "'" }, shift = { 48: ")", 49: "!", 50: "@", 51: "#", 52: "$", 53: "%", 54: "^", 55: "&", 56: "*", 57: "(", 59: ":", 61: "+", 173: "_", 186: ":", 187: "+", 188: "<", 189: "_", 190: ">", 191: "?", 192: "~", 219: "{", 220: "|", 221: "}", 222: '"' }, mac$2 = "undefined" != typeof navigator && /Mac/.test(navigator.platform), ie$1 = "undefined" != typeof navigator && /MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent), i = 0; i < 10; i++)
  base[48 + i] = base[96 + i] = String(i);
var base;
var shift;
var mac$2;
var ie$1;
var i;
for (i = 1; i <= 24; i++)
  base[i + 111] = "F" + i;
for (i = 65; i <= 90; i++)
  base[i] = String.fromCharCode(i + 32), shift[i] = String.fromCharCode(i);
var code;
var i;
for (code in base)
  shift.hasOwnProperty(code) || (shift[code] = base[code]);
function keyName(e3) {
  e3 = !(mac$2 && e3.metaKey && e3.shiftKey && !e3.ctrlKey && !e3.altKey || ie$1 && e3.shiftKey && e3.key && 1 == e3.key.length || "Unidentified" == e3.key) && e3.key || (e3.shiftKey ? shift : base)[e3.keyCode] || e3.key || "Unidentified";
  return e3 = "Down" == (e3 = "Right" == (e3 = "Up" == (e3 = "Left" == (e3 = "Del" == (e3 = "Esc" == e3 ? "Escape" : e3) ? "Delete" : e3) ? "ArrowLeft" : e3) ? "ArrowUp" : e3) ? "ArrowRight" : e3) ? "ArrowDown" : e3;
}
var mac$1 = "undefined" != typeof navigator && /Mac|iP(hone|[oa]d)/.test(navigator.platform);
function normalizeKeyName(e3) {
  let t = e3.split(/-(?!$)/), n = t[t.length - 1];
  "Space" == n && (n = " ");
  let r, o, i, a;
  for (let e4 = 0; e4 < t.length - 1; e4++) {
    var s = t[e4];
    if (/^(cmd|meta|m)$/i.test(s))
      a = true;
    else if (/^a(lt)?$/i.test(s))
      r = true;
    else if (/^(c|ctrl|control)$/i.test(s))
      o = true;
    else if (/^s(hift)?$/i.test(s))
      i = true;
    else {
      if (!/^mod$/i.test(s))
        throw new Error("Unrecognized modifier name: " + s);
      mac$1 ? a = true : o = true;
    }
  }
  return r && (n = "Alt-" + n), o && (n = "Ctrl-" + n), a && (n = "Meta-" + n), n = i ? "Shift-" + n : n;
}
function normalize$1(e3) {
  var t, n = /* @__PURE__ */ Object.create(null);
  for (t in e3)
    n[normalizeKeyName(t)] = e3[t];
  return n;
}
function modifiers(e3, t, n = true) {
  return t.altKey && (e3 = "Alt-" + e3), t.ctrlKey && (e3 = "Ctrl-" + e3), t.metaKey && (e3 = "Meta-" + e3), e3 = n && t.shiftKey ? "Shift-" + e3 : e3;
}
function keydownHandler$1(e3) {
  let a = normalize$1(e3);
  return function(e4, t) {
    let n = keyName(t), r, o = a[modifiers(n, t)];
    if (o && o(e4.state, e4.dispatch, e4))
      return true;
    if (1 == n.length && " " != n) {
      if (t.shiftKey) {
        var i = a[modifiers(n, t, false)];
        if (i && i(e4.state, e4.dispatch, e4))
          return true;
      }
      if ((t.shiftKey || t.altKey || t.metaKey || 127 < n.charCodeAt(0)) && (r = base[t.keyCode]) && r != n) {
        i = a[modifiers(r, t)];
        if (i && i(e4.state, e4.dispatch, e4))
          return true;
      }
    }
    return false;
  };
}
var domIndex = function(e3) {
  for (var t = 0; ; t++)
    if (!(e3 = e3.previousSibling))
      return t;
};
var parentNode = function(e3) {
  e3 = e3.assignedSlot || e3.parentNode;
  return e3 && 11 == e3.nodeType ? e3.host : e3;
};
var reusedRange = null;
var textRange = function(e3, t, n) {
  var r = reusedRange = reusedRange || document.createRange();
  return r.setEnd(e3, null == n ? e3.nodeValue.length : n), r.setStart(e3, t || 0), r;
};
var isEquivalentPosition = function(e3, t, n, r) {
  return n && (scanFor(e3, t, n, r, -1) || scanFor(e3, t, n, r, 1));
};
var atomElements = /^(img|br|input|textarea|hr)$/i;
function scanFor(e3, t, n, r, o) {
  for (; ; ) {
    if (e3 == n && t == r)
      return true;
    if (t == (o < 0 ? 0 : nodeSize(e3))) {
      var i = e3.parentNode;
      if (!i || 1 != i.nodeType || hasBlockDesc(e3) || atomElements.test(e3.nodeName) || "false" == e3.contentEditable)
        return false;
      t = domIndex(e3) + (o < 0 ? 0 : 1), e3 = i;
    } else {
      if (1 != e3.nodeType)
        return false;
      if ("false" == (e3 = e3.childNodes[t + (o < 0 ? -1 : 0)]).contentEditable)
        return false;
      t = o < 0 ? nodeSize(e3) : 0;
    }
  }
}
function nodeSize(e3) {
  return (3 == e3.nodeType ? e3.nodeValue : e3.childNodes).length;
}
function isOnEdge(n, r, o) {
  for (let e3 = 0 == r, t = r == nodeSize(n); e3 || t; ) {
    if (n == o)
      return true;
    var i = domIndex(n);
    if (!(n = n.parentNode))
      return false;
    e3 = e3 && 0 == i, t = t && i == nodeSize(n);
  }
}
function hasBlockDesc(t) {
  let n;
  for (let e3 = t; e3 && !(n = e3.pmViewDesc); e3 = e3.parentNode)
    ;
  return n && n.node && n.node.isBlock && (n.dom == t || n.contentDOM == t);
}
var selectionCollapsed = function(e3) {
  return e3.focusNode && isEquivalentPosition(e3.focusNode, e3.focusOffset, e3.anchorNode, e3.anchorOffset);
};
function keyEvent(e3, t) {
  var n = document.createEvent("Event");
  return n.initEvent("keydown", true, true), n.keyCode = e3, n.key = n.code = t, n;
}
function deepActiveElement(e3) {
  let t = e3.activeElement;
  for (; t && t.shadowRoot; )
    t = t.shadowRoot.activeElement;
  return t;
}
function caretFromPoint(e3, t, n) {
  if (e3.caretPositionFromPoint)
    try {
      var r = e3.caretPositionFromPoint(t, n);
      if (r)
        return { node: r.offsetNode, offset: r.offset };
    } catch (e4) {
    }
  if (e3.caretRangeFromPoint) {
    r = e3.caretRangeFromPoint(t, n);
    if (r)
      return { node: r.startContainer, offset: r.startOffset };
  }
}
var nav = "undefined" != typeof navigator ? navigator : null;
var doc = "undefined" != typeof document ? document : null;
var agent = nav && nav.userAgent || "";
var ie_edge = /Edge\/(\d+)/.exec(agent);
var ie_upto10 = /MSIE \d/.exec(agent);
var ie_11up = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(agent);
var ie = !!(ie_upto10 || ie_11up || ie_edge);
var ie_version = ie_upto10 ? document.documentMode : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : 0;
var gecko = !ie && /gecko\/(\d+)/i.test(agent);
var _chrome = (gecko && (/Firefox\/(\d+)/.exec(agent) || [0, 0])[1], !ie && /Chrome\/(\d+)/.exec(agent));
var chrome = !!_chrome;
var chrome_version = _chrome ? +_chrome[1] : 0;
var safari = !ie && !!nav && /Apple Computer/.test(nav.vendor);
var ios = safari && (/Mobile\/\w+/.test(agent) || !!nav && 2 < nav.maxTouchPoints);
var mac = ios || !!nav && /Mac/.test(nav.platform);
var windows = !!nav && /Win/.test(nav.platform);
var android = /Android \d/.test(agent);
var webkit = !!doc && "webkitFontSmoothing" in doc.documentElement.style;
var webkit_version = webkit ? +(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent) || [0, 0])[1] : 0;
function windowRect(e3) {
  return { left: 0, right: e3.documentElement.clientWidth, top: 0, bottom: e3.documentElement.clientHeight };
}
function getSide(e3, t) {
  return "number" == typeof e3 ? e3 : e3[t];
}
function clientRect(e3) {
  var t = e3.getBoundingClientRect(), n = t.width / e3.offsetWidth || 1, r = t.height / e3.offsetHeight || 1;
  return { left: t.left, right: t.left + e3.clientWidth * n, top: t.top, bottom: t.top + e3.clientHeight * r };
}
function scrollRectIntoView(e3, r, t) {
  var o = e3.someProp("scrollThreshold") || 0, i = e3.someProp("scrollMargin") || 5, a = e3.dom.ownerDocument;
  for (let n = t || e3.dom; n; n = parentNode(n))
    if (1 == n.nodeType) {
      var s, l = n, c = l == a.body, u = c ? windowRect(a) : clientRect(l);
      let e4 = 0, t2 = 0;
      if (r.top < u.top + getSide(o, "top") ? t2 = -(u.top - r.top + getSide(i, "top")) : r.bottom > u.bottom - getSide(o, "bottom") && (t2 = r.bottom - r.top > u.bottom - u.top ? r.top + getSide(i, "top") - u.top : r.bottom - u.bottom + getSide(i, "bottom")), r.left < u.left + getSide(o, "left") ? e4 = -(u.left - r.left + getSide(i, "left")) : r.right > u.right - getSide(o, "right") && (e4 = r.right - u.right + getSide(i, "right")), (e4 || t2) && (c ? a.defaultView.scrollBy(e4, t2) : (u = l.scrollLeft, s = l.scrollTop, t2 && (l.scrollTop += t2), e4 && (l.scrollLeft += e4), u = l.scrollLeft - u, l = l.scrollTop - s, r = { left: r.left - u, top: r.top - l, right: r.right - u, bottom: r.bottom - l })), c || /^(fixed|sticky)$/.test(getComputedStyle(n).position))
        break;
    }
}
function storeScrollPos(n) {
  var r = n.dom.getBoundingClientRect(), o = Math.max(0, r.top);
  let i, a;
  for (let e3 = (r.left + r.right) / 2, t = o + 1; t < Math.min(innerHeight, r.bottom); t += 5) {
    var s = n.root.elementFromPoint(e3, t);
    if (s && s != n.dom && n.dom.contains(s)) {
      var l = s.getBoundingClientRect();
      if (l.top >= o - 20) {
        i = s, a = l.top;
        break;
      }
    }
  }
  return { refDOM: i, refTop: a, stack: scrollStack(n.dom) };
}
function scrollStack(t) {
  var n = [], r = t.ownerDocument;
  for (let e3 = t; e3 && (n.push({ dom: e3, top: e3.scrollTop, left: e3.scrollLeft }), t != r); e3 = parentNode(e3))
    ;
  return n;
}
function resetScrollPos({ refDOM: e3, refTop: t, stack: n }) {
  e3 = e3 ? e3.getBoundingClientRect().top : 0;
  restoreScrollStack(n, 0 == e3 ? 0 : e3 - t);
}
function restoreScrollStack(t, n) {
  for (let e3 = 0; e3 < t.length; e3++) {
    var { dom: r, top: o, left: i } = t[e3];
    r.scrollTop != o + n && (r.scrollTop = o + n), r.scrollLeft != i && (r.scrollLeft = i);
  }
}
var preventScrollSupported = null;
function focusPreventScroll(e3) {
  var t;
  return e3.setActive ? e3.setActive() : preventScrollSupported ? e3.focus(preventScrollSupported) : (t = scrollStack(e3), e3.focus(null == preventScrollSupported ? { get preventScroll() {
    return preventScrollSupported = { preventScroll: true }, true;
  } } : void 0), void (preventScrollSupported || (preventScrollSupported = false, restoreScrollStack(t, 0))));
}
function findOffsetInNode(e3, o) {
  let i, a = 2e8, s, l = 0, c = o.top, u = o.top, d, p;
  for (let n = e3.firstChild, r = 0; n; n = n.nextSibling, r++) {
    let t;
    if (1 == n.nodeType)
      t = n.getClientRects();
    else {
      if (3 != n.nodeType)
        continue;
      t = textRange(n).getClientRects();
    }
    for (let e4 = 0; e4 < t.length; e4++) {
      var f = t[e4];
      if (f.top <= c && f.bottom >= u) {
        c = Math.max(f.bottom, c), u = Math.min(f.top, u);
        var h = f.left > o.left ? f.left - o.left : f.right < o.left ? o.left - f.right : 0;
        if (h < a) {
          i = n, a = h, s = h && 3 == i.nodeType ? { left: f.right < o.left ? f.right : f.left, top: o.top } : o, 1 == n.nodeType && h && (l = r + (o.left >= (f.left + f.right) / 2 ? 1 : 0));
          continue;
        }
      } else
        f.top > o.top && !d && f.left <= o.left && f.right >= o.left && (d = n, p = { left: Math.max(f.left, Math.min(f.right, o.left)), top: f.top });
      !i && (o.left >= f.right && o.top >= f.top || o.left >= f.left && o.top >= f.bottom) && (l = r + 1);
    }
  }
  return !i && d && (i = d, s = p, a = 0), i && 3 == i.nodeType ? findOffsetInText(i, s) : !i || a && 1 == i.nodeType ? { node: e3, offset: l } : findOffsetInNode(i, s);
}
function findOffsetInText(t, n) {
  var r = t.nodeValue.length, o = document.createRange();
  for (let e3 = 0; e3 < r; e3++) {
    o.setEnd(t, e3 + 1), o.setStart(t, e3);
    var i = singleRect(o, 1);
    if (i.top != i.bottom && inRect(n, i))
      return { node: t, offset: e3 + (n.left >= (i.left + i.right) / 2 ? 1 : 0) };
  }
  return { node: t, offset: 0 };
}
function inRect(e3, t) {
  return e3.left >= t.left - 1 && e3.left <= t.right + 1 && e3.top >= t.top - 1 && e3.top <= t.bottom + 1;
}
function targetKludge(e3, t) {
  var n = e3.parentNode;
  return n && /^li$/i.test(n.nodeName) && t.left < e3.getBoundingClientRect().left ? n : e3;
}
function posFromElement(e3, t, n) {
  let { node: r, offset: o } = findOffsetInNode(t, n), i = -1;
  return 1 != r.nodeType || r.firstChild || (t = r.getBoundingClientRect(), i = t.left != t.right && n.left > (t.left + t.right) / 2 ? 1 : -1), e3.docView.posFromDOM(r, o, i);
}
function posFromCaret(n, r, e3, o) {
  let i = -1;
  for (let e4 = r, t = false; e4 != n.dom; ) {
    var a = n.docView.nearestDesc(e4, true);
    if (!a)
      return null;
    if (1 == a.dom.nodeType && (a.node.isBlock && a.parent && !t || !a.contentDOM)) {
      var s = a.dom.getBoundingClientRect();
      if (a.node.isBlock && a.parent && !t && (t = true, s.left > o.left || s.top > o.top ? i = a.posBefore : (s.right < o.left || s.bottom < o.top) && (i = a.posAfter)), !a.contentDOM && i < 0 && !a.node.isText)
        return (a.node.isBlock ? o.top < (s.top + s.bottom) / 2 : o.left < (s.left + s.right) / 2) ? a.posBefore : a.posAfter;
    }
    e4 = a.dom.parentNode;
  }
  return -1 < i ? i : n.docView.posFromDOM(r, e3, -1);
}
function elementFromPoint(n, r, o) {
  var i = n.childNodes.length;
  if (i && o.top < o.bottom)
    for (let e3 = Math.max(0, Math.min(i - 1, Math.floor(i * (r.top - o.top) / (o.bottom - o.top)) - 2)), t = e3; ; ) {
      var a = n.childNodes[t];
      if (1 == a.nodeType) {
        var s = a.getClientRects();
        for (let e4 = 0; e4 < s.length; e4++) {
          var l = s[e4];
          if (inRect(r, l))
            return elementFromPoint(a, r, l);
        }
      }
      if ((t = (t + 1) % i) == e3)
        break;
    }
  return n;
}
function posAtCoords(e3, n) {
  let t = e3.dom.ownerDocument, r, o = 0;
  var i = caretFromPoint(t, n.left, n.top);
  i && ({ node: r, offset: o } = i);
  let a = (e3.root.elementFromPoint ? e3.root : t).elementFromPoint(n.left, n.top), s;
  if (!a || !e3.dom.contains(1 != a.nodeType ? a.parentNode : a)) {
    i = e3.dom.getBoundingClientRect();
    if (!inRect(n, i))
      return null;
    if (!(a = elementFromPoint(e3.dom, n, i)))
      return null;
  }
  if (safari)
    for (let e4 = a; r && e4; e4 = parentNode(e4))
      e4.draggable && (r = void 0);
  if (a = targetKludge(a, n), r) {
    if (gecko && 1 == r.nodeType && (o = Math.min(o, r.childNodes.length)) < r.childNodes.length) {
      let e4 = r.childNodes[o], t2;
      "IMG" == e4.nodeName && (t2 = e4.getBoundingClientRect()).right <= n.left && t2.bottom > n.top && o++;
    }
    r == e3.dom && o == r.childNodes.length - 1 && 1 == r.lastChild.nodeType && n.top > r.lastChild.getBoundingClientRect().bottom ? s = e3.state.doc.content.size : 0 != o && 1 == r.nodeType && "BR" == r.childNodes[o - 1].nodeName || (s = posFromCaret(e3, r, o, n));
  }
  null == s && (s = posFromElement(e3, a, n));
  i = e3.docView.nearestDesc(a, true);
  return { pos: s, inside: i ? i.posAtStart - i.border : -1 };
}
function nonZero(e3) {
  return e3.top < e3.bottom || e3.left < e3.right;
}
function singleRect(e3, t) {
  var n = e3.getClientRects();
  if (n.length) {
    t = n[t < 0 ? 0 : n.length - 1];
    if (nonZero(t))
      return t;
  }
  return Array.prototype.find.call(n, nonZero) || e3.getBoundingClientRect();
}
var BIDI = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;
function coordsAtPos(e3, t, r) {
  var { node: o, offset: i, atom: n } = e3.docView.domFromPos(t, r < 0 ? -1 : 1), a = webkit || gecko;
  if (3 == o.nodeType) {
    if (!a || !BIDI.test(o.nodeValue) && (r < 0 ? i : i != o.nodeValue.length)) {
      let e4 = i, t2 = i, n2 = r < 0 ? 1 : -1;
      return r < 0 && !i ? (t2++, n2 = -1) : 0 <= r && i == o.nodeValue.length ? (e4--, n2 = 1) : r < 0 ? e4-- : t2++, flattenV(singleRect(textRange(o, e4, t2), n2), n2 < 0);
    }
    var s = singleRect(textRange(o, i, i), r);
    if (gecko && i && /\s/.test(o.nodeValue[i - 1]) && i < o.nodeValue.length) {
      var l = singleRect(textRange(o, i - 1, i - 1), -1);
      if (l.top == s.top) {
        var c = singleRect(textRange(o, i, i + 1), -1);
        if (c.top != s.top)
          return flattenV(c, c.left < l.left);
      }
    }
    return s;
  }
  if (!e3.state.doc.resolve(t - (n || 0)).parent.inlineContent) {
    if (null == n && i && (r < 0 || i == nodeSize(o))) {
      c = o.childNodes[i - 1];
      if (1 == c.nodeType)
        return flattenH(c.getBoundingClientRect(), false);
    }
    if (null == n && i < nodeSize(o)) {
      l = o.childNodes[i];
      if (1 == l.nodeType)
        return flattenH(l.getBoundingClientRect(), true);
    }
    return flattenH(o.getBoundingClientRect(), 0 <= r);
  }
  if (null == n && i && (r < 0 || i == nodeSize(o))) {
    s = o.childNodes[i - 1], e3 = 3 == s.nodeType ? textRange(s, nodeSize(s) - (a ? 0 : 1)) : 1 != s.nodeType || "BR" == s.nodeName && s.nextSibling ? null : s;
    if (e3)
      return flattenV(singleRect(e3, 1), false);
  }
  if (null == n && i < nodeSize(o)) {
    let e4 = o.childNodes[i];
    for (; e4.pmViewDesc && e4.pmViewDesc.ignoreForCoords; )
      e4 = e4.nextSibling;
    t = e4 ? 3 == e4.nodeType ? textRange(e4, 0, a ? 0 : 1) : 1 == e4.nodeType ? e4 : null : null;
    if (t)
      return flattenV(singleRect(t, -1), true);
  }
  return flattenV(singleRect(3 == o.nodeType ? textRange(o) : o, -r), 0 <= r);
}
function flattenV(e3, t) {
  return 0 == e3.width ? e3 : (t = t ? e3.left : e3.right, { top: e3.top, bottom: e3.bottom, left: t, right: t });
}
function flattenH(e3, t) {
  return 0 == e3.height ? e3 : { top: t = t ? e3.top : e3.bottom, bottom: t, left: e3.left, right: e3.right };
}
function withFlushedState(e3, t, n) {
  var r = e3.state, o = e3.root.activeElement;
  r != t && e3.updateState(t), o != e3.dom && e3.focus();
  try {
    return n();
  } finally {
    r != t && e3.updateState(r), o != e3.dom && o && o.focus();
  }
}
function endOfTextblockVertical(o, e3, i) {
  var t = e3.selection;
  let a = "up" == i ? t.$from : t.$to;
  return withFlushedState(o, e3, () => {
    let t2 = o.docView.domFromPos(a.pos, "up" == i ? -1 : 1)["node"];
    for (; ; ) {
      var e4 = o.docView.nearestDesc(t2, true);
      if (!e4)
        break;
      if (e4.node.isBlock) {
        t2 = e4.contentDOM || e4.dom;
        break;
      }
      t2 = e4.dom.parentNode;
    }
    var n = coordsAtPos(o, a.pos, 1);
    for (let e5 = t2.firstChild; e5; e5 = e5.nextSibling) {
      let t3;
      if (1 == e5.nodeType)
        t3 = e5.getClientRects();
      else {
        if (3 != e5.nodeType)
          continue;
        t3 = textRange(e5, 0, e5.nodeValue.length).getClientRects();
      }
      for (let e6 = 0; e6 < t3.length; e6++) {
        var r = t3[e6];
        if (r.bottom > r.top + 1 && ("up" == i ? n.top - r.top > 2 * (r.bottom - n.top) : r.bottom - n.bottom > 2 * (n.bottom - r.top)))
          return false;
      }
    }
    return true;
  });
}
var maybeRTL = /[\u0590-\u08ac]/;
function endOfTextblockHorizontal(l, e3, c) {
  let u = e3.selection["$head"];
  if (!u.parent.isTextblock)
    return false;
  var t = u.parentOffset, n = !t, t = t == u.parent.content.size;
  let d = l.domSelection();
  return maybeRTL.test(u.parent.textContent) && d.modify ? withFlushedState(l, e3, () => {
    var { focusNode: e4, focusOffset: t2, anchorNode: n2, anchorOffset: r } = l.domSelectionRange(), o = d.caretBidiLevel, i = (d.modify("move", c, "character"), u.depth ? l.docView.domAfterPos(u.before()) : l.dom), { focusNode: a, focusOffset: s } = l.domSelectionRange(), i = a && !i.contains(1 == a.nodeType ? a : a.parentNode) || e4 == a && t2 == s;
    try {
      d.collapse(n2, r), e4 && (e4 != n2 || t2 != r) && d.extend && d.extend(e4, t2);
    } catch (e5) {
    }
    return null != o && (d.caretBidiLevel = o), i;
  }) : "left" == c || "backward" == c ? n : t;
}
var cachedState = null;
var cachedDir = null;
var cachedResult = false;
function endOfTextblock(e3, t, n) {
  return cachedState == t && cachedDir == n ? cachedResult : (cachedState = t, cachedDir = n, cachedResult = ("up" == n || "down" == n ? endOfTextblockVertical : endOfTextblockHorizontal)(e3, t, n));
}
var NOT_DIRTY = 0;
var CHILD_DIRTY = 1;
var CONTENT_DIRTY = 2;
var NODE_DIRTY = 3;
var ViewDesc = class {
  constructor(e3, t, n, r) {
    this.parent = e3, this.children = t, this.dom = n, this.contentDOM = r, this.dirty = NOT_DIRTY, n.pmViewDesc = this;
  }
  matchesWidget(e3) {
    return false;
  }
  matchesMark(e3) {
    return false;
  }
  matchesNode(e3, t, n) {
    return false;
  }
  matchesHack(e3) {
    return false;
  }
  parseRule() {
    return null;
  }
  stopEvent(e3) {
    return false;
  }
  get size() {
    let t = 0;
    for (let e3 = 0; e3 < this.children.length; e3++)
      t += this.children[e3].size;
    return t;
  }
  get border() {
    return 0;
  }
  destroy() {
    this.parent = void 0, this.dom.pmViewDesc == this && (this.dom.pmViewDesc = void 0);
    for (let e3 = 0; e3 < this.children.length; e3++)
      this.children[e3].destroy();
  }
  posBeforeChild(n) {
    for (let e3 = 0, t = this.posAtStart; ; e3++) {
      var r = this.children[e3];
      if (r == n)
        return t;
      t += r.size;
    }
  }
  get posBefore() {
    return this.parent.posBeforeChild(this);
  }
  get posAtStart() {
    return this.parent ? this.parent.posBeforeChild(this) + this.border : 0;
  }
  get posAfter() {
    return this.posBefore + this.size;
  }
  get posAtEnd() {
    return this.posAtStart + this.size - 2 * this.border;
  }
  localPosFromDOM(n, r, e3) {
    if (this.contentDOM && this.contentDOM.contains(1 == n.nodeType ? n : n.parentNode)) {
      if (e3 < 0) {
        let e4, t2;
        if (n == this.contentDOM)
          e4 = n.childNodes[r - 1];
        else {
          for (; n.parentNode != this.contentDOM; )
            n = n.parentNode;
          e4 = n.previousSibling;
        }
        for (; e4 && (!(t2 = e4.pmViewDesc) || t2.parent != this); )
          e4 = e4.previousSibling;
        return e4 ? this.posBeforeChild(t2) + t2.size : this.posAtStart;
      }
      {
        let e4, t2;
        if (n == this.contentDOM)
          e4 = n.childNodes[r];
        else {
          for (; n.parentNode != this.contentDOM; )
            n = n.parentNode;
          e4 = n.nextSibling;
        }
        for (; e4 && (!(t2 = e4.pmViewDesc) || t2.parent != this); )
          e4 = e4.nextSibling;
        return e4 ? this.posBeforeChild(t2) : this.posAtEnd;
      }
    }
    let t;
    if (n == this.dom && this.contentDOM)
      t = r > domIndex(this.contentDOM);
    else if (this.contentDOM && this.contentDOM != this.dom && this.dom.contains(this.contentDOM))
      t = 2 & n.compareDocumentPosition(this.contentDOM);
    else if (this.dom.firstChild) {
      if (0 == r)
        for (let e4 = n; ; e4 = e4.parentNode) {
          if (e4 == this.dom) {
            t = false;
            break;
          }
          if (e4.previousSibling)
            break;
        }
      if (null == t && r == n.childNodes.length)
        for (let e4 = n; ; e4 = e4.parentNode) {
          if (e4 == this.dom) {
            t = true;
            break;
          }
          if (e4.nextSibling)
            break;
        }
    }
    return (null == t ? 0 < e3 : t) ? this.posAtEnd : this.posAtStart;
  }
  nearestDesc(o, i = false) {
    for (let n = true, r = o; r; r = r.parentNode) {
      let e3 = this.getDesc(r), t;
      if (e3 && (!i || e3.node)) {
        if (!n || !(t = e3.nodeDOM) || (1 == t.nodeType ? t.contains(1 == o.nodeType ? o : o.parentNode) : t == o))
          return e3;
        n = false;
      }
    }
  }
  getDesc(e3) {
    var t = e3.pmViewDesc;
    for (let e4 = t; e4; e4 = e4.parent)
      if (e4 == this)
        return t;
  }
  posFromDOM(t, n, r) {
    for (let e3 = t; e3; e3 = e3.parentNode) {
      var o = this.getDesc(e3);
      if (o)
        return o.localPosFromDOM(t, n, r);
    }
    return -1;
  }
  descAt(o) {
    for (let n = 0, r = 0; n < this.children.length; n++) {
      let e3 = this.children[n], t = r + e3.size;
      if (r == o && t != r) {
        for (; !e3.border && e3.children.length; )
          e3 = e3.children[0];
        return e3;
      }
      if (o < t)
        return e3.descAt(o - r - e3.border);
      r = t;
    }
  }
  domFromPos(t, n) {
    if (!this.contentDOM)
      return { node: this.dom, offset: 0, atom: t + 1 };
    let r = 0, o = 0;
    for (let e3 = 0; r < this.children.length; r++) {
      var i = this.children[r], a = e3 + i.size;
      if (t < a || i instanceof TrailingHackViewDesc) {
        o = t - e3;
        break;
      }
      e3 = a;
    }
    if (o)
      return this.children[r].domFromPos(o - this.children[r].border, n);
    for (let e3; r && !(e3 = this.children[r - 1]).size && e3 instanceof WidgetViewDesc && 0 <= e3.side; r--)
      ;
    if (n <= 0) {
      let e3, t2 = true;
      for (; (e3 = r ? this.children[r - 1] : null) && e3.dom.parentNode != this.contentDOM; r--, t2 = false)
        ;
      return e3 && n && t2 && !e3.border && !e3.domAtom ? e3.domFromPos(e3.size, n) : { node: this.contentDOM, offset: e3 ? domIndex(e3.dom) + 1 : 0 };
    }
    {
      let e3, t2 = true;
      for (; (e3 = r < this.children.length ? this.children[r] : null) && e3.dom.parentNode != this.contentDOM; r++, t2 = false)
        ;
      return e3 && t2 && !e3.border && !e3.domAtom ? e3.domFromPos(0, n) : { node: this.contentDOM, offset: e3 ? domIndex(e3.dom) : this.contentDOM.childNodes.length };
    }
  }
  parseRange(n, r, o = 0) {
    if (0 == this.children.length)
      return { node: this.contentDOM, from: n, to: r, fromOffset: 0, toOffset: this.contentDOM.childNodes.length };
    let i = -1, a = -1;
    for (let e3 = o, t = 0; ; t++) {
      var s = this.children[t], l = e3 + s.size;
      if (-1 == i && n <= l) {
        var c = e3 + s.border;
        if (c <= n && r <= l - s.border && s.node && s.contentDOM && this.contentDOM.contains(s.contentDOM))
          return s.parseRange(n, r, c);
        n = e3;
        for (let e4 = t; 0 < e4; e4--) {
          var u = this.children[e4 - 1];
          if (u.size && u.dom.parentNode == this.contentDOM && !u.emptyChildAt(1)) {
            i = domIndex(u.dom) + 1;
            break;
          }
          n -= u.size;
        }
        -1 == i && (i = 0);
      }
      if (-1 < i && (r < l || t == this.children.length - 1)) {
        r = l;
        for (let e4 = t + 1; e4 < this.children.length; e4++) {
          var d = this.children[e4];
          if (d.size && d.dom.parentNode == this.contentDOM && !d.emptyChildAt(-1)) {
            a = domIndex(d.dom);
            break;
          }
          r += d.size;
        }
        -1 == a && (a = this.contentDOM.childNodes.length);
        break;
      }
      e3 = l;
    }
    return { node: this.contentDOM, from: n, to: r, fromOffset: i, toOffset: a };
  }
  emptyChildAt(e3) {
    var t;
    return !(this.border || !this.contentDOM || !this.children.length) && (0 == (t = this.children[e3 < 0 ? 0 : this.children.length - 1]).size || t.emptyChildAt(e3));
  }
  domAfterPos(e3) {
    var { node: t, offset: n } = this.domFromPos(e3, 0);
    if (1 != t.nodeType || n == t.childNodes.length)
      throw new RangeError("No node after pos " + e3);
    return t.childNodes[n];
  }
  setSelection(n, r, o, i = false) {
    var a = Math.min(n, r), s = Math.max(n, r);
    for (let e3 = 0, t2 = 0; e3 < this.children.length; e3++) {
      var l = this.children[e3], c = t2 + l.size;
      if (a > t2 && s < c)
        return l.setSelection(n - t2 - l.border, r - t2 - l.border, o, i);
      t2 = c;
    }
    let u = this.domFromPos(n, n ? -1 : 1), d = r == n ? u : this.domFromPos(r, r ? -1 : 1);
    var t = o.getSelection();
    let p = false;
    if ((gecko || safari) && n == r) {
      var { node: f, offset: h } = u;
      if (3 == f.nodeType) {
        if ((p = !(!h || "\n" != f.nodeValue[h - 1])) && h == f.nodeValue.length)
          for (let e3 = f, t2; e3; e3 = e3.parentNode) {
            if (t2 = e3.nextSibling) {
              "BR" == t2.nodeName && (u = d = { node: t2.parentNode, offset: domIndex(t2) + 1 });
              break;
            }
            var m = e3.pmViewDesc;
            if (m && m.node && m.node.isBlock)
              break;
          }
      } else {
        var f = f.childNodes[h - 1];
        p = f && ("BR" == f.nodeName || "false" == f.contentEditable);
      }
    }
    if ((i = gecko && t.focusNode && t.focusNode != d.node && 1 == t.focusNode.nodeType && (h = t.focusNode.childNodes[t.focusOffset]) && "false" == h.contentEditable ? true : i) || p && safari || !isEquivalentPosition(u.node, u.offset, t.anchorNode, t.anchorOffset) || !isEquivalentPosition(d.node, d.offset, t.focusNode, t.focusOffset)) {
      let e3 = false;
      if ((t.extend || n == r) && !p) {
        t.collapse(u.node, u.offset);
        try {
          n != r && t.extend(d.node, d.offset), e3 = true;
        } catch (e4) {
        }
      }
      e3 || (r < n && (f = u, u = d, d = f), (h = document.createRange()).setEnd(d.node, d.offset), h.setStart(u.node, u.offset), t.removeAllRanges(), t.addRange(h));
    }
  }
  ignoreMutation(e3) {
    return !this.contentDOM && "selection" != e3.type;
  }
  get contentLost() {
    return this.contentDOM && this.contentDOM != this.dom && !this.dom.contains(this.contentDOM);
  }
  markDirty(n, r) {
    for (let e3 = 0, t = 0; t < this.children.length; t++) {
      var o = this.children[t], i = e3 + o.size;
      if (e3 == i ? n <= i && r >= e3 : n < i && r > e3) {
        var a = e3 + o.border, s = i - o.border;
        if (a <= n && r <= s)
          return this.dirty = n == e3 || r == i ? CONTENT_DIRTY : CHILD_DIRTY, void (n != a || r != s || !o.contentLost && o.dom.parentNode == this.contentDOM ? o.markDirty(n - a, r - a) : o.dirty = NODE_DIRTY);
        o.dirty = o.dom != o.contentDOM || o.dom.parentNode != this.contentDOM || o.children.length ? NODE_DIRTY : CONTENT_DIRTY;
      }
      e3 = i;
    }
    this.dirty = CONTENT_DIRTY;
  }
  markParentsDirty() {
    let t = 1;
    for (let e3 = this.parent; e3; e3 = e3.parent, t++) {
      var n = 1 == t ? CONTENT_DIRTY : CHILD_DIRTY;
      e3.dirty < n && (e3.dirty = n);
    }
  }
  get domAtom() {
    return false;
  }
  get ignoreForCoords() {
    return false;
  }
};
var WidgetViewDesc = class extends ViewDesc {
  constructor(e3, t, n, r) {
    let o, i = t.type.toDOM;
    "function" == typeof i && (i = i(n, () => o ? o.parent ? o.parent.posBeforeChild(o) : void 0 : r)), t.type.spec.raw || (1 != i.nodeType && ((n = document.createElement("span")).appendChild(i), i = n), i.contentEditable = "false", i.classList.add("ProseMirror-widget")), super(e3, [], i, null), this.widget = t, this.widget = t, o = this;
  }
  matchesWidget(e3) {
    return this.dirty == NOT_DIRTY && e3.type.eq(this.widget.type);
  }
  parseRule() {
    return { ignore: true };
  }
  stopEvent(e3) {
    var t = this.widget.spec.stopEvent;
    return !!t && t(e3);
  }
  ignoreMutation(e3) {
    return "selection" != e3.type || this.widget.spec.ignoreSelection;
  }
  destroy() {
    this.widget.type.destroy(this.dom), super.destroy();
  }
  get domAtom() {
    return true;
  }
  get side() {
    return this.widget.type.side;
  }
};
var CompositionViewDesc = class extends ViewDesc {
  constructor(e3, t, n, r) {
    super(e3, [], t, null), this.textDOM = n, this.text = r;
  }
  get size() {
    return this.text.length;
  }
  localPosFromDOM(e3, t) {
    return e3 != this.textDOM ? this.posAtStart + (t ? this.size : 0) : this.posAtStart + t;
  }
  domFromPos(e3) {
    return { node: this.textDOM, offset: e3 };
  }
  ignoreMutation(e3) {
    return "characterData" === e3.type && e3.target.nodeValue == e3.oldValue;
  }
};
var MarkViewDesc = class _MarkViewDesc extends ViewDesc {
  constructor(e3, t, n, r) {
    super(e3, [], n, r), this.mark = t;
  }
  static create(e3, t, n, r) {
    var o = r.nodeViews[t.type.name];
    let i = o && o(t, r, n);
    return i && i.dom || (i = DOMSerializer.renderSpec(document, t.type.spec.toDOM(t, n))), new _MarkViewDesc(e3, t, i.dom, i.contentDOM || i.dom);
  }
  parseRule() {
    return this.dirty & NODE_DIRTY || this.mark.type.spec.reparseInView ? null : { mark: this.mark.type.name, attrs: this.mark.attrs, contentElement: this.contentDOM };
  }
  matchesMark(e3) {
    return this.dirty != NODE_DIRTY && this.mark.eq(e3);
  }
  markDirty(e3, t) {
    if (super.markDirty(e3, t), this.dirty != NOT_DIRTY) {
      let e4 = this.parent;
      for (; !e4.node; )
        e4 = e4.parent;
      e4.dirty < this.dirty && (e4.dirty = this.dirty), this.dirty = NOT_DIRTY;
    }
  }
  slice(e3, t, n) {
    var r = _MarkViewDesc.create(this.parent, this.mark, true, n);
    let o = this.children, i = this.size;
    t < i && (o = replaceNodes(o, t, i, n)), 0 < e3 && (o = replaceNodes(o, 0, e3, n));
    for (let e4 = 0; e4 < o.length; e4++)
      o[e4].parent = r;
    return r.children = o, r;
  }
};
var NodeViewDesc = class _NodeViewDesc extends ViewDesc {
  constructor(e3, t, n, r, o, i, a, s, l) {
    super(e3, [], o, i), this.node = t, this.outerDeco = n, this.innerDeco = r, this.nodeDOM = a;
  }
  static create(e3, t, n, r, o, i) {
    let a = o.nodeViews[t.type.name], s;
    var l = a && a(t, o, () => s ? s.parent ? s.parent.posBeforeChild(s) : void 0 : i, n, r);
    let c = l && l.dom, u = l && l.contentDOM;
    if (t.isText)
      if (c) {
        if (3 != c.nodeType)
          throw new RangeError("Text must be rendered as a DOM text node");
      } else
        c = document.createTextNode(t.text);
    else
      c || ({ dom: c, contentDOM: u } = DOMSerializer.renderSpec(document, t.type.spec.toDOM(t)));
    u || t.isText || "BR" == c.nodeName || (c.hasAttribute("contenteditable") || (c.contentEditable = "false"), t.type.spec.draggable && (c.draggable = true));
    var d = c;
    return c = applyOuterDeco(c, n, t), l ? s = new CustomNodeViewDesc(e3, t, n, r, c, u || null, d, l, o, i + 1) : t.isText ? new TextViewDesc(e3, t, n, r, c, d, o) : new _NodeViewDesc(e3, t, n, r, c, u || null, d, o, i + 1);
  }
  parseRule() {
    if (this.node.type.spec.reparseInView)
      return null;
    var t = { node: this.node.type.name, attrs: this.node.attrs };
    if ("pre" == this.node.type.whitespace && (t.preserveWhitespace = "full"), this.contentDOM)
      if (this.contentLost) {
        for (let e3 = this.children.length - 1; 0 <= e3; e3--) {
          var n = this.children[e3];
          if (this.dom.contains(n.dom.parentNode)) {
            t.contentElement = n.dom.parentNode;
            break;
          }
        }
        t.contentElement || (t.getContent = () => Fragment2.empty);
      } else
        t.contentElement = this.contentDOM;
    else
      t.getContent = () => this.node.content;
    return t;
  }
  matchesNode(e3, t, n) {
    return this.dirty == NOT_DIRTY && e3.eq(this.node) && sameOuterDeco(t, this.outerDeco) && n.eq(this.innerDeco);
  }
  get size() {
    return this.node.nodeSize;
  }
  get border() {
    return this.node.isLeaf ? 0 : 1;
  }
  updateChildren(i, e3) {
    let a = this.node.inlineContent, s = e3, l = i.composing ? this.localCompositionInfo(i, e3) : null;
    e3 = l && -1 < l.pos ? l : null;
    let c = l && l.pos < 0, u = new ViewTreeUpdater(this, e3 && e3.node, i);
    iterDeco(this.node, this.innerDeco, (e4, t, n) => {
      e4.spec.marks ? u.syncToMarks(e4.spec.marks, a, i) : 0 <= e4.type.side && !n && u.syncToMarks(t == this.node.childCount ? Mark.none : this.node.child(t).marks, a, i), u.placeWidget(e4, i, s);
    }, (e4, t, n, r) => {
      u.syncToMarks(e4.marks, a, i);
      let o;
      u.findNodeMatch(e4, t, n, r) || c && i.state.selection.from > s && i.state.selection.to < s + e4.nodeSize && -1 < (o = u.findIndexWithChild(l.node)) && u.updateNodeAt(e4, t, n, o, i) || u.updateNextNode(e4, t, n, i, r, s) || u.addNode(e4, t, n, i, s), s += e4.nodeSize;
    }), u.syncToMarks([], a, i), this.node.isTextblock && u.addTextblockHacks(), u.destroyRest(), (u.changed || this.dirty == CONTENT_DIRTY) && (e3 && this.protectLocalComposition(i, e3), renderDescs(this.contentDOM, this.children, i), ios) && iosHacks(this.dom);
  }
  localCompositionInfo(e3, t) {
    var n, { from: r, to: o } = e3.state.selection;
    return !(!(e3.state.selection instanceof TextSelection) || r < t || o > t + this.node.content.size) && (e3 = nearbyTextNode((e3 = e3.domSelectionRange()).focusNode, e3.focusOffset)) && this.dom.contains(e3.parentNode) ? this.node.inlineContent ? (n = e3.nodeValue, (r = findTextInFragment(this.node.content, n, r - t, o - t)) < 0 ? null : { node: e3, pos: r, text: n }) : { node: e3, pos: -1, text: "" } : null;
  }
  protectLocalComposition(t, { node: n, pos: r, text: o }) {
    if (!this.getDesc(n)) {
      let e3 = n;
      for (; e3.parentNode != this.contentDOM; e3 = e3.parentNode) {
        for (; e3.previousSibling; )
          e3.parentNode.removeChild(e3.previousSibling);
        for (; e3.nextSibling; )
          e3.parentNode.removeChild(e3.nextSibling);
        e3.pmViewDesc && (e3.pmViewDesc = void 0);
      }
      n = new CompositionViewDesc(this, e3, n, o);
      t.input.compositionNodes.push(n), this.children = replaceNodes(this.children, r, r + o.length, t, n);
    }
  }
  update(e3, t, n, r) {
    return !(this.dirty == NODE_DIRTY || !e3.sameMarkup(this.node) || (this.updateInner(e3, t, n, r), 0));
  }
  updateInner(e3, t, n, r) {
    this.updateOuterDeco(t), this.node = e3, this.innerDeco = n, this.contentDOM && this.updateChildren(r, this.posAtStart), this.dirty = NOT_DIRTY;
  }
  updateOuterDeco(e3) {
    var t, n;
    sameOuterDeco(e3, this.outerDeco) || (t = 1 != this.nodeDOM.nodeType, n = this.dom, this.dom = patchOuterDeco(this.dom, this.nodeDOM, computeOuterDeco(this.outerDeco, this.node, t), computeOuterDeco(e3, this.node, t)), this.dom != n && (n.pmViewDesc = void 0, this.dom.pmViewDesc = this), this.outerDeco = e3);
  }
  selectNode() {
    1 == this.nodeDOM.nodeType && this.nodeDOM.classList.add("ProseMirror-selectednode"), !this.contentDOM && this.node.type.spec.draggable || (this.dom.draggable = true);
  }
  deselectNode() {
    1 == this.nodeDOM.nodeType && this.nodeDOM.classList.remove("ProseMirror-selectednode"), !this.contentDOM && this.node.type.spec.draggable || this.dom.removeAttribute("draggable");
  }
  get domAtom() {
    return this.node.isAtom;
  }
};
function docViewDesc(e3, t, n, r, o) {
  applyOuterDeco(r, t, e3);
  e3 = new NodeViewDesc(void 0, e3, t, n, r, r, r, o, 0);
  return e3.contentDOM && e3.updateChildren(o, 0), e3;
}
var TextViewDesc = class _TextViewDesc extends NodeViewDesc {
  constructor(e3, t, n, r, o, i, a) {
    super(e3, t, n, r, o, null, i, a, 0);
  }
  parseRule() {
    let e3 = this.nodeDOM.parentNode;
    for (; e3 && e3 != this.dom && !e3.pmIsDeco; )
      e3 = e3.parentNode;
    return { skip: e3 || true };
  }
  update(e3, t, n, r) {
    return !(this.dirty == NODE_DIRTY || this.dirty != NOT_DIRTY && !this.inParent() || !e3.sameMarkup(this.node) || (this.updateOuterDeco(t), this.dirty == NOT_DIRTY && e3.text == this.node.text || e3.text == this.nodeDOM.nodeValue || (this.nodeDOM.nodeValue = e3.text, r.trackWrites == this.nodeDOM && (r.trackWrites = null)), this.node = e3, this.dirty = NOT_DIRTY, 0));
  }
  inParent() {
    var t = this.parent.contentDOM;
    for (let e3 = this.nodeDOM; e3; e3 = e3.parentNode)
      if (e3 == t)
        return true;
    return false;
  }
  domFromPos(e3) {
    return { node: this.nodeDOM, offset: e3 };
  }
  localPosFromDOM(e3, t, n) {
    return e3 == this.nodeDOM ? this.posAtStart + Math.min(t, this.node.text.length) : super.localPosFromDOM(e3, t, n);
  }
  ignoreMutation(e3) {
    return "characterData" != e3.type && "selection" != e3.type;
  }
  slice(e3, t, n) {
    e3 = this.node.cut(e3, t), t = document.createTextNode(e3.text);
    return new _TextViewDesc(this.parent, e3, this.outerDeco, this.innerDeco, t, t, n);
  }
  markDirty(e3, t) {
    super.markDirty(e3, t), this.dom == this.nodeDOM || 0 != e3 && t != this.nodeDOM.nodeValue.length || (this.dirty = NODE_DIRTY);
  }
  get domAtom() {
    return false;
  }
};
var TrailingHackViewDesc = class extends ViewDesc {
  parseRule() {
    return { ignore: true };
  }
  matchesHack(e3) {
    return this.dirty == NOT_DIRTY && this.dom.nodeName == e3;
  }
  get domAtom() {
    return true;
  }
  get ignoreForCoords() {
    return "IMG" == this.dom.nodeName;
  }
};
var CustomNodeViewDesc = class extends NodeViewDesc {
  constructor(e3, t, n, r, o, i, a, s, l, c) {
    super(e3, t, n, r, o, i, a, l, c), this.spec = s;
  }
  update(e3, t, n, r) {
    var o;
    return this.dirty != NODE_DIRTY && (this.spec.update ? ((o = this.spec.update(e3, t, n)) && this.updateInner(e3, t, n, r), o) : !(!this.contentDOM && !e3.isLeaf) && super.update(e3, t, n, r));
  }
  selectNode() {
    this.spec.selectNode ? this.spec.selectNode() : super.selectNode();
  }
  deselectNode() {
    this.spec.deselectNode ? this.spec.deselectNode() : super.deselectNode();
  }
  setSelection(e3, t, n, r) {
    this.spec.setSelection ? this.spec.setSelection(e3, t, n) : super.setSelection(e3, t, n, r);
  }
  destroy() {
    this.spec.destroy && this.spec.destroy(), super.destroy();
  }
  stopEvent(e3) {
    return !!this.spec.stopEvent && this.spec.stopEvent(e3);
  }
  ignoreMutation(e3) {
    return this.spec.ignoreMutation ? this.spec.ignoreMutation(e3) : super.ignoreMutation(e3);
  }
};
function renderDescs(t, n, r) {
  let o = t.firstChild, i = false;
  for (let e3 = 0; e3 < n.length; e3++) {
    var a, s = n[e3], l = s.dom;
    if (l.parentNode == t) {
      for (; l != o; )
        o = rm(o), i = true;
      o = o.nextSibling;
    } else
      i = true, t.insertBefore(l, o);
    s instanceof MarkViewDesc && (a = o ? o.previousSibling : t.lastChild, renderDescs(s.contentDOM, s.children, r), o = a ? a.nextSibling : t.firstChild);
  }
  for (; o; )
    o = rm(o), i = true;
  i && r.trackWrites == t && (r.trackWrites = null);
}
var OuterDecoLevel = function(e3) {
  e3 && (this.nodeName = e3);
};
var noDeco = (OuterDecoLevel.prototype = /* @__PURE__ */ Object.create(null), [new OuterDecoLevel()]);
function computeOuterDeco(t, n, r) {
  if (0 == t.length)
    return noDeco;
  let o = r ? noDeco[0] : new OuterDecoLevel(), i = [o];
  for (let e3 = 0; e3 < t.length; e3++) {
    var a = t[e3].type.attrs;
    if (a)
      for (var s in a.nodeName && i.push(o = new OuterDecoLevel(a.nodeName)), a) {
        var l = a[s];
        null != l && (r && 1 == i.length && i.push(o = new OuterDecoLevel(n.isInline ? "span" : "div")), "class" == s ? o.class = (o.class ? o.class + " " : "") + l : "style" == s ? o.style = (o.style ? o.style + ";" : "") + l : "nodeName" != s && (o[s] = l));
      }
  }
  return i;
}
function patchOuterDeco(r, e3, o, i) {
  if (o == noDeco && i == noDeco)
    return e3;
  let a = e3;
  for (let e4 = 0; e4 < i.length; e4++) {
    let t = i[e4], n = o[e4];
    if (e4) {
      let e5;
      a = (n && n.nodeName == t.nodeName && a != r && (e5 = a.parentNode) && e5.nodeName.toLowerCase() == t.nodeName || ((e5 = document.createElement(t.nodeName)).pmIsDeco = true, e5.appendChild(a), n = noDeco[0]), e5);
    }
    patchAttributes(a, n || noDeco[0], t);
  }
  return a;
}
function patchAttributes(t, e3, n) {
  for (var r in e3)
    "class" == r || "style" == r || "nodeName" == r || r in n || t.removeAttribute(r);
  for (var o in n)
    "class" != o && "style" != o && "nodeName" != o && n[o] != e3[o] && t.setAttribute(o, n[o]);
  if (e3.class != n.class) {
    var i = e3.class ? e3.class.split(" ").filter(Boolean) : [], a = n.class ? n.class.split(" ").filter(Boolean) : [];
    for (let e4 = 0; e4 < i.length; e4++)
      -1 == a.indexOf(i[e4]) && t.classList.remove(i[e4]);
    for (let e4 = 0; e4 < a.length; e4++)
      -1 == i.indexOf(a[e4]) && t.classList.add(a[e4]);
    0 == t.classList.length && t.removeAttribute("class");
  }
  if (e3.style != n.style) {
    if (e3.style)
      for (var s, l = /\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g; s = l.exec(e3.style); )
        t.style.removeProperty(s[1]);
    n.style && (t.style.cssText += n.style);
  }
}
function applyOuterDeco(e3, t, n) {
  return patchOuterDeco(e3, e3, noDeco, computeOuterDeco(t, n, 1 != e3.nodeType));
}
function sameOuterDeco(t, n) {
  if (t.length != n.length)
    return false;
  for (let e3 = 0; e3 < t.length; e3++)
    if (!t[e3].type.eq(n[e3].type))
      return false;
  return true;
}
function rm(e3) {
  var t = e3.nextSibling;
  return e3.parentNode.removeChild(e3), t;
}
var ViewTreeUpdater = class {
  constructor(e3, t, n) {
    this.lock = t, this.view = n, this.index = 0, this.stack = [], this.changed = false, this.top = e3, this.preMatch = preMatch(e3.node.content, e3);
  }
  destroyBetween(t, n) {
    if (t != n) {
      for (let e3 = t; e3 < n; e3++)
        this.top.children[e3].destroy();
      this.top.children.splice(t, n - t), this.changed = true;
    }
  }
  destroyRest() {
    this.destroyBetween(this.index, this.top.children.length);
  }
  syncToMarks(n, e3, r) {
    let t = 0, o = this.stack.length >> 1;
    for (var i, a = Math.min(o, n.length); t < a && (t == o - 1 ? this.top : this.stack[t + 1 << 1]).matchesMark(n[t]) && false !== n[t].type.spec.spanning; )
      t++;
    for (; t < o; )
      this.destroyRest(), this.top.dirty = NOT_DIRTY, this.index = this.stack.pop(), this.top = this.stack.pop(), o--;
    for (; o < n.length; ) {
      this.stack.push(this.top, this.index + 1);
      let t2 = -1;
      for (let e4 = this.index; e4 < Math.min(this.index + 3, this.top.children.length); e4++) {
        var s = this.top.children[e4];
        if (s.matchesMark(n[o]) && !this.isLocked(s.dom)) {
          t2 = e4;
          break;
        }
      }
      -1 < t2 ? (t2 > this.index && (this.changed = true, this.destroyBetween(this.index, t2)), this.top = this.top.children[this.index]) : (i = MarkViewDesc.create(this.top, n[o], e3, r), this.top.children.splice(this.index, 0, i), this.top = i, this.changed = true), this.index = 0, o++;
    }
  }
  findNodeMatch(n, r, o, e3) {
    let i = -1, t;
    if (e3 >= this.preMatch.index && (t = this.preMatch.matches[e3 - this.preMatch.index]).parent == this.top && t.matchesNode(n, r, o))
      i = this.top.children.indexOf(t, this.index);
    else
      for (let e4 = this.index, t2 = Math.min(this.top.children.length, e4 + 5); e4 < t2; e4++) {
        var a = this.top.children[e4];
        if (a.matchesNode(n, r, o) && !this.preMatch.matched.has(a)) {
          i = e4;
          break;
        }
      }
    return !(i < 0 || (this.destroyBetween(this.index, i), this.index++, 0));
  }
  updateNodeAt(e3, t, n, r, o) {
    var i = this.top.children[r];
    return i.dirty == NODE_DIRTY && i.dom == i.contentDOM && (i.dirty = CONTENT_DIRTY), !!i.update(e3, t, n, o) && (this.destroyBetween(this.index, r), this.index++, true);
  }
  findIndexWithChild(e3) {
    for (; ; ) {
      var t = e3.parentNode;
      if (!t)
        return -1;
      if (t == this.top.contentDOM) {
        var n = e3.pmViewDesc;
        if (n) {
          for (let e4 = this.index; e4 < this.top.children.length; e4++)
            if (this.top.children[e4] == n)
              return e4;
        }
        return -1;
      }
      e3 = t;
    }
  }
  updateNextNode(r, o, i, a, s, l) {
    for (let n = this.index; n < this.top.children.length; n++) {
      var c = this.top.children[n];
      if (c instanceof NodeViewDesc) {
        var u = this.preMatch.matched.get(c);
        if (null != u && u != s)
          return false;
        let e3 = c.dom, t;
        u = this.isLocked(e3) && !(r.isText && c.node && c.node.isText && c.nodeDOM.nodeValue == r.text && c.dirty != NODE_DIRTY && sameOuterDeco(o, c.outerDeco));
        if (!u && c.update(r, o, i, a))
          return this.destroyBetween(this.index, n), c.dom != e3 && (this.changed = true), this.index++, true;
        if (!u && (t = this.recreateWrapper(c, r, o, i, a, l)))
          return (this.top.children[this.index] = t).dirty = CONTENT_DIRTY, t.updateChildren(a, l + 1), t.dirty = NOT_DIRTY, this.changed = true, this.index++, true;
        break;
      }
    }
    return false;
  }
  recreateWrapper(e3, t, n, r, o, i) {
    if (e3.dirty || t.isAtom || !e3.children.length || !e3.node.content.eq(t.content))
      return null;
    var a, s = NodeViewDesc.create(this.top, t, n, r, o, i);
    if (!s.contentDOM)
      return null;
    s.children = e3.children, e3.children = [], e3.destroy();
    for (a of s.children)
      a.parent = s;
    return s;
  }
  addNode(e3, t, n, r, o) {
    e3 = NodeViewDesc.create(this.top, e3, t, n, r, o);
    e3.contentDOM && e3.updateChildren(r, o + 1), this.top.children.splice(this.index++, 0, e3), this.changed = true;
  }
  placeWidget(e3, t, n) {
    var r = this.index < this.top.children.length ? this.top.children[this.index] : null;
    !r || !r.matchesWidget(e3) || e3 != r.widget && r.widget.type.toDOM.parentNode ? (r = new WidgetViewDesc(this.top, e3, t, n), this.top.children.splice(this.index++, 0, r), this.changed = true) : this.index++;
  }
  addTextblockHacks() {
    let e3 = this.top.children[this.index - 1], t = this.top;
    for (; e3 instanceof MarkViewDesc; )
      e3 = (t = e3).children[t.children.length - 1];
    (!(e3 && e3 instanceof TextViewDesc) || /\n$/.test(e3.node.text) || this.view.requiresGeckoHackNode && /\s$/.test(e3.node.text)) && ((safari || chrome) && e3 && "false" == e3.dom.contentEditable && this.addHackNode("IMG", t), this.addHackNode("BR", this.top));
  }
  addHackNode(e3, t) {
    var n;
    t == this.top && this.index < t.children.length && t.children[this.index].matchesHack(e3) ? this.index++ : (n = document.createElement(e3), "IMG" == e3 && (n.className = "ProseMirror-separator", n.alt = ""), "BR" == e3 && (n.className = "ProseMirror-trailingBreak"), e3 = new TrailingHackViewDesc(this.top, [], n, null), t != this.top ? t.children.push(e3) : t.children.splice(this.index++, 0, e3), this.changed = true);
  }
  isLocked(e3) {
    return this.lock && (e3 == this.lock || 1 == e3.nodeType && e3.contains(this.lock.parentNode));
  }
};
function preMatch(t, n) {
  let r = n, o = r.children.length, i = t.childCount, a = /* @__PURE__ */ new Map(), s = [];
  e:
    for (; 0 < i; ) {
      let e3;
      for (; ; )
        if (o) {
          var l = r.children[o - 1];
          if (!(l instanceof MarkViewDesc)) {
            e3 = l, o--;
            break;
          }
          r = l, o = l.children.length;
        } else {
          if (r == n)
            break e;
          o = r.parent.children.indexOf(r), r = r.parent;
        }
      var c = e3.node;
      if (c) {
        if (c != t.child(i - 1))
          break;
        --i, a.set(e3, i), s.push(e3);
      }
    }
  return { index: i, matched: a, matches: s.reverse() };
}
function compareSide(e3, t) {
  return e3.type.side - t.type.side;
}
function iterDeco(t, l, c, u) {
  let d = l.locals(t), p = 0;
  if (0 == d.length)
    for (let e3 = 0; e3 < t.childCount; e3++) {
      var n = t.child(e3);
      u(n, d, l.forChild(p, n), e3), p += n.nodeSize;
    }
  else {
    let i = 0, a = [], s = null;
    for (let o = 0; ; ) {
      if (i < d.length && d[i].to == p) {
        let e4 = d[i++], t2;
        for (; i < d.length && d[i].to == p; )
          (t2 = t2 || [e4]).push(d[i++]);
        if (t2) {
          t2.sort(compareSide);
          for (let e5 = 0; e5 < t2.length; e5++)
            c(t2[e5], o, !!s);
        } else
          c(e4, o, !!s);
      }
      let e3, n2;
      if (s)
        n2 = -1, e3 = s, s = null;
      else {
        if (!(o < t.childCount))
          break;
        n2 = o, e3 = t.child(o++);
      }
      for (let e4 = 0; e4 < a.length; e4++)
        a[e4].to <= p && a.splice(e4--, 1);
      for (; i < d.length && d[i].from <= p && d[i].to > p; )
        a.push(d[i++]);
      let r = p + e3.nodeSize;
      if (e3.isText) {
        let t2 = r;
        i < d.length && d[i].from < t2 && (t2 = d[i].from);
        for (let e4 = 0; e4 < a.length; e4++)
          a[e4].to < t2 && (t2 = a[e4].to);
        t2 < r && (s = e3.cut(t2 - p), e3 = e3.cut(0, t2 - p), r = t2, n2 = -1);
      }
      var f = e3.isInline && !e3.isLeaf ? a.filter((e4) => !e4.inline) : a.slice();
      u(e3, f, l.forChild(p, e3), n2), p = r;
    }
  }
}
function iosHacks(e3) {
  var t;
  "UL" != e3.nodeName && "OL" != e3.nodeName || (t = e3.style.cssText, e3.style.cssText = t + "; list-style: square !important", window.getComputedStyle(e3).listStyle, e3.style.cssText = t);
}
function nearbyTextNode(e3, t) {
  for (; ; ) {
    if (3 == e3.nodeType)
      return e3;
    if (1 == e3.nodeType && 0 < t) {
      if (e3.childNodes.length > t && 3 == e3.childNodes[t].nodeType)
        return e3.childNodes[t];
      t = nodeSize(e3 = e3.childNodes[t - 1]);
    } else {
      if (!(1 == e3.nodeType && t < e3.childNodes.length))
        return null;
      e3 = e3.childNodes[t], t = 0;
    }
  }
}
function findTextInFragment(r, o, i, a) {
  for (let t = 0, n = 0; t < r.childCount && n <= a; ) {
    var s = r.child(t++), l = n;
    if (n += s.nodeSize, s.isText) {
      let e3 = s.text;
      for (; t < r.childCount; ) {
        var c = r.child(t++);
        if (n += c.nodeSize, !c.isText)
          break;
        e3 += c.text;
      }
      if (n >= i) {
        s = l < a ? e3.lastIndexOf(o, a - l - 1) : -1;
        if (0 <= s && s + o.length + l >= i)
          return l + s;
        if (i == a && e3.length >= a + o.length - l && e3.slice(a - l, a - l + o.length) == o)
          return a;
      }
    }
  }
  return -1;
}
function replaceNodes(n, r, o, i, a) {
  var s = [];
  for (let e3 = 0, t = 0; e3 < n.length; e3++) {
    var l = n[e3], c = t, u = t += l.size;
    o <= c || u <= r ? s.push(l) : (c < r && s.push(l.slice(0, r - c, i)), a && (s.push(a), a = void 0), o < u && s.push(l.slice(o - c, l.size, i)));
  }
  return s;
}
function selectionFromDOM(e3, t = null) {
  var n = e3.domSelectionRange(), r = e3.state.doc;
  if (!n.focusNode)
    return null;
  let o = e3.docView.nearestDesc(n.focusNode), i = o && 0 == o.size;
  var a = e3.docView.posFromDOM(n.focusNode, n.focusOffset, 1);
  if (a < 0)
    return null;
  let s = r.resolve(a), l, c;
  if (selectionCollapsed(n)) {
    for (l = s; o && !o.node; )
      o = o.parent;
    var u = o.node;
    !(o && u.isAtom && NodeSelection.isSelectable(u) && o.parent) || u.isInline && isOnEdge(n.focusNode, n.focusOffset, o.dom) || (u = o.posBefore, c = new NodeSelection(a == u ? s : r.resolve(u)));
  } else {
    a = e3.docView.posFromDOM(n.anchorNode, n.anchorOffset, 1);
    if (a < 0)
      return null;
    l = r.resolve(a);
  }
  return c || (u = "pointer" == t || e3.state.selection.head < s.pos && !i ? 1 : -1, c = selectionBetween(e3, l, s, u)), c;
}
function editorOwnsSelection(e3) {
  return e3.editable ? e3.hasFocus() : hasSelection(e3) && document.activeElement && document.activeElement.contains(e3.dom);
}
function selectionToDOM(o, i = false) {
  var a = o.state.selection;
  if (syncNodeSelection(o, a), editorOwnsSelection(o)) {
    if (!i && o.input.mouseDown && o.input.mouseDown.allowDefault && chrome) {
      var e3 = o.domSelectionRange(), t = o.domObserver.currentSelection;
      if (e3.anchorNode && t.anchorNode && isEquivalentPosition(e3.anchorNode, e3.anchorOffset, t.anchorNode, t.anchorOffset))
        return o.input.mouseDown.delayedSelectionSync = true, void o.domObserver.setCurSelection();
    }
    if (o.domObserver.disconnectSelection(), o.cursorWrapper)
      selectCursorWrapper(o);
    else {
      let { anchor: e4, head: t2 } = a, n, r;
      !brokenSelectBetweenUneditable || a instanceof TextSelection || (a.$from.parent.inlineContent || (n = temporarilyEditableNear(o, a.from)), a.empty) || a.$from.parent.inlineContent || (r = temporarilyEditableNear(o, a.to)), o.docView.setSelection(e4, t2, o.root, i), brokenSelectBetweenUneditable && (n && resetEditable(n), r) && resetEditable(r), a.visible ? o.dom.classList.remove("ProseMirror-hideselection") : (o.dom.classList.add("ProseMirror-hideselection"), "onselectionchange" in document && removeClassOnSelectionChange(o));
    }
    o.domObserver.setCurSelection(), o.domObserver.connectSelection();
  }
}
var brokenSelectBetweenUneditable = safari || chrome && chrome_version < 63;
function temporarilyEditableNear(e3, t) {
  var { node: e3, offset: t } = e3.docView.domFromPos(t, 0), n = t < e3.childNodes.length ? e3.childNodes[t] : null, e3 = t ? e3.childNodes[t - 1] : null;
  return safari && n && "false" == n.contentEditable ? setEditable(n) : n && "false" != n.contentEditable || e3 && "false" != e3.contentEditable ? void 0 : n ? setEditable(n) : e3 ? setEditable(e3) : void 0;
}
function setEditable(e3) {
  return e3.contentEditable = "true", safari && e3.draggable && (e3.draggable = false, e3.wasDraggable = true), e3;
}
function resetEditable(e3) {
  e3.contentEditable = "false", e3.wasDraggable && (e3.draggable = true, e3.wasDraggable = null);
}
function removeClassOnSelectionChange(e3) {
  let t = e3.dom.ownerDocument, n = (t.removeEventListener("selectionchange", e3.input.hideSelectionGuard), e3.domSelectionRange()), r = n.anchorNode, o = n.anchorOffset;
  t.addEventListener("selectionchange", e3.input.hideSelectionGuard = () => {
    n.anchorNode == r && n.anchorOffset == o || (t.removeEventListener("selectionchange", e3.input.hideSelectionGuard), setTimeout(() => {
      editorOwnsSelection(e3) && !e3.state.selection.visible || e3.dom.classList.remove("ProseMirror-hideselection");
    }, 20));
  });
}
function selectCursorWrapper(e3) {
  var t = e3.domSelection(), n = document.createRange(), r = e3.cursorWrapper.dom, o = "IMG" == r.nodeName;
  o ? n.setEnd(r.parentNode, domIndex(r) + 1) : n.setEnd(r, 0), n.collapse(false), t.removeAllRanges(), t.addRange(n), !o && !e3.state.selection.visible && ie && ie_version <= 11 && (r.disabled = true, r.disabled = false);
}
function syncNodeSelection(e3, t) {
  t instanceof NodeSelection ? (t = e3.docView.descAt(t.from)) != e3.lastSelectedViewDesc && (clearNodeSelection(e3), t && t.selectNode(), e3.lastSelectedViewDesc = t) : clearNodeSelection(e3);
}
function clearNodeSelection(e3) {
  e3.lastSelectedViewDesc && (e3.lastSelectedViewDesc.parent && e3.lastSelectedViewDesc.deselectNode(), e3.lastSelectedViewDesc = void 0);
}
function selectionBetween(t, n, r, e3) {
  return t.someProp("createSelectionBetween", (e4) => e4(t, n, r)) || TextSelection.between(n, r, e3);
}
function hasFocusAndSelection(e3) {
  return !(e3.editable && !e3.hasFocus()) && hasSelection(e3);
}
function hasSelection(e3) {
  var t = e3.domSelectionRange();
  if (!t.anchorNode)
    return false;
  try {
    return e3.dom.contains(3 == t.anchorNode.nodeType ? t.anchorNode.parentNode : t.anchorNode) && (e3.editable || e3.dom.contains(3 == t.focusNode.nodeType ? t.focusNode.parentNode : t.focusNode));
  } catch (e4) {
    return false;
  }
}
function anchorInRightPlace(e3) {
  var t = e3.docView.domFromPos(e3.state.selection.anchor, 0), e3 = e3.domSelectionRange();
  return isEquivalentPosition(t.node, t.offset, e3.anchorNode, e3.anchorOffset);
}
function moveSelectionBlock(e3, t) {
  var { $anchor: n, $head: r } = e3.selection, n = 0 < t ? n.max(r) : n.min(r), r = n.parent.inlineContent ? n.depth ? e3.doc.resolve(0 < t ? n.after() : n.before()) : null : n;
  return r && Selection.findFrom(r, t);
}
function apply(e3, t) {
  return e3.dispatch(e3.state.tr.setSelection(t).scrollIntoView()), true;
}
function selectHorizontally(e3, t, n) {
  var r, o, i, a = e3.state.selection;
  return a instanceof TextSelection ? !(!a.empty || -1 < n.indexOf("s")) && (e3.endOfTextblock(0 < t ? "forward" : "backward") ? !!((r = moveSelectionBlock(e3.state, t)) && r instanceof NodeSelection) && apply(e3, r) : mac && -1 < n.indexOf("m") ? void 0 : !(!(n = (r = a.$head).textOffset ? null : t < 0 ? r.nodeBefore : r.nodeAfter) || n.isText || (o = t < 0 ? r.pos - n.nodeSize : r.pos, !(n.isAtom || (i = e3.docView.descAt(o)) && !i.contentDOM))) && (NodeSelection.isSelectable(n) ? apply(e3, new NodeSelection(t < 0 ? e3.state.doc.resolve(r.pos - n.nodeSize) : r)) : !!webkit && apply(e3, new TextSelection(e3.state.doc.resolve(t < 0 ? o : o + n.nodeSize))))) : a instanceof NodeSelection && a.node.isInline ? apply(e3, new TextSelection(0 < t ? a.$to : a.$from)) : !!(i = moveSelectionBlock(e3.state, t)) && apply(e3, i);
}
function nodeLen(e3) {
  return (3 == e3.nodeType ? e3.nodeValue : e3.childNodes).length;
}
function isIgnorable(e3) {
  var t;
  return "false" == e3.contentEditable || (t = e3.pmViewDesc) && 0 == t.size && (e3.nextSibling || "BR" != e3.nodeName);
}
function skipIgnoredNodes(e3, t) {
  return (t < 0 ? skipIgnoredNodesBefore : skipIgnoredNodesAfter)(e3);
}
function skipIgnoredNodesBefore(r) {
  var e3 = r.domSelectionRange();
  let o = e3.focusNode, i = e3.focusOffset;
  if (o) {
    let t, n, e4 = false;
    for (gecko && 1 == o.nodeType && i < nodeLen(o) && isIgnorable(o.childNodes[i]) && (e4 = true); ; )
      if (0 < i) {
        if (1 != o.nodeType)
          break;
        var a = o.childNodes[i - 1];
        if (isIgnorable(a))
          t = o, n = --i;
        else {
          if (3 != a.nodeType)
            break;
          o = a, i = o.nodeValue.length;
        }
      } else {
        if (isBlockNode(o))
          break;
        {
          let e5 = o.previousSibling;
          for (; e5 && isIgnorable(e5); )
            t = o.parentNode, n = domIndex(e5), e5 = e5.previousSibling;
          if (e5)
            o = e5, i = nodeLen(o);
          else {
            if ((o = o.parentNode) == r.dom)
              break;
            i = 0;
          }
        }
      }
    e4 ? setSelFocus(r, o, i) : t && setSelFocus(r, t, n);
  }
}
function skipIgnoredNodesAfter(o) {
  var e3 = o.domSelectionRange();
  let i = e3.focusNode, a = e3.focusOffset;
  if (i) {
    let t = nodeLen(i), n, r;
    for (; ; )
      if (a < t) {
        if (1 != i.nodeType)
          break;
        if (!isIgnorable(i.childNodes[a]))
          break;
        n = i, r = ++a;
      } else {
        if (isBlockNode(i))
          break;
        {
          let e4 = i.nextSibling;
          for (; e4 && isIgnorable(e4); )
            n = e4.parentNode, r = domIndex(e4) + 1, e4 = e4.nextSibling;
          if (e4)
            i = e4, a = 0, t = nodeLen(i);
          else {
            if ((i = i.parentNode) == o.dom)
              break;
            a = t = 0;
          }
        }
      }
    n && setSelFocus(o, n, r);
  }
}
function isBlockNode(e3) {
  e3 = e3.pmViewDesc;
  return e3 && e3.node && e3.node.isBlock;
}
function textNodeAfter(e3, t) {
  for (; e3 && t == e3.childNodes.length && !hasBlockDesc(e3); )
    t = domIndex(e3) + 1, e3 = e3.parentNode;
  for (; e3 && t < e3.childNodes.length; ) {
    if (3 == (e3 = e3.childNodes[t]).nodeType)
      return e3;
    t = 0;
  }
}
function textNodeBefore(e3, t) {
  for (; e3 && !t && !hasBlockDesc(e3); )
    t = domIndex(e3), e3 = e3.parentNode;
  for (; e3 && t; ) {
    if (3 == (e3 = e3.childNodes[t - 1]).nodeType)
      return e3;
    t = e3.childNodes.length;
  }
}
function setSelFocus(e3, t, n) {
  3 != t.nodeType && ((o = textNodeAfter(t, n)) ? (t = o, n = 0) : (o = textNodeBefore(t, n)) && (n = (t = o).nodeValue.length));
  var r, o = e3.domSelection();
  selectionCollapsed(o) ? ((r = document.createRange()).setEnd(t, n), r.setStart(t, n), o.removeAllRanges(), o.addRange(r)) : o.extend && o.extend(t, n), e3.domObserver.setCurSelection();
  let i = e3["state"];
  setTimeout(() => {
    e3.state == i && selectionToDOM(e3);
  }, 50);
}
function findDirection(e3, t) {
  var n = e3.state.doc.resolve(t);
  if (!chrome && !windows && n.parent.inlineContent) {
    var r = e3.coordsAtPos(t);
    if (t > n.start()) {
      var o = e3.coordsAtPos(t - 1), i = (o.top + o.bottom) / 2;
      if (i > r.top && i < r.bottom && 1 < Math.abs(o.left - r.left))
        return o.left < r.left ? "ltr" : "rtl";
    }
    if (t < n.end()) {
      i = e3.coordsAtPos(t + 1), o = (i.top + i.bottom) / 2;
      if (o > r.top && o < r.bottom && 1 < Math.abs(i.left - r.left))
        return i.left > r.left ? "ltr" : "rtl";
    }
  }
  return "rtl" == getComputedStyle(e3.dom).direction ? "rtl" : "ltr";
}
function selectVertically(e3, t, n) {
  var r = e3.state.selection;
  if (r instanceof TextSelection && !r.empty || -1 < n.indexOf("s"))
    return false;
  if (mac && -1 < n.indexOf("m"))
    return false;
  var { $from: n, $to: o } = r;
  if (!n.parent.inlineContent || e3.endOfTextblock(t < 0 ? "up" : "down")) {
    var i = moveSelectionBlock(e3.state, t);
    if (i && i instanceof NodeSelection)
      return apply(e3, i);
  }
  return !n.parent.inlineContent && (i = t < 0 ? n : o, !!(n = r instanceof AllSelection ? Selection.near(i, t) : Selection.findFrom(i, t))) && apply(e3, n);
}
function stopNativeHorizontalDelete(e3, t) {
  var n, r, o;
  return !(e3.state.selection instanceof TextSelection && ({ $head: n, $anchor: r, empty: o } = e3.state.selection, n.sameParent(r)) && (!o || !e3.endOfTextblock(0 < t ? "forward" : "backward") && (!(r = !n.textOffset && (t < 0 ? n.nodeBefore : n.nodeAfter)) || r.isText || (o = e3.state.tr, t < 0 ? o.delete(n.pos - r.nodeSize, n.pos) : o.delete(n.pos, n.pos + r.nodeSize), e3.dispatch(o), 0))));
}
function switchEditable(e3, t, n) {
  e3.domObserver.stop(), t.contentEditable = n, e3.domObserver.start();
}
function safariDownArrowBug(t) {
  if (safari && !(0 < t.state.selection.$head.parentOffset)) {
    var { focusNode: n, focusOffset: e3 } = t.domSelectionRange();
    if (n && 1 == n.nodeType && 0 == e3 && n.firstChild && "false" == n.firstChild.contentEditable) {
      let e4 = n.firstChild;
      switchEditable(t, e4, "true"), setTimeout(() => switchEditable(t, e4, "false"), 20);
    }
  }
  return false;
}
function getMods(e3) {
  let t = "";
  return e3.ctrlKey && (t += "c"), e3.metaKey && (t += "m"), e3.altKey && (t += "a"), e3.shiftKey && (t += "s"), t;
}
function captureKeyDown(e3, t) {
  var n = t.keyCode, r = getMods(t);
  return 8 == n || mac && 72 == n && "c" == r ? stopNativeHorizontalDelete(e3, -1) || skipIgnoredNodes(e3, -1) : 46 == n && !t.shiftKey || mac && 68 == n && "c" == r ? stopNativeHorizontalDelete(e3, 1) || skipIgnoredNodes(e3, 1) : 13 == n || 27 == n || (37 == n || mac && 66 == n && "c" == r ? selectHorizontally(e3, t = 37 != n || "ltr" == findDirection(e3, e3.state.selection.from) ? -1 : 1, r) || skipIgnoredNodes(e3, t) : 39 == n || mac && 70 == n && "c" == r ? selectHorizontally(e3, t = 39 != n || "ltr" == findDirection(e3, e3.state.selection.from) ? 1 : -1, r) || skipIgnoredNodes(e3, t) : 38 == n || mac && 80 == n && "c" == r ? selectVertically(e3, -1, r) || skipIgnoredNodes(e3, -1) : 40 == n || mac && 78 == n && "c" == r ? safariDownArrowBug(e3) || selectVertically(e3, 1, r) || skipIgnoredNodesAfter(e3) : r == (mac ? "m" : "c") && (66 == n || 73 == n || 89 == n || 90 == n));
}
function serializeForClipboard(t, n) {
  t.someProp("transformCopied", (e4) => {
    n = e4(n, t);
  });
  let e3 = [], { content: r, openStart: o, openEnd: i } = n;
  for (; 1 < o && 1 < i && 1 == r.childCount && 1 == r.firstChild.childCount; ) {
    o--, i--;
    var a = r.firstChild;
    e3.push(a.type.name, a.attrs != a.type.defaultAttrs ? a.attrs : null), r = a.content;
  }
  var s = t.someProp("clipboardSerializer") || DOMSerializer.fromSchema(t.state.schema), l = detachedDoc(), c = l.createElement("div");
  c.appendChild(s.serializeFragment(r, { document: l }));
  let u = c.firstChild, d, p = 0;
  for (; u && 1 == u.nodeType && (d = wrapMap[u.nodeName.toLowerCase()]); ) {
    for (let e4 = d.length - 1; 0 <= e4; e4--) {
      for (var f = l.createElement(d[e4]); c.firstChild; )
        f.appendChild(c.firstChild);
      c.appendChild(f), p++;
    }
    u = c.firstChild;
  }
  return u && 1 == u.nodeType && u.setAttribute("data-pm-slice", `${o} ${i}${p ? " -" + p : ""} ` + JSON.stringify(e3)), { dom: c, text: t.someProp("clipboardTextSerializer", (e4) => e4(n, t)) || n.content.textBetween(0, n.content.size, "\n\n") };
}
function parseFromClipboard(t, i, n, r, a) {
  let o = a.parent.type.spec.code, s, l;
  if (!n && !i)
    return null;
  var e3 = i && (r || o || !n);
  if (e3) {
    if (t.someProp("transformPastedText", (e4) => {
      i = e4(i, o || r, t);
    }), o)
      return i ? new Slice(Fragment2.from(t.state.schema.text(i.replace(/\r\n?/g, "\n"))), 0, 0) : Slice.empty;
    var c = t.someProp("clipboardTextParser", (e4) => e4(i, a, r, t));
    if (c)
      l = c;
    else {
      let n2 = a.marks(), r2 = t.state["schema"], o2 = DOMSerializer.fromSchema(r2);
      s = document.createElement("div"), i.split(/(?:\r\n?|\n)+/).forEach((e4) => {
        var t2 = s.appendChild(document.createElement("p"));
        e4 && t2.appendChild(o2.serializeNode(r2.text(e4, n2)));
      });
    }
  } else
    t.someProp("transformPastedHTML", (e4) => {
      n = e4(n, t);
    }), s = readHTML(n), webkit && restoreReplacedSpaces(s);
  var u, c = s && s.querySelector("[data-pm-slice]"), c = c && /^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice") || "");
  if (c && c[3])
    for (let e4 = +c[3]; 0 < e4; e4--) {
      let e5 = s.firstChild;
      for (; e5 && 1 != e5.nodeType; )
        e5 = e5.nextSibling;
      if (!e5)
        break;
      s = e5;
    }
  if (l || (u = t.someProp("clipboardParser") || t.someProp("domParser") || DOMParser$1.fromSchema(t.state.schema), l = u.parseSlice(s, { preserveWhitespace: !(!e3 && !c), context: a, ruleFromNode(e4) {
    return "BR" != e4.nodeName || e4.nextSibling || !e4.parentNode || inlineParents.test(e4.parentNode.nodeName) ? null : { ignore: true };
  } })), c)
    l = addContext(closeSlice(l, +c[1], +c[2]), c[4]);
  else if ((l = Slice.maxOpen(normalizeSiblings(l.content, a), true)).openStart || l.openEnd) {
    let t2 = 0, n2 = 0;
    for (let e4 = l.content.firstChild; t2 < l.openStart && !e4.type.spec.isolating; t2++, e4 = e4.firstChild)
      ;
    for (let e4 = l.content.lastChild; n2 < l.openEnd && !e4.type.spec.isolating; n2++, e4 = e4.lastChild)
      ;
    l = closeSlice(l, t2, n2);
  }
  return t.someProp("transformPasted", (e4) => {
    l = e4(l, t);
  }), l;
}
var inlineParents = /^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;
function normalizeSiblings(t, n) {
  if (!(t.childCount < 2))
    for (let e3 = n.depth; 0 <= e3; e3--) {
      let r = n.node(e3).contentMatchAt(n.index(e3)), o, i = [];
      if (t.forEach((e4) => {
        var t2, n2;
        if (i)
          return (t2 = r.findWrapping(e4.type)) ? void ((n2 = i.length && o.length && addToSibling(t2, o, e4, i[i.length - 1], 0)) ? i[i.length - 1] = n2 : (i.length && (i[i.length - 1] = closeRight(i[i.length - 1], o.length)), n2 = withWrappers(e4, t2), i.push(n2), r = r.matchType(n2.type), o = t2)) : i = null;
      }), i)
        return Fragment2.from(i);
    }
  return t;
}
function withWrappers(t, n, r = 0) {
  for (let e3 = n.length - 1; e3 >= r; e3--)
    t = n[e3].create(null, Fragment2.from(t));
  return t;
}
function addToSibling(e3, t, n, r, o) {
  if (o < e3.length && o < t.length && e3[o] == t[o])
    return (t = addToSibling(e3, t, n, r.lastChild, o + 1)) ? r.copy(r.content.replaceChild(r.childCount - 1, t)) : r.contentMatchAt(r.childCount).matchType(o == e3.length - 1 ? n.type : e3[o + 1]) ? r.copy(r.content.append(Fragment2.from(withWrappers(n, e3, o + 1)))) : void 0;
}
function closeRight(e3, t) {
  var n;
  return 0 == t ? e3 : (t = e3.content.replaceChild(e3.childCount - 1, closeRight(e3.lastChild, t - 1)), n = e3.contentMatchAt(e3.childCount).fillBefore(Fragment2.empty, true), e3.copy(t.append(n)));
}
function closeRange(e3, t, n, r, o, i) {
  let a = t < 0 ? e3.firstChild : e3.lastChild, s = a.content;
  return 1 < e3.childCount && (i = 0), o < r - 1 && (s = closeRange(s, t, n, r, o + 1, i)), n <= o && (s = t < 0 ? a.contentMatchAt(0).fillBefore(s, i <= o).append(s) : s.append(a.contentMatchAt(a.childCount).fillBefore(Fragment2.empty, true))), e3.replaceChild(t < 0 ? 0 : e3.childCount - 1, a.copy(s));
}
function closeSlice(e3, t, n) {
  return e3 = n < (e3 = t < e3.openStart ? new Slice(closeRange(e3.content, -1, t, e3.openStart, 0, e3.openEnd), t, e3.openEnd) : e3).openEnd ? new Slice(closeRange(e3.content, 1, n, e3.openEnd, 0, 0), e3.openStart, n) : e3;
}
var wrapMap = { thead: ["table"], tbody: ["table"], tfoot: ["table"], caption: ["table"], colgroup: ["table"], col: ["table", "colgroup"], tr: ["table", "tbody"], td: ["table", "tbody", "tr"], th: ["table", "tbody", "tr"] };
var _detachedDoc = null;
function detachedDoc() {
  return _detachedDoc = _detachedDoc || document.implementation.createHTMLDocument("title");
}
function readHTML(e3) {
  var t = /^(\s*<meta [^>]*>)*/.exec(e3);
  t && (e3 = e3.slice(t[0].length));
  let n = detachedDoc().createElement("div");
  var r, t = /<([a-z][^>\s]+)/i.exec(e3);
  if ((r = t && wrapMap[t[1].toLowerCase()]) && (e3 = r.map((e4) => "<" + e4 + ">").join("") + e3 + r.map((e4) => "</" + e4 + ">").reverse().join("")), n.innerHTML = e3, r)
    for (let e4 = 0; e4 < r.length; e4++)
      n = n.querySelector(r[e4]) || n;
  return n;
}
function restoreReplacedSpaces(t) {
  var n = t.querySelectorAll(chrome ? "span:not([class]):not([style])" : "span.Apple-converted-space");
  for (let e3 = 0; e3 < n.length; e3++) {
    var r = n[e3];
    1 == r.childNodes.length && " " == r.textContent && r.parentNode && r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "), r);
  }
}
function addContext(t, e3) {
  if (!t.size)
    return t;
  let n = t.content.firstChild.type.schema, r;
  try {
    r = JSON.parse(e3);
  } catch (e4) {
    return t;
  }
  let { content: o, openStart: i, openEnd: a } = t;
  for (let e4 = r.length - 2; 0 <= e4; e4 -= 2) {
    var s = n.nodes[r[e4]];
    if (!s || s.hasRequiredAttrs())
      break;
    o = Fragment2.from(s.create(r[e4 + 1], o)), i++, a++;
  }
  return new Slice(o, i, a);
}
var handlers = {};
var editHandlers = {};
var passiveHandlers = { touchstart: true, touchmove: true };
var InputState = class {
  constructor() {
    this.shiftKey = false, this.mouseDown = null, this.lastKeyCode = null, this.lastKeyCodeTime = 0, this.lastClick = { time: 0, x: 0, y: 0, type: "" }, this.lastSelectionOrigin = null, this.lastSelectionTime = 0, this.lastIOSEnter = 0, this.lastIOSEnterFallbackTimeout = -1, this.lastFocus = 0, this.lastTouch = 0, this.lastAndroidDelete = 0, this.composing = false, this.composingTimeout = -1, this.compositionNodes = [], this.compositionEndedAt = -2e8, this.compositionID = 1, this.compositionPendingChanges = 0, this.domChangeCount = 0, this.eventHandlers = /* @__PURE__ */ Object.create(null), this.hideSelectionGuard = null;
  }
};
function initInput(n) {
  for (var e3 in handlers) {
    let t = handlers[e3];
    n.dom.addEventListener(e3, n.input.eventHandlers[e3] = (e4) => {
      !eventBelongsToView(n, e4) || runCustomHandler(n, e4) || !n.editable && e4.type in editHandlers || t(n, e4);
    }, passiveHandlers[e3] ? { passive: true } : void 0);
  }
  safari && n.dom.addEventListener("input", () => null), ensureListeners(n);
}
function setSelectionOrigin(e3, t) {
  e3.input.lastSelectionOrigin = t, e3.input.lastSelectionTime = Date.now();
}
function destroyInput(e3) {
  for (var t in e3.domObserver.stop(), e3.input.eventHandlers)
    e3.dom.removeEventListener(t, e3.input.eventHandlers[t]);
  clearTimeout(e3.input.composingTimeout), clearTimeout(e3.input.lastIOSEnterFallbackTimeout);
}
function ensureListeners(n) {
  n.someProp("handleDOMEvents", (e3) => {
    for (var t in e3)
      n.input.eventHandlers[t] || n.dom.addEventListener(t, n.input.eventHandlers[t] = (e4) => runCustomHandler(n, e4));
  });
}
function runCustomHandler(t, n) {
  return t.someProp("handleDOMEvents", (e3) => {
    e3 = e3[n.type];
    return !!e3 && (e3(t, n) || n.defaultPrevented);
  });
}
function eventBelongsToView(t, n) {
  if (n.bubbles) {
    if (n.defaultPrevented)
      return false;
    for (let e3 = n.target; e3 != t.dom; e3 = e3.parentNode)
      if (!e3 || 11 == e3.nodeType || e3.pmViewDesc && e3.pmViewDesc.stopEvent(n))
        return false;
  }
  return true;
}
function dispatchEvent(e3, t) {
  runCustomHandler(e3, t) || !handlers[t.type] || !e3.editable && t.type in editHandlers || handlers[t.type](e3, t);
}
function eventCoords(e3) {
  return { left: e3.clientX, top: e3.clientY };
}
function isNear(e3, t) {
  var n = t.x - e3.clientX, t = t.y - e3.clientY;
  return n * n + t * t < 100;
}
function runHandlerOnContext(r, e3, o, t, i) {
  if (-1 != t) {
    let n = r.state.doc.resolve(t);
    for (let t2 = n.depth + 1; 0 < t2; t2--)
      if (r.someProp(e3, (e4) => t2 > n.depth ? e4(r, o, n.nodeAfter, n.before(t2), i, true) : e4(r, o, n.node(t2), n.before(t2), i, false)))
        return true;
  }
  return false;
}
function updateSelection(e3, t, n) {
  e3.focused || e3.focus();
  t = e3.state.tr.setSelection(t);
  "pointer" == n && t.setMeta("pointer", true), e3.dispatch(t);
}
function selectClickedLeaf(e3, t) {
  var n;
  return -1 != t && !!((n = (t = e3.state.doc.resolve(t)).nodeAfter) && n.isAtom && NodeSelection.isSelectable(n)) && (updateSelection(e3, new NodeSelection(t), "pointer"), true);
}
function selectClickedNode(e3, t) {
  if (-1 == t)
    return false;
  let n = e3.state.selection, r, o;
  n instanceof NodeSelection && (r = n.node);
  var i = e3.state.doc.resolve(t);
  for (let e4 = i.depth + 1; 0 < e4; e4--) {
    var a = e4 > i.depth ? i.nodeAfter : i.node(e4);
    if (NodeSelection.isSelectable(a)) {
      o = r && 0 < n.$from.depth && e4 >= n.$from.depth && i.before(n.$from.depth + 1) == n.$from.pos ? i.before(n.$from.depth) : i.before(e4);
      break;
    }
  }
  return null != o && (updateSelection(e3, NodeSelection.create(e3.state.doc, o), "pointer"), true);
}
function handleSingleClick(t, n, e3, r, o) {
  return runHandlerOnContext(t, "handleClickOn", n, e3, r) || t.someProp("handleClick", (e4) => e4(t, n, r)) || (o ? selectClickedNode : selectClickedLeaf)(t, e3);
}
function handleDoubleClick(t, n, e3, r) {
  return runHandlerOnContext(t, "handleDoubleClickOn", n, e3, r) || t.someProp("handleDoubleClick", (e4) => e4(t, n, r));
}
function handleTripleClick(t, n, e3, r) {
  return runHandlerOnContext(t, "handleTripleClickOn", n, e3, r) || t.someProp("handleTripleClick", (e4) => e4(t, n, r)) || defaultTripleClick(t, e3, r);
}
function defaultTripleClick(t, e3, n) {
  if (0 != n.button)
    return false;
  var r = t.state.doc;
  if (-1 == e3)
    return !!r.inlineContent && (updateSelection(t, TextSelection.create(r, 0, r.content.size), "pointer"), true);
  var o = r.resolve(e3);
  for (let e4 = o.depth + 1; 0 < e4; e4--) {
    var i = e4 > o.depth ? o.nodeAfter : o.node(e4), a = o.before(e4);
    if (i.inlineContent)
      updateSelection(t, TextSelection.create(r, a + 1, a + 1 + i.content.size), "pointer");
    else {
      if (!NodeSelection.isSelectable(i))
        continue;
      updateSelection(t, NodeSelection.create(r, a), "pointer");
    }
    return true;
  }
}
function forceDOMFlush(e3) {
  return endComposition(e3);
}
editHandlers.keydown = (t, e3) => {
  let n = e3;
  if (t.input.shiftKey = 16 == n.keyCode || n.shiftKey, !inOrNearComposition(t, n) && (t.input.lastKeyCode = n.keyCode, t.input.lastKeyCodeTime = Date.now(), !android || !chrome || 13 != n.keyCode))
    if (229 != n.keyCode && t.domObserver.forceFlush(), !ios || 13 != n.keyCode || n.ctrlKey || n.altKey || n.metaKey)
      t.someProp("handleKeyDown", (e4) => e4(t, n)) || captureKeyDown(t, n) ? n.preventDefault() : setSelectionOrigin(t, "key");
    else {
      let e4 = Date.now();
      t.input.lastIOSEnter = e4, t.input.lastIOSEnterFallbackTimeout = setTimeout(() => {
        t.input.lastIOSEnter == e4 && (t.someProp("handleKeyDown", (e5) => e5(t, keyEvent(13, "Enter"))), t.input.lastIOSEnter = 0);
      }, 200);
    }
}, editHandlers.keyup = (e3, t) => {
  16 == t.keyCode && (e3.input.shiftKey = false);
}, editHandlers.keypress = (r, e3) => {
  let o = e3;
  if (!(inOrNearComposition(r, o) || !o.charCode || o.ctrlKey && !o.altKey || mac && o.metaKey))
    if (r.someProp("handleKeyPress", (e4) => e4(r, o)))
      o.preventDefault();
    else {
      let n = r.state.selection;
      if (!(n instanceof TextSelection && n.$from.sameParent(n.$to))) {
        let t = String.fromCharCode(o.charCode);
        /[\r\n]/.test(t) || r.someProp("handleTextInput", (e4) => e4(r, n.$from.pos, n.$to.pos, t)) || r.dispatch(r.state.tr.insertText(t).scrollIntoView()), o.preventDefault();
      }
    }
};
var selectNodeModifier = mac ? "metaKey" : "ctrlKey";
handlers.mousedown = (e3, t) => {
  e3.input.shiftKey = t.shiftKey;
  var n = forceDOMFlush(e3);
  let r = Date.now(), o = "singleClick";
  r - e3.input.lastClick.time < 500 && isNear(t, e3.input.lastClick) && !t[selectNodeModifier] && ("singleClick" == e3.input.lastClick.type ? o = "doubleClick" : "doubleClick" == e3.input.lastClick.type && (o = "tripleClick")), e3.input.lastClick = { time: r, x: t.clientX, y: t.clientY, type: o };
  var i = e3.posAtCoords(eventCoords(t));
  i && ("singleClick" == o ? (e3.input.mouseDown && e3.input.mouseDown.done(), e3.input.mouseDown = new MouseDown(e3, i, t, !!n)) : ("doubleClick" == o ? handleDoubleClick : handleTripleClick)(e3, i.pos, i.inside, t) ? t.preventDefault() : setSelectionOrigin(e3, "pointer"));
};
var MouseDown = class {
  constructor(e3, t, n, r) {
    this.view = e3, this.pos = t, this.event = n, this.flushed = r, this.delayedSelectionSync = false, this.mightDrag = null, this.startDoc = e3.state.doc, this.selectNode = !!n[selectNodeModifier], this.allowDefault = n.shiftKey;
    let o, i;
    i = -1 < t.inside ? (o = e3.state.doc.nodeAt(t.inside), t.inside) : (t = e3.state.doc.resolve(t.pos), o = t.parent, t.depth ? t.before() : 0);
    t = r ? null : n.target, r = t ? e3.docView.nearestDesc(t, true) : null, this.target = r ? r.dom : null, t = e3.state.selection;
    (0 == n.button && o.type.spec.draggable && false !== o.type.spec.selectable || t instanceof NodeSelection && t.from <= i && t.to > i) && (this.mightDrag = { node: o, pos: i, addAttr: !(!this.target || this.target.draggable), setUneditable: !(!this.target || !gecko || this.target.hasAttribute("contentEditable")) }), this.target && this.mightDrag && (this.mightDrag.addAttr || this.mightDrag.setUneditable) && (this.view.domObserver.stop(), this.mightDrag.addAttr && (this.target.draggable = true), this.mightDrag.setUneditable && setTimeout(() => {
      this.view.input.mouseDown == this && this.target.setAttribute("contentEditable", "false");
    }, 20), this.view.domObserver.start()), e3.root.addEventListener("mouseup", this.up = this.up.bind(this)), e3.root.addEventListener("mousemove", this.move = this.move.bind(this)), setSelectionOrigin(e3, "pointer");
  }
  done() {
    this.view.root.removeEventListener("mouseup", this.up), this.view.root.removeEventListener("mousemove", this.move), this.mightDrag && this.target && (this.view.domObserver.stop(), this.mightDrag.addAttr && this.target.removeAttribute("draggable"), this.mightDrag.setUneditable && this.target.removeAttribute("contentEditable"), this.view.domObserver.start()), this.delayedSelectionSync && setTimeout(() => selectionToDOM(this.view)), this.view.input.mouseDown = null;
  }
  up(t) {
    if (this.done(), this.view.dom.contains(t.target)) {
      let e3 = this.pos;
      this.view.state.doc != this.startDoc && (e3 = this.view.posAtCoords(eventCoords(t))), this.updateAllowDefault(t), this.allowDefault || !e3 ? setSelectionOrigin(this.view, "pointer") : handleSingleClick(this.view, e3.pos, e3.inside, t, this.selectNode) ? t.preventDefault() : 0 == t.button && (this.flushed || safari && this.mightDrag && !this.mightDrag.node.isAtom || chrome && !this.view.state.selection.visible && Math.min(Math.abs(e3.pos - this.view.state.selection.from), Math.abs(e3.pos - this.view.state.selection.to)) <= 2) ? (updateSelection(this.view, Selection.near(this.view.state.doc.resolve(e3.pos)), "pointer"), t.preventDefault()) : setSelectionOrigin(this.view, "pointer");
    }
  }
  move(e3) {
    this.updateAllowDefault(e3), setSelectionOrigin(this.view, "pointer"), 0 == e3.buttons && this.done();
  }
  updateAllowDefault(e3) {
    !this.allowDefault && (4 < Math.abs(this.event.x - e3.clientX) || 4 < Math.abs(this.event.y - e3.clientY)) && (this.allowDefault = true);
  }
};
function inOrNearComposition(e3, t) {
  return !!e3.composing || !!(safari && Math.abs(t.timeStamp - e3.input.compositionEndedAt) < 500) && (e3.input.compositionEndedAt = -2e8, true);
}
handlers.touchstart = (e3) => {
  e3.input.lastTouch = Date.now(), forceDOMFlush(e3), setSelectionOrigin(e3, "pointer");
}, handlers.touchmove = (e3) => {
  e3.input.lastTouch = Date.now(), setSelectionOrigin(e3, "pointer");
}, handlers.contextmenu = (e3) => forceDOMFlush(e3);
var timeoutComposition = android ? 5e3 : -1;
function scheduleComposeEnd(e3, t) {
  clearTimeout(e3.input.composingTimeout), -1 < t && (e3.input.composingTimeout = setTimeout(() => endComposition(e3), t));
}
function clearComposition(e3) {
  for (e3.composing && (e3.input.composing = false, e3.input.compositionEndedAt = timestampFromCustomEvent()); 0 < e3.input.compositionNodes.length; )
    e3.input.compositionNodes.pop().markParentsDirty();
}
function timestampFromCustomEvent() {
  var e3 = document.createEvent("Event");
  return e3.initEvent("event", true, true), e3.timeStamp;
}
function endComposition(e3, t = false) {
  if (!(android && 0 <= e3.domObserver.flushingSoon))
    return e3.domObserver.forceFlush(), clearComposition(e3), !!(t || e3.docView && e3.docView.dirty) && ((t = selectionFromDOM(e3)) && !t.eq(e3.state.selection) ? e3.dispatch(e3.state.tr.setSelection(t)) : e3.updateState(e3.state), true);
}
function captureCopy(t, n) {
  if (t.dom.parentNode) {
    let e3 = t.dom.parentNode.appendChild(document.createElement("div"));
    e3.appendChild(n), e3.style.cssText = "position: fixed; left: -10000px; top: 10px";
    var r = getSelection(), o = document.createRange();
    o.selectNodeContents(n), t.dom.blur(), r.removeAllRanges(), r.addRange(o), setTimeout(() => {
      e3.parentNode && e3.parentNode.removeChild(e3), t.focus();
    }, 50);
  }
}
editHandlers.compositionstart = editHandlers.compositionupdate = (n) => {
  if (!n.composing) {
    n.domObserver.flush();
    var r = n["state"], e3 = r.selection.$from;
    if (r.selection.empty && (r.storedMarks || !e3.textOffset && e3.parentOffset && e3.nodeBefore.marks.some((e4) => false === e4.type.spec.inclusive)))
      n.markCursor = n.state.storedMarks || e3.marks(), endComposition(n, true), n.markCursor = null;
    else if (endComposition(n), gecko && r.selection.empty && e3.parentOffset && !e3.textOffset && e3.nodeBefore.marks.length) {
      r = n.domSelectionRange();
      for (let e4 = r.focusNode, t = r.focusOffset; e4 && 1 == e4.nodeType && 0 != t; ) {
        var o = t < 0 ? e4.lastChild : e4.childNodes[t - 1];
        if (!o)
          break;
        if (3 == o.nodeType) {
          n.domSelection().collapse(o, o.nodeValue.length);
          break;
        }
        e4 = o, t = -1;
      }
    }
    n.input.composing = true;
  }
  scheduleComposeEnd(n, timeoutComposition);
}, editHandlers.compositionend = (e3, t) => {
  e3.composing && (e3.input.composing = false, e3.input.compositionEndedAt = t.timeStamp, e3.input.compositionPendingChanges = e3.domObserver.pendingRecords().length ? e3.input.compositionID : 0, e3.input.compositionPendingChanges && Promise.resolve().then(() => e3.domObserver.flush()), e3.input.compositionID++, scheduleComposeEnd(e3, 20));
};
var brokenClipboardAPI = ie && ie_version < 15 || ios && webkit_version < 604;
function sliceSingleNode(e3) {
  return 0 == e3.openStart && 0 == e3.openEnd && 1 == e3.content.childCount ? e3.content.firstChild : null;
}
function capturePaste(r, o) {
  if (r.dom.parentNode) {
    let e3 = r.input.shiftKey || r.state.selection.$from.parent.type.spec.code, t = r.dom.parentNode.appendChild(document.createElement(e3 ? "textarea" : "div")), n = (e3 || (t.contentEditable = "true"), t.style.cssText = "position: fixed; left: -10000px; top: 10px", t.focus(), r.input.shiftKey && 45 != r.input.lastKeyCode);
    setTimeout(() => {
      r.focus(), t.parentNode && t.parentNode.removeChild(t), e3 ? doPaste(r, t.value, null, n, o) : doPaste(r, t.textContent, t.innerHTML, n, o);
    }, 50);
  }
}
function doPaste(t, e3, n, r, o) {
  let i = parseFromClipboard(t, e3, n, r, t.state.selection.$from);
  if (!t.someProp("handlePaste", (e4) => e4(t, o, i || Slice.empty))) {
    if (!i)
      return false;
    e3 = sliceSingleNode(i), n = e3 ? t.state.tr.replaceSelectionWith(e3, r) : t.state.tr.replaceSelection(i);
    t.dispatch(n.scrollIntoView().setMeta("paste", true).setMeta("uiEvent", "paste"));
  }
  return true;
}
handlers.copy = editHandlers.cut = (e3, t) => {
  var n, r, o = e3.state.selection, i = "cut" == t.type;
  o.empty || (n = brokenClipboardAPI ? null : t.clipboardData, { dom: o, text: r } = serializeForClipboard(e3, o.content()), n ? (t.preventDefault(), n.clearData(), n.setData("text/html", o.innerHTML), n.setData("text/plain", r)) : captureCopy(e3, o), i && e3.dispatch(e3.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent", "cut")));
}, editHandlers.paste = (e3, t) => {
  var n, r;
  e3.composing && !android || (n = brokenClipboardAPI ? null : t.clipboardData, r = e3.input.shiftKey && 45 != e3.input.lastKeyCode, n && doPaste(e3, n.getData("text/plain"), n.getData("text/html"), r, t) ? t.preventDefault() : capturePaste(e3, t));
};
var Dragging = class {
  constructor(e3, t) {
    this.slice = e3, this.move = t;
  }
};
var dragCopyModifier = mac ? "altKey" : "ctrlKey";
handlers.dragstart = (e3, t) => {
  var n, r, o = e3.input.mouseDown;
  o && o.done(), t.dataTransfer && ((r = (n = e3.state.selection).empty ? null : e3.posAtCoords(eventCoords(t))) && r.pos >= n.from && r.pos <= (n instanceof NodeSelection ? n.to - 1 : n.to) || (o && o.mightDrag ? e3.dispatch(e3.state.tr.setSelection(NodeSelection.create(e3.state.doc, o.mightDrag.pos))) : t.target && 1 == t.target.nodeType && (r = e3.docView.nearestDesc(t.target, true)) && r.node.type.spec.draggable && r != e3.docView && e3.dispatch(e3.state.tr.setSelection(NodeSelection.create(e3.state.doc, r.posBefore)))), n = e3.state.selection.content(), { dom: o, text: r } = serializeForClipboard(e3, n), t.dataTransfer.clearData(), t.dataTransfer.setData(brokenClipboardAPI ? "Text" : "text/html", o.innerHTML), t.dataTransfer.effectAllowed = "copyMove", brokenClipboardAPI || t.dataTransfer.setData("text/plain", r), e3.dragging = new Dragging(n, !t[dragCopyModifier]));
}, handlers.dragend = (e3) => {
  let t = e3.dragging;
  window.setTimeout(() => {
    e3.dragging == t && (e3.dragging = null);
  }, 50);
}, editHandlers.dragover = editHandlers.dragenter = (e3, t) => t.preventDefault(), editHandlers.drop = (r, i) => {
  let o = i;
  i = r.dragging;
  if (r.dragging = null, o.dataTransfer) {
    var a = r.posAtCoords(eventCoords(o));
    if (a) {
      a = r.state.doc.resolve(a.pos);
      let t = i && i.slice, n = (t ? r.someProp("transformPasted", (e3) => {
        t = e3(t, r);
      }) : t = parseFromClipboard(r, o.dataTransfer.getData(brokenClipboardAPI ? "Text" : "text/plain"), brokenClipboardAPI ? null : o.dataTransfer.getData("text/html"), false, a), !(!i || o[dragCopyModifier]));
      if (r.someProp("handleDrop", (e3) => e3(r, o, t || Slice.empty, n)))
        o.preventDefault();
      else if (t) {
        o.preventDefault();
        let e3 = t ? dropPoint(r.state.doc, a.pos, t) : a.pos;
        null == e3 && (e3 = a.pos);
        var i = r.state.tr, a = (n && i.deleteSelection(), i.mapping.map(e3)), s = 0 == t.openStart && 0 == t.openEnd && 1 == t.content.childCount, l = i.doc;
        if (s ? i.replaceRangeWith(a, a, t.content.firstChild) : i.replaceRange(a, a, t), !i.doc.eq(l)) {
          l = i.doc.resolve(a);
          if (s && NodeSelection.isSelectable(t.content.firstChild) && l.nodeAfter && l.nodeAfter.sameMarkup(t.content.firstChild))
            i.setSelection(new NodeSelection(l));
          else {
            let o2 = i.mapping.map(e3);
            i.mapping.maps[i.mapping.maps.length - 1].forEach((e4, t2, n2, r2) => o2 = r2), i.setSelection(selectionBetween(r, l, i.doc.resolve(o2)));
          }
          r.focus(), r.dispatch(i.setMeta("uiEvent", "drop"));
        }
      }
    }
  }
}, handlers.focus = (e3) => {
  e3.input.lastFocus = Date.now(), e3.focused || (e3.domObserver.stop(), e3.dom.classList.add("ProseMirror-focused"), e3.domObserver.start(), e3.focused = true, setTimeout(() => {
    e3.docView && e3.hasFocus() && !e3.domObserver.currentSelection.eq(e3.domSelectionRange()) && selectionToDOM(e3);
  }, 20));
}, handlers.blur = (e3, t) => {
  e3.focused && (e3.domObserver.stop(), e3.dom.classList.remove("ProseMirror-focused"), e3.domObserver.start(), t.relatedTarget && e3.dom.contains(t.relatedTarget) && e3.domObserver.currentSelection.clear(), e3.focused = false);
}, handlers.beforeinput = (n, e3) => {
  if (chrome && android && "deleteContentBackward" == e3.inputType) {
    n.domObserver.flushSoon();
    let t = n.input["domChangeCount"];
    setTimeout(() => {
      var e4;
      n.input.domChangeCount != t || (n.dom.blur(), n.focus(), n.someProp("handleKeyDown", (e5) => e5(n, keyEvent(8, "Backspace")))) || (e4 = n.state.selection["$cursor"], e4 && 0 < e4.pos && n.dispatch(n.state.tr.delete(e4.pos - 1, e4.pos).scrollIntoView()));
    }, 50);
  }
};
for (let e3 in editHandlers)
  handlers[e3] = editHandlers[e3];
function compareObjs(e3, t) {
  if (e3 != t) {
    for (var n in e3)
      if (e3[n] !== t[n])
        return false;
    for (var r in t)
      if (!(r in e3))
        return false;
  }
  return true;
}
var WidgetType = class _WidgetType {
  constructor(e3, t) {
    this.toDOM = e3, this.spec = t || noSpec, this.side = this.spec.side || 0;
  }
  map(e3, t, n, r) {
    var { pos: e3, deleted: t } = e3.mapResult(t.from + r, this.side < 0 ? -1 : 1);
    return t ? null : new Decoration(e3 - n, e3 - n, this);
  }
  valid() {
    return true;
  }
  eq(e3) {
    return this == e3 || e3 instanceof _WidgetType && (this.spec.key && this.spec.key == e3.spec.key || this.toDOM == e3.toDOM && compareObjs(this.spec, e3.spec));
  }
  destroy(e3) {
    this.spec.destroy && this.spec.destroy(e3);
  }
};
var InlineType = class _InlineType {
  constructor(e3, t) {
    this.attrs = e3, this.spec = t || noSpec;
  }
  map(e3, t, n, r) {
    var o = e3.map(t.from + r, this.spec.inclusiveStart ? -1 : 1) - n, e3 = e3.map(t.to + r, this.spec.inclusiveEnd ? 1 : -1) - n;
    return e3 <= o ? null : new Decoration(o, e3, this);
  }
  valid(e3, t) {
    return t.from < t.to;
  }
  eq(e3) {
    return this == e3 || e3 instanceof _InlineType && compareObjs(this.attrs, e3.attrs) && compareObjs(this.spec, e3.spec);
  }
  static is(e3) {
    return e3.type instanceof _InlineType;
  }
  destroy() {
  }
};
var NodeType = class _NodeType {
  constructor(e3, t) {
    this.attrs = e3, this.spec = t || noSpec;
  }
  map(e3, t, n, r) {
    var o = e3.mapResult(t.from + r, 1);
    return o.deleted || (e3 = e3.mapResult(t.to + r, -1)).deleted || e3.pos <= o.pos ? null : new Decoration(o.pos - n, e3.pos - n, this);
  }
  valid(e3, t) {
    let { index: n, offset: r } = e3.content.findIndex(t.from), o;
    return r == t.from && !(o = e3.child(n)).isText && r + o.nodeSize == t.to;
  }
  eq(e3) {
    return this == e3 || e3 instanceof _NodeType && compareObjs(this.attrs, e3.attrs) && compareObjs(this.spec, e3.spec);
  }
  destroy() {
  }
};
var Decoration = class _Decoration {
  constructor(e3, t, n) {
    this.from = e3, this.to = t, this.type = n;
  }
  copy(e3, t) {
    return new _Decoration(e3, t, this.type);
  }
  eq(e3, t = 0) {
    return this.type.eq(e3.type) && this.from + t == e3.from && this.to + t == e3.to;
  }
  map(e3, t, n) {
    return this.type.map(e3, this, t, n);
  }
  static widget(e3, t, n) {
    return new _Decoration(e3, e3, new WidgetType(t, n));
  }
  static inline(e3, t, n, r) {
    return new _Decoration(e3, t, new InlineType(n, r));
  }
  static node(e3, t, n, r) {
    return new _Decoration(e3, t, new NodeType(n, r));
  }
  get spec() {
    return this.type.spec;
  }
  get inline() {
    return this.type instanceof InlineType;
  }
};
var none = [];
var noSpec = {};
var DecorationSet = class _DecorationSet {
  constructor(e3, t) {
    this.local = e3.length ? e3 : none, this.children = t.length ? t : none;
  }
  static create(e3, t) {
    return t.length ? buildTree(t, e3, 0, noSpec) : empty;
  }
  find(e3, t, n) {
    var r = [];
    return this.findInner(null == e3 ? 0 : e3, null == t ? 1e9 : t, r, 0, n), r;
  }
  findInner(t, n, r, o, i) {
    for (let e3 = 0; e3 < this.local.length; e3++) {
      var a = this.local[e3];
      a.from <= n && a.to >= t && (!i || i(a.spec)) && r.push(a.copy(a.from + o, a.to + o));
    }
    for (let e3 = 0; e3 < this.children.length; e3 += 3) {
      var s;
      this.children[e3] < n && this.children[e3 + 1] > t && (s = this.children[e3] + 1, this.children[e3 + 2].findInner(t - s, n - s, r, o + s, i));
    }
  }
  map(e3, t, n) {
    return this == empty || 0 == e3.maps.length ? this : this.mapInner(e3, t, 0, 0, n || noSpec);
  }
  mapInner(t, n, r, o, i) {
    let a;
    for (let e3 = 0; e3 < this.local.length; e3++) {
      var s = this.local[e3].map(t, r, o);
      s && s.type.valid(n, s) ? (a = a || []).push(s) : i.onRemove && i.onRemove(this.local[e3].spec);
    }
    return this.children.length ? mapChildren(this.children, a || [], t, n, r, o, i) : a ? new _DecorationSet(a.sort(byPos), none) : empty;
  }
  add(e3, t) {
    return t.length ? this == empty ? _DecorationSet.create(e3, t) : this.addInner(e3, t, 0) : this;
  }
  addInner(t, o, i) {
    let a, s = 0;
    t.forEach((e3, t2) => {
      var n2, r = t2 + i;
      if (n2 = takeSpansForNode(o, e3, r)) {
        for (a = a || this.children.slice(); s < a.length && a[s] < t2; )
          s += 3;
        a[s] == t2 ? a[s + 2] = a[s + 2].addInner(e3, n2, r + 1) : a.splice(s, 0, t2, t2 + e3.nodeSize, buildTree(n2, e3, r + 1, noSpec)), s += 3;
      }
    });
    var n = moveSpans(s ? withoutNulls(o) : o, -i);
    for (let e3 = 0; e3 < n.length; e3++)
      n[e3].type.valid(t, n[e3]) || n.splice(e3--, 1);
    return new _DecorationSet(n.length ? this.local.concat(n).sort(byPos) : this.local, a || this.children);
  }
  remove(e3) {
    return 0 == e3.length || this == empty ? this : this.removeInner(e3, 0);
  }
  removeInner(r, o) {
    let t = this.children, n = this.local;
    for (let e3 = 0; e3 < t.length; e3 += 3) {
      let n2;
      var i, a = t[e3] + o, s = t[e3 + 1] + o;
      for (let e4 = 0, t2; e4 < r.length; e4++)
        (t2 = r[e4]) && t2.from > a && t2.to < s && (r[e4] = null, (n2 = n2 || []).push(t2));
      n2 && ((i = (t = t == this.children ? this.children.slice() : t)[e3 + 2].removeInner(n2, a + 1)) != empty ? t[e3 + 2] = i : (t.splice(e3, 3), e3 -= 3));
    }
    if (n.length) {
      for (let e3 = 0, t2; e3 < r.length; e3++)
        if (t2 = r[e3])
          for (let e4 = 0; e4 < n.length; e4++)
            n[e4].eq(t2, o) && (n = n == this.local ? this.local.slice() : n).splice(e4--, 1);
    }
    return t == this.children && n == this.local ? this : n.length || t.length ? new _DecorationSet(n, t) : empty;
  }
  forChild(t, e3) {
    if (this == empty)
      return this;
    if (e3.isLeaf)
      return _DecorationSet.empty;
    let n, r;
    for (let e4 = 0; e4 < this.children.length; e4 += 3)
      if (this.children[e4] >= t) {
        this.children[e4] == t && (n = this.children[e4 + 2]);
        break;
      }
    var o = t + 1, i = o + e3.content.size;
    for (let e4 = 0; e4 < this.local.length; e4++) {
      var a, s, l = this.local[e4];
      l.from < i && l.to > o && l.type instanceof InlineType && (a = Math.max(o, l.from) - o) < (s = Math.min(i, l.to) - o) && (r = r || []).push(l.copy(a, s));
    }
    return r ? (e3 = new _DecorationSet(r.sort(byPos), none), n ? new DecorationGroup([e3, n]) : e3) : n || empty;
  }
  eq(t) {
    if (this != t) {
      if (!(t instanceof _DecorationSet) || this.local.length != t.local.length || this.children.length != t.children.length)
        return false;
      for (let e3 = 0; e3 < this.local.length; e3++)
        if (!this.local[e3].eq(t.local[e3]))
          return false;
      for (let e3 = 0; e3 < this.children.length; e3 += 3)
        if (this.children[e3] != t.children[e3] || this.children[e3 + 1] != t.children[e3 + 1] || !this.children[e3 + 2].eq(t.children[e3 + 2]))
          return false;
    }
    return true;
  }
  locals(e3) {
    return removeOverlap(this.localsInner(e3));
  }
  localsInner(e3) {
    if (this == empty)
      return none;
    if (e3.inlineContent || !this.local.some(InlineType.is))
      return this.local;
    var t = [];
    for (let e4 = 0; e4 < this.local.length; e4++)
      this.local[e4].type instanceof InlineType || t.push(this.local[e4]);
    return t;
  }
};
DecorationSet.empty = new DecorationSet([], []), DecorationSet.removeOverlap = removeOverlap;
var empty = DecorationSet.empty;
var DecorationGroup = class _DecorationGroup {
  constructor(e3) {
    this.members = e3;
  }
  map(t, n) {
    var e3 = this.members.map((e4) => e4.map(t, n, noSpec));
    return _DecorationGroup.from(e3);
  }
  forChild(t, n) {
    if (n.isLeaf)
      return DecorationSet.empty;
    let r = [];
    for (let e3 = 0; e3 < this.members.length; e3++) {
      var o = this.members[e3].forChild(t, n);
      o != empty && (o instanceof _DecorationGroup ? r = r.concat(o.members) : r.push(o));
    }
    return _DecorationGroup.from(r);
  }
  eq(t) {
    if (!(t instanceof _DecorationGroup) || t.members.length != this.members.length)
      return false;
    for (let e3 = 0; e3 < this.members.length; e3++)
      if (!this.members[e3].eq(t.members[e3]))
        return false;
    return true;
  }
  locals(t) {
    let n, r = true;
    for (let e3 = 0; e3 < this.members.length; e3++) {
      var o = this.members[e3].localsInner(t);
      if (o.length)
        if (n) {
          r && (n = n.slice(), r = false);
          for (let e4 = 0; e4 < o.length; e4++)
            n.push(o[e4]);
        } else
          n = o;
    }
    return n ? removeOverlap(r ? n : n.sort(byPos)) : none;
  }
  static from(e3) {
    switch (e3.length) {
      case 0:
        return empty;
      case 1:
        return e3[0];
      default:
        return new _DecorationGroup(e3.every((e4) => e4 instanceof DecorationSet) ? e3 : e3.reduce((e4, t) => e4.concat(t instanceof DecorationSet ? t : t.members), []));
    }
  }
};
function mapChildren(t, e3, n, r, l, o, i) {
  let c = t.slice();
  for (let e4 = 0, s2 = o; e4 < n.maps.length; e4++) {
    let a2 = 0;
    n.maps[e4].forEach((t2, n2, r2, e5) => {
      var o2 = e5 - r2 - (n2 - t2);
      for (let e6 = 0; e6 < c.length; e6 += 3) {
        var i2 = c[e6 + 1];
        i2 < 0 || t2 > i2 + s2 - a2 || ((i2 = c[e6] + s2 - a2) <= n2 ? c[e6 + 1] = t2 <= i2 ? -2 : -1 : l <= r2 && o2 && (c[e6] += o2, c[e6 + 1] += o2));
      }
      a2 += o2;
    }), s2 = n.maps[e4].map(s2, -1);
  }
  let a = false;
  for (let e4 = 0; e4 < c.length; e4 += 3)
    if (c[e4 + 1] < 0) {
      if (-2 == c[e4 + 1]) {
        a = true, c[e4 + 1] = -1;
        continue;
      }
      var s = n.map(t[e4] + o), u = s - l;
      if (u < 0 || u >= r.content.size) {
        a = true;
        continue;
      }
      var d = n.map(t[e4 + 1] + o, -1) - l, { index: p, offset: f } = r.content.findIndex(u), p = r.maybeChild(p);
      p && f == u && f + p.nodeSize == d ? (f = c[e4 + 2].mapInner(n, p, s + 1, t[e4] + o + 1, i)) != empty ? (c[e4] = u, c[e4 + 1] = d, c[e4 + 2] = f) : (c[e4 + 1] = -2, a = true) : a = true;
    }
  if (a) {
    var h = buildTree(mapAndGatherRemainingDecorations(c, t, e3, n, l, o, i), r, 0, i);
    e3 = h.local;
    for (let e4 = 0; e4 < c.length; e4 += 3)
      c[e4 + 1] < 0 && (c.splice(e4, 3), e4 -= 3);
    for (let e4 = 0, t2 = 0; e4 < h.children.length; e4 += 3) {
      for (var m = h.children[e4]; t2 < c.length && c[t2] < m; )
        t2 += 3;
      c.splice(t2, 0, h.children[e4], h.children[e4 + 1], h.children[e4 + 2]);
    }
  }
  return new DecorationSet(e3.sort(byPos), c);
}
function moveSpans(t, n) {
  if (!n || !t.length)
    return t;
  var r = [];
  for (let e3 = 0; e3 < t.length; e3++) {
    var o = t[e3];
    r.push(new Decoration(o.from + n, o.to + n, o.type));
  }
  return r;
}
function mapAndGatherRemainingDecorations(t, n, i, a, s, r, l) {
  for (let e3 = 0; e3 < t.length; e3 += 3)
    -1 == t[e3 + 1] && !function t2(n2, r2) {
      for (let e4 = 0; e4 < n2.local.length; e4++) {
        var o = n2.local[e4].map(a, s, r2);
        o ? i.push(o) : l.onRemove && l.onRemove(n2.local[e4].spec);
      }
      for (let e4 = 0; e4 < n2.children.length; e4 += 3)
        t2(n2.children[e4 + 2], n2.children[e4] + r2 + 1);
    }(t[e3 + 2], n[e3] + r + 1);
  return i;
}
function takeSpansForNode(n, e3, r) {
  if (e3.isLeaf)
    return null;
  let o = r + e3.nodeSize, i = null;
  for (let e4 = 0, t; e4 < n.length; e4++)
    (t = n[e4]) && t.from > r && t.to < o && ((i = i || []).push(t), n[e4] = null);
  return i;
}
function withoutNulls(t) {
  var n = [];
  for (let e3 = 0; e3 < t.length; e3++)
    null != t[e3] && n.push(t[e3]);
  return n;
}
function buildTree(r, t, o, i) {
  let a = [], s = false;
  t.forEach((e3, t2) => {
    var n2 = takeSpansForNode(r, e3, t2 + o);
    n2 && (s = true, (n2 = buildTree(n2, e3, o + t2 + 1, i)) != empty) && a.push(t2, t2 + e3.nodeSize, n2);
  });
  var n = moveSpans(s ? withoutNulls(r) : r, -o).sort(byPos);
  for (let e3 = 0; e3 < n.length; e3++)
    n[e3].type.valid(t, n[e3]) || (i.onRemove && i.onRemove(n[e3].spec), n.splice(e3--, 1));
  return n.length || a.length ? new DecorationSet(n, a) : empty;
}
function byPos(e3, t) {
  return e3.from - t.from || e3.to - t.to;
}
function removeOverlap(n) {
  let r = n;
  for (let t = 0; t < r.length - 1; t++) {
    var o = r[t];
    if (o.from != o.to)
      for (let e3 = t + 1; e3 < r.length; e3++) {
        var i = r[e3];
        if (i.from != o.from) {
          i.from < o.to && ((r = r == n ? n.slice() : r)[t] = o.copy(o.from, i.from), insertAhead(r, e3, o.copy(i.from, o.to)));
          break;
        }
        i.to != o.to && ((r = r == n ? n.slice() : r)[e3] = i.copy(i.from, o.to), insertAhead(r, e3 + 1, i.copy(o.to, i.to)));
      }
  }
  return r;
}
function insertAhead(e3, t, n) {
  for (; t < e3.length && 0 < byPos(n, e3[t]); )
    t++;
  e3.splice(t, 0, n);
}
function viewDecorations(t) {
  let n = [];
  return t.someProp("decorations", (e3) => {
    e3 = e3(t.state);
    e3 && e3 != empty && n.push(e3);
  }), t.cursorWrapper && n.push(DecorationSet.create(t.state.doc, [t.cursorWrapper.deco])), DecorationGroup.from(n);
}
var observeOptions = { childList: true, characterData: true, characterDataOldValue: true, attributes: true, attributeOldValue: true, subtree: true };
var useCharData = ie && ie_version <= 11;
var SelectionState = class {
  constructor() {
    this.anchorNode = null, this.anchorOffset = 0, this.focusNode = null, this.focusOffset = 0;
  }
  set(e3) {
    this.anchorNode = e3.anchorNode, this.anchorOffset = e3.anchorOffset, this.focusNode = e3.focusNode, this.focusOffset = e3.focusOffset;
  }
  clear() {
    this.anchorNode = this.focusNode = null;
  }
  eq(e3) {
    return e3.anchorNode == this.anchorNode && e3.anchorOffset == this.anchorOffset && e3.focusNode == this.focusNode && e3.focusOffset == this.focusOffset;
  }
};
var DOMObserver = class {
  constructor(e3, t) {
    this.view = e3, this.handleDOMChange = t, this.queue = [], this.flushingSoon = -1, this.observer = null, this.currentSelection = new SelectionState(), this.onCharData = null, this.suppressingSelectionUpdates = false, this.observer = window.MutationObserver && new window.MutationObserver((t2) => {
      for (let e4 = 0; e4 < t2.length; e4++)
        this.queue.push(t2[e4]);
      ie && ie_version <= 11 && t2.some((e4) => "childList" == e4.type && e4.removedNodes.length || "characterData" == e4.type && e4.oldValue.length > e4.target.nodeValue.length) ? this.flushSoon() : this.flush();
    }), useCharData && (this.onCharData = (e4) => {
      this.queue.push({ target: e4.target, type: "characterData", oldValue: e4.prevValue }), this.flushSoon();
    }), this.onSelectionChange = this.onSelectionChange.bind(this);
  }
  flushSoon() {
    this.flushingSoon < 0 && (this.flushingSoon = window.setTimeout(() => {
      this.flushingSoon = -1, this.flush();
    }, 20));
  }
  forceFlush() {
    -1 < this.flushingSoon && (window.clearTimeout(this.flushingSoon), this.flushingSoon = -1, this.flush());
  }
  start() {
    this.observer && (this.observer.takeRecords(), this.observer.observe(this.view.dom, observeOptions)), this.onCharData && this.view.dom.addEventListener("DOMCharacterDataModified", this.onCharData), this.connectSelection();
  }
  stop() {
    if (this.observer) {
      var t = this.observer.takeRecords();
      if (t.length) {
        for (let e3 = 0; e3 < t.length; e3++)
          this.queue.push(t[e3]);
        window.setTimeout(() => this.flush(), 20);
      }
      this.observer.disconnect();
    }
    this.onCharData && this.view.dom.removeEventListener("DOMCharacterDataModified", this.onCharData), this.disconnectSelection();
  }
  connectSelection() {
    this.view.dom.ownerDocument.addEventListener("selectionchange", this.onSelectionChange);
  }
  disconnectSelection() {
    this.view.dom.ownerDocument.removeEventListener("selectionchange", this.onSelectionChange);
  }
  suppressSelectionUpdates() {
    this.suppressingSelectionUpdates = true, setTimeout(() => this.suppressingSelectionUpdates = false, 50);
  }
  onSelectionChange() {
    if (hasFocusAndSelection(this.view)) {
      if (this.suppressingSelectionUpdates)
        return selectionToDOM(this.view);
      if (ie && ie_version <= 11 && !this.view.state.selection.empty) {
        var e3 = this.view.domSelectionRange();
        if (e3.focusNode && isEquivalentPosition(e3.focusNode, e3.focusOffset, e3.anchorNode, e3.anchorOffset))
          return this.flushSoon();
      }
      this.flush();
    }
  }
  setCurSelection() {
    this.currentSelection.set(this.view.domSelectionRange());
  }
  ignoreSelectionChange(t) {
    if (!t.focusNode)
      return true;
    let n = /* @__PURE__ */ new Set(), r;
    for (let e3 = t.focusNode; e3; e3 = parentNode(e3))
      n.add(e3);
    for (let e3 = t.anchorNode; e3; e3 = parentNode(e3))
      if (n.has(e3)) {
        r = e3;
        break;
      }
    t = r && this.view.docView.nearestDesc(r);
    return t && t.ignoreMutation({ type: "selection", target: 3 == r.nodeType ? r.parentNode : r }) ? (this.setCurSelection(), true) : void 0;
  }
  pendingRecords() {
    if (this.observer)
      for (var e3 of this.observer.takeRecords())
        this.queue.push(e3);
    return this.queue;
  }
  flush() {
    var i = this["view"];
    if (i.docView && !(-1 < this.flushingSoon)) {
      var a, s, l = this.pendingRecords(), c = (l.length && (this.queue = []), i.domSelectionRange()), u = !this.suppressingSelectionUpdates && !this.currentSelection.eq(c) && hasFocusAndSelection(i) && !this.ignoreSelectionChange(c);
      let t = -1, n = -1, r = false, o = [];
      if (i.editable)
        for (let e4 = 0; e4 < l.length; e4++) {
          var d = this.registerMutation(l[e4], o);
          d && (t = t < 0 ? d.from : Math.min(d.from, t), n = n < 0 ? d.to : Math.max(d.to, n), d.typeOver) && (r = true);
        }
      gecko && 1 < o.length && 2 == (s = o.filter((e4) => "BR" == e4.nodeName)).length && (a = s[0], s = s[1], (a.parentNode && a.parentNode.parentNode == s.parentNode ? s : a).remove());
      let e3 = null;
      t < 0 && u && i.input.lastFocus > Date.now() - 200 && Math.max(i.input.lastTouch, i.input.lastClick.time) < Date.now() - 300 && selectionCollapsed(c) && (e3 = selectionFromDOM(i)) && e3.eq(Selection.near(i.state.doc.resolve(0), 1)) ? (i.input.lastFocus = 0, selectionToDOM(i), this.currentSelection.set(c), i.scrollToSelection()) : (-1 < t || u) && (-1 < t && (i.docView.markDirty(t, n), checkCSS(i)), this.handleDOMChange(t, n, r, o), i.docView && i.docView.dirty ? i.updateState(i.state) : this.currentSelection.eq(c) || selectionToDOM(i), this.currentSelection.set(c));
    }
  }
  registerMutation(r, o) {
    if (-1 < o.indexOf(r.target))
      return null;
    var e3 = this.view.docView.nearestDesc(r.target);
    if ("attributes" == r.type && (e3 == this.view.docView || "contenteditable" == r.attributeName || "style" == r.attributeName && !r.oldValue && !r.target.getAttribute("style")))
      return null;
    if (!e3 || e3.ignoreMutation(r))
      return null;
    if ("childList" != r.type)
      return "attributes" == r.type ? { from: e3.posAtStart - e3.border, to: e3.posAtEnd + e3.border } : { from: e3.posAtStart, to: e3.posAtEnd, typeOver: r.target.nodeValue == r.oldValue };
    {
      for (let e4 = 0; e4 < r.addedNodes.length; e4++)
        o.push(r.addedNodes[e4]);
      if (e3.contentDOM && e3.contentDOM != e3.dom && !e3.contentDOM.contains(r.target))
        return { from: e3.posBefore, to: e3.posAfter };
      let t = r.previousSibling, n = r.nextSibling;
      if (ie && ie_version <= 11 && r.addedNodes.length)
        for (let e4 = 0; e4 < r.addedNodes.length; e4++) {
          var { previousSibling: i, nextSibling: a } = r.addedNodes[e4];
          (!i || Array.prototype.indexOf.call(r.addedNodes, i) < 0) && (t = i), (!a || Array.prototype.indexOf.call(r.addedNodes, a) < 0) && (n = a);
        }
      var s = t && t.parentNode == r.target ? domIndex(t) + 1 : 0, s = e3.localPosFromDOM(r.target, s, -1), l = n && n.parentNode == r.target ? domIndex(n) : r.target.childNodes.length;
      return { from: s, to: e3.localPosFromDOM(r.target, l, 1) };
    }
  }
};
var cssChecked = /* @__PURE__ */ new WeakMap();
var cssCheckWarned = false;
function checkCSS(e3) {
  cssChecked.has(e3) || (cssChecked.set(e3, null), -1 !== ["normal", "nowrap", "pre-line"].indexOf(getComputedStyle(e3.dom).whiteSpace) && (e3.requiresGeckoHackNode = gecko, cssCheckWarned || (console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."), cssCheckWarned = true)));
}
function safariShadowSelectionRange(e3) {
  let t;
  function n(e4) {
    e4.preventDefault(), e4.stopImmediatePropagation(), t = e4.getTargetRanges()[0];
  }
  e3.dom.addEventListener("beforeinput", n, true), document.execCommand("indent"), e3.dom.removeEventListener("beforeinput", n, true);
  let r = t.startContainer, o = t.startOffset, i = t.endContainer, a = t.endOffset;
  e3 = e3.domAtPos(e3.state.selection.anchor);
  return isEquivalentPosition(e3.node, e3.offset, i, a) && ([r, o, i, a] = [i, a, r, o]), { anchorNode: r, anchorOffset: o, focusNode: i, focusOffset: a };
}
function parseBetween(e3, t, n) {
  let { node: r, fromOffset: o, toOffset: i, from: a, to: s } = e3.docView.parseRange(t, n);
  t = e3.domSelectionRange();
  let l;
  n = t.anchorNode;
  if (n && e3.dom.contains(1 == n.nodeType ? n : n.parentNode) && (l = [{ node: n, offset: t.anchorOffset }], selectionCollapsed(t) || l.push({ node: t.focusNode, offset: t.focusOffset })), chrome && 8 === e3.input.lastKeyCode)
    for (let e4 = i; e4 > o; e4--) {
      var c = r.childNodes[e4 - 1], u = c.pmViewDesc;
      if ("BR" == c.nodeName && !u) {
        i = e4;
        break;
      }
      if (!u || u.size)
        break;
    }
  n = e3.state.doc, t = e3.someProp("domParser") || DOMParser$1.fromSchema(e3.state.schema), e3 = n.resolve(a);
  let d = null, p = t.parse(r, { topNode: e3.parent, topMatch: e3.parent.contentMatchAt(e3.index()), topOpen: true, from: o, to: i, preserveWhitespace: "pre" != e3.parent.type.whitespace || "full", findPositions: l, ruleFromNode, context: e3 });
  if (l && null != l[0].pos) {
    let e4 = l[0].pos, t2 = l[1] && l[1].pos;
    null == t2 && (t2 = e4), d = { anchor: e4 + a, head: t2 + a };
  }
  return { doc: p, sel: d, from: a, to: s };
}
function ruleFromNode(e3) {
  var t = e3.pmViewDesc;
  if (t)
    return t.parseRule();
  if ("BR" == e3.nodeName && e3.parentNode) {
    if (safari && /^(ul|ol)$/i.test(e3.parentNode.nodeName))
      return (t = document.createElement("div")).appendChild(document.createElement("li")), { skip: t };
    if (e3.parentNode.lastChild == e3 || safari && /^(tr|table)$/i.test(e3.parentNode.nodeName))
      return { ignore: true };
  } else if ("IMG" == e3.nodeName && e3.getAttribute("mark-placeholder"))
    return { ignore: true };
  return null;
}
var isInline = /^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;
function readDOMChange(s, l, c, u, d) {
  var p = s.input.compositionPendingChanges || (s.composing ? s.input.compositionID : 0);
  if (l < (s.input.compositionPendingChanges = 0)) {
    var f = s.input.lastSelectionTime > Date.now() - 50 ? s.input.lastSelectionOrigin : null, h = selectionFromDOM(s, f);
    if (h && !s.state.selection.eq(h)) {
      if (chrome && android && 13 === s.input.lastKeyCode && Date.now() - 100 < s.input.lastKeyCodeTime && s.someProp("handleKeyDown", (e3) => e3(s, keyEvent(13, "Enter"))))
        return;
      h = s.state.tr.setSelection(h);
      "pointer" == f ? h.setMeta("pointer", true) : "key" == f && h.scrollIntoView(), p && h.setMeta("composition", p), s.dispatch(h);
    }
  } else {
    var f = s.state.doc.resolve(l), h = f.sharedDepth(c), f = (l = f.before(h + 1), c = s.state.doc.resolve(c).after(h + 1), s.state.selection), h = parseBetween(s, l, c), l = s.state.doc, c = l.slice(h.from, h.to);
    let e3, t, a = (t = 8 === s.input.lastKeyCode && Date.now() - 100 < s.input.lastKeyCodeTime ? (e3 = s.state.selection.to, "end") : (e3 = s.state.selection.from, "start"), s.input.lastKeyCode = null, findDiff(c.content, h.doc.content, h.from, e3, t));
    if ((ios && s.input.lastIOSEnter > Date.now() - 225 || android) && d.some((e4) => 1 == e4.nodeType && !isInline.test(e4.nodeName)) && (!a || a.endA >= a.endB) && s.someProp("handleKeyDown", (e4) => e4(s, keyEvent(13, "Enter"))))
      s.input.lastIOSEnter = 0;
    else {
      if (!a) {
        if (!(u && f instanceof TextSelection && !f.empty && f.$head.sameParent(f.$anchor)) || s.composing || h.sel && h.sel.anchor != h.sel.head)
          return void (h.sel && (c = resolveSelection(s, s.state.doc, h.sel)) && !c.eq(s.state.selection) && (u = s.state.tr.setSelection(c), p && u.setMeta("composition", p), s.dispatch(u)));
        a = { start: f.from, endA: f.to, endB: f.to };
      }
      chrome && s.cursorWrapper && h.sel && h.sel.anchor == s.cursorWrapper.deco.from && h.sel.head == h.sel.anchor && (c = a.endB - a.start, h.sel = { anchor: h.sel.anchor + c, head: h.sel.anchor + c }), s.input.domChangeCount++, s.state.selection.from < s.state.selection.to && a.start == a.endB && s.state.selection instanceof TextSelection && (a.start > s.state.selection.from && a.start <= s.state.selection.from + 2 && s.state.selection.from >= h.from ? a.start = s.state.selection.from : a.endA < s.state.selection.to && a.endA >= s.state.selection.to - 2 && s.state.selection.to <= h.to && (a.endB += s.state.selection.to - a.endA, a.endA = s.state.selection.to)), ie && ie_version <= 11 && a.endB == a.start + 1 && a.endA == a.start && a.start > h.from && "  " == h.doc.textBetween(a.start - h.from - 1, a.start - h.from + 1) && (a.start--, a.endA--, a.endB--);
      u = h.doc.resolveNoCache(a.start - h.from);
      let i = h.doc.resolveNoCache(a.endB - h.from);
      f = l.resolve(a.start), c = u.sameParent(i) && u.parent.inlineContent && f.end() >= a.endA;
      let e4;
      if ((ios && s.input.lastIOSEnter > Date.now() - 225 && (!c || d.some((e5) => "DIV" == e5.nodeName || "P" == e5.nodeName)) || !c && u.pos < h.doc.content.size && !u.sameParent(i) && (e4 = Selection.findFrom(h.doc.resolve(u.pos + 1), 1, true)) && e4.head == i.pos) && s.someProp("handleKeyDown", (e5) => e5(s, keyEvent(13, "Enter"))))
        s.input.lastIOSEnter = 0;
      else if (s.state.selection.anchor > a.start && looksLikeJoin(l, a.start, a.endA, u, i) && s.someProp("handleKeyDown", (e5) => e5(s, keyEvent(8, "Backspace"))))
        android && chrome && s.domObserver.suppressSelectionUpdates();
      else {
        chrome && android && a.endB == a.start && (s.input.lastAndroidDelete = Date.now()), android && !c && u.start() != i.start() && 0 == i.parentOffset && u.depth == i.depth && h.sel && h.sel.anchor == h.sel.head && h.sel.head == a.endA && (a.endB -= 2, i = h.doc.resolveNoCache(a.endB - h.from), setTimeout(() => {
          s.someProp("handleKeyDown", function(e6) {
            return e6(s, keyEvent(13, "Enter"));
          });
        }, 20));
        let n = a.start, r = a.endA, e5, t2, o;
        if (c) {
          if (u.pos == i.pos)
            ie && ie_version <= 11 && 0 == u.parentOffset && (s.domObserver.suppressSelectionUpdates(), setTimeout(() => selectionToDOM(s), 20)), e5 = s.state.tr.delete(n, r), t2 = l.resolve(a.start).marksAcross(l.resolve(a.endA));
          else if (a.endA == a.endB && (o = isMarkChange(u.parent.content.cut(u.parentOffset, i.parentOffset), f.parent.content.cut(f.parentOffset, a.endA - f.start()))))
            e5 = s.state.tr, "add" == o.type ? e5.addMark(n, r, o.mark) : e5.removeMark(n, r, o.mark);
          else if (u.parent.child(u.index()).isText && u.index() == i.index() - (i.textOffset ? 0 : 1)) {
            let t3 = u.parent.textBetween(u.parentOffset, i.parentOffset);
            if (s.someProp("handleTextInput", (e6) => e6(s, n, r, t3)))
              return;
            e5 = s.state.tr.insertText(t3, n, r);
          }
        }
        e5 = e5 || s.state.tr.replace(n, r, h.doc.slice(a.start - h.from, a.endB - h.from)), h.sel && (d = resolveSelection(s, e5.doc, h.sel)) && !(chrome && android && s.composing && d.empty && (a.start != a.endB || s.input.lastAndroidDelete < Date.now() - 100) && (d.head == n || d.head == e5.mapping.map(r) - 1) || ie && d.empty && d.head == n) && e5.setSelection(d), t2 && e5.ensureMarks(t2), p && e5.setMeta("composition", p), s.dispatch(e5.scrollIntoView());
      }
    }
  }
}
function resolveSelection(e3, t, n) {
  return Math.max(n.anchor, n.head) > t.content.size ? null : selectionBetween(e3, t.resolve(n.anchor), t.resolve(n.head));
}
function isMarkChange(e3, t) {
  var n = e3.firstChild.marks, r = t.firstChild.marks;
  let o = n, i = r, a, s, l;
  for (let e4 = 0; e4 < r.length; e4++)
    o = r[e4].removeFromSet(o);
  for (let e4 = 0; e4 < n.length; e4++)
    i = n[e4].removeFromSet(i);
  if (1 == o.length && 0 == i.length)
    s = o[0], a = "add", l = (e4) => e4.mark(s.addToSet(e4.marks));
  else {
    if (0 != o.length || 1 != i.length)
      return null;
    s = i[0], a = "remove", l = (e4) => e4.mark(s.removeFromSet(e4.marks));
  }
  var c = [];
  for (let e4 = 0; e4 < t.childCount; e4++)
    c.push(l(t.child(e4)));
  if (Fragment2.from(c).eq(e3))
    return { mark: s, type: a };
}
function looksLikeJoin(e3, t, n, r, o) {
  var i;
  return !(!r.parent.isTextblock || n - t <= o.pos - r.pos || skipClosingAndOpening(r, true, false) < o.pos || (o = e3.resolve(t)).parentOffset < o.parent.content.size || !o.parent.isTextblock || !(i = e3.resolve(skipClosingAndOpening(o, true, true))).parent.isTextblock || i.pos > n || skipClosingAndOpening(i, true, false) < n) && r.parent.content.cut(r.parentOffset).eq(i.parent.content);
}
function skipClosingAndOpening(t, e3, n) {
  let r = t.depth, o = e3 ? t.end() : t.pos;
  for (; 0 < r && (e3 || t.indexAfter(r) == t.node(r).childCount); )
    r--, o++, e3 = false;
  if (n) {
    let e4 = t.node(r).maybeChild(t.indexAfter(r));
    for (; e4 && !e4.isLeaf; )
      e4 = e4.firstChild, o++;
  }
  return o;
}
function findDiff(e3, t, n, r, o) {
  let i = e3.findDiffStart(t, n);
  if (null == i)
    return null;
  let { a, b: s } = e3.findDiffEnd(t, n + e3.size, n + t.size);
  return "end" == o && (n = Math.max(0, i - Math.min(a, s)), r -= a + n - i), a < i && e3.size < t.size ? (o = r <= i && r >= a ? i - r : 0, i -= o, s = i + (s - a), a = i) : s < i && (n = r <= i && r >= s ? i - r : 0, i -= n, a = i + (a - s), s = i), { start: i, endA: a, endB: s };
}
var EditorView = class {
  constructor(e3, t) {
    this._root = null, this.focused = false, this.trackWrites = null, this.mounted = false, this.markCursor = null, this.cursorWrapper = null, this.lastSelectedViewDesc = void 0, this.input = new InputState(), this.prevDirectPlugins = [], this.pluginViews = [], this.requiresGeckoHackNode = false, this.dragging = null, this._props = t, this.state = t.state, this.directPlugins = t.plugins || [], this.directPlugins.forEach(checkStateComponent), this.dispatch = this.dispatch.bind(this), this.dom = e3 && e3.mount || document.createElement("div"), e3 && (e3.appendChild ? e3.appendChild(this.dom) : "function" == typeof e3 ? e3(this.dom) : e3.mount && (this.mounted = true)), this.editable = getEditable(this), updateCursorWrapper(this), this.nodeViews = buildNodeViews(this), this.docView = docViewDesc(this.state.doc, computeDocDeco(this), viewDecorations(this), this.dom, this), this.domObserver = new DOMObserver(this, (e4, t2, n, r) => readDOMChange(this, e4, t2, n, r)), this.domObserver.start(), initInput(this), this.updatePluginViews();
  }
  get composing() {
    return this.input.composing;
  }
  get props() {
    if (this._props.state != this.state) {
      var e3, t = this._props;
      for (e3 in this._props = {}, t)
        this._props[e3] = t[e3];
      this._props.state = this.state;
    }
    return this._props;
  }
  update(e3) {
    e3.handleDOMEvents != this._props.handleDOMEvents && ensureListeners(this);
    var t = this._props;
    (this._props = e3).plugins && (e3.plugins.forEach(checkStateComponent), this.directPlugins = e3.plugins), this.updateStateInner(e3.state, t);
  }
  setProps(e3) {
    var t, n, r = {};
    for (t in this._props)
      r[t] = this._props[t];
    for (n in r.state = this.state, e3)
      r[n] = e3[n];
    this.update(r);
  }
  updateState(e3) {
    this.updateStateInner(e3, this._props);
  }
  updateStateInner(t, e3) {
    let n = this.state, r = false, o = false;
    t.storedMarks && this.composing && (clearComposition(this), o = true), this.state = t;
    var i = n.plugins != t.plugins || this._props.plugins != e3.plugins, a = ((i || this._props.plugins != e3.plugins || this._props.nodeViews != e3.nodeViews) && changedNodeViews(a = buildNodeViews(this), this.nodeViews) && (this.nodeViews = a, r = true), !i && e3.handleDOMEvents == this._props.handleDOMEvents || ensureListeners(this), this.editable = getEditable(this), updateCursorWrapper(this), viewDecorations(this)), i = computeDocDeco(this), e3 = n.plugins == t.plugins || n.doc.eq(t.doc) ? t.scrollToSelection > n.scrollToSelection ? "to selection" : "preserve" : "reset", s = r || !this.docView.matchesNode(t.doc, i, a), l = (!s && t.selection.eq(n.selection) || (o = true), "preserve" == e3 && o && null == this.dom.style.overflowAnchor && storeScrollPos(this));
    if (o) {
      this.domObserver.stop();
      let e4 = s && (ie || chrome) && !this.composing && !n.selection.empty && !t.selection.empty && selectionContextChanged(n.selection, t.selection);
      (e4 = s && (s = chrome ? this.trackWrites = this.domSelectionRange().focusNode : null, !r && this.docView.update(t.doc, i, a, this) || (this.docView.updateOuterDeco([]), this.docView.destroy(), this.docView = docViewDesc(t.doc, i, a, this.dom, this)), s) && !this.trackWrites ? true : e4) || !(this.input.mouseDown && this.domObserver.currentSelection.eq(this.domSelectionRange()) && anchorInRightPlace(this)) ? selectionToDOM(this, e4) : (syncNodeSelection(this, t.selection), this.domObserver.setCurSelection()), this.domObserver.start();
    }
    this.updatePluginViews(n), "reset" == e3 ? this.dom.scrollTop = 0 : "to selection" == e3 ? this.scrollToSelection() : l && resetScrollPos(l);
  }
  scrollToSelection() {
    var e3, t = this.domSelectionRange().focusNode;
    this.someProp("handleScrollToSelection", (e4) => e4(this)) || (this.state.selection instanceof NodeSelection ? 1 == (e3 = this.docView.domAfterPos(this.state.selection.from)).nodeType && scrollRectIntoView(this, e3.getBoundingClientRect(), t) : scrollRectIntoView(this, this.coordsAtPos(this.state.selection.head, 1), t));
  }
  destroyPluginViews() {
    for (var e3; e3 = this.pluginViews.pop(); )
      e3.destroy && e3.destroy();
  }
  updatePluginViews(t) {
    if (t && t.plugins == this.state.plugins && this.directPlugins == this.prevDirectPlugins)
      for (let e3 = 0; e3 < this.pluginViews.length; e3++) {
        var n = this.pluginViews[e3];
        n.update && n.update(this, t);
      }
    else {
      this.prevDirectPlugins = this.directPlugins, this.destroyPluginViews();
      for (let e3 = 0; e3 < this.directPlugins.length; e3++) {
        var r = this.directPlugins[e3];
        r.spec.view && this.pluginViews.push(r.spec.view(this));
      }
      for (let e3 = 0; e3 < this.state.plugins.length; e3++) {
        var o = this.state.plugins[e3];
        o.spec.view && this.pluginViews.push(o.spec.view(this));
      }
    }
  }
  someProp(t, n) {
    let e3 = this._props && this._props[t], r;
    if (null != e3 && (r = n ? n(e3) : e3))
      return r;
    for (let e4 = 0; e4 < this.directPlugins.length; e4++) {
      var o = this.directPlugins[e4].props[t];
      if (null != o && (r = n ? n(o) : o))
        return r;
    }
    var i = this.state.plugins;
    if (i)
      for (let e4 = 0; e4 < i.length; e4++) {
        var a = i[e4].props[t];
        if (null != a && (r = n ? n(a) : a))
          return r;
      }
  }
  hasFocus() {
    if (ie) {
      let e3 = this.root.activeElement;
      if (e3 != this.dom) {
        if (!e3 || !this.dom.contains(e3))
          return false;
        for (; e3 && this.dom != e3 && this.dom.contains(e3); ) {
          if ("false" == e3.contentEditable)
            return false;
          e3 = e3.parentElement;
        }
      }
      return true;
    }
    return this.root.activeElement == this.dom;
  }
  focus() {
    this.domObserver.stop(), this.editable && focusPreventScroll(this.dom), selectionToDOM(this), this.domObserver.start();
  }
  get root() {
    var e3 = this._root;
    if (null == e3) {
      for (let e4 = this.dom.parentNode; e4; e4 = e4.parentNode)
        if (9 == e4.nodeType || 11 == e4.nodeType && e4.host)
          return e4.getSelection || (Object.getPrototypeOf(e4).getSelection = () => e4.ownerDocument.getSelection()), this._root = e4;
    }
    return e3 || document;
  }
  posAtCoords(e3) {
    return posAtCoords(this, e3);
  }
  coordsAtPos(e3, t = 1) {
    return coordsAtPos(this, e3, t);
  }
  domAtPos(e3, t = 0) {
    return this.docView.domFromPos(e3, t);
  }
  nodeDOM(e3) {
    e3 = this.docView.descAt(e3);
    return e3 ? e3.nodeDOM : null;
  }
  posAtDOM(e3, t, n = -1) {
    e3 = this.docView.posFromDOM(e3, t, n);
    if (null == e3)
      throw new RangeError("DOM position not inside the editor");
    return e3;
  }
  endOfTextblock(e3, t) {
    return endOfTextblock(this, t || this.state, e3);
  }
  pasteHTML(e3, t) {
    return doPaste(this, "", e3, false, t || new ClipboardEvent("paste"));
  }
  pasteText(e3, t) {
    return doPaste(this, e3, null, true, t || new ClipboardEvent("paste"));
  }
  destroy() {
    this.docView && (destroyInput(this), this.destroyPluginViews(), this.mounted ? (this.docView.update(this.state.doc, [], viewDecorations(this), this), this.dom.textContent = "") : this.dom.parentNode && this.dom.parentNode.removeChild(this.dom), this.docView.destroy(), this.docView = null);
  }
  get isDestroyed() {
    return null == this.docView;
  }
  dispatchEvent(e3) {
    return dispatchEvent(this, e3);
  }
  dispatch(e3) {
    var t = this._props.dispatchTransaction;
    t ? t.call(this, e3) : this.updateState(this.state.apply(e3));
  }
  domSelectionRange() {
    return safari && 11 === this.root.nodeType && deepActiveElement(this.dom.ownerDocument) == this.dom ? safariShadowSelectionRange(this) : this.domSelection();
  }
  domSelection() {
    return this.root.getSelection();
  }
};
function computeDocDeco(n) {
  let r = /* @__PURE__ */ Object.create(null);
  return r.class = "ProseMirror", r.contenteditable = String(n.editable), n.someProp("attributes", (e3) => {
    if (e3 = "function" == typeof e3 ? e3(n.state) : e3)
      for (var t in e3)
        "class" == t ? r.class += " " + e3[t] : "style" == t ? r.style = (r.style ? r.style + ";" : "") + e3[t] : r[t] || "contenteditable" == t || "nodeName" == t || (r[t] = String(e3[t]));
  }), r.translate || (r.translate = "no"), [Decoration.node(0, n.state.doc.content.size, r)];
}
function updateCursorWrapper(e3) {
  var t;
  e3.markCursor ? ((t = document.createElement("img")).className = "ProseMirror-separator", t.setAttribute("mark-placeholder", "true"), t.setAttribute("alt", ""), e3.cursorWrapper = { dom: t, deco: Decoration.widget(e3.state.selection.head, t, { raw: true, marks: e3.markCursor }) }) : e3.cursorWrapper = null;
}
function getEditable(t) {
  return !t.someProp("editable", (e3) => false === e3(t.state));
}
function selectionContextChanged(e3, t) {
  var n = Math.min(e3.$anchor.sharedDepth(e3.head), t.$anchor.sharedDepth(t.head));
  return e3.$anchor.start(n) != t.$anchor.start(n);
}
function buildNodeViews(e3) {
  let n = /* @__PURE__ */ Object.create(null);
  function t(e4) {
    for (var t2 in e4)
      Object.prototype.hasOwnProperty.call(n, t2) || (n[t2] = e4[t2]);
  }
  return e3.someProp("nodeViews", t), e3.someProp("markViews", t), n;
}
function changedNodeViews(e3, t) {
  let n = 0, r = 0;
  for (var o in e3) {
    if (e3[o] != t[o])
      return true;
    n++;
  }
  for (var i in t)
    r++;
  return n != r;
}
function checkStateComponent(e3) {
  if (e3.spec.state || e3.spec.filterTransaction || e3.spec.appendTransaction)
    throw new RangeError("Plugins passed directly to the view must not have a state component");
}
var GapCursor = class _GapCursor extends Selection {
  constructor(e3) {
    super(e3, e3);
  }
  map(e3, t) {
    e3 = e3.resolve(t.map(this.head));
    return _GapCursor.valid(e3) ? new _GapCursor(e3) : Selection.near(e3);
  }
  content() {
    return Slice.empty;
  }
  eq(e3) {
    return e3 instanceof _GapCursor && e3.head == this.head;
  }
  toJSON() {
    return { type: "gapcursor", pos: this.head };
  }
  static fromJSON(e3, t) {
    if ("number" != typeof t.pos)
      throw new RangeError("Invalid input for GapCursor.fromJSON");
    return new _GapCursor(e3.resolve(t.pos));
  }
  getBookmark() {
    return new GapBookmark(this.anchor);
  }
  static valid(e3) {
    var t, n = e3.parent;
    return !(n.isTextblock || !closedBefore(e3) || !closedAfter(e3)) && (null != (t = n.type.spec.allowGapCursor) ? t : (t = n.contentMatchAt(e3.index()).defaultType) && t.isTextblock);
  }
  static findGapCursorFrom(r, o, e3 = false) {
    e:
      for (; ; ) {
        if (!e3 && _GapCursor.valid(r))
          return r;
        let t = r.pos, n = null;
        for (let e4 = r.depth; ; e4--) {
          var i = r.node(e4);
          if (0 < o ? r.indexAfter(e4) < i.childCount : 0 < r.index(e4)) {
            n = i.child(0 < o ? r.indexAfter(e4) : r.index(e4) - 1);
            break;
          }
          if (0 == e4)
            return null;
          t += o;
          i = r.doc.resolve(t);
          if (_GapCursor.valid(i))
            return i;
        }
        for (; ; ) {
          var a = 0 < o ? n.firstChild : n.lastChild;
          if (!a) {
            if (!n.isAtom || n.isText || NodeSelection.isSelectable(n))
              break;
            r = r.doc.resolve(t + n.nodeSize * o), e3 = false;
            continue e;
          }
          n = a, t += o;
          a = r.doc.resolve(t);
          if (_GapCursor.valid(a))
            return a;
        }
        return null;
      }
  }
};
GapCursor.prototype.visible = false, GapCursor.findFrom = GapCursor.findGapCursorFrom, Selection.jsonID("gapcursor", GapCursor);
var GapBookmark = class _GapBookmark {
  constructor(e3) {
    this.pos = e3;
  }
  map(e3) {
    return new _GapBookmark(e3.map(this.pos));
  }
  resolve(e3) {
    e3 = e3.resolve(this.pos);
    return GapCursor.valid(e3) ? new GapCursor(e3) : Selection.near(e3);
  }
};
function closedBefore(t) {
  for (let e3 = t.depth; 0 <= e3; e3--) {
    var n = t.index(e3), r = t.node(e3);
    if (0 == n) {
      if (r.type.spec.isolating)
        return true;
    } else
      for (let e4 = r.child(n - 1); ; e4 = e4.lastChild) {
        if (0 == e4.childCount && !e4.inlineContent || e4.isAtom || e4.type.spec.isolating)
          return true;
        if (e4.inlineContent)
          return false;
      }
  }
  return true;
}
function closedAfter(t) {
  for (let e3 = t.depth; 0 <= e3; e3--) {
    var n = t.indexAfter(e3), r = t.node(e3);
    if (n == r.childCount) {
      if (r.type.spec.isolating)
        return true;
    } else
      for (let e4 = r.child(n); ; e4 = e4.firstChild) {
        if (0 == e4.childCount && !e4.inlineContent || e4.isAtom || e4.type.spec.isolating)
          return true;
        if (e4.inlineContent)
          return false;
      }
  }
  return true;
}
function gapCursor() {
  return new Plugin({ props: { decorations: drawGapCursor, createSelectionBetween(e3, t, n) {
    return t.pos == n.pos && GapCursor.valid(n) ? new GapCursor(n) : null;
  }, handleClick, handleKeyDown, handleDOMEvents: { beforeinput } } });
}
var handleKeyDown = keydownHandler$1({ ArrowLeft: arrow("horiz", -1), ArrowRight: arrow("horiz", 1), ArrowUp: arrow("vert", -1), ArrowDown: arrow("vert", 1) });
function arrow(e3, a) {
  const s = "vert" == e3 ? 0 < a ? "down" : "up" : 0 < a ? "right" : "left";
  return function(e4, t, n) {
    var r = e4.selection;
    let o = 0 < a ? r.$to : r.$from, i = r.empty;
    if (r instanceof TextSelection) {
      if (!n.endOfTextblock(s) || 0 == o.depth)
        return false;
      i = false, o = e4.doc.resolve(0 < a ? o.after() : o.before());
    }
    r = GapCursor.findGapCursorFrom(o, a, i);
    return !!r && (t && t(e4.tr.setSelection(new GapCursor(r))), true);
  };
}
function handleClick(e3, t, n) {
  return !(!e3 || !e3.editable || (t = e3.state.doc.resolve(t), !GapCursor.valid(t)) || (n = e3.posAtCoords({ left: n.clientX, top: n.clientY })) && -1 < n.inside && NodeSelection.isSelectable(e3.state.doc.nodeAt(n.inside)) || (e3.dispatch(e3.state.tr.setSelection(new GapCursor(t))), 0));
}
function beforeinput(e3, n) {
  if ("insertCompositionText" == n.inputType && e3.state.selection instanceof GapCursor) {
    var n = e3.state.selection["$from"], r = n.parent.contentMatchAt(n.index()).findWrapping(e3.state.schema.nodes.text);
    if (r) {
      let t = Fragment2.empty;
      for (let e4 = r.length - 1; 0 <= e4; e4--)
        t = Fragment2.from(r[e4].createAndFill(null, t));
      var o = e3.state.tr.replace(n.pos, n.pos, new Slice(t, 0, 0));
      o.setSelection(TextSelection.near(o.doc.resolve(n.pos + 1))), e3.dispatch(o);
    }
  }
  return false;
}
function drawGapCursor(e3) {
  var t;
  return e3.selection instanceof GapCursor ? ((t = document.createElement("div")).className = "ProseMirror-gapcursor", DecorationSet.create(e3.doc, [Decoration.widget(e3.selection.head, t, { key: "gapcursor" })])) : null;
}
var GOOD_LEAF_SIZE = 200;
var RopeSequence = function() {
};
var Leaf = (RopeSequence.prototype.append = function(e3) {
  return e3.length ? (e3 = RopeSequence.from(e3), !this.length && e3 || e3.length < GOOD_LEAF_SIZE && this.leafAppend(e3) || this.length < GOOD_LEAF_SIZE && e3.leafPrepend(this) || this.appendInner(e3)) : this;
}, RopeSequence.prototype.prepend = function(e3) {
  return e3.length ? RopeSequence.from(e3).append(this) : this;
}, RopeSequence.prototype.appendInner = function(e3) {
  return new Append(this, e3);
}, RopeSequence.prototype.slice = function(e3, t) {
  return (t = void 0 === t ? this.length : t) <= (e3 = void 0 === e3 ? 0 : e3) ? RopeSequence.empty : this.sliceInner(Math.max(0, e3), Math.min(this.length, t));
}, RopeSequence.prototype.get = function(e3) {
  if (!(e3 < 0 || e3 >= this.length))
    return this.getInner(e3);
}, RopeSequence.prototype.forEach = function(e3, t, n) {
  (t = void 0 === t ? 0 : t) <= (n = void 0 === n ? this.length : n) ? this.forEachInner(e3, t, n, 0) : this.forEachInvertedInner(e3, t, n, 0);
}, RopeSequence.prototype.map = function(n, e3, t) {
  void 0 === t && (t = this.length);
  var r = [];
  return this.forEach(function(e4, t2) {
    return r.push(n(e4, t2));
  }, e3 = void 0 === e3 ? 0 : e3, t), r;
}, RopeSequence.from = function(e3) {
  return e3 instanceof RopeSequence ? e3 : e3 && e3.length ? new Leaf(e3) : RopeSequence.empty;
}, function(t) {
  function n(e4) {
    t.call(this), this.values = e4;
  }
  t && (n.__proto__ = t);
  var e3 = { length: { configurable: true }, depth: { configurable: true } };
  return ((n.prototype = Object.create(t && t.prototype)).constructor = n).prototype.flatten = function() {
    return this.values;
  }, n.prototype.sliceInner = function(e4, t2) {
    return 0 == e4 && t2 == this.length ? this : new n(this.values.slice(e4, t2));
  }, n.prototype.getInner = function(e4) {
    return this.values[e4];
  }, n.prototype.forEachInner = function(e4, t2, n2, r) {
    for (var o = t2; o < n2; o++)
      if (false === e4(this.values[o], r + o))
        return false;
  }, n.prototype.forEachInvertedInner = function(e4, t2, n2, r) {
    for (var o = t2 - 1; n2 <= o; o--)
      if (false === e4(this.values[o], r + o))
        return false;
  }, n.prototype.leafAppend = function(e4) {
    if (this.length + e4.length <= GOOD_LEAF_SIZE)
      return new n(this.values.concat(e4.flatten()));
  }, n.prototype.leafPrepend = function(e4) {
    if (this.length + e4.length <= GOOD_LEAF_SIZE)
      return new n(e4.flatten().concat(this.values));
  }, e3.length.get = function() {
    return this.values.length;
  }, e3.depth.get = function() {
    return 0;
  }, Object.defineProperties(n.prototype, e3), n;
}(RopeSequence));
var Append = (RopeSequence.empty = new Leaf([]), function(n) {
  function t(e3, t2) {
    n.call(this), this.left = e3, this.right = t2, this.length = e3.length + t2.length, this.depth = Math.max(e3.depth, t2.depth) + 1;
  }
  return n && (t.__proto__ = n), ((t.prototype = Object.create(n && n.prototype)).constructor = t).prototype.flatten = function() {
    return this.left.flatten().concat(this.right.flatten());
  }, t.prototype.getInner = function(e3) {
    return e3 < this.left.length ? this.left.get(e3) : this.right.get(e3 - this.left.length);
  }, t.prototype.forEachInner = function(e3, t2, n2, r) {
    var o = this.left.length;
    return !(t2 < o && false === this.left.forEachInner(e3, t2, Math.min(n2, o), r) || o < n2 && false === this.right.forEachInner(e3, Math.max(t2 - o, 0), Math.min(this.length, n2) - o, r + o)) && void 0;
  }, t.prototype.forEachInvertedInner = function(e3, t2, n2, r) {
    var o = this.left.length;
    return !(o < t2 && false === this.right.forEachInvertedInner(e3, t2 - o, Math.max(n2, o) - o, r + o) || n2 < o && false === this.left.forEachInvertedInner(e3, Math.min(t2, o), n2, r)) && void 0;
  }, t.prototype.sliceInner = function(e3, t2) {
    var n2;
    return 0 == e3 && t2 == this.length ? this : t2 <= (n2 = this.left.length) ? this.left.slice(e3, t2) : n2 <= e3 ? this.right.slice(e3 - n2, t2 - n2) : this.left.slice(e3, n2).append(this.right.slice(0, t2 - n2));
  }, t.prototype.leafAppend = function(e3) {
    e3 = this.right.leafAppend(e3);
    if (e3)
      return new t(this.left, e3);
  }, t.prototype.leafPrepend = function(e3) {
    e3 = this.left.leafPrepend(e3);
    if (e3)
      return new t(e3, this.right);
  }, t.prototype.appendInner = function(e3) {
    return this.left.depth >= Math.max(this.right.depth, e3.depth) + 1 ? new t(this.left, new t(this.right, e3)) : new t(this, e3);
  }, t;
}(RopeSequence));
var max_empty_items = 500;
var Branch = class _Branch {
  constructor(e3, t) {
    this.items = e3, this.eventCount = t;
  }
  popEvent(e3, t) {
    if (0 == this.eventCount)
      return null;
    let r = this.items.length;
    for (; ; r--)
      if (this.items.get(r - 1).selection) {
        --r;
        break;
      }
    let o, i, a = (t && (o = this.remapping(r, this.items.length), i = o.maps.length), e3.tr), s, l, c = [], u = [];
    return this.items.forEach((n, e4) => {
      if (n.step) {
        if (o) {
          u.push(new Item(n.map));
          let e5 = n.step.map(o.slice(i)), t2;
          e5 && a.maybeStep(e5).doc && (t2 = a.mapping.maps[a.mapping.maps.length - 1], c.push(new Item(t2, void 0, void 0, c.length + u.length))), i--, t2 && o.appendMap(t2, i);
        } else
          a.maybeStep(n.step);
        return n.selection ? (s = o ? n.selection.map(o.slice(i)) : n.selection, l = new _Branch(this.items.slice(0, r).append(u.reverse().concat(c)), this.eventCount - 1), false) : void 0;
      }
      o || (o = this.remapping(r, e4 + 1), i = o.maps.length), i--, u.push(n);
    }, this.items.length, 0), { remaining: l, transform: a, selection: s };
  }
  addTransform(r, o, e3, i) {
    let a = [], s = this.eventCount, l = this.items, c = !i && l.length ? l.get(l.length - 1) : null;
    for (let n = 0; n < r.steps.length; n++) {
      var u = r.steps[n].invert(r.docs[n]);
      let e4 = new Item(r.mapping.maps[n], u, o), t;
      (t = c && c.merge(e4)) && (e4 = t, n ? a.pop() : l = l.slice(0, l.length - 1)), a.push(e4), o && (s++, o = void 0), i || (c = e4);
    }
    e3 = s - e3.depth;
    return e3 > DEPTH_OVERFLOW && (l = cutOffEvents(l, e3), s -= e3), new _Branch(l.append(a), s);
  }
  remapping(n, e3) {
    let r = new Mapping();
    return this.items.forEach((e4, t) => {
      t = null != e4.mirrorOffset && t - e4.mirrorOffset >= n ? r.maps.length - e4.mirrorOffset : void 0;
      r.appendMap(e4.map, t);
    }, n, e3), r;
  }
  addMaps(e3) {
    return 0 == this.eventCount ? this : new _Branch(this.items.append(e3.map((e4) => new Item(e4))), this.eventCount);
  }
  rebased(o, t) {
    if (!this.eventCount)
      return this;
    let i = [], e3 = Math.max(0, this.items.length - t), a = o.mapping, s = o.steps.length, l = this.eventCount, c = (this.items.forEach((e4) => {
      e4.selection && l--;
    }, e3), t);
    this.items.forEach((e4) => {
      var t2, n2, r2 = a.getMirror(--c);
      null != r2 && (s = Math.min(s, r2), t2 = a.maps[r2], e4.step ? (n2 = o.steps[r2].invert(o.docs[r2]), (e4 = e4.selection && e4.selection.map(a.slice(c + 1, r2))) && l++, i.push(new Item(t2, n2, e4))) : i.push(new Item(t2)));
    }, e3);
    var n = [];
    for (let e4 = t; e4 < s; e4++)
      n.push(new Item(a.maps[e4]));
    t = this.items.slice(0, e3).append(n).append(i);
    let r = new _Branch(t, l);
    return r = r.emptyItemCount() > max_empty_items ? r.compress(this.items.length - i.length) : r;
  }
  emptyItemCount() {
    let t = 0;
    return this.items.forEach((e3) => {
      e3.step || t++;
    }), t;
  }
  compress(o = this.items.length) {
    let i = this.remapping(0, o), a = i.maps.length, s = [], l = 0;
    return this.items.forEach((e3, t) => {
      var n, r;
      o <= t ? (s.push(e3), e3.selection && l++) : e3.step ? (n = (t = e3.step.map(i.slice(a))) && t.getMap(), a--, n && i.appendMap(n, a), t && ((r = e3.selection && e3.selection.map(i.slice(a))) && l++, n = new Item(n.invert(), t, r), t = s.length - 1, (r = s.length && s[t].merge(n)) ? s[t] = r : s.push(n))) : e3.map && a--;
    }, this.items.length, 0), new _Branch(RopeSequence.from(s.reverse()), l);
  }
};
function cutOffEvents(e3, n) {
  let r;
  return e3.forEach((e4, t) => {
    if (e4.selection && 0 == n--)
      return r = t, false;
  }), e3.slice(r);
}
Branch.empty = new Branch(RopeSequence.empty, 0);
var Item = class _Item {
  constructor(e3, t, n, r) {
    this.map = e3, this.step = t, this.selection = n, this.mirrorOffset = r;
  }
  merge(e3) {
    if (this.step && e3.step && !e3.selection) {
      e3 = e3.step.merge(this.step);
      if (e3)
        return new _Item(e3.getMap().invert(), e3, this.selection);
    }
  }
};
var HistoryState = class {
  constructor(e3, t, n, r, o) {
    this.done = e3, this.undone = t, this.prevRanges = n, this.prevTime = r, this.prevComposition = o;
  }
};
var DEPTH_OVERFLOW = 20;
function applyTransaction(e3, t, n, r) {
  var o = n.getMeta(historyKey);
  if (o)
    return o.historyState;
  n.getMeta(closeHistoryKey) && (e3 = new HistoryState(e3.done, e3.undone, null, 0, -1));
  var i, a, o = n.getMeta("appendedTransaction");
  return 0 == n.steps.length ? e3 : o && o.getMeta(historyKey) ? o.getMeta(historyKey).redo ? new HistoryState(e3.done.addTransform(n, void 0, r, mustPreserveItems(t)), e3.undone, rangesFor(n.mapping.maps[n.steps.length - 1]), e3.prevTime, e3.prevComposition) : new HistoryState(e3.done, e3.undone.addTransform(n, void 0, r, mustPreserveItems(t)), null, e3.prevTime, e3.prevComposition) : false === n.getMeta("addToHistory") || o && false === o.getMeta("addToHistory") ? (i = n.getMeta("rebased")) ? new HistoryState(e3.done.rebased(n, i), e3.undone.rebased(n, i), mapRanges(e3.prevRanges, n.mapping), e3.prevTime, e3.prevComposition) : new HistoryState(e3.done.addMaps(n.mapping.maps), e3.undone.addMaps(n.mapping.maps), mapRanges(e3.prevRanges, n.mapping), e3.prevTime, e3.prevComposition) : (i = n.getMeta("composition"), a = 0 == e3.prevTime || !o && e3.prevComposition != i && (e3.prevTime < (n.time || 0) - r.newGroupDelay || !isAdjacentTo(n, e3.prevRanges)), o = o ? mapRanges(e3.prevRanges, n.mapping) : rangesFor(n.mapping.maps[n.steps.length - 1]), new HistoryState(e3.done.addTransform(n, a ? t.selection.getBookmark() : void 0, r, mustPreserveItems(t)), Branch.empty, o, n.time, null == i ? e3.prevComposition : i));
}
function isAdjacentTo(e3, r) {
  if (!r)
    return false;
  if (!e3.docChanged)
    return true;
  let o = false;
  return e3.mapping.maps[0].forEach((t, n) => {
    for (let e4 = 0; e4 < r.length; e4 += 2)
      t <= r[e4 + 1] && n >= r[e4] && (o = true);
  }), o;
}
function rangesFor(e3) {
  let o = [];
  return e3.forEach((e4, t, n, r) => o.push(n, r)), o;
}
function mapRanges(t, n) {
  if (!t)
    return null;
  var r = [];
  for (let e3 = 0; e3 < t.length; e3 += 2) {
    var o = n.map(t[e3], 1), i = n.map(t[e3 + 1], -1);
    o <= i && r.push(o, i);
  }
  return r;
}
function histTransaction(e3, t, n, r) {
  var o, i = mustPreserveItems(t), a = historyKey.get(t).spec.config, s = (r ? e3.undone : e3.done).popEvent(t, i);
  s && (o = s.selection.resolve(s.transform.doc), e3 = (r ? e3.done : e3.undone).addTransform(s.transform, t.selection.getBookmark(), a, i), t = new HistoryState(r ? e3 : s.remaining, r ? s.remaining : e3, null, 0, -1), n(s.transform.setSelection(o).setMeta(historyKey, { redo: r, historyState: t }).scrollIntoView()));
}
var cachedPreserveItems = false;
var cachedPreserveItemsPlugins = null;
function mustPreserveItems(e3) {
  var t = e3.plugins;
  if (cachedPreserveItemsPlugins != t) {
    cachedPreserveItems = false, cachedPreserveItemsPlugins = t;
    for (let e4 = 0; e4 < t.length; e4++)
      if (t[e4].spec.historyPreserveItems) {
        cachedPreserveItems = true;
        break;
      }
  }
  return cachedPreserveItems;
}
var historyKey = new PluginKey("history");
var closeHistoryKey = new PluginKey("closeHistory");
function history(r = {}) {
  return r = { depth: r.depth || 100, newGroupDelay: r.newGroupDelay || 500 }, new Plugin({ key: historyKey, state: { init() {
    return new HistoryState(Branch.empty, Branch.empty, null, 0, -1);
  }, apply(e3, t, n) {
    return applyTransaction(t, n, e3, r);
  } }, config: r, props: { handleDOMEvents: { beforeinput(e3, t) {
    var n = t.inputType, n = "historyUndo" == n ? undo : "historyRedo" == n ? redo : null;
    return !!n && (t.preventDefault(), n(e3.state, e3.dispatch));
  } } } });
}
var undo = (e3, t) => {
  var n = historyKey.getState(e3);
  return !(!n || 0 == n.done.eventCount || (t && histTransaction(n, e3, t, false), 0));
};
var redo = (e3, t) => {
  var n = historyKey.getState(e3);
  return !(!n || 0 == n.undone.eventCount || (t && histTransaction(n, e3, t, true), 0));
};
var ParagraphSpec = { attrs: { textAlign: { default: null }, color: { default: null }, fontFamily: { default: null }, fontSize: { default: null }, lineHeight: { default: null }, letterSpacing: { default: null }, textTransform: { default: null }, marginLeft: { default: null }, indent: { default: null }, listType: { default: "" } }, content: "inline*", group: "block", parseDOM: [{ tag: "p", getAttrs: (e3) => getAttrs$1(e3) }], toDOM: (e3) => toDOM(e3) };
var getAttrs$1 = (e3) => {
  var { lineHeight: t, letterSpacing: n, textTransform: r, textAlign: o, fontFamily: i, fontSize: a, color: s } = e3.style, l = e3.getAttribute("data-indent"), l = l ? parseInt(l, 10) : 0, e3 = l && "ordered" === e3.getAttribute("data-list-type") ? "ordered" : "";
  return { textAlign: o, textTransform: r, lineHeight: t, letterSpacing: parseInt(n, 10), fontFamily: i.replaceAll('"', ""), fontSize: a, color: s, indent: l, listType: e3 };
};
var toDOM = (e3) => {
  var { textAlign: e3, textTransform: t, lineHeight: n, letterSpacing: r, fontFamily: o, fontSize: i, color: a, indent: s, listType: l } = e3.attrs, c = {};
  let u = "";
  return e3 && "left" !== e3 && (u += `text-align: ${e3};`), o && (u += `font-family: ${o};`), t && (u += `text-transform: ${t};`), i && (u += `font-size: ${i};`), a && (u += `color: ${a};`), s && (u = u + `--indent-level: ${s};display: list-item;`, c["data-indent"] = String(s), "ordered" === (c["data-list-type"] = l) ? (e3 = ["decimal", "lower-alpha", "lower-roman"], u = (u += "list-style-type: none;") + `--counter-list-marker: ${e3[(s - 1) % e3.length]};`) : u += "list-style-type: disc;"), (u = u + `line-height: ${n || 1.4};letter-spacing: ${r}em;`) && (c.style = u), ["p", c, 0];
};
var ItalicSpec = { parseDOM: [{ tag: "i" }, { tag: "em" }, { style: "font-style=italic" }], toDOM() {
  return ["em", 0];
} };
var BoldSpec = { parseDOM: [{ tag: "strong" }, { tag: "b", getAttrs: (e3) => "normal" != e3.style.fontWeight && null }, { style: "font-weight", getAttrs: (e3) => /^(bold(er)?|[5-9]\d{2,})$/.test(e3) && null }], toDOM() {
  return ["strong", 0];
} };
var TextUnderlineSpec = { parseDOM: [{ tag: "u" }, { style: "text-decoration-line", getAttrs: (e3) => "underline" === e3 && null }, { style: "text-decoration", getAttrs: (e3) => "underline" === e3 && null }], toDOM() {
  return ["u", 0];
} };
var ListItemSpec = { content: "paragraph block*", parseDOM: [{ tag: "li" }], attrs: { align: { default: null }, style: { default: "display: list-item; " } }, toDOM(e3) {
  return ["li", e3.attrs, 0];
}, defining: true };
var BulletListSpec = { content: "listItem+", group: "block", attrs: { align: { default: null }, style: { default: "list-style-type: disc;padding-left: 1.7em;margin:0;" } }, parseDOM: [{ tag: "ul" }], toDOM(e3) {
  return ["ul", e3.attrs, 0];
} };
var TextColorSpec = { attrs: { color: { default: "" } }, inline: true, group: "inline", parseDOM: [{ style: "color", getAttrs: (e3) => ({ color: e3 }) }], toDOM(e3) {
  e3 = e3.attrs.color;
  let t = "";
  return e3 && (t += `color: ${e3};`), ["span", { style: t }, 0];
} };
var brDOM = ["br"];
var nodes = { doc: { content: "block+" }, paragraph: ParagraphSpec, listItem: ListItemSpec, bulletList: BulletListSpec, text: { group: "inline" }, hard_break: { inline: true, group: "inline", selectable: false, parseDOM: [{ tag: "br" }], toDOM() {
  return brDOM;
} } };
var marks = { link: { attrs: { href: {}, title: { default: null } }, inclusive: false, parseDOM: [{ tag: "a[href]", getAttrs(e3) {
  return { href: e3.getAttribute("href"), title: e3.getAttribute("title") };
} }], toDOM(e3) {
  var { href: e3, title: t } = e3.attrs;
  return ["a", { href: e3, title: t }, 0];
} }, italic: ItalicSpec, bold: BoldSpec, underline: TextUnderlineSpec, color: TextColorSpec };
var schema = new Schema({ nodes, marks });
var EventEmitter = class {
  constructor() {
    Object.defineProperty(this, "callbacks", { enumerable: true, configurable: true, writable: true, value: {} });
  }
  on(e3, t) {
    return this.callbacks[e3] || (this.callbacks[e3] = []), this.callbacks[e3].push(t), this;
  }
  emit(e3, ...t) {
    e3 = this.callbacks[e3];
    return e3 && e3.forEach((e4) => e4.apply(this, t)), this;
  }
  off(e3, t) {
    var n = this.callbacks[e3];
    return n && (t ? this.callbacks[e3] = n.filter((e4) => e4 !== t) : delete this.callbacks[e3]), this;
  }
};
function normalize(e3) {
  var t = /* @__PURE__ */ Object.create(null);
  for (const n in e3)
    t[normalizeKeyName$1(n)] = e3[n];
  return t;
}
function keymap(e3) {
  return new Plugin({ props: { handleKeyDown: keydownHandler(e3) } });
}
function keydownHandler(e3) {
  const i = normalize(e3);
  return function(e4, t) {
    t.stopPropagation();
    var n = keyName(t), r = i[modifiers$1(n, t)];
    let o;
    if (r && r(e4.state, e4.dispatch, e4))
      return true;
    if (1 == n.length && " " != n) {
      if (t.shiftKey) {
        r = i[modifiers$1(n, t, false)];
        if (r && r(e4.state, e4.dispatch, e4))
          return true;
      }
      if ((t.shiftKey || t.altKey || t.metaKey || 127 < n.charCodeAt(0)) && (o = base[t.keyCode]) && o != n) {
        r = i[modifiers$1(o, t)];
        if (r && r(e4.state, e4.dispatch, e4))
          return true;
      }
    }
    return false;
  };
}
function objectIncludes(t, n) {
  var e3 = Object.keys(n);
  return !e3.length || e3.every((e4) => n[e4] === t[e4]);
}
function findMarkInSet(e3, t, n = {}) {
  return e3.find((e4) => e4.type === t && objectIncludes(e4.attrs, n));
}
function isMarkInSet(e3, t, n = {}) {
  return !!findMarkInSet(e3, t, n);
}
function getMarkRange(i, a, s = {}) {
  if (i && a) {
    let o = i.parent.childAfter(i.parentOffset);
    if ((o = i.parentOffset === o.offset && 0 !== o.offset ? i.parent.childBefore(i.parentOffset) : o).node) {
      var l = findMarkInSet([...o.node.marks], a, s);
      if (l) {
        let e3 = o.index, t = i.start() + o.offset, n = e3 + 1, r = t + o.node.nodeSize;
        for (findMarkInSet([...o.node.marks], a, s); 0 < e3 && l.isInSet(i.parent.child(e3 - 1).marks); )
          --e3, t -= i.parent.child(e3).nodeSize;
        for (; n < i.parent.childCount && isMarkInSet([...i.parent.child(n).marks], a, s); )
          r += i.parent.child(n).nodeSize, n += 1;
        return { from: t, to: r };
      }
    }
  }
}
var unsetMark = (l, c = {}) => (n, e3) => {
  var { extendEmptyMarkRange: r = false } = c;
  const o = n.tr;
  var i = o["selection"];
  const a = n.schema.mark(l);
  var { $from: n, empty: s, ranges: t } = i;
  if (s && r) {
    let { from: e4, to: t2 } = i;
    r = null == (s = n.marks().find((e5) => e5.type === a.type)) ? void 0 : s.attrs, i = getMarkRange(n, a.type, r);
    i && (e4 = i.from, t2 = i.to), o.removeMark(e4, t2, a);
  } else
    t.forEach((e4) => {
      o.removeMark(e4.$from.pos, e4.$to.pos, a);
    });
  return o.removeStoredMark(a), !!e3 && (e3(o), true);
};
function getMarkType(e3, t) {
  if ("string" != typeof e3)
    return e3;
  if (t.marks[e3])
    return t.marks[e3];
  throw Error(`There is no mark type named '${e3}'!`);
}
function isMarkActive(n, e3, t = {}) {
  var { empty: r, ranges: o } = n.selection;
  const i = e3 ? getMarkType(e3, n.schema) : null;
  if (r)
    return !!(n.storedMarks || n.selection.$from.marks()).filter((e4) => !i || i.name === e4.type.name).find((e4) => objectIncludes(e4.attrs, t));
  let a = 0;
  const s = [];
  return o.forEach(({ $from: e4, $to: t2 }) => {
    const o2 = e4.pos, i2 = t2.pos;
    n.doc.nodesBetween(o2, i2, (e5, t3) => {
      if (e5.isText || e5.marks.length) {
        const n2 = Math.max(o2, t3), r2 = Math.min(i2, t3 + e5.nodeSize);
        t3 = r2 - n2;
        a += t3, s.push(...e5.marks.map((e6) => ({ mark: e6, from: n2, to: r2 })));
      }
    });
  }), 0 !== a && (e3 = s.filter((e4) => !i || i.name === e4.mark.type.name).filter((e4) => objectIncludes(e4.mark.attrs, t)).reduce((e4, t2) => e4 + t2.to - t2.from, 0), r = s.filter((e4) => !i || e4.mark.type !== i && e4.mark.type.excludes(i)).reduce((e4, t2) => e4 + t2.to - t2.from, 0), (0 < e3 ? e3 + r : e3) >= a);
}
function getMarkAttributes(e3, t) {
  const n = getMarkType(t, e3.schema);
  var { from: t, to: r, empty: o } = e3.selection;
  const i = [];
  o ? (e3.storedMarks && i.push(...e3.storedMarks), i.push(...e3.selection.$head.marks())) : e3.doc.nodesBetween(t, r, (e4) => {
    i.push(...e4.marks);
  });
  o = i.find((e4) => e4.type.name === n.name);
  return o ? Object.assign({}, o.attrs) : {};
}
var setMark = (o, l = {}) => (t, e3) => {
  const a = t.tr.setSelection(t.selection);
  var n = a["selection"], { empty: n, ranges: r } = n;
  const s = getMarkType(o, t.schema);
  return n ? (n = getMarkAttributes(t, s), a.addStoredMark(s.create(Object.assign(Object.assign({}, n), l)))) : r.forEach((e4) => {
    const o2 = e4.$from.pos, i = e4.$to.pos;
    t.doc.nodesBetween(o2, i, (e5, t2) => {
      const n2 = Math.max(t2, o2), r2 = Math.min(t2 + e5.nodeSize, i);
      e5.marks.find((e6) => e6.type === s) ? e5.marks.forEach((e6) => {
        s === e6.type && a.addMark(n2, r2, s.create(Object.assign(Object.assign({}, e6.attrs), l)));
      }) : a.addMark(n2, r2, s.create(l));
    });
  }), !!e3 && (e3(a), true);
};
var toggleMark = (o, i = {}, a = {}) => (e3, t, ...n) => {
  var r = getMarkType(o, e3.schema);
  return (isMarkActive(e3, r) ? unsetMark(r, a) : setMark(r, i))(e3, t, ...n);
};
var toggleBold = (...e3) => toggleMark("bold")(...e3);
var unsetBold = (...e3) => unsetMark("bold")(...e3);
var setBold = (...e3) => setMark("bold")(...e3);
var unsetBoldOfBlock = (e3, t) => {
  var { $from: n, $to: r } = e3.tr.setSelection(e3.selection).selection, n = n.blockRange(r);
  return !(!n || !t || (t(e3.tr.removeMark(n.start, n.end, e3.schema.mark("bold"))), 0));
};
var toggleItalic = (...e3) => toggleMark("italic")(...e3);
var unsetItalic = (...e3) => unsetMark("italic")(...e3);
var setItalic = (...e3) => setMark("italic")(...e3);
var unsetItalicOfBlock = (e3, t) => {
  var { $from: n, $to: r } = e3.selection, n = n.blockRange(r);
  return !(!n || !t || (r = e3.schema.mark("bold"), t(e3.tr.removeMark(n.start, n.end, r)), 0));
};
var splitBlockKeepMarks = (e3, t) => splitBlockAs((e4) => ({ type: e4.type.schema.nodes.paragraph, attrs: e4.attrs }))(e3, t);
function splitBlockAs(c) {
  return (e3, t) => {
    var { $from: n, $to: r } = e3.selection;
    if (e3.selection instanceof NodeSelection && e3.selection.node.isBlock)
      return !(!n.parentOffset || !canSplit(e3.doc, n.pos) || (t && t(e3.tr.split(n.pos).scrollIntoView()), 0));
    if (!n.parent.isBlock)
      return false;
    var o = r.parentOffset == r.parent.content.size, i = e3.tr, a = ((e3.selection instanceof TextSelection || e3.selection instanceof AllSelection) && i.deleteSelection(), 0 == n.depth ? null : defaultBlockAt(n.node(-1).contentMatchAt(n.indexAfter(-1)))), r = c && c(r.parent, o);
    let s = r ? [r] : o && a ? [{ type: a }] : void 0, l = canSplit(i.doc, i.mapping.map(n.pos), 1, s);
    s || l || !canSplit(i.doc, i.mapping.map(n.pos), 1, a ? [{ type: a }] : void 0) || (a && (s = [{ type: a }]), l = true), l && (i.split(i.mapping.map(n.pos), 1, s), o || n.parentOffset || n.parent.type == a || (r = i.mapping.map(n.before()), o = i.doc.resolve(r), a && n.node(-1).canReplaceWith(o.index(), o.index() + 1, a) && i.setNodeMarkup(i.mapping.map(n.before()), a)));
    r = e3.storedMarks || e3.selection.$to.parentOffset && e3.selection.$from.marks();
    return r && i.ensureMarks(r), t && t(i), true;
  };
}
function defaultBlockAt(t) {
  for (let e3 = 0; e3 < t.edgeCount; e3++) {
    var n = t.edge(e3)["type"];
    if (n.isTextblock && !n.hasRequiredAttrs())
      return n;
  }
  return null;
}
var selectText = (s) => (e3, t) => {
  var e3 = e3.tr, n = e3["doc"], { from: r, to: o } = s, i = TextSelection.atStart(n).from, a = TextSelection.atEnd(n).to, r = Math.min(Math.max(r, i), a), o = Math.min(Math.max(o, i), a), i = TextSelection.create(n, r, o);
  return e3.setSelection(i), !!t && (t(e3), true);
};
var selectAll = (e3, t, ...n) => (selectText({ from: 0, to: e3.doc.content.size })(e3, t, ...n), true);
function buildKeyMap(e3, r) {
  const o = {};
  var t;
  function n(e4, t2) {
    if (r) {
      var n2 = r[e4];
      if (false === n2)
        return;
      n2 && (e4 = n2);
    }
    o[e4] = t2;
  }
  if (n("Mod-z", undo), n("Mod-y", redo), n("Mod-a", selectAll), n("Backspace", undoInputRule), n("Alt-ArrowUp", joinUp), n("Alt-ArrowDown", joinDown), n("Mod-BracketLeft", lift), n("Escape", selectParentNode), e3.marks.bold && (n("Mod-b", toggleBold), n("Mod-B", toggleBold)), e3.marks.italic && (n("Mod-i", toggleItalic), n("Mod-I", toggleItalic)), n("Enter", splitBlockKeepMarks), t = e3.nodes.hard_break) {
    const i = t, a = chainCommands(exitCode, (e4, t2) => (t2 && t2(e4.tr.replaceSelectionWith(i.create()).scrollIntoView()), true));
    n("Mod-Enter", a), n("Shift-Enter", a), isMacOs_1 && n("Ctrl-Enter", a);
  }
  return (t = e3.nodes.paragraph) && n("Shift-Ctrl-0", setBlockType(t)), o;
}
var events = () => new Plugin({ view() {
  return { update: function(e3, t) {
    var n = e3.state;
    t && t.doc.eq(n.doc) && t.selection.eq(n.selection) || (t && !t.doc.eq(n.doc) ? e3.events.emit("update", e3) : e3.events.emit("selectionUpdate", e3));
  } };
} });
var editorSchema = new Schema({ nodes: schema.spec.nodes, marks: schema.spec.marks });
var createEditor = ({ content: e3, ele: t = null, handleDOMEvents: n = {} }) => {
  var r = document.createElement("div"), e3 = (r.innerHTML = e3, EditorState.create({ doc: DOMParser$1.fromSchema(editorSchema).parse(r), plugins: [buildInputRules(editorSchema), keymap(buildKeyMap(editorSchema)), keymap(baseKeymap), gapCursor(), history(), events()] })), r = new EditorView(t, { attributes: { class: "lidojs-text" }, state: e3, handleDOMEvents: n });
  return r.events = new EventEmitter(), r;
};
var TextLayer = ({ text: t, boxSize: e3, scale: n, fonts: r, colors: o, fontSizes: i, effect: a, rotate: s, position: l }) => {
  const { actions: c, id: u, pageIndex: d } = useLayer(), p = useSelectedLayers()["selectedLayerIds"], { actions: f, textEditor: h } = useEditor((e4) => ({ textEditor: e4.textEditor }));
  (0, import_react.useEffect)(() => {
    var e4 = createEditor({ content: t });
    e4 && c.setTextEditor(e4);
  }, []);
  var m = (0, import_react.useCallback)(() => {
    p.includes(u) && c.openTextEditor();
  }, [f, p]), g = (0, import_react.useMemo)(() => !!h && h.pageIndex === d && h.layerId === u, [h]);
  return jsx2("div", { css: { transformOrigin: "0 0" }, style: { width: e3.width / n, height: e3.height / n, transform: `scale(${n})`, opacity: g ? 0 : 1 }, onDoubleClick: m, children: jsx2(TextContent, { text: t, scale: n, fonts: r, colors: o, fontSizes: i, effect: a, boxSize: e3, rotate: s, position: l }) });
};
var ImageLayer = (TextLayer.info = { name: "Text", type: "Text" }, ({ image: t, boxSize: e3, position: n, rotate: r }) => {
  const { actions: o, pageIndex: i, id: a } = useLayer(), s = useSelectedLayers()["selectedLayerIds"];
  var l = useEditor((e4) => ({ imageEditor: e4.imageEditor }))["imageEditor"];
  const [c, u] = (0, import_react.useState)(Object.assign(Object.assign({}, t), { url: t.thumb }));
  return (0, import_react.useEffect)(() => {
    var e4 = new Image();
    e4.onload = () => {
      u((e5) => Object.assign(Object.assign({}, e5), { url: t.url }));
    }, e4.src = t.url;
  }, [t, u]), (0, import_react.useEffect)(() => {
    u(t);
  }, [t]), jsx2("div", { css: { pointerEvents: "auto", visibility: l && l.pageIndex === i && l.layerId === a ? "hidden" : void 0 }, onDoubleClick: () => s.includes(a) && o.openImageEditor({ position: n, rotate: r, boxSize: e3, image: t }), children: jsx2(ImageContent, { image: c, boxSize: e3, rotate: r, position: n }) });
});
var GroupLayer = (ImageLayer.info = { name: "Image", type: "Image" }, ({ boxSize: e3, scale: t, children: n }) => jsx2("div", { css: { transformOrigin: "0 0" }, style: { width: e3.width / t, height: e3.height / t, transform: `scale(${t})` }, children: n }));
var FrameLayer = (GroupLayer.info = { name: "Group", type: "Group" }, ({ clipPath: e3, image: r, color: o, gradientBackground: i, boxSize: a, position: t, rotate: n, scale: s }) => {
  const l = (0, import_react.useContext)(EditorContext)["config"], { actions: c, pageIndex: u, id: d } = useLayer(), p = useSelectedLayers()["selectedLayerIds"];
  var f = useEditor((e4) => ({ imageEditor: e4.imageEditor }))["imageEditor"];
  const [h, m] = (0, import_react.useState)(null);
  (0, import_react.useEffect)(() => {
    if (r) {
      const t2 = new Image();
      t2.onload = () => {
        m((e4) => e4 && Object.assign(Object.assign({}, e4), { url: t2.src }));
      }, t2.src = r.url;
    }
  }, [r]), (0, import_react.useEffect)(() => {
    var e4, t2, n2;
    r || o || i ? m(r) : m((e4 = l.frame.defaultImage.width / l.frame.defaultImage.height, t2 = a.width / a.height, n2 = t2 < e4 ? a.height / s * e4 : a.width / s, t2 = t2 < e4 ? a.height / s : a.width / s * e4, { boxSize: { width: n2, height: t2 }, position: { x: -(n2 - a.width / s) / 2, y: -(t2 - a.height / s) / 2 }, rotate: 0, url: l.frame.defaultImage.url, thumb: l.frame.defaultImage.url }));
  }, [r, o, i]);
  return jsx2("div", { css: { transformOrigin: "0 0" }, style: { width: a.width / s, height: a.height / s, transform: `scale(${s})`, visibility: f && f.pageIndex === u && f.layerId === d ? "hidden" : void 0 }, onDoubleClick: () => {
    r && p.includes(d) && c.openImageEditor({ boxSize: a, position: t, rotate: n, image: { boxSize: { width: r.boxSize.width * s, height: r.boxSize.height * s }, position: { x: r.position.x * s, y: r.position.y * s }, rotate: r.rotate || 0, url: r.url } });
  }, children: jsx2(FrameContent, { clipPath: e3, scale: s, color: o, gradientBackground: i, image: h, boxSize: a, rotate: n, position: t }) });
});
var SvgLayer = (FrameLayer.info = { name: "Frame", type: "Frame" }, (e3) => {
  var t = e3["boxSize"], e3 = __rest(e3, ["boxSize"]);
  return jsx2("div", { css: { transformOrigin: "0 0" }, style: { width: t.width, height: t.height }, children: jsx2(SvgContent, Object.assign({ boxSize: t }, e3)) });
});
var RootLayer = (SvgLayer.info = { name: "Svg", type: "Svg" }, ({ boxSize: e3, children: t, color: n, gradientBackground: r, image: o, position: i, rotate: a, scale: s }) => {
  const l = useLayer()["actions"];
  return jsxs2(import_react.Fragment, { children: [jsx2(RootContent, { boxSize: e3, position: i, rotate: a, gradientBackground: r, color: n, image: o, scale: s, onDoubleClick: () => o && l.openImageEditor({ boxSize: e3, position: i, rotate: a, image: o }) }), t] });
});
var resolvers = (RootLayer.info = { name: "Main", type: "Root" }, { RootLayer, ShapeLayer, TextLayer, ImageLayer, GroupLayer, FrameLayer, SvgLayer });
var resolveComponent = (t) => {
  const e3 = "string" == typeof t ? "string" : t.name;
  if (resolvers[e3])
    return e3;
  for (let e4 = 0; e4 < Object.keys(resolvers).length; e4++) {
    var n = Object.keys(resolvers)[e4];
    if (resolvers[n] === t)
      return n;
  }
  return t;
};
var getRandomId = () => v4();
var deserializeLayer = (e3) => {
  var { type: t, props: n } = deserializeComponent(e3);
  return Object.assign(Object.assign({}, t.info), { comp: t, props: n, locked: e3.locked, child: e3.child, parent: e3.parent });
};
var deserializeComponent = (e3) => {
  var { type: { resolvedName: e3 }, props: t } = e3, e3 = resolvers[e3];
  return (0, import_react.createElement)(e3, t);
};
var serializeLayers = (t, e3) => {
  let n = {};
  return n[e3] = { type: { resolvedName: resolveComponent(t[e3].data.comp) }, props: t[e3].data.props, locked: t[e3].data.locked, child: t[e3].data.child, parent: t[e3].data.parent }, t[e3].data.child.forEach((e4) => {
    n = Object.assign(Object.assign({}, n), serializeLayers(t, e4));
  }), n;
};
var isRootLayer = (e3) => "Root" === e3.data.type;
var isMainLayer = (e3) => "ROOT" === e3.data.parent;
var isGroupLayer = (e3) => "Group" === e3.data.type;
var isTextLayer = (e3) => "Text" === e3.data.type;
var isFrameLayer = (e3) => "Frame" === e3.data.type;
var isSvgLayer = (e3) => "Svg" === e3.data.type;
var isImageLayer = (e3) => "Image" === e3.data.type;
var isShapeLayer = (e3) => "Shape" === e3.data.type;
var copy = async (t, { pageIndex: n, layerIds: e3 }) => {
  const r = [];
  e3.map((e4) => {
    r.push({ rootId: e4, layers: serializeLayers(t.pages[n].layers, e4) });
  }), await navigator.clipboard.writeText(JSON.stringify(r));
};
var paste = async ({ actions: e3 }) => {
  var t = await navigator.clipboard.readText();
  try {
    JSON.parse(t).forEach((t2) => {
      Object.entries(t2.layers).forEach(([e4]) => {
        t2.layers[e4].props.position.x += 10, t2.layers[e4].props.position.y += 10;
      }), e3.addLayerTree(t2);
    });
  } catch (e4) {
  }
};
var duplicate = (t, { pageIndex: n, layerIds: e3, actions: r }) => {
  const o = [];
  e3.map((e4) => {
    o.push({ rootId: e4, layers: lodashExports.cloneDeep(serializeLayers(t.pages[n].layers, e4)) });
  }), r.addLayerTrees(o.map((t2) => (Object.entries(t2.layers).forEach(([e4]) => {
    t2.layers[e4].props.position.x += 10, t2.layers[e4].props.position.y += 10;
  }), t2)));
};
var ClipboardIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M200 32h-36.26a47.92 47.92 0 0 0-71.48 0H56a16 16 0 0 0-16 16v168a16 16 0 0 0 16 16h144a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16Zm-72 0a32 32 0 0 1 32 32H96a32 32 0 0 1 32-32Zm72 184H56V48h26.75A47.93 47.93 0 0 0 80 64v8a8 8 0 0 0 8 8h80a8 8 0 0 0 8-8v-8a47.93 47.93 0 0 0-2.75-16H200Z" }) }));
};
var CopyIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z" }) }));
};
var TrashIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M216 48h-40v-8a24 24 0 0 0-24-24h-48a24 24 0 0 0-24 24v8H40a8 8 0 0 0 0 16h8v144a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16V64h8a8 8 0 0 0 0-16ZM96 40a8 8 0 0 1 8-8h48a8 8 0 0 1 8 8v8H96Zm96 168H64V64h128Zm-80-104v64a8 8 0 0 1-16 0v-64a8 8 0 0 1 16 0Zm48 0v64a8 8 0 0 1-16 0v-64a8 8 0 0 1 16 0Z" }) }));
};
var LayersIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", width: "1em", height: "1em", viewBox: "0 0 24 24" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { fill: "currentColor", d: "m19.474 12.838 1.697.835a1 1 0 0 1 0 1.795L13.32 19.33a3 3 0 0 1-2.649 0L2.82 15.468a1 1 0 0 1 0-1.795l1.697-.835 1.698.836-1.821.896 6.94 3.415a1.5 1.5 0 0 0 1.324 0l6.94-3.415-1.822-.896 1.7-.836ZM13.32 4.673l7.852 3.864a1 1 0 0 1 0 1.794l-7.852 3.864a3 3 0 0 1-2.649 0L2.82 10.33a1 1 0 0 1 0-1.794l7.851-3.864a3 3 0 0 1 2.65 0Zm-1.986 8.176a1.5 1.5 0 0 0 1.324 0l6.94-3.415-6.94-3.415a1.5 1.5 0 0 0-1.324 0l-6.94 3.415 6.94 3.415Z" }) }));
};
var SelectionBackgroundIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M160 80H48a16 16 0 0 0-16 16v112a16 16 0 0 0 16 16h112a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16Zm0 128H48V96h112ZM136 40a8 8 0 0 1 8-8h16a8 8 0 0 1 0 16h-16a8 8 0 0 1-8-8Zm88 8v8a8 8 0 0 1-16 0v-8h-8a8 8 0 0 1 0-16h8a16 16 0 0 1 16 16Zm0 48v16a8 8 0 0 1-16 0V96a8 8 0 0 1 16 0Zm0 56v8a16 16 0 0 1-16 16h-8a8 8 0 0 1 0-16h8v-8a8 8 0 0 1 16 0ZM80 56v-8a16 16 0 0 1 16-16h8a8 8 0 0 1 0 16h-8v8a8 8 0 0 1-16 0Z" }) }));
};
var SelectionForegroundIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M64 216a8 8 0 0 1-8 8h-8a16 16 0 0 1-16-16v-8a8 8 0 0 1 16 0v8h8a8 8 0 0 1 8 8Zm48-8H96a8 8 0 0 0 0 16h16a8 8 0 0 0 0-16Zm-72-40a8 8 0 0 0 8-8v-16a8 8 0 0 0-16 0v16a8 8 0 0 0 8 8Zm128 24a8 8 0 0 0-8 8v8h-8a8 8 0 0 0 0 16h8a16 16 0 0 0 16-16v-8a8 8 0 0 0-8-8Zm0-80a8 8 0 0 0 8-8v-8a16 16 0 0 0-16-16h-8a8 8 0 0 0 0 16h8v8a8 8 0 0 0 8 8ZM56 80h-8a16 16 0 0 0-16 16v8a8 8 0 0 0 16 0v-8h8a8 8 0 0 0 0-16Zm152-48H96a16 16 0 0 0-16 16v40a4.44 4.44 0 0 0 0 .55A8 8 0 0 0 88 96h24a8 8 0 0 0 0-16H96V48h112v112h-32v-16a8 8 0 0 0-16 0v24a8 8 0 0 0 8 8h40a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16Z" }) }));
};
var DuplicateIcon = function(e3) {
  return (0, import_jsx_runtime.jsxs)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", width: "1em", height: "1em" }, e3, { children: [(0, import_jsx_runtime.jsx)("path", { fill: "none", d: "M0 0h256v256H0z" }), (0, import_jsx_runtime.jsx)("path", { fill: "none", stroke: "currentColor", strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 12, d: "M168 168h48V40H88v48" }), (0, import_jsx_runtime.jsx)("path", { fill: "none", stroke: "currentColor", strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 12, d: "M40 88h128v128H40z" }), (0, import_jsx_runtime.jsx)("path", { fill: "currentColor", d: "M138.14 152.43a4.46 4.46 0 0 1-4.45 4.46h-25.26v25.25a4.46 4.46 0 0 1-8.92 0v-25.25H74.26a4.46 4.46 0 0 1 0-8.92h25.25v-25.26a4.46 4.46 0 0 1 8.92 0V148h25.26a4.46 4.46 0 0 1 4.45 4.43Z" })] }));
};
var LockKeyIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M128 112a28 28 0 0 0-8 54.83V184a8 8 0 0 0 16 0v-17.17a28 28 0 0 0-8-54.83Zm0 40a12 12 0 1 1 12-12 12 12 0 0 1-12 12Zm80-72h-32V56a48 48 0 0 0-96 0v24H48a16 16 0 0 0-16 16v112a16 16 0 0 0 16 16h160a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16ZM96 56a32 32 0 0 1 64 0v24H96Zm112 152H48V96h160v112Z" }) }));
};
var BoundingBoxIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M208 96a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16h-32a16 16 0 0 0-16 16v8H96v-8a16 16 0 0 0-16-16H48a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h8v64h-8a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16v-8h64v8a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-8V96Zm-32-48h32v32h-32ZM48 48h32v15.9a.51.51 0 0 0 0 .2V80H48Zm32 160H48v-32h32v15.9a.51.51 0 0 0 0 .2V208Zm128 0h-32v-32h32Zm-24-48h-8a16 16 0 0 0-16 16v8H96v-8a16 16 0 0 0-16-16h-8V96h8a16 16 0 0 0 16-16v-8h64v8a16 16 0 0 0 16 16h8Z" }) }));
};
var ShapesIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M71.59 61.47a8 8 0 0 0-15.18 0l-40 120A8 8 0 0 0 24 192h80a8 8 0 0 0 7.59-10.53ZM35.1 176 64 89.3 92.9 176ZM208 76a52 52 0 1 0-52 52 52.06 52.06 0 0 0 52-52Zm-88 0a36 36 0 1 1 36 36 36 36 0 0 1-36-36Zm104 68h-88a8 8 0 0 0-8 8v56a8 8 0 0 0 8 8h88a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8Zm-8 56h-72v-40h72Z" }) }));
};
var CaretCircleUpIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M128 24a104 104 0 1 0 104 104A104.11 104.11 0 0 0 128 24Zm0 192a88 88 0 1 1 88-88 88.1 88.1 0 0 1-88 88Zm45.66-77.66a8 8 0 0 1-11.32 11.32L128 115.31l-34.34 34.35a8 8 0 0 1-11.32-11.32l40-40a8 8 0 0 1 11.32 0Z" }) }));
};
var CaretCircleDoubleUpIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M201.54 54.46A104 104 0 0 0 54.46 201.54 104 104 0 0 0 201.54 54.46Zm-11.31 135.77a88 88 0 1 1 0-124.46 88.11 88.11 0 0 1 0 124.46Zm-24.57-27.89a8 8 0 0 1-11.32 11.32L128 147.31l-26.34 26.35a8 8 0 0 1-11.32-11.32l32-32a8 8 0 0 1 11.32 0Zm0-56a8 8 0 0 1-11.32 11.32L128 91.31l-26.34 26.35a8 8 0 0 1-11.32-11.32l32-32a8 8 0 0 1 11.32 0Z" }) }));
};
var CaretCircleDownIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M128 24a104 104 0 1 0 104 104A104.11 104.11 0 0 0 128 24Zm0 192a88 88 0 1 1 88-88 88.1 88.1 0 0 1-88 88Zm45.66-109.66a8 8 0 0 1 0 11.32l-40 40a8 8 0 0 1-11.32 0l-40-40a8 8 0 0 1 11.32-11.32L128 140.69l34.34-34.35a8 8 0 0 1 11.32 0Z" }) }));
};
var XIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M205.66 194.34a8 8 0 0 1-11.32 11.32L128 139.31l-66.34 66.35a8 8 0 0 1-11.32-11.32L116.69 128 50.34 61.66a8 8 0 0 1 11.32-11.32L128 116.69l66.34-66.35a8 8 0 0 1 11.32 11.32L139.31 128Z" }) }));
};
var AlignLeftIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M48 40v176a8 8 0 0 1-16 0V40a8 8 0 0 1 16 0Zm16 64V64a16 16 0 0 1 16-16h96a16 16 0 0 1 16 16v40a16 16 0 0 1-16 16H80a16 16 0 0 1-16-16Zm16 0h96V64H80Zm152 48v40a16 16 0 0 1-16 16H80a16 16 0 0 1-16-16v-40a16 16 0 0 1 16-16h136a16 16 0 0 1 16 16Zm-16 40v-40H80v40h136Z" }) }));
};
var CaretRightIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "m181.66 133.66-80 80a8 8 0 0 1-11.32-11.32L164.69 128 90.34 53.66a8 8 0 0 1 11.32-11.32l80 80a8 8 0 0 1 0 11.32Z" }) }));
};
var ContextMenuItem = ({ name: e3, icon: t, shortcut: n, disabled: r = false, children: o, onClick: i }) => {
  const [a, s] = (0, import_react.useState)(false);
  return jsxs2("div", { css: { padding: "8px 16px 8px 8px", display: "flex", alignItems: "center", position: "relative", color: r ? "rgba(36,49,61,.4)" : "rgb(13, 18, 22)", cursor: r ? "not-allowed" : "pointer", ":hover": { background: r ? void 0 : "rgba(64,87,109,.07)" } }, onMouseOver: () => s(true), onMouseOut: () => s(false), onMouseLeave: () => s(false), onClick: () => !r && i && i(), children: [jsx2("div", { css: { fontSize: 20 }, children: t }), jsx2("div", { css: { marginLeft: 8, fontSize: 14, flexGrow: 1, whiteSpace: "nowrap" }, children: e3 }), jsx2("div", { css: { width: 48, paddingLeft: 8, "@media (max-width: 900px)": { display: "none" } } }), (o || n) && jsxs2("div", { css: { height: 24, lineHeight: "24px", fontSize: n ? 12 : 20, padding: n ? "0 8px" : 0, marginLeft: 8, background: n ? "rgba(64,87,109,.07)" : void 0, borderRadius: 4, whiteSpace: "nowrap", "@media (max-width: 900px)": { display: "none" } }, children: [n, o && jsx2(CaretRightIcon, {})] }), a && o] });
};
var AlignBottomIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M224 216a8 8 0 0 1-8 8H40a8 8 0 0 1 0-16h176a8 8 0 0 1 8 8Zm-88-40V80a16 16 0 0 1 16-16h40a16 16 0 0 1 16 16v96a16 16 0 0 1-16 16h-40a16 16 0 0 1-16-16Zm16 0h40V80h-40Zm-104 0V40a16 16 0 0 1 16-16h40a16 16 0 0 1 16 16v136a16 16 0 0 1-16 16H64a16 16 0 0 1-16-16Zm16 0h40V40H64Z" }) }));
};
var AlignTopIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M224 40a8 8 0 0 1-8 8H40a8 8 0 0 1 0-16h176a8 8 0 0 1 8 8Zm-16 40v96a16 16 0 0 1-16 16h-40a16 16 0 0 1-16-16V80a16 16 0 0 1 16-16h40a16 16 0 0 1 16 16Zm-16 0h-40v96h40Zm-72 0v136a16 16 0 0 1-16 16H64a16 16 0 0 1-16-16V80a16 16 0 0 1 16-16h40a16 16 0 0 1 16 16Zm-16 0H64v136h40Z" }) }));
};
var AlignRightIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M224 40v176a8 8 0 0 1-16 0V40a8 8 0 0 1 16 0Zm-32 24v40a16 16 0 0 1-16 16H80a16 16 0 0 1-16-16V64a16 16 0 0 1 16-16h96a16 16 0 0 1 16 16Zm-16 0H80v40h96Zm16 88v40a16 16 0 0 1-16 16H40a16 16 0 0 1-16-16v-40a16 16 0 0 1 16-16h136a16 16 0 0 1 16 16Zm-16 0H40v40h136Z" }) }));
};
var AlignCenterHorizontalIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M208 136h-72v-16h48a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16h-48V32a8 8 0 0 0-16 0v16H72a16 16 0 0 0-16 16v40a16 16 0 0 0 16 16h48v16H48a16 16 0 0 0-16 16v40a16 16 0 0 0 16 16h72v16a8 8 0 0 0 16 0v-16h72a16 16 0 0 0 16-16v-40a16 16 0 0 0-16-16ZM72 64h112v40H72Zm136 128H48v-40h160v40Z" }) }));
};
var AlignCenterVerticalIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M224 120h-16V72a16 16 0 0 0-16-16h-40a16 16 0 0 0-16 16v48h-16V48a16 16 0 0 0-16-16H64a16 16 0 0 0-16 16v72H32a8 8 0 0 0 0 16h16v72a16 16 0 0 0 16 16h40a16 16 0 0 0 16-16v-72h16v48a16 16 0 0 0 16 16h40a16 16 0 0 0 16-16v-48h16a8 8 0 0 0 0-16Zm-120 88H64V48h40Zm88-24h-40V72h40Z" }) }));
};
var SubMenu = ({ transform: r, children: e3 }) => {
  const o = (0, import_react.useRef)(null), [t, i] = (0, import_react.useState)({ x: -9999, y: -9999 });
  return (0, import_react.useEffect)(() => {
    var e4, t2, n;
    o.current && o.current.parentElement && (e4 = { x: 0, y: 0 }, t2 = o.current.parentElement, n = o.current.getBoundingClientRect(), r.y + t2.offsetTop + n.height > window.innerHeight ? e4.y = t2.offsetTop - (r.y + t2.offsetTop + n.height - window.innerHeight) : e4.y = t2.offsetTop, r.x + t2.offsetWidth + n.width > window.innerWidth ? e4.x = -n.width : e4.x = t2.offsetLeft + t2.offsetWidth, i(e4));
  }, [r]), jsx2("div", { ref: o, css: { position: "fixed", top: 0, left: 0, transform: getTransformStyle({ position: t }), paddingLeft: 8, paddingRight: 8 }, children: jsx2("div", { css: { background: "white", paddingTop: 8, paddingBottom: 8, borderRadius: 4, zIndex: 30, boxShadow: "0 0 0 1px rgba(64,87,109,.07),0 2px 12px rgba(53,71,90,.2)" }, children: e3 }) });
};
var CaretCircleDoubleDownIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M201.54 54.46A104 104 0 0 0 54.46 201.54 104 104 0 0 0 201.54 54.46Zm-11.31 135.77a88 88 0 1 1 0-124.46 88.11 88.11 0 0 1 0 124.46ZM165.66 82.34a8 8 0 0 1 0 11.32l-32 32a8 8 0 0 1-11.32 0l-32-32a8 8 0 0 1 11.32-11.32L128 108.69l26.34-26.35a8 8 0 0 1 11.32 0Zm0 56a8 8 0 0 1 0 11.32l-32 32a8 8 0 0 1-11.32 0l-32-32a8 8 0 0 1 11.32-11.32L128 164.69l26.34-26.35a8 8 0 0 1 11.32 0Z" }) }));
};
var useForwardedRef = (e3) => {
  const t = (0, import_react.useRef)(null);
  return (0, import_react.useEffect)(() => {
    e3 && ("function" == typeof e3 ? e3(t.current) : e3.current = t.current);
  }), t;
};
var LayerContextMenu = (e3, t) => {
  const { selectedLayerIds: n, selectedLayers: r } = useSelectedLayers(), o = useForwardedRef(t), [i, a] = (0, import_react.useState)({ x: -9999, y: -9999 }), { state: s, openMenu: l, actions: c, pageIndex: u, pageSize: d, rootLayer: p } = useEditor((e4) => ({ openMenu: e4.openMenu, pageIndex: e4.activePage, pageSize: e4.pageSize, rootLayer: e4.pages[e4.activePage] && e4.pages[e4.activePage].layers.ROOT })), f = r.find((e4) => "Image" === e4.data.type);
  var t = (0, import_react.useCallback)(async () => {
    await paste({ actions: c }), c.hideContextMenu();
  }, [c, u]), h = (0, import_react.useCallback)(() => {
    n.includes("ROOT") || (c.deleteLayer(u, n), c.hideContextMenu());
  }, [c, n]);
  const m = 0 === (null === p || void 0 === p ? void 0 : p.data.child.findIndex((e4) => n.includes(e4))), g = (null === p || void 0 === p ? void 0 : p.data.child.findLastIndex((e4) => n.includes(e4))) === ((null === p || void 0 === p ? void 0 : p.data.child.length) || 0) - 1;
  const v = (e4) => {
    c.setAlign(e4), c.hideContextMenu();
  };
  var y;
  return (0, import_react.useEffect)(() => {
    var e4, t2;
    e4 = null == (e4 = o.current) ? void 0 : e4.getBoundingClientRect(), t2 = { x: -9999, y: -9999 }, l && (t2.x = 0, t2.y = 0, e4.width + l.clientX > window.innerWidth && (t2.x = -e4.width), e4.height + l.clientY > window.innerHeight) && (t2.y = window.innerHeight - e4.height - l.clientY), a(t2);
    const n2 = () => {
      c.hideContextMenu();
    };
    return window.addEventListener("resize", n2), () => {
      window.removeEventListener("resize", n2);
    };
  }, [o, l]), l ? (y = !!r.find((e4) => isGroupLayer(e4)), jsxs2("div", { ref: o, css: { position: "fixed", top: 0, left: 0, background: "white", paddingTop: 8, paddingBottom: 8, borderRadius: 4, zIndex: 30, boxShadow: "0 0 0 1px rgba(64,87,109,.07),0 2px 12px rgba(53,71,90,.2)", transform: getTransformStyle({ position: { x: l.clientX + i.x, y: l.clientY + i.y } }), "@media (max-width: 900px)": { bottom: 0, top: "auto", transform: "none", display: "flex", right: 0, padding: 0 } }, children: [jsx2("div", { css: { display: "none", "@media (max-width: 900px)": { flexShrink: 0, fontSize: 24, width: 48, height: 48, borderRadius: "50%", background: "#EBECF0", display: "flex", alignItems: "center", justifyContent: "center", cursor: "pointer", margin: 16 } }, onClick: () => c.hideContextMenu(), children: jsx2(XIcon, {}) }), jsxs2("div", { css: { "@media (max-width: 900px)": { overflowX: "auto", flexGrow: 1, padding: 16, display: "flex" } }, children: [!n.includes("ROOT") && jsx2(ContextMenuItem, { name: "Copy", icon: jsx2(CopyIcon, {}), shortcut: "Ctrl+C", onClick: async () => {
    await copy(s, { pageIndex: u, layerIds: n }), c.hideContextMenu();
  } }), !n.includes("ROOT") && jsxs2(import_react.Fragment, { children: [jsx2(ContextMenuItem, { name: "Paste", icon: jsx2(ClipboardIcon, {}), shortcut: "Ctrl+V", onClick: t }), jsx2(ContextMenuItem, { name: "Duplicate", icon: jsx2(DuplicateIcon, {}), shortcut: "Ctrl+D", onClick: () => {
    duplicate(s, { pageIndex: u, layerIds: n, actions: c }), c.hideContextMenu();
  } }), jsx2(ContextMenuItem, { name: "Delete", icon: jsx2(TrashIcon, {}), shortcut: "Delete", onClick: h })] }), !n.includes("ROOT") && jsxs2(import_react.Fragment, { children: [jsx2("div", { css: { marginTop: 8, marginBottom: 8, height: 1, borderBottom: "1px solid rgba(57,76,96,.15)", width: "100%" } }), jsx2(ContextMenuItem, { name: "Layer", icon: jsx2(LayersIcon, {}), children: jsxs2(SubMenu, { transform: { x: l.clientX + i.x, y: l.clientY + i.y }, children: [jsx2(ContextMenuItem, { name: "Bring Forward", icon: jsx2(CaretCircleUpIcon, {}), shortcut: "Ctrl+]", disabled: g, onClick: () => {
    g || (c.bringForward(u, n), c.hideContextMenu());
  } }), jsx2(ContextMenuItem, { name: "Bring to Front", icon: jsx2(CaretCircleDoubleUpIcon, {}), shortcut: "Ctrl+Alt+]", disabled: g, onClick: () => {
    g || (c.bringToFront(u, n), c.hideContextMenu());
  } }), jsx2(ContextMenuItem, { name: "Send Backward", icon: jsx2(CaretCircleDownIcon, {}), shortcut: "Ctrl+[", disabled: m, onClick: () => {
    m || (c.sendBackward(u, n), c.hideContextMenu());
  } }), jsx2(ContextMenuItem, { name: "Send to Back", icon: jsx2(CaretCircleDoubleDownIcon, {}), shortcut: "Ctrl+Alt+[", disabled: m, onClick: () => {
    m || (c.sendToBack(u, n), c.hideContextMenu());
  } }), jsx2(ContextMenuItem, { name: "Show Layers", icon: jsx2(LayersIcon, {}), onClick: () => {
    c.setSidebar("LAYER_MANAGEMENT"), c.hideContextMenu();
  } })] }) }), jsx2(ContextMenuItem, { name: "Align", icon: jsx2(AlignLeftIcon, {}), children: jsxs2(SubMenu, { transform: { x: l.clientX + i.x, y: l.clientY + i.y }, children: [jsx2(ContextMenuItem, { name: "Left", icon: jsx2(AlignLeftIcon, {}), onClick: () => v("left") }), jsx2(ContextMenuItem, { name: "Center", icon: jsx2(AlignCenterHorizontalIcon, {}), onClick: () => v("center") }), jsx2(ContextMenuItem, { name: "Right", icon: jsx2(AlignRightIcon, {}), onClick: () => v("right") }), jsx2(ContextMenuItem, { name: "Top", icon: jsx2(AlignTopIcon, {}), onClick: () => v("top") }), jsx2(ContextMenuItem, { name: "Middle", icon: jsx2(AlignCenterVerticalIcon, {}), onClick: () => v("middle") }), jsx2(ContextMenuItem, { name: "Bottom", icon: jsx2(AlignBottomIcon, {}), onClick: () => v("bottom") })] }) }), jsx2("div", { css: { marginTop: 8, marginBottom: 8, height: 1, borderBottom: "1px solid rgba(57,76,96,.15)", width: "100%" } })] }), 1 < n.length && jsx2(ContextMenuItem, { name: "Group", icon: jsx2(BoundingBoxIcon, {}), onClick: () => {
    c.group(n), c.hideContextMenu();
  } }), y && jsx2(ContextMenuItem, { name: "Ungroup", icon: jsx2(ShapesIcon, {}), onClick: () => {
    1 === n.length && c.ungroup(n[0]), c.hideContextMenu();
  } }), !n.includes("ROOT") && jsx2(ContextMenuItem, { name: "Lock", icon: jsx2(LockKeyIcon, {}), onClick: () => {
    c.lock(u, n), c.hideContextMenu();
  } }), 1 === n.length && isFrameLayer(r[0]) && r[0].data.props.image && jsx2(ContextMenuItem, { name: "Detach Image", icon: jsx2(SelectionBackgroundIcon, {}), onClick: () => {
    var e4, t2, n2;
    isFrameLayer(r[0]) && (e4 = r[0].data.props.image) && (n2 = { boxSize: { width: 0, height: 0 } }, d.width / d.height < (t2 = e4.boxSize.width / e4.boxSize.height) ? (n2.boxSize.width = 0.8 * d.width, n2.boxSize.height = n2.boxSize.width / t2) : (n2.boxSize.height = 0.8 * d.height, n2.boxSize.width = n2.boxSize.height * t2), c.addImageLayer({ url: e4.url, thumb: e4.thumb }, n2.boxSize), c.history.merge().setProp(u, r[0].id, { image: null }), c.hideContextMenu());
  } }), f && 1 === n.length && jsx2(ContextMenuItem, { name: "Set as Background Image", icon: jsx2(SelectionForegroundIcon, {}), onClick: () => {
    var e4, t2, n2;
    f && (e4 = d.width / d.height, t2 = (n2 = f.data.props.image).boxSize.width / n2.boxSize.height, n2 = Object.assign(Object.assign({}, lodashExports.cloneDeep(n2)), { rotate: 0 }), t2 < e4 ? (n2.boxSize.width = d.width, n2.boxSize.height = d.width / t2, n2.position.y = (n2.boxSize.height - d.height) / -2, n2.position.x = 0) : (n2.boxSize.height = d.height, n2.boxSize.width = d.height * t2, n2.position.x = (n2.boxSize.width - d.width) / -2, n2.position.y = 0), c.setProp(u, "ROOT", { image: n2 }), c.history.merge().deleteLayer(u, f.id)), c.hideContextMenu();
  } }), 1 === n.length && n.includes("ROOT") && (null == (t = null === p || void 0 === p ? void 0 : p.data.props) ? void 0 : t.image) && jsx2(ContextMenuItem, { name: "Set Background as Image Layer", icon: jsx2(SelectionBackgroundIcon, {}), onClick: () => {
    var e4, t2, n2;
    p && (e4 = p.data.props.image) && (n2 = { boxSize: { width: 0, height: 0 } }, d.width / d.height < (t2 = e4.boxSize.width / e4.boxSize.height) ? (n2.boxSize.width = 0.8 * d.width, n2.boxSize.height = n2.boxSize.width / t2) : (n2.boxSize.height = 0.8 * d.height, n2.boxSize.width = n2.boxSize.height * t2), c.addImageLayer({ url: e4.url, thumb: e4.thumb }, n2.boxSize), c.history.merge().setProp(u, "ROOT", { image: null }), c.hideContextMenu());
  } })] })] })) : null;
};
var LayerContextMenu$1 = (0, import_react.forwardRef)(LayerContextMenu);
var useClickOutside = (n, e3, t = "mousedown", r) => {
  const o = (0, import_react.useRef)(e3), i = (0, import_react.useCallback)((e4) => {
    var t2 = null == n ? void 0 : n.current;
    t2 && !t2.contains(e4.target) && o.current(e4);
  }, [n, o]);
  (0, import_react.useEffect)(() => (window.addEventListener(t, i, r), () => {
    window.removeEventListener(t, i, r);
  }), [i]);
};
var TransformLayer = ({ boxSize: e3, rotate: t, position: n, transparency: r, children: o }, i) => jsx2("div", { ref: i, css: { touchAction: "pan-x pan-y pinch-zoom", pointerEvents: "auto", position: "absolute" }, style: { width: e3.width, height: e3.height, transform: getTransformStyle({ position: n, rotate: t }), opacity: r }, children: o });
var TransformLayer$1 = (0, import_react.forwardRef)(TransformLayer);
var RenderLayer = () => {
  const { id: n, comp: r, props: o, layers: i, type: e3, actions: t, parent: a } = useLayer((e4) => ({ id: e4.id, comp: e4.data.comp, props: e4.data.props, layers: e4.data.child, type: e4.data.type, parent: e4.data.parent })), { isResize: s, pageSize: l, isDragging: c, isRotate: u } = useEditor((e4) => ({ isResize: e4.resizeData.status, isDragging: e4.dragData.status, isRotate: e4.rotateData.status, pageSize: e4.pageSize })), d = (e4) => {
    s || !["ROOT", null].includes(a) || c || u || (e4.stopPropagation(), t.hover());
  }, p = () => {
    t.hover(null);
  };
  return (0, import_react.useMemo)(() => {
    if (!r)
      return null;
    let e4 = null;
    if (i && 0 < i.length && (e4 = jsx2(import_react.Fragment, { children: i.map((e5) => jsx2(LayerElement, { id: e5 }, e5)) })), "ROOT" === n) {
      const t3 = (0, import_react.createElement)(r, o, e4);
      return jsx2("div", { onMouseOver: d, onMouseLeave: p, onMouseOut: p, children: t3 });
    }
    const t2 = (0, import_react.createElement)(r, o, e4);
    return jsx2(TransformLayer$1, { boxSize: o.boxSize, rotate: o.rotate, position: o.position, transparency: o.transparency, children: jsx2("div", { onMouseOver: d, onMouseLeave: p, onMouseOut: p, children: t2 }) });
  }, [e3, r, o, i, s, l, u, c]);
};
var RenderLayer$1 = import_react.default.memo(RenderLayer);
var LayerElement = ({ id: e3 }) => jsx2(LayerProvider, { id: e3, children: jsx2(RenderLayer$1, {}) });
var PageElement = () => jsx2(LayerElement, { id: "ROOT" });
var ImageEditorHandler = ({ direction: t, onResizeStart: n }) => {
  var e3 = (0, import_react.useMemo)(() => {
    var e4 = {};
    return t.toLowerCase().includes("top") && (e4.top = -16), t.toLowerCase().includes("left") && (e4.left = -16), t.toLowerCase().includes("bottom") && (e4.bottom = -16), t.toLowerCase().includes("right") && (e4.right = -16), e4;
  }, [t]), r = (0, import_react.useCallback)((e4) => {
    e4.stopPropagation(), n(e4.nativeEvent, t);
  }, [n, t]);
  return jsx2("div", { css: Object.assign({ height: 32, width: 32, position: "absolute", display: "flex", alignItems: "center", justifyContent: "center", pointerEvents: "auto", zIndex: 50 }, e3), onMouseDown: r, onTouchStart: r, children: jsx2("div", { css: { borderRadius: "50%", cursor: "auto", width: 12, height: 12, background: "white", boxShadow: "0 0 4px 1px rgba(57,76,96,.15), 0 0 0 1px rgba(43,59,74,.3)" } }) });
};
var distanceBetweenPoints = (e3, t, n) => {
  var r = t.clientX - e3.clientX, t = t.clientY - e3.clientY;
  return Math.sqrt(r * r + t * t) / (n || 1);
};
var horizontalAndVerticalChange = (e3, t, n) => {
  t = (t - e3) * Math.PI / 180;
  return { width: n * Math.cos(t), height: n * Math.sin(t) };
};
var angleBetweenPoints = (e3, t) => 180 * Math.atan2(t.clientY - e3.clientY, t.clientX - e3.clientX) / Math.PI;
var getSizeWithRatio = (e3, t, n) => {
  return n ? t < (n = e3.width / e3.height) ? Object.assign(Object.assign({}, e3), { height: e3.width / t }) : n < t ? Object.assign(Object.assign({}, e3), { width: e3.height * t }) : e3 : e3;
};
var applyToPoint = (e3, t) => ({ x: e3.a * t.x + e3.c * t.y, y: e3.b * t.x + e3.d * t.y });
var visualCorners = (e3, t, n) => {
  var r = e3.width / 2, e3 = e3.height / 2, o = { x: -r, y: -e3 }, i = { x: r, y: -e3 }, a = { x: -r, y: e3 }, s = { x: r, y: e3 }, o = applyToPoint(t, o), i = applyToPoint(t, i), a = applyToPoint(t, a), t = applyToPoint(t, s);
  return { nw: { x: o.x + r + n.x, y: o.y + e3 + n.y }, ne: { x: i.x + r + n.x, y: i.y + e3 + n.y }, sw: { x: a.x + r + n.x, y: a.y + e3 + n.y }, se: { x: t.x + r + n.x, y: t.y + e3 + n.y } };
};
var getPositionChangesBetweenTwoCorners = (e3, t, n) => {
  let r, o;
  switch (n) {
    case "topRight":
      r = t.sw.x - e3.sw.x, o = t.sw.y - e3.sw.y;
      break;
    case "bottomLeft":
      r = t.ne.x - e3.ne.x, o = t.ne.y - e3.ne.y;
      break;
    case "top":
    case "left":
    case "topLeft":
      r = t.se.x - e3.se.x, o = t.se.y - e3.se.y;
      break;
    default:
      r = t.nw.x - e3.nw.x, o = t.nw.y - e3.nw.y;
  }
  return { changeX: r, changeY: o };
};
var useResize = (d) => {
  const p = useEditor((e3) => ({ frameScale: e3.scale }))["frameScale"];
  return (0, import_react.useMemo)(() => ({ getResized: (e3, t, n, r) => {
    var { boxSize: o, position: i, rotate: a, scale: s } = d(), l = o.width / o.height, c = new WebKitCSSMatrix(getTransformStyle({ position: i, rotate: a })), u = distanceBetweenPoints(t, n, p), t = horizontalAndVerticalChange(a, angleBetweenPoints(t, n), u), n = getNewSize(o, t, i, e3), u = Object.assign(Object.assign({}, n), { width: Math.max(20, n.width), height: Math.max(20, n.height) }), t = getSizeWithRatio(u, l, r), n = visualCorners(o, c, i), u = visualCorners(t, c, t), { changeX: l, changeY: r } = getPositionChangesBetweenTwoCorners(n, u, e3);
    return { boxSize: t, position: { x: t.x - l, y: t.y - r }, rotate: a, scale: s };
  } }), [d, p]);
};
var getNewSize = (e3, t, n, r) => {
  switch (r) {
    case "top":
      return { x: n.x, y: n.y + t.height, width: e3.width, height: e3.height - t.height };
    case "bottom":
      return { x: n.x, y: n.y, width: e3.width, height: e3.height + t.height };
    case "left":
      return { x: n.x + t.width, y: n.y, width: e3.width - t.width, height: e3.height };
    case "right":
      return { x: n.x, y: n.y, width: e3.width + t.width, height: e3.height };
    case "topLeft":
      return { x: n.x + t.width, y: n.y + t.height, width: e3.width - t.width, height: e3.height - t.height };
    case "bottomLeft":
      return { x: n.x + t.width, y: n.y, width: e3.width - t.width, height: e3.height + t.height };
    case "bottomRight":
      return { x: n.x, y: n.y, width: e3.width + t.width, height: e3.height + t.height };
    default:
      return { x: n.x, y: n.y + t.height, width: e3.width + t.width, height: e3.height - t.height };
  }
};
var getImageSize$1 = (e3, t, n, r) => {
  var o, i = lodashExports.cloneDeep({ boxSize: e3.boxSize, position: e3.position, rotate: e3.rotate, scale: e3.scale, image: { boxSize: t.boxSize, position: t.position, rotate: t.rotate } }), a = t.boxSize.width / t.boxSize.height;
  return 0 !== r.width && (i.boxSize.width += r.width, n.toLowerCase().includes("left") && (r.width > Math.abs(i.image.position.x) ? (i.image.position.x = 0, o = r.width - Math.abs(t.position.x), i.image.boxSize.width += o, i.image.boxSize.height += o * a) : i.image.position.x += r.width), n.toLowerCase().includes("right")) && r.width + e3.boxSize.width - t.position.x > t.boxSize.width && (o = r.width + e3.boxSize.width - t.position.x - t.boxSize.width, i.image.boxSize.width += o, i.image.boxSize.height += o * a), 0 !== r.height && (i.boxSize.height += r.height, n.toLowerCase().includes("top") && (r.height > Math.abs(i.image.position.y) ? (i.image.position.y = 0, o = r.height - Math.abs(t.position.y), i.image.boxSize.height += o, i.image.boxSize.width += o / a) : i.image.position.y += r.height), n.toLowerCase().includes("bottom")) && r.height + e3.boxSize.height - t.position.y > t.boxSize.height && (o = r.height + e3.boxSize.height - t.position.y - t.boxSize.height, i.image.boxSize.height += o, i.image.boxSize.width += o / a), i;
};
var useResizeImage = ({ getData: e3, onResizeStart: o, onResize: r, onResizeEnd: n, lockAspect: i = false }) => {
  const a = (0, import_react.useRef)({ clientX: 0, clientY: 0, last: { clientX: 0, clientY: 0 }, direction: "topRight", isResizing: false, lockAspect: i }), s = useResize(e3)["getResized"], l = (e4, t) => s(a.current.direction, a.current, { clientX: e4, clientY: t }, a.current.lockAspect), c = lodashExports.throttle((e4) => {
    e4.stopPropagation(), a.current.e = e4;
    var { clientX: e4, clientY: t } = getPosition(e4), n2 = (a.current.last = { clientX: e4, clientY: t }, l(e4, t));
    r(n2, a.current.direction, a.current, { clientX: e4, clientY: t });
  }, 16), u = (e4) => {
    e4.stopPropagation();
    var { clientX: e4, clientY: t } = a.current.last, e4 = l(e4, t);
    n && n(e4), window.removeEventListener("mousemove", c), window.removeEventListener("touchmove", c), window.removeEventListener("mouseup", u), window.removeEventListener("mouseleave", u), window.removeEventListener("touchend", u);
  };
  (0, import_react.useEffect)(() => {
    const e4 = (e5) => {
      a.current.lockAspect = i || e5.shiftKey, a.current.e && a.current.isResizing && c(a.current.e);
    };
    return window.addEventListener("keydown", e4), window.addEventListener("keyup", e4), () => {
      window.removeEventListener("keydown", e4), window.removeEventListener("keyup", e4);
    };
  }, [c]);
  return { startResize: (e4, t) => {
    var { clientX: n2, clientY: r2 } = getPosition(e4);
    a.current = { clientX: n2, clientY: r2, last: { clientX: n2, clientY: r2 }, direction: t, e: e4, isResizing: true, lockAspect: i }, o(e4, t), window.addEventListener("mousemove", c), window.addEventListener("touchmove", c), window.addEventListener("mouseup", u, { once: true }), window.addEventListener("mouseleave", u, { once: true }), window.addEventListener("touchend", u, { once: true });
  } };
};
function useLinkedRef(e3) {
  const t = void 0 === e3 ? (0, import_react.useRef)() : (0, import_react.useRef)(e3);
  var e3 = (0, import_react.useCallback)(() => t.current, []), n = (0, import_react.useCallback)((e4) => {
    t.current = e4;
  }, []);
  return [t, e3, n];
}
var boundingRect = (e3, t, n) => {
  var n = n * Math.PI / 180, r = Math.cos(n), n = Math.sin(n), o = e3.width * Math.abs(r) + e3.height * Math.abs(n), n = e3.width * Math.abs(n) + e3.height * Math.abs(r), r = t.x + e3.width / 2, t = t.y + e3.height / 2;
  return { width: o, height: n, centerX: r, centerY: t, x: r - o / 2, y: t - n / 2 };
};
var useDrag = ({ getData: r, onDragStart: n }) => {
  const { imageEditor: o, actions: i, scale: a } = useEditor((e3) => {
    return { imageEditor: e3.imageEditor, scale: e3.scale };
  }), s = (0, import_react.useRef)(), l = () => {
    window.removeEventListener("mousemove", u), window.removeEventListener("touchmove", u), window.removeEventListener("mouseup", d), window.removeEventListener("mouseleave", d), window.removeEventListener("touchend", d);
  }, c = ({ clientX: e3, clientY: t }) => {
    var n2 = distanceBetweenPoints(s.current, { clientX: e3, clientY: t }, a), e3 = horizontalAndVerticalChange(r(), angleBetweenPoints(s.current, { clientX: e3, clientY: t }), n2);
    return { x: e3.width, y: e3.height };
  }, u = lodashExports.throttle((e3) => {
    var t;
    o && s.current && (e3.stopPropagation(), { clientX: e3, clientY: t } = getPosition(e3), s.current.moveX = e3, s.current.moveY = t, e3 = c({ clientX: e3, clientY: t }), t = boundingRect(o.boxSize, { x: o.image.position.x + e3.x, y: o.image.position.y + e3.y }, 0), e3 = Math.min(Math.max(t.x, t.width - o.image.boxSize.width), 0), t = Math.min(Math.max(t.y, t.height - o.image.boxSize.height), 0), o) && i.updateImageEditor({ image: { position: { x: e3, y: t } } });
  }, 16), d = () => {
    var e3, t;
    o && s.current && ({ moveX: e3, moveY: t } = s.current, e3 = c({ clientX: e3, clientY: t }), t = boundingRect(o.boxSize, { x: o.image.position.x + e3.x, y: o.image.position.y + e3.y }, 0), e3 = Math.min(Math.max(t.x, t.width - o.image.boxSize.width), 0), t = Math.min(Math.max(t.y, t.height - o.image.boxSize.height), 0), o && i.updateImageEditor({ image: { position: { x: e3, y: t } } }), l());
  };
  return { startDrag: (e3) => {
    e3.stopPropagation();
    var { clientX: e3, clientY: t } = getPosition(e3.nativeEvent);
    s.current = { clientX: e3, clientY: t, moveX: e3, moveY: t }, n && n(), window.addEventListener("mousemove", u), window.addEventListener("touchmove", u), window.addEventListener("mouseup", d, { once: true }), window.addEventListener("mouseleave", d, { once: true }), window.addEventListener("touchend", d, { once: true });
  } };
};
var ImageEditorControl = () => {
  const r = (0, import_react.useRef)(null), o = (0, import_react.useRef)(null), [m, e3, t] = useLinkedRef(), [, n, i] = useLinkedRef(), { imageEditor: g, actions: v, originalLayer: a, scale: u } = useEditor((e4) => {
    var t2 = e4.imageEditor;
    return { imageEditor: t2, scale: e4.scale, originalLayer: e4.pages[t2.pageIndex].layers[t2.layerId] };
  });
  var s = useDrag({ getData: n, onDragStart: () => {
    g && i(g.rotate);
  } })["startDrag"], l = ((0, import_react.useEffect)(() => {
    const e4 = (e5) => {
      var t2 = null === o || void 0 === o ? void 0 : o.current, n2 = null === r || void 0 === r ? void 0 : r.current;
      !t2 || t2.contains(e5.target) || "ROOT" !== g.layerId && null != n2 && n2.contains(e5.target) || v.closeImageEditor();
    };
    return window.addEventListener("mousedown", e4, { capture: true }), () => {
      window.removeEventListener("mousedown", e4, { capture: true });
    };
  }, []), useResizeImage({ lockAspect: true, getData: e3, onResizeStart: () => {
    g && t({ boxSize: g.image.boxSize, position: g.image.position, rotate: g.image.rotate });
  }, onResize: ({ boxSize: o2, position: i2, rotate: a2 }, s2) => {
    if (g && m.current) {
      let e4 = Math.min(i2.x, 0), t2 = Math.min(i2.y, 0), n2 = o2.width, r2 = o2.height;
      var l2, c, u2, d = m.current.boxSize.width / m.current.boxSize.height, p = -1 * m.current.position.x - -1 * m.current.position.y * d, f = -1 * m.current.position.y - -1 * m.current.position.x / d, h = m.current.position.x / m.current.position.y;
      ["topLeft"].includes(s2) ? (c = g.boxSize.width / g.boxSize.height, l2 = i2.y - t2, u2 = i2.x - e4, (0 < l2 || 0 < u2) && (c < h ? (e4 = -p, n2 += i2.x - e4, r2 += +i2.y) : (t2 = -f, n2 += i2.x, r2 += +i2.y - t2))) : "bottomRight" === s2 && (o2.width < g.boxSize.width - g.image.position.x || o2.height < g.boxSize.height - g.image.position.y) ? d < (l2 = Math.max(o2.width, g.boxSize.width - g.image.position.x)) / (u2 = Math.max(o2.height, g.boxSize.height - g.image.position.y)) ? (n2 = g.boxSize.width - g.image.position.x, r2 = n2 / d) : l2 / u2 < d && (r2 = g.boxSize.height - g.image.position.y, n2 = r2 * d) : "topRight" === s2 && (0 < i2.y || o2.width < g.boxSize.width - m.current.position.x) ? (c = g.boxSize.width - m.current.position.x, d < (p = (null == (h = m.current) ? void 0 : h.boxSize.width) - c) / m.current.position.y * -1 ? (r2 = Math.max(m.current.boxSize.height + m.current.position.y, o2.height), n2 = r2 * d) : (n2 = Math.max(g.boxSize.width - m.current.position.x, o2.width), r2 = n2 / d, t2 = m.current.position.y + p / d)) : "bottomLeft" === s2 && (0 < i2.x || o2.height < g.boxSize.height - m.current.position.y) && (f = g.boxSize.height - m.current.position.y, d < ((u2 = (null == (l2 = m.current) ? void 0 : l2.boxSize.height) - f) / m.current.position.x * -1 || 0) ? (n2 = Math.max(m.current.boxSize.width + m.current.position.x, o2.width), r2 = n2 / d) : (r2 = Math.max(g.boxSize.height - m.current.position.y, o2.height), n2 = r2 * d, e4 = m.current.position.x + u2 * d)), v.updateImageEditor({ image: { boxSize: { width: n2, height: r2 }, position: { x: e4, y: t2 }, rotate: a2 } });
    }
  } }))["startResize"];
  return useResizeImage({ getData: e3, onResizeStart: () => {
    g && t({ boxSize: g.boxSize, position: g.position, rotate: g.rotate });
  }, onResize: ({ boxSize: n2, position: r2, rotate: o2 }, i2, a2, s2) => {
    if (g && m.current) {
      var l2 = distanceBetweenPoints(a2, s2, u), c = horizontalAndVerticalChange(g.rotate, angleBetweenPoints(a2, s2), l2);
      let e4 = g.image.position.x, t2 = g.image.position.y;
      switch (i2) {
        case "topLeft":
          e4 -= c.width, t2 -= c.height;
          break;
        case "bottomLeft":
          e4 -= c.width;
          break;
        case "topRight":
          t2 -= c.height;
      }
      a2 = Math.min(e4, 0), s2 = Math.min(t2, 0);
      v.updateImageEditor({ boxSize: { width: Math.min(n2.width + (a2 - e4), g.image.boxSize.width + a2), height: Math.min(n2.height + (s2 - t2), g.image.boxSize.height + s2) }, position: { x: Math.max(r2.x, m.current.position.x + g.image.position.x), y: Math.max(r2.y, m.current.position.y + g.image.position.y) }, rotate: o2, image: { position: { x: a2, y: s2 } } });
    }
  }, onResizeEnd: ({ boxSize: e4, position: t2, rotate: n2 }) => {
    g && v.setProp(g.pageIndex, g.layerId, { boxSize: e4, position: t2, rotate: n2 });
  } }), jsxs2("div", { css: { position: "absolute", inset: 0, pointerEvents: "none", zIndex: 4 }, children: ["ROOT" !== g.layerId && !isFrameLayer(a) && jsx2("div", { ref: r, css: { position: "absolute", top: 0, left: 0, width: g.boxSize.width * u, height: g.boxSize.height * u, outline: "2px solid #3d8eff", boxShadow: "0 0 0 1px hsla(0,0%,100%,.07), inset 0 0 0 1px hsla(0,0%,100%,.07)", transform: getTransformStyle({ position: { x: g.position.x * u, y: g.position.y * u }, rotate: g.rotate }) }, children: false }), jsx2("div", { css: { width: g.boxSize.width * u, height: g.boxSize.height * u, left: 0, top: 0, position: "absolute", transform: getTransformStyle({ position: { x: g.position.x * u, y: g.position.y * u }, rotate: g.rotate }) }, children: jsxs2("div", { ref: o, css: { width: g.image.boxSize.width * u, height: g.image.boxSize.height * u, left: 0, top: 0, position: "absolute", outline: "2px solid rgba(61, 142, 255,.5)", boxShadow: "0 0 0 1px hsla(0,0%,100%,.07), inset 0 0 0 1px hsla(0,0%,100%,.07)", transform: getTransformStyle({ position: { x: g.image.position.x * u, y: g.image.position.y * u }, rotate: g.image.rotate }) }, onTouchStart: s, onMouseDown: s, children: [jsx2("div", { css: { position: "absolute", inset: -12, pointerEvents: "auto", cursor: "move" } }), jsx2(ImageEditorHandler, { direction: "topLeft", onResizeStart: l }), jsx2(ImageEditorHandler, { direction: "topRight", onResizeStart: l }), jsx2(ImageEditorHandler, { direction: "bottomRight", onResizeStart: l }), jsx2(ImageEditorHandler, { direction: "bottomLeft", onResizeStart: l })] }) })] });
};
var positionOfObjectInsideAnother = (e3, t) => {
  var n = boundingRect(e3.boxSize, e3.position, e3.rotate), r = boundingRect(t.boxSize, { x: e3.position.x + t.position.x * (e3.scale || 1), y: e3.position.y + t.position.y * (e3.scale || 1) }, e3.rotate), o = n.centerX, n = n.centerY, i = r.centerX, r = r.centerY, a = Math.cos(e3.rotate * Math.PI / 180), s = Math.sin(e3.rotate * Math.PI / 180);
  const l = o + (i - o) * a - (r - n) * s, c = n + (i - o) * s + (r - n) * a;
  o = l - i, s = c - r;
  return { x: e3.position.x + t.position.x * (e3.scale || 1) + o, y: e3.position.y + t.position.y * (e3.scale || 1) + s, rotate: e3.rotate + t.rotate };
};
var ImageEditor = () => {
  var e3, t = (0, import_react.useRef)(null), { imageEditor: n, originalLayer: r, scale: o } = useEditor((e4) => {
    var t2 = e4.imageEditor;
    return { imageEditor: t2, scale: e4.scale, originalLayer: t2 ? e4.pages[t2.pageIndex].layers[t2.layerId] : null };
  });
  return n && r ? (e3 = positionOfObjectInsideAnother(n, n.image), jsxs2("div", { css: { position: "absolute", inset: 0, pointerEvents: "none" }, children: [jsx2("div", { css: { width: n.image.boxSize.width * o, height: n.image.boxSize.height * o, left: 0, top: 0, position: "absolute", transform: getTransformStyle({ position: { x: e3.x * o, y: e3.y * o }, rotate: e3.rotate }), opacity: 0.5 }, children: jsx2("div", { css: { width: "100%", height: "100%" }, children: jsx2("img", { src: n.image.url, crossOrigin: "anonymous", css: { display: "block", height: "100%", width: "100%", position: "absolute", pointerEvents: "none", objectFit: "fill" } }) }) }), jsx2("div", { ref: t, css: { position: "absolute", top: 0, left: 0, width: n.boxSize.width * o, height: n.boxSize.height * o, transform: getTransformStyle({ position: { x: n.position.x * o, y: n.position.y * o }, rotate: n.rotate }), overflow: "hidden", clipPath: isFrameLayer(r) ? scalePath(r.data.props.clipPath, r.data.props.scale * o) : void 0 }, children: jsx2("div", { css: { width: n.image.boxSize.width * o, height: n.image.boxSize.height * o, transform: getTransformStyle({ position: { x: n.image.position.x * o, y: n.image.position.y * o }, rotate: n.image.rotate }), opacity: 1, position: "absolute", left: 0, top: 0 }, children: jsx2("div", { css: { width: "100%", height: "100%" }, children: jsx2("img", { src: n.image.url, crossOrigin: "anonymous", css: { display: "block", height: "100%", width: "100%", position: "absolute", pointerEvents: "none", objectFit: "fill" } }) }) }) }), jsx2(ImageEditorControl, {})] })) : null;
};
var getVirtualDomHeight = (e3, t, n) => {
  var r = document.createElement("div"), t = (r.style.width = t / n + "px", r.style.visibility = "hidden", r.style.top = "-9999px", r.style.transform = `scale(${n})`, r.style.position = "fixed", r.appendChild(e3), document.body.appendChild(r), e3.clientHeight * n);
  return document.body.removeChild(r), { clientHeight: t };
};
var useResizeLayer = ({ options: { scalable: a }, getLayerData: e3, setLayerData: o, controlBox: s, getControlBoxData: l, setControlBoxData: c, onResize: r, onResizeStop: n }) => {
  const u = (0, import_react.useRef)({ clientX: 0, clientY: 0, lastClientX: 0, lastClientY: 0, direction: "right", isResizing: false, shiftKey: false }), d = useResize(l)["getResized"], { selectedLayers: p, selectedLayerIds: f } = useSelectedLayers(), h = useEditor()["actions"], i = (e4, t) => {
    var n2, r2, o2, i2 = 1 === p.length && isImageLayer(p[0]);
    return a ? (n2 = !["top", "left", "right", "bottom"].includes(u.current.direction), r2 = d(u.current.direction, u.current, { clientX: e4, clientY: t }, n2), o2 = l(), Object.assign(Object.assign({}, r2), { scale: n2 ? r2.boxSize.width / o2.boxSize.width * (o2.scale || 1) : o2.scale })) : d(u.current.direction, u.current, { clientX: e4, clientY: t }, u.current.shiftKey && !i2 || 1 < f.length || i2 && !u.current.shiftKey && !["top", "left", "right", "bottom"].includes(u.current.direction));
  }, m = ({ clientX: e4, clientY: t }) => {
    var n2 = u.current, e4 = i(e4, t);
    return !a || !["top", "left", "right", "bottom"].includes(n2.direction) || 1 < f.length || !isTextLayer(p[0]) ? e4 : (n2 = getVirtualDomHeight(null == (t = p[0].data.editor) ? void 0 : t.dom, e4.boxSize.width, e4.scale || 1)["clientHeight"], mergeWithoutArray(e4, { boxSize: { height: n2 } }));
  }, g = (r2) => {
    const o2 = e3(), i2 = l(), a2 = r2.boxSize.width / i2.boxSize.width, s2 = {};
    return p.forEach(({ id: e4 }) => {
      var t = o2[e4], n2 = { width: t.boxSize.width * a2, height: t.boxSize.height * a2 };
      s2[e4] = { position: { x: i2.position.x - (i2.position.x - t.position.x) * a2 + (r2.position.x - i2.position.x), y: i2.position.y - (i2.position.y - t.position.y) * a2 + (r2.position.y - i2.position.y) }, boxSize: n2, scale: void 0 !== t.scale ? t.scale * a2 : void 0, rotate: t.rotate };
    }), s2;
  }, v = lodashExports.throttle((e4) => {
    var t, n2;
    u.current.isResizing && ({ clientX: t, clientY: n2 } = getPosition(e4), u.current.lastClientX = t, u.current.lastClientY = n2, u.current.e = e4, e4 = m({ clientX: t, clientY: n2 }), h.setResizeData(true, f, u.current.direction, e4.rotate, e4.boxSize, { clientX: t, clientY: n2 }), 1 === f.length ? r({ controlBox: e4, layers: { [f[0]]: e4 }, direction: u.current.direction, lockAspect: !u.current.shiftKey && !["top", "left", "right", "bottom"].includes(u.current.direction) && isImageLayer(p[0]) || u.current.shiftKey && !isImageLayer(p[0]) }) : r({ controlBox: e4, layers: g(e4), direction: u.current.direction, lockAspect: true }));
  }, 16), y = () => {
    var e4, t;
    u.current.isResizing && ({ lastClientX: t, lastClientY: e4 } = u.current, t = m({ clientX: t, clientY: e4 }), 1 === f.length ? n({ controlBox: t, layers: { [f[0]]: t }, direction: u.current.direction, lockAspect: !u.current.shiftKey && !["top", "left", "right", "bottom"].includes(u.current.direction) && isImageLayer(p[0]) || u.current.shiftKey && !isImageLayer(p[0]) }) : n({ controlBox: t, layers: g(t), direction: u.current.direction, lockAspect: true }), u.current.isResizing = false, h.setResizeData(false), window.removeEventListener("mousemove", v), window.removeEventListener("touchmove", v));
  };
  (0, import_react.useEffect)(() => {
    const e4 = (e5) => {
      u.current.shiftKey = e5.shiftKey, u.current.e && u.current.isResizing && v(u.current.e);
    };
    return window.addEventListener("keydown", e4), window.addEventListener("keyup", e4), () => {
      window.removeEventListener("keydown", e4), window.removeEventListener("keyup", e4);
    };
  }, [i]);
  return { startResizing: (e4, t) => {
    if (s) {
      var { clientX: n2, clientY: r2 } = getPosition(e4);
      u.current = { clientX: n2, clientY: r2, lastClientX: n2, lastClientY: r2, direction: t, e: e4, isResizing: true, shiftKey: false }, h.setResizeData(true, f, u.current.direction, s.rotate, s.boxSize, { clientX: n2, clientY: r2 }), c(s);
      const i2 = {};
      p.forEach(({ id: e5, data: { props: { boxSize: t2, position: n3, rotate: r3, scale: o2 } } }) => {
        i2[e5] = lodashExports.cloneDeep({ boxSize: t2, position: n3, rotate: r3, scale: o2 });
      }), o(i2), h.history.new(), window.addEventListener("mousemove", v), window.addEventListener("touchmove", v), window.addEventListener("mouseup", y, { once: true }), window.addEventListener("mouseleave", y, { once: true }), window.addEventListener("touchend", y, { once: true });
    }
  } };
};
var setRightAngle = (e3) => e3 < 1 && 0 <= e3 || e3 <= 360 && 359 < e3 ? 0 : 44 < e3 && e3 < 46 ? 45 : 89 < e3 && e3 < 91 ? 90 : 134 < e3 && e3 < 136 ? 135 : 179 < e3 && e3 < 181 ? 180 : 224 < e3 && e3 < 226 ? 225 : 269 < e3 && e3 < 271 ? 270 : e3;
var useRotateLayer = ({ pageIndex: r, getLayerData: t, setLayerData: i, pageOffset: n, getControlBoxData: o, setControlBoxData: a, onRotate: s }) => {
  const f = (0, import_react.useRef)(), { selectedLayers: l, selectedLayerIds: h } = useSelectedLayers(), { scale: c, controlBox: u, actions: d } = useEditor((e3, t2) => {
    var n2 = e3.hoveredLayer[r];
    return { scale: e3.scale, controlBox: e3.controlBox, hoveredLayer: n2 && t2.getLayer(r, n2) };
  }), p = (e3) => {
    const a2 = e3 - o().rotate, s2 = Math.cos(a2 * Math.PI / 180), l2 = Math.sin(a2 * Math.PI / 180), c2 = t(), u2 = {}, d2 = (null == (e3 = f.current) ? void 0 : e3.centerX) || 0, p2 = (null == (e3 = f.current) ? void 0 : e3.centerY) || 0;
    return h.map((e4) => {
      var t2 = c2[e4], { centerX: n2, centerY: r2 } = Object.assign({ centerX: 0, centerY: 0 }, t2);
      const o2 = d2 + (n2 - d2) * s2 - (r2 - p2) * l2, i2 = p2 + (n2 - d2) * l2 + (r2 - p2) * s2;
      u2[e4] = { boxSize: t2.boxSize, rotate: t2.rotate + a2, position: { x: t2.position.x + (o2 - n2), y: t2.position.y + (i2 - r2) }, scale: t2.scale };
    }), u2;
  }, m = lodashExports.throttle((e3) => {
    var t2;
    f.current && ({ clientX: e3, clientY: t2 } = getPosition(e3), f.current.last = { clientX: e3, clientY: t2 }, t2 = 180 * Math.atan2(t2 - n.y - f.current.centerY * c, e3 - n.x - f.current.centerX * c) / Math.PI - (f.current.prevDegree < 230 && 130 < f.current.prevDegree ? 0 : 90), t2 = setRightAngle((360 + t2) % 360), d.setRotateData(true, t2), 1 === h.length ? s({ controlBox: Object.assign(Object.assign({}, u), { rotate: t2 }), layers: { [l[0].id]: { boxSize: l[0].data.props.boxSize, position: l[0].data.props.position, scale: l[0].data.props.scale, rotate: t2 } } }) : s({ controlBox: Object.assign(Object.assign({}, u), { rotate: t2 }), layers: p(t2) }));
  }, 16), g = () => {
    var e3, t2;
    f.current && ({ clientX: e3, clientY: t2 } = f.current.last, t2 = 180 * Math.atan2(t2 - n.y - f.current.centerY * c, e3 - n.x - f.current.centerX * c) / Math.PI - (f.current.prevDegree < 230 && 130 < f.current.prevDegree ? 0 : 90), t2 = setRightAngle((360 + t2) % 360), 1 === h.length ? s({ controlBox: Object.assign(Object.assign({}, u), { rotate: t2 }), layers: { [l[0].id]: { boxSize: l[0].data.props.boxSize, position: l[0].data.props.position, scale: l[0].data.props.scale, rotate: t2 } } }) : s({ controlBox: Object.assign(Object.assign({}, u), { rotate: t2 }), layers: p(t2) }), f.current = void 0, d.setRotateData(false), window.removeEventListener("touchmove", m), window.removeEventListener("mousemove", m), window.removeEventListener("mouseup", g), window.removeEventListener("mouseleave", g), window.removeEventListener("touchend", g));
  };
  return { startRotate: (e3) => {
    var { clientX: e3, clientY: t2 } = getPosition(e3), { centerX: n2, centerY: r2 } = boundingRect(u.boxSize, u.position, u.rotate);
    f.current = { centerX: n2, centerY: r2, last: { clientX: e3, clientY: t2 }, prevDegree: u.rotate };
    const o2 = {};
    l.forEach((e4) => {
      var { centerX: t3, centerY: n3 } = boundingRect(e4.data.props.boxSize, e4.data.props.position, e4.data.props.rotate);
      o2[e4.id] = lodashExports.cloneDeep({ position: e4.data.props.position, boxSize: e4.data.props.boxSize, rotate: e4.data.props.rotate, scale: e4.data.props.scale, centerX: t3, centerY: n3 });
    }), a(u), i(o2), d.setRotateData(true, setRightAngle(u.rotate)), d.history.new(), window.addEventListener("touchmove", m), window.addEventListener("mousemove", m), window.addEventListener("mouseup", g, { once: true }), window.addEventListener("mouseleave", g, { once: true }), window.addEventListener("touchend", g, { once: true });
  } };
};
var useDisabledFeatures = () => {
  const e3 = useSelectedLayers()["selectedLayers"], n = (0, import_react.useMemo)(() => !!e3.find((e4) => isTextLayer(e4) || isGroupLayer(e4) || isFrameLayer(e4) || isShapeLayer(e4)), [JSON.stringify(e3.map((e4) => e4.id))]);
  return (0, import_react.useMemo)(() => {
    const t = { vertical: 1 < e3.length, horizontal: 1 < e3.length, corners: false, locked: false, rotate: false, scalable: !n };
    return e3.forEach((e4) => {
      e4.data.locked && (t.locked = true, t.vertical = true, t.horizontal = true, t.corners = true, t.rotate = true), isTextLayer(e4) && (t.vertical = true), (isFrameLayer(e4) || isSvgLayer(e4)) && (t.horizontal = true, t.vertical = true, t.scalable = false), isGroupLayer(e4) && (t.horizontal = true, t.vertical = true);
    }), t;
  }, [e3]);
};
var HANDLER_CORNER_SIZE = 16;
var CornerResizeHandler = ({ isActive: e3, top: t, left: n, bottom: r, right: o, direction: i, rotate: a, onResizeStart: s }) => {
  var l = (0, import_react.useContext)(EditorContext)["config"]["assetPath"], a = Math.round((a + { bottomLeft: 45, topLeft: 135, topRight: 225, bottomRight: 315 }[i] + 90) % 180 / 10);
  const c = (e4) => {
    s(e4.nativeEvent, i);
  };
  return jsx2("div", { css: { top: t, left: n, bottom: r, right: o, position: "absolute", width: 32, height: 32, display: "flex", justifyContent: "center", alignItems: "center" }, children: jsx2("div", { onTouchStart: (e4) => {
    e4.stopPropagation(), c(e4);
  }, onMouseDown: (e4) => {
    e4.stopPropagation(), c(e4);
  }, css: { width: HANDLER_CORNER_SIZE, height: HANDLER_CORNER_SIZE, pointerEvents: "auto", display: "flex", alignItems: "center", justifyContent: "center", ":hover": { cursor: `url('${l}/cursors/resize/${a}.png') 12 12, auto` } }, children: jsx2("div", { css: { background: e3 ? "#3d8eff" : "white", width: 12, height: 12, position: "absolute", borderRadius: "50%", boxShadow: "0 0 4px 1px rgba(57,76,96,.15), 0 0 0 1px rgba(43,59,74,.3)", pointerEvents: "none", ":hover": { background: "#3d8eff" } } }) }) });
};
var HANDLER_SIZE = 16;
var ResizeHandler = ({ isActive: e3, boxSize: t, width: n, height: r, top: o, left: i, right: a, bottom: s, direction: l, rotate: c, onResizeStart: u }) => {
  var d = (0, import_react.useContext)(EditorContext)["config"]["assetPath"], c = Math.round((c + { left: 90, top: 180, right: 270, bottom: 0 }[l] + 90) % 180 / 10);
  const p = (e4) => {
    u(e4.nativeEvent, l);
  };
  return jsx2("div", { css: { width: n, height: r, top: o, left: i, right: a, bottom: s, position: "absolute", display: "flex", alignItems: "center", justifyContent: "center", pointerEvents: "auto", clipPath: ["top", "bottom"].includes(l) ? `inset(0 ${HANDLER_SIZE / 2}px)` : `inset(${HANDLER_SIZE / 2}px 0)`, ":hover": { cursor: `url('${d}/cursors/resize/${c}.png') 12 12, auto` } }, onTouchStart: (e4) => {
    e4.stopPropagation(), p(e4);
  }, onMouseDown: (e4) => {
    e4.stopPropagation(), p(e4);
  }, children: (50 < t.width && ["top", "bottom"].includes(l) || 50 < t.height && ["left", "right"].includes(l)) && jsx2("div", { css: { background: e3 ? "#3d8eff" : "white", width: ["top", "bottom"].includes(l) ? 18 : 6, height: ["top", "bottom"].includes(l) ? 6 : 18, borderRadius: 3, position: "absolute", boxShadow: "0 0 4px 1px rgba(57,76,96,.15), 0 0 0 1px rgba(43,59,74,.3)", ":hover": { background: "#3d8eff", boxShadow: "0 0 0 1px rgba(57,76,96,.15)" } } }) });
};
var ArrowsClockwiseIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M197.67 186.37a8 8 0 0 1 0 11.29C196.58 198.73 170.82 224 128 224c-37.39 0-64.53-22.4-80-39.85V208a8 8 0 0 1-16 0v-48a8 8 0 0 1 8-8h48a8 8 0 0 1 0 16H55.44C67.76 183.35 93 208 128 208c36 0 58.14-21.46 58.36-21.68a8 8 0 0 1 11.31.05ZM216 40a8 8 0 0 0-8 8v23.85C192.53 54.4 165.39 32 128 32c-42.82 0-68.58 25.27-69.66 26.34a8 8 0 0 0 11.3 11.34C69.86 69.46 92 48 128 48c35 0 60.24 24.65 72.56 40H168a8 8 0 0 0 0 16h48a8 8 0 0 0 8-8V48a8 8 0 0 0-8-8Z" }) }));
};
var RotateHandle = ({ rotate: e3, onRotateStart: t }) => {
  var n = useEditor((e4) => ({ isRotating: e4.rotateData.status }))["isRotating"], { assetPath: r } = (0, import_react.useContext)(EditorContext)["config"], o = (0, import_react.useCallback)((e4) => {
    e4.stopPropagation(), t(e4.nativeEvent);
  }, [t]), i = Math.round(e3 / 10);
  return jsxs2("div", { css: { bottom: e3 < 230 && 130 < e3 ? "50%" : -48, position: "absolute", left: e3 < 230 && 130 < e3 ? "calc(100% + 48px)" : "50%", transform: e3 < 230 && 130 < e3 ? "translateY(50%)" : "translateX(-50%)", pointerEvents: "auto", display: n ? "none" : "block" }, children: [jsx2("div", { children: jsx2("div", { css: { background: "white", boxShadow: "0 0 4px 1px rgba(57,76,96,.15), 0 0 0 1px rgba(43,59,74,.3)", width: 24, height: 24, borderRadius: "50%", display: "flex", alignItems: "center", justifyContent: "center", padding: 4, color: "#0d1216", ":hover": { cursor: `url('${r}/cursors/rotate/${36 === i ? 0 : i}.png') 12 12, auto;` } }, onMouseDown: o, onTouchStart: o, children: jsx2(ArrowsClockwiseIcon, {}) }) }), n && jsxs2("div", { css: { position: "absolute", left: 60, top: 36, whiteSpace: "nowrap", background: "#1E1E2D", padding: "3px 8px", borderRadius: 4, textAlign: "center", color: "white", fontSize: 12, fontWeight: 700 }, children: [Math.round(e3), "°"] })] });
};
var ControlBox = ({ boxSize: e3, position: t, rotate: n, disabled: r, locked: o, onResizeStart: i, onRouteStart: a }, s) => {
  s = useForwardedRef(s);
  const l = (0, import_react.useContext)(PageContext)["pageIndex"];
  var { imageEditor: c, isRotating: u, isDragging: d, frameScale: p, selectState: f, isGroup: h, resizeDirection: m, isPageLocked: g } = useEditor((e4) => ({ isGroup: 1 < e4.selectedLayers[l].length, imageEditor: e4.imageEditor, isDragging: e4.dragData.status, isRotating: e4.rotateData.status, resizeDirection: e4.resizeData.direction, frameScale: e4.scale, selectState: e4.selectData.status, isPageLocked: e4.pages[l].locked })), v = (e4, t2) => {
    i && i(e4, t2);
  };
  return c ? null : jsx2("div", { ref: s, css: { position: "absolute" }, style: { transform: getTransformStyle({ position: { x: t.x * p, y: t.y * p }, rotate: n }), width: e3.width * p, height: e3.height * p }, children: !d && !o && !f && !g && jsxs2(import_react.Fragment, { children: [!r.corners && !u && jsxs2(import_react.Fragment, { children: [(!m || "topLeft" === m) && jsx2(CornerResizeHandler, { top: -HANDLER_CORNER_SIZE, left: -HANDLER_CORNER_SIZE, direction: "topLeft", isActive: "topLeft" === m, rotate: n, onResizeStart: v }), (!m || "topRight" === m) && jsx2(CornerResizeHandler, { top: -HANDLER_CORNER_SIZE, right: -HANDLER_CORNER_SIZE, direction: "topRight", isActive: "topRight" === m, rotate: n, onResizeStart: v }), (!m || "bottomLeft" === m) && jsx2(CornerResizeHandler, { bottom: -HANDLER_CORNER_SIZE, left: -HANDLER_CORNER_SIZE, direction: "bottomLeft", isActive: "bottomLeft" === m, rotate: n, onResizeStart: v }), (!m || "bottomRight" === m) && jsx2(CornerResizeHandler, { bottom: -HANDLER_CORNER_SIZE, right: -HANDLER_CORNER_SIZE, direction: "bottomRight", isActive: "bottomRight" === m, rotate: n, onResizeStart: v })] }), !h && !u && jsxs2(import_react.Fragment, { children: [!r.vertical && jsxs2(import_react.Fragment, { children: [(!m || "top" === m) && jsx2(ResizeHandler, { width: "100%", height: HANDLER_SIZE, top: -HANDLER_SIZE / 2, boxSize: e3, direction: "top", isActive: "top" === m, rotate: n, onResizeStart: v }), (!m || "bottom" === m) && jsx2(ResizeHandler, { width: "100%", height: HANDLER_SIZE, bottom: -HANDLER_SIZE / 2, direction: "bottom", isActive: "bottom" === m, boxSize: e3, rotate: n, onResizeStart: v })] }), !r.horizontal && !u && jsxs2(import_react.Fragment, { children: [(!m || "left" === m) && jsx2(ResizeHandler, { width: HANDLER_SIZE, height: "100%", left: -HANDLER_SIZE / 2, direction: "left", isActive: "left" === m, boxSize: e3, rotate: n, onResizeStart: v }), (!m || "right" === m) && jsx2(ResizeHandler, { width: HANDLER_SIZE, height: "100%", right: -HANDLER_SIZE / 2, direction: "right", isActive: "right" === m, boxSize: e3, rotate: n, onResizeStart: v })] })] }), !o && !r.rotate && !m && jsx2(RotateHandle, { rotate: n, onRotateStart: a })] }) });
};
var ControlBox$1 = (0, import_react.forwardRef)(ControlBox);
var DotsThreeBoldIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M144 128a16 16 0 1 1-16-16 16 16 0 0 1 16 16Zm-84-16a16 16 0 1 0 16 16 16 16 0 0 0-16-16Zm136 0a16 16 0 1 0 16 16 16 16 0 0 0-16-16Z" }) }));
};
var Toolbar = () => {
  const e3 = (0, import_react.useContext)(PageContext)["pageIndex"], t = (0, import_react.useRef)(null), { selectedLayerIds: n, selectedLayers: r } = useSelectedLayers(), { actions: o, state: i, isDragging: a, isResizing: s, isRotating: l, controlBox: c, pageSize: u, isOpenMenu: d, scale: p, isPageLocked: f } = useEditor((e4) => ({ isGroup: 1 < e4.selectedLayers[e4.activePage].length, isDragging: e4.dragData.status, isResizing: e4.resizeData.status, isRotating: e4.rotateData.status, controlBox: e4.controlBox, pageSize: e4.pageSize, isPageLocked: e4.pages[e4.activePage].locked, isOpenMenu: !!e4.openMenu, scale: e4.scale }));
  var h, m = r.find((e4) => e4.data.locked), g = (0, import_react.useMemo)(() => c ? boundingRect(c.boxSize, c.position, c.rotate) : { x: 0, y: 80, width: u.width, height: u.height }, [c]);
  return a || s || l || n.includes("ROOT") && !m && !f || !c ? null : (h = !!r.find((e4) => isGroupLayer(e4)), jsx2("div", { ref: t, css: { position: "absolute", left: (g.x + g.width / 2) * p, top: g.y * p - 60, transform: "translateX(-50%)" }, children: jsx2("div", { css: { height: 40, borderRadius: 4, padding: "0 4px", display: "inline-flex", alignItems: "center", background: "#fff", boxShadow: "0 0 0 1px rgba(64,87,109,.07),0 2px 12px rgba(53,71,90,.2)", overflow: "hidden", pointerEvents: "auto", color: "#0d1216" }, onMouseDown: (e4) => {
    e4.stopPropagation();
  }, children: jsxs2("div", { css: { alignItems: "center", display: "flex", whiteSpace: "nowrap" }, children: [!f && !m && !n.includes("ROOT") && jsxs2(import_react.Fragment, { children: [1 < n.length && jsx2("div", { css: { lineHeight: "32px", display: "flex", justifyContent: "center", alignItems: "center", cursor: "pointer", fontSize: 14, padding: "0 8px", fontWeight: 700, ":hover": { backgroundColor: "rgba(64,87,109,.07)" } }, onClick: () => {
    o.group(n);
  }, children: "Group" }), h && jsx2("div", { css: { lineHeight: "32px", display: "flex", justifyContent: "center", alignItems: "center", cursor: "pointer", fontSize: 14, padding: "0 8px", fontWeight: 700, ":hover": { backgroundColor: "rgba(64,87,109,.07)" } }, onClick: () => {
    1 === n.length && o.ungroup(n[0]);
  }, children: "Ungroup" }), jsx2("div", { css: { width: 32, height: 32, display: "flex", justifyContent: "center", alignItems: "center", cursor: "pointer", fontSize: 24, ":hover": { backgroundColor: "rgba(64,87,109,.07)" } }, onClick: () => {
    duplicate(i, { pageIndex: e3, layerIds: n, actions: o });
  }, children: jsx2(DuplicateIcon, {}) }), jsx2("div", { css: { width: 32, height: 32, display: "flex", justifyContent: "center", alignItems: "center", cursor: "pointer", fontSize: 24, ":hover": { backgroundColor: "rgba(64,87,109,.07)" } }, onClick: () => o.deleteLayer(e3, n), children: jsx2(TrashIcon, {}) }), jsx2("div", { css: { width: 32, height: 32, display: "flex", justifyContent: "center", alignItems: "center", cursor: "pointer", fontSize: 24, ":hover": { backgroundColor: "rgba(64,87,109,.07)" } }, onClick: () => {
    var e4;
    d ? o.hideContextMenu() : (e4 = null == (e4 = t.current) ? void 0 : e4.getBoundingClientRect(), o.showContextMenu({ clientX: e4.right - 42, clientY: e4.bottom + 4 }));
  }, children: jsx2(DotsThreeBoldIcon, {}) })] }), (m || f) && jsx2("div", { css: { width: 32, height: 32, display: "flex", justifyContent: "center", alignItems: "center", cursor: "pointer", fontSize: 24, color: f ? "rgba(36,49,61,.4)" : void 0, ":hover": { backgroundColor: f ? void 0 : "rgba(64,87,109,.07)" } }, onClick: () => {
    o.unlock(e3, n);
  }, children: jsx2(LockKeyIcon, {}) })] }) }) }));
};
var Toolbar$1 = import_react.default.memo(Toolbar);
var LayerBorderBox = ({ boxSize: e3, position: t, rotate: n, type: r = "solid" }, o) => {
  var i = useEditor((e4) => ({ scale: e4.scale }))["scale"];
  return jsxs2("div", { ref: o, css: { width: e3.width * i, height: e3.height * i, boxShadow: "0 0 0 1px rgba(57,76,96,.15)", position: "absolute", transform: t ? getTransformStyle({ position: { x: t.x * i, y: t.y * i }, rotate: n }) : void 0 }, children: ["solid" === r && jsx2("div", { css: { border: "2px solid #3d8eff", boxShadow: "0 0 0 1px hsla(0,0%,100%,.07), inset 0 0 0 1px hsla(0,0%,100%,.07)", position: "absolute", inset: -1 } }), "dashed" === r && jsx2("div", { css: { inset: -1, position: "absolute", backgroundImage: "linear-gradient(90deg,#fff 60%,rgba(53,71,90,.2) 0),linear-gradient(180deg,#fff 60%,rgba(53,71,90,.2) 0),linear-gradient(90deg,#fff 60%,rgba(53,71,90,.2) 0),linear-gradient(180deg,#fff 60%,rgba(53,71,90,.2) 0),linear-gradient(90deg,rgba(57,76,96,.15),rgba(57,76,96,.15)),linear-gradient(180deg,rgba(57,76,96,.15),rgba(57,76,96,.15)),linear-gradient(90deg,rgba(57,76,96,.15),rgba(57,76,96,.15)),linear-gradient(180deg,rgba(57,76,96,.15),rgba(57,76,96,.15))", backgroundPosition: "top,100%,bottom,0,center 2px,calc(100% - 2px),center calc(100% - 2px),2px", backgroundRepeat: "repeat-x,repeat-y,repeat-x,repeat-y,no-repeat,no-repeat,no-repeat,no-repeat", backgroundSize: "6px 2px,2px 6px,6px 2px,2px 6px,calc(100% - 6px) 1px,1px calc(100% - 4px),calc(100% - 6px) 1px,1px calc(100% - 4px)" } })] });
};
var LayerBorderBox$1 = (0, import_react.forwardRef)(LayerBorderBox);
var CaretUpIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M213.66 165.66a8 8 0 0 1-11.32 0L128 91.31l-74.34 74.35a8 8 0 0 1-11.32-11.32l80-80a8 8 0 0 1 11.32 0l80 80a8 8 0 0 1 0 11.32Z" }) }));
};
var CaretDownIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "m213.66 101.66-80 80a8 8 0 0 1-11.32 0l-80-80a8 8 0 0 1 11.32-11.32L128 164.69l74.34-74.35a8 8 0 0 1 11.32 11.32Z" }) }));
};
var FilePlusIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "m213.66 82.34-56-56A8 8 0 0 0 152 24H56a16 16 0 0 0-16 16v176a16 16 0 0 0 16 16h144a16 16 0 0 0 16-16V88a8 8 0 0 0-2.34-5.66ZM160 51.31 188.69 80H160ZM200 216H56V40h88v48a8 8 0 0 0 8 8h48v120Zm-40-64a8 8 0 0 1-8 8h-16v16a8 8 0 0 1-16 0v-16h-16a8 8 0 0 1 0-16h16v-16a8 8 0 0 1 16 0v16h16a8 8 0 0 1 8 8Z" }) }));
};
var LockKeyOpenIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M208 80H96V56a32 32 0 0 1 32-32c15.37 0 29.2 11 32.16 25.59a8 8 0 0 0 15.68-3.18C171.32 24.15 151.2 8 128 8a48.05 48.05 0 0 0-48 48v24H48a16 16 0 0 0-16 16v112a16 16 0 0 0 16 16h160a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16Zm0 128H48V96h160v112Zm-80-96a28 28 0 0 0-8 54.83V184a8 8 0 0 0 16 0v-17.17a28 28 0 0 0-8-54.83Zm0 40a12 12 0 1 1 12-12 12 12 0 0 1-12 12Z" }) }));
};
var EditorContent = ({ editor: t }) => {
  const n = (0, import_react.useRef)(null), r = useEditor()["actions"];
  return (0, import_react.useEffect)(() => {
    r.history.new();
    var e3 = createEditor({ content: t.dom.innerHTML, ele: n.current, handleDOMEvents: { blur: () => {
      isMobile_1 && r.closeTextEditor();
    } } });
    selectText({ from: e3.state.doc.content.size, to: e3.state.doc.content.size })(e3.state, e3.dispatch), e3.focus(), r.setOpeningEditor(e3);
  }, [r]), jsx2("div", { ref: n });
};
var EditorContent$1 = import_react.default.memo(EditorContent);
var TextEditor = () => {
  var e3, t, n, r, o, i, a, s, { editorScale: l, layer: c } = useEditor((e4) => {
    var t2 = e4.textEditor, n2 = e4.pages[t2.pageIndex].layers[t2.layerId];
    return { editorScale: e4.scale, textEditor: t2, layer: n2 };
  });
  return c ? (e3 = c.data.editor, { boxSize: c, position: t, scale: n, rotate: r, transparency: o, effect: i, colors: a, fontSizes: s } = c.data.props, jsx2("div", { css: { touchAction: "pan-x pan-y pinch-zoom", pointerEvents: "auto", position: "absolute", width: c.width * l, height: c.height * l, transform: getTransformStyle({ position: { x: t.x * l, y: t.y * l }, rotate: r }), opacity: o, top: 0, left: 0 }, children: jsx2("div", { css: Object.assign({ width: c.width / n, height: c.height / n, transform: `scale(${n * l})`, transformOrigin: "0 0", p: { "&:before": Object.assign({}, getTextEffectStyle((null == i ? void 0 : i.name) || "none", null == i ? void 0 : i.settings, a[0], s[0])) } }, getTextEffectStyle((null == i ? void 0 : i.name) || "none", null == i ? void 0 : i.settings, a[0], s[0])), onMouseDown: (e4) => e4.stopPropagation(), children: e3 && jsx2(EditorContent$1, { editor: e3 }) }) })) : null;
};
function resolveUrl(e3, t) {
  var n, r, o;
  return e3.match(/^[a-z]+:\/\//i) ? e3 : e3.match(/^\/\//) ? window.location.protocol + e3 : e3.match(/^[a-z]+:/i) ? e3 : (r = (n = document.implementation.createHTMLDocument()).createElement("base"), o = n.createElement("a"), n.head.appendChild(r), n.body.appendChild(o), t && (r.href = t), o.href = e3, o.href);
}
var uuid = (() => {
  let e3 = 0;
  return () => (e3 += 1, "u" + ("0000" + (Math.random() * 36 ** 4 << 0).toString(36)).slice(-4) + e3);
})();
function toArray(n) {
  var r = [];
  for (let e3 = 0, t = n.length; e3 < t; e3++)
    r.push(n[e3]);
  return r;
}
function px(e3, t) {
  e3 = (e3.ownerDocument.defaultView || window).getComputedStyle(e3).getPropertyValue(t);
  return e3 ? parseFloat(e3.replace("px", "")) : 0;
}
function getNodeWidth(e3) {
  var t = px(e3, "border-left-width"), n = px(e3, "border-right-width");
  return e3.clientWidth + t + n;
}
function getNodeHeight(e3) {
  var t = px(e3, "border-top-width"), n = px(e3, "border-bottom-width");
  return e3.clientHeight + t + n;
}
function getImageSize(e3, t = {}) {
  return { width: t.width || getNodeWidth(e3), height: t.height || getNodeHeight(e3) };
}
function getPixelRatio() {
  let e3, t;
  try {
    t = process;
  } catch (e4) {
  }
  var n = t && t.env ? t.env.devicePixelRatio : null;
  return (e3 = n && (e3 = parseInt(n, 10), Number.isNaN(e3)) ? 1 : e3) || window.devicePixelRatio || 1;
}
var canvasDimensionLimit = 16384;
function checkCanvasDimensions(e3) {
  (e3.width > canvasDimensionLimit || e3.height > canvasDimensionLimit) && (e3.width > canvasDimensionLimit && e3.height > canvasDimensionLimit ? e3.width > e3.height ? (e3.height *= canvasDimensionLimit / e3.width, e3.width = canvasDimensionLimit) : (e3.width *= canvasDimensionLimit / e3.height, e3.height = canvasDimensionLimit) : e3.width > canvasDimensionLimit ? (e3.height *= canvasDimensionLimit / e3.width, e3.width = canvasDimensionLimit) : (e3.width *= canvasDimensionLimit / e3.height, e3.height = canvasDimensionLimit));
}
function createImage(r) {
  return new Promise((e3, t) => {
    const n = new Image();
    n.decode = () => e3(n), n.onload = () => e3(n), n.onerror = t, n.crossOrigin = "anonymous", n.decoding = "async", n.src = r;
  });
}
async function svgToDataURL(e3) {
  return Promise.resolve().then(() => new XMLSerializer().serializeToString(e3)).then(encodeURIComponent).then((e4) => "data:image/svg+xml;charset=utf-8," + e4);
}
async function nodeToDataURL(e3, t, n) {
  var r = "http://www.w3.org/2000/svg", o = document.createElementNS(r, "svg"), r = document.createElementNS(r, "foreignObject");
  return o.setAttribute("width", "" + t), o.setAttribute("height", "" + n), o.setAttribute("viewBox", `0 0 ${t} ` + n), r.setAttribute("width", "100%"), r.setAttribute("height", "100%"), r.setAttribute("x", "0"), r.setAttribute("y", "0"), r.setAttribute("externalResourcesRequired", "true"), o.appendChild(r), r.appendChild(e3), svgToDataURL(o);
}
var isInstanceOfElement = (e3, t) => {
  return e3 instanceof t || null !== (e3 = Object.getPrototypeOf(e3)) && (e3.constructor.name === t.name || isInstanceOfElement(e3, t));
};
function formatCSSText(e3) {
  var t = e3.getPropertyValue("content");
  return `${e3.cssText} content: '${t.replace(/'|"/g, "")}';`;
}
function formatCSSProperties(t) {
  return toArray(t).map((e3) => {
    return e3 + `: ${t.getPropertyValue(e3)}${t.getPropertyPriority(e3) ? " !important" : ""};`;
  }).join(" ");
}
function getPseudoElementStyle(e3, t, n) {
  e3 = `.${e3}:` + t, t = (n.cssText ? formatCSSText : formatCSSProperties)(n);
  return document.createTextNode(e3 + `{${t}}`);
}
function clonePseudoElement(e3, t, n) {
  var e3 = window.getComputedStyle(e3, n), r = e3.getPropertyValue("content");
  if ("" !== r && "none" !== r) {
    r = uuid();
    try {
      t.className = t.className + " " + r;
    } catch (e4) {
      return;
    }
    var o = document.createElement("style");
    o.appendChild(getPseudoElementStyle(r, n, e3)), t.appendChild(o);
  }
}
function clonePseudoElements(e3, t) {
  clonePseudoElement(e3, t, ":before"), clonePseudoElement(e3, t, ":after");
}
var WOFF = "application/font-woff";
var JPEG = "image/jpeg";
var mimes = { woff: WOFF, woff2: WOFF, ttf: "application/font-truetype", eot: "application/vnd.ms-fontobject", png: "image/png", jpg: JPEG, jpeg: JPEG, gif: "image/gif", tiff: "image/tiff", svg: "image/svg+xml", webp: "image/webp" };
function getExtension(e3) {
  e3 = /\.([^./]*?)$/g.exec(e3);
  return e3 ? e3[1] : "";
}
function getMimeType(e3) {
  e3 = getExtension(e3).toLowerCase();
  return mimes[e3] || "";
}
function getContentFromDataUrl(e3) {
  return e3.split(/,/)[1];
}
function isDataUrl(e3) {
  return -1 !== e3.search(/^(data:)/);
}
function makeDataUrl(e3, t) {
  return `data:${t};base64,` + e3;
}
async function fetchAsDataURL(e3, t, r) {
  const o = await fetch(e3, t);
  if (404 === o.status)
    throw new Error(`Resource "${o.url}" not found`);
  const i = await o.blob();
  return new Promise((e4, t2) => {
    const n = new FileReader();
    n.onerror = t2, n.onloadend = () => {
      try {
        e4(r({ res: o, result: n.result }));
      } catch (e5) {
        t2(e5);
      }
    }, n.readAsDataURL(i);
  });
}
var cache = {};
function getCacheKey(e3, t, n) {
  let r = e3.replace(/\?.*/, "");
  return n && (r = e3), /ttf|otf|eot|woff2?/i.test(r) && (r = r.replace(/.*\//, "")), t ? `[${t}]` + r : r;
}
async function resourceToDataURL(n, r, o) {
  var e3 = getCacheKey(n, r, o.includeQueryParams);
  if (null != cache[e3])
    return cache[e3];
  o.cacheBust && (n += (/\?/.test(n) ? "&" : "?") + (/* @__PURE__ */ new Date()).getTime());
  let i;
  try {
    var t = await fetchAsDataURL(n, o.fetchRequestInit, ({ res: e4, result: t2 }) => (r = r || e4.headers.get("Content-Type") || "", getContentFromDataUrl(t2)));
    i = makeDataUrl(t, r);
  } catch (e4) {
    i = o.imagePlaceholder || "";
    let t2 = "Failed to fetch resource: " + n;
    (t2 = e4 ? "string" == typeof e4 ? e4 : e4.message : t2) && console.warn(t2);
  }
  return cache[e3] = i;
}
async function cloneCanvasElement(e3) {
  var t = e3.toDataURL();
  return "data:," === t ? e3.cloneNode(false) : createImage(t);
}
async function cloneVideoElement(e3, t) {
  if (e3.currentSrc) {
    var n = document.createElement("canvas"), r = n.getContext("2d");
    n.width = e3.clientWidth, n.height = e3.clientHeight, null != r && r.drawImage(e3, 0, 0, n.width, n.height);
    const o2 = n.toDataURL();
    return createImage(o2);
  }
  r = e3.poster;
  const o = await resourceToDataURL(r, getMimeType(r), t);
  return createImage(o);
}
async function cloneIFrameElement(e3) {
  var t;
  try {
    if (null != (t = null == e3 ? void 0 : e3.contentDocument) && t.body)
      return await cloneNode(e3.contentDocument.body, {}, true);
  } catch (e4) {
  }
  return e3.cloneNode(false);
}
async function cloneSingleNode(e3, t) {
  return isInstanceOfElement(e3, HTMLCanvasElement) ? cloneCanvasElement(e3) : isInstanceOfElement(e3, HTMLVideoElement) ? cloneVideoElement(e3, t) : isInstanceOfElement(e3, HTMLIFrameElement) ? cloneIFrameElement(e3) : e3.cloneNode(false);
}
var isSlotElement = (e3) => null != e3.tagName && "SLOT" === e3.tagName.toUpperCase();
async function cloneChildren(e3, n, r) {
  var t;
  let o = [];
  return 0 === (o = isSlotElement(e3) && e3.assignedNodes ? toArray(e3.assignedNodes()) : isInstanceOfElement(e3, HTMLIFrameElement) && null != (t = e3.contentDocument) && t.body ? toArray(e3.contentDocument.body.childNodes) : toArray((null != (t = e3.shadowRoot) ? t : e3).childNodes)).length || isInstanceOfElement(e3, HTMLVideoElement) || await o.reduce((e4, t2) => e4.then(() => cloneNode(t2, r)).then((e5) => {
    e5 && n.appendChild(e5);
  }), Promise.resolve()), n;
}
function cloneCSSStyle(r, o) {
  const i = o.style;
  if (i) {
    const a = window.getComputedStyle(r);
    a.cssText ? (i.cssText = a.cssText, i.transformOrigin = a.transformOrigin) : toArray(a).forEach((e3) => {
      let t = a.getPropertyValue(e3);
      var n;
      "font-size" === e3 && t.endsWith("px") && (n = Math.floor(parseFloat(t.substring(0, t.length - 2))) - 0.1, t = n + "px"), isInstanceOfElement(r, HTMLIFrameElement) && "display" === e3 && "inline" === t && (t = "block"), "d" === e3 && o.getAttribute("d") && (t = `path(${o.getAttribute("d")})`), i.setProperty(e3, t, a.getPropertyPriority(e3));
    });
  }
}
function cloneInputValue(e3, t) {
  isInstanceOfElement(e3, HTMLTextAreaElement) && (t.innerHTML = e3.value), isInstanceOfElement(e3, HTMLInputElement) && t.setAttribute("value", e3.value);
}
function cloneSelectValue(t, e3) {
  isInstanceOfElement(t, HTMLSelectElement) && (e3 = Array.from(e3.children).find((e4) => t.value === e4.getAttribute("value"))) && e3.setAttribute("selected", "");
}
function decorate(e3, t) {
  return isInstanceOfElement(t, Element) && (cloneCSSStyle(e3, t), clonePseudoElements(e3, t), cloneInputValue(e3, t), cloneSelectValue(e3, t)), t;
}
async function ensureSVGSymbols(t, n) {
  var r = t.querySelectorAll ? t.querySelectorAll("use") : [];
  if (0 !== r.length) {
    var o = {};
    for (let e4 = 0; e4 < r.length; e4++) {
      var i, a, s = r[e4].getAttribute("xlink:href");
      s && (i = t.querySelector(s), a = document.querySelector(s), i || !a || o[s] || (o[s] = await cloneNode(a, n, true)));
    }
    var l = Object.values(o);
    if (l.length) {
      var e3 = "http://www.w3.org/1999/xhtml", c = document.createElementNS(e3, "svg"), u = (c.setAttribute("xmlns", e3), c.style.position = "absolute", c.style.width = "0", c.style.height = "0", c.style.overflow = "hidden", c.style.display = "none", document.createElementNS(e3, "defs"));
      c.appendChild(u);
      for (let e4 = 0; e4 < l.length; e4++)
        u.appendChild(l[e4]);
      t.appendChild(c);
    }
  }
  return t;
}
async function cloneNode(t, n, e3) {
  return e3 || !n.filter || n.filter(t) ? Promise.resolve(t).then((e4) => cloneSingleNode(e4, n)).then((e4) => cloneChildren(t, e4, n)).then((e4) => decorate(t, e4)).then((e4) => ensureSVGSymbols(e4, n)) : null;
}
var URL_REGEX = /url\((['"]?)([^'"]+?)\1\)/g;
var URL_WITH_FORMAT_REGEX = /url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g;
var FONT_SRC_REGEX = /src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;
function toRegex(e3) {
  e3 = e3.replace(/([.*+?^${}()|\[\]\/\\])/g, "\\$1");
  return new RegExp(`(url\\(['"]?)(${e3})(['"]?\\))`, "g");
}
function parseURLs(e3) {
  const r = [];
  return e3.replace(URL_REGEX, (e4, t, n) => (r.push(n), e4)), r.filter((e4) => !isDataUrl(e4));
}
async function embed(t, n, r, o, i) {
  try {
    var a = r ? resolveUrl(n, r) : n, s = getMimeType(n);
    let e3;
    return e3 = i ? makeDataUrl(await i(a), s) : await resourceToDataURL(a, s, o), t.replace(toRegex(n), `$1${e3}$3`);
  } catch (e3) {
  }
  return t;
}
function filterPreferredFontFormat(e3, { preferredFontFormat: r }) {
  return r ? e3.replace(FONT_SRC_REGEX, (e4) => {
    for (; ; ) {
      var [t, , n] = URL_WITH_FORMAT_REGEX.exec(e4) || [];
      if (!n)
        return "";
      if (n === r)
        return `src: ${t};`;
    }
  }) : e3;
}
function shouldEmbed(e3) {
  return -1 !== e3.search(URL_REGEX);
}
async function embedResources(e3, n, r) {
  var t;
  return shouldEmbed(e3) ? parseURLs(t = filterPreferredFontFormat(e3, r)).reduce((e4, t2) => e4.then((e5) => embed(e5, t2, n, r)), Promise.resolve(t)) : e3;
}
async function embedProp(e3, t, n) {
  var r = null == (r = t.style) ? void 0 : r.getPropertyValue(e3);
  return !!r && (r = await embedResources(r, null, n), t.style.setProperty(e3, r, t.style.getPropertyPriority(e3)), true);
}
async function embedBackground(e3, t) {
  await embedProp("background", e3, t) || await embedProp("background-image", e3, t), await embedProp("mask", e3, t) || await embedProp("mask-image", e3, t);
}
async function embedImageNode(n, e3) {
  const r = isInstanceOfElement(n, HTMLImageElement);
  if (r && !isDataUrl(n.src) || isInstanceOfElement(n, SVGImageElement) && !isDataUrl(n.href.baseVal)) {
    var t = r ? n.src : n.href.baseVal;
    const o = await resourceToDataURL(t, getMimeType(t), e3);
    await new Promise((e4, t2) => {
      n.onload = e4, n.onerror = t2;
      t2 = n;
      t2.decode && (t2.decode = e4), "lazy" === t2.loading && (t2.loading = "eager"), r ? (n.srcset = "", n.src = o) : n.href.baseVal = o;
    });
  }
}
async function embedChildren(e3, t) {
  var n = toArray(e3.childNodes).map((e4) => embedImages(e4, t));
  await Promise.all(n).then(() => e3);
}
async function embedImages(e3, t) {
  isInstanceOfElement(e3, Element) && (await embedBackground(e3, t), await embedImageNode(e3, t), await embedChildren(e3, t));
}
function applyStyle(e3, t) {
  const n = e3["style"], r = (t.backgroundColor && (n.backgroundColor = t.backgroundColor), t.width && (n.width = t.width + "px"), t.height && (n.height = t.height + "px"), t.style);
  return null != r && Object.keys(r).forEach((e4) => {
    n[e4] = r[e4];
  }), e3;
}
var cssFetchCache = {};
async function fetchCSS(e3) {
  var t = cssFetchCache[e3];
  return null == t && (t = { url: e3, cssText: await (await fetch(e3)).text() }, cssFetchCache[e3] = t), t;
}
async function embedFonts(n, r) {
  let o = n.cssText;
  const i = /url\(["']?([^"')]+)["']?\)/g;
  var e3 = (o.match(/url\([^)]+\)/g) || []).map(async (t) => {
    let e4 = t.replace(i, "$1");
    return fetchAsDataURL(e4 = e4.startsWith("https://") ? e4 : new URL(e4, n.url).href, r.fetchRequestInit, ({ result: e5 }) => (o = o.replace(t, `url(${e5})`), [t, e5]));
  });
  return Promise.all(e3).then(() => o);
}
function parseCSS(e3) {
  if (null == e3)
    return [];
  var t = [];
  let n = e3.replace(/(\/\*[\s\S]*?\*\/)/gi, "");
  for (var r = new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})", "gi"); ; ) {
    var o = r.exec(n);
    if (null === o)
      break;
    t.push(o[0]);
  }
  n = n.replace(r, "");
  for (var i = /@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi, a = new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})", "gi"); ; ) {
    let e4 = i.exec(n);
    if (null === e4) {
      if (null === (e4 = a.exec(n)))
        break;
      i.lastIndex = a.lastIndex;
    } else
      a.lastIndex = i.lastIndex;
    t.push(e4[0]);
  }
  return t;
}
async function getCSSRules(n, o) {
  const r = [], i = [];
  return n.forEach((r2) => {
    if ("cssRules" in r2)
      try {
        toArray(r2.cssRules || []).forEach((e3, t) => {
          if (e3.type === CSSRule.IMPORT_RULE) {
            let n2 = t + 1;
            t = fetchCSS(e3.href).then((e4) => embedFonts(e4, o)).then((e4) => parseCSS(e4).forEach((t2) => {
              try {
                r2.insertRule(t2, t2.startsWith("@import") ? n2 += 1 : r2.cssRules.length);
              } catch (e5) {
                console.error("Error inserting rule from remote css", { rule: t2, error: e5 });
              }
            })).catch((e4) => {
              console.error("Error loading remote css", e4.toString());
            });
            i.push(t);
          }
        });
      } catch (e3) {
        const t = n.find((e4) => null == e4.href) || document.styleSheets[0];
        null != r2.href && i.push(fetchCSS(r2.href).then((e4) => embedFonts(e4, o)).then((e4) => parseCSS(e4).forEach((e5) => {
          t.insertRule(e5, r2.cssRules.length);
        })).catch((e4) => {
          console.error("Error loading remote stylesheet", e4);
        })), console.error("Error inlining remote css file", e3);
      }
  }), Promise.all(i).then(() => (n.forEach((t) => {
    if ("cssRules" in t)
      try {
        toArray(t.cssRules || []).forEach((e3) => {
          r.push(e3);
        });
      } catch (e3) {
        console.error("Error while reading CSS rules from " + t.href, e3);
      }
  }), r));
}
function getWebFontRules(e3) {
  return e3.filter((e4) => e4.type === CSSRule.FONT_FACE_RULE).filter((e4) => shouldEmbed(e4.style.getPropertyValue("src")));
}
async function parseWebFontRules(e3, t) {
  if (null == e3.ownerDocument)
    throw new Error("Provided element is not within a Document");
  return getWebFontRules(await getCSSRules(toArray(e3.ownerDocument.styleSheets), t));
}
async function getWebFontCSS(e3, n) {
  e3 = await parseWebFontRules(e3, n);
  return (await Promise.all(e3.map((e4) => {
    var t = e4.parentStyleSheet ? e4.parentStyleSheet.href : null;
    return embedResources(e4.cssText, t, n);
  }))).join("\n");
}
async function embedWebFonts(e3, t) {
  var n, t = null != t.fontEmbedCSS ? t.fontEmbedCSS : t.skipFonts ? null : await getWebFontCSS(e3, t);
  t && (n = document.createElement("style"), t = document.createTextNode(t), n.appendChild(t), e3.firstChild ? e3.insertBefore(n, e3.firstChild) : e3.appendChild(n));
}
async function toSvg(e3, t = {}) {
  var { width: n, height: r } = getImageSize(e3, t), e3 = await cloneNode(e3, t, true), t = (await embedWebFonts(e3, t), await embedImages(e3, t), applyStyle(e3, t), await nodeToDataURL(e3, n, r));
  return t;
}
async function toCanvas(e3, t = {}) {
  var { width: n, height: r } = getImageSize(e3, t), e3 = await createImage(await toSvg(e3, t)), o = document.createElement("canvas"), i = o.getContext("2d"), a = t.pixelRatio || getPixelRatio(), n = t.canvasWidth || n, r = t.canvasHeight || r;
  return o.width = n * a, o.height = r * a, t.skipAutoScale || checkCanvasDimensions(o), o.style.width = "" + n, o.style.height = "" + r, t.backgroundColor && (i.fillStyle = t.backgroundColor, i.fillRect(0, 0, o.width, o.height)), i.drawImage(e3, 0, 0, o.width, o.height), o;
}
async function toPng(e3, t = {}) {
  return (await toCanvas(e3, t)).toDataURL();
}
var DownloadIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M240 136v64a16 16 0 0 1-16 16H32a16 16 0 0 1-16-16v-64a16 16 0 0 1 16-16h40a8 8 0 0 1 0 16H32v64h192v-64h-40a8 8 0 0 1 0-16h40a16 16 0 0 1 16 16Zm-117.66-2.34a8 8 0 0 0 11.32 0l48-48a8 8 0 0 0-11.32-11.32L136 108.69V24a8 8 0 0 0-16 0v84.69L85.66 74.34a8 8 0 0 0-11.32 11.32ZM200 168a12 12 0 1 0-12 12 12 12 0 0 0 12-12Z" }) }));
};
var Guideline = () => {
  const { guideline: e3, frameScale: n } = useEditor((e4) => ({ guideline: e4.guideline, frameScale: e4.scale }));
  return e3.vertical.length || e3.horizontal.length ? jsxs2("div", { children: [e3.horizontal.map((e4, t) => jsx2("div", { css: { position: "absolute", top: e4.y * n, left: e4.x1 * n, width: (e4.x2 - e4.x1) * n, borderTopWidth: 1, borderStyle: "dashed", borderColor: "#3d8eff" } }, t)), e3.vertical.map((e4, t) => jsx2("div", { css: { position: "absolute", top: e4.y1 * n, left: e4.x * n, height: (e4.y2 - e4.y1) * n, borderLeftWidth: 1, borderStyle: "dashed", borderColor: "#3d8eff" } }, t))] }) : null;
};
var isPointInsideBox = (e3, { nw: t, ne: n, se: r, sw: o }) => {
  var i = Math.sqrt((t.x - n.x) * (t.x - n.x) + (t.y - n.y) * (t.y - n.y)), a = Math.sqrt((n.x - r.x) * (n.x - r.x) + (n.y - r.y) * (n.y - r.y)), s = Math.sqrt((r.x - o.x) * (r.x - o.x) + (r.y - o.y) * (r.y - o.y)), l = Math.sqrt((o.x - t.x) * (o.x - t.x) + (o.y - t.y) * (o.y - t.y)), t = Math.sqrt((t.x - e3.x) * (t.x - e3.x) + (t.y - e3.y) * (t.y - e3.y)), n = Math.sqrt((n.x - e3.x) * (n.x - e3.x) + (n.y - e3.y) * (n.y - e3.y)), r = Math.sqrt((r.x - e3.x) * (r.x - e3.x) + (r.y - e3.y) * (r.y - e3.y)), o = Math.sqrt((o.x - e3.x) * (o.x - e3.x) + (o.y - e3.y) * (o.y - e3.y)), e3 = (i + t + n) / 2, c = (a + n + r) / 2, u = (s + r + o) / 2, d = (l + o + t) / 2;
  return Math.sqrt(e3 * (e3 - i) * (e3 - t) * (e3 - n)) + Math.sqrt(c * (c - a) * (c - n) * (c - r)) + Math.sqrt(u * (u - s) * (u - r) * (u - o)) + Math.sqrt(d * (d - l) * (d - o) * (d - t)) - i * a < 1;
};
var getControlBoxSizeFromLayers = (e3) => {
  if (1 < Object.keys(e3).length) {
    const n = { left: 0, right: 0, top: 0, bottom: 0 };
    return Object.values(e3).forEach((e4, t) => {
      e4 = boundingRect(e4.boxSize, e4.position, e4.rotate);
      n.left = 0 === t ? e4.x : Math.min(n.left, e4.x), n.top = 0 === t ? e4.y : Math.min(n.top, e4.y), n.right = Math.max(n.right, e4.x + e4.width), n.bottom = Math.max(n.bottom, e4.y + e4.height);
    }), { position: { x: n.left, y: n.top }, boxSize: { width: n.right - n.left, height: n.bottom - n.top }, rotate: 0 };
  }
  if (1 === Object.keys(e3).length)
    return { position: { x: (e3 = Object.values(e3)[0]).position.x, y: e3.position.y }, boxSize: { width: e3.boxSize.width, height: e3.boxSize.height }, rotate: e3.rotate, scale: e3.scale };
};
var DesignPage = ({ pageIndex: c, width: e3, height: t, transform: n }, r) => {
  const o = (0, import_react.useRef)(null), i = (0, import_react.useRef)(null);
  var [a] = useLinkedRef(null);
  const s = (0, import_react.useRef)({}), [l, u, d] = useLinkedRef(), [p, f, h] = useLinkedRef({}), { selectedLayerIds: m, selectedLayers: g } = useSelectedLayers();
  var v = useDisabledFeatures();
  const { actions: y, hoveredLayer: b, scale: w, activePage: x, controlBox: S, imageEditor: k, textEditor: C, totalPages: E, isLocked: T } = useEditor((e4) => {
    var t2 = e4.hoveredLayer[c];
    return { activePage: e4.activePage, controlBox: e4.controlBox, scale: e4.scale, isLocked: e4.pages[c] && e4.pages[c].locked, hoveredLayer: t2 ? e4.pages[c].layers[t2] : null, selectStatus: e4.selectData.status, imageEditor: e4.imageEditor, textEditor: e4.textEditor, totalPages: e4.pages.length };
  });
  (0, import_react.useEffect)(() => {
    l.current && d({ boxSize: { width: l.current.boxSize.width * w, height: l.current.boxSize.height * w }, position: { x: l.current.position.x * w, y: l.current.position.y * w }, rotate: l.current.rotate, scale: l.current.scale }), p.current && Object.entries(p.current).forEach(([e4, t2]) => {
      t2.centerX && (p.current[e4].centerX = t2.centerX * w), t2.centerY && (p.current[e4].centerY = t2.centerY * w), p.current[e4].position.x = t2.position.x * w, p.current[e4].position.y = t2.position.y * w, p.current[e4].boxSize.width = t2.boxSize.width * w, p.current[e4].boxSize.height = t2.boxSize.height * w;
    });
  }, [w]);
  var _ = ({ controlBox: e4, layers: t2, direction: s2, lockAspect: l2 }) => {
    y.setControlBox(e4), Object.entries(t2).forEach(([t3, e5]) => {
      var n2, r2, o2, i2, a2 = g.find((e6) => e6.id === t3);
      a2 && (isImageLayer(a2) ? (n2 = e5.boxSize.width - a2.data.props.boxSize.width, r2 = e5.boxSize.height - a2.data.props.boxSize.height, o2 = a2.data.props, l2 ? (i2 = e5.boxSize.width / a2.data.props.boxSize.width, y.history.merge().setProp(c, t3, Object.assign(Object.assign({}, e5), { image: { boxSize: { width: a2.data.props.image.boxSize.width * i2, height: a2.data.props.image.boxSize.height * i2 }, position: { x: a2.data.props.image.position.x * i2, y: a2.data.props.image.position.y * i2 }, rotate: 0 } }))) : (a2 = getImageSize$1(o2, o2.image, s2, { width: n2, height: r2 }), y.history.merge().setProp(c, t3, Object.assign(Object.assign({}, a2), { position: { x: e5.position.x, y: e5.position.y } })))) : y.history.merge().setProp(c, t3, e5));
    });
  }, _ = useResizeLayer({ options: { scalable: !v.scalable }, getLayerData: f, setLayerData: h, controlBox: S, getControlBoxData: u, setControlBoxData: d, onResize: _, onResizeStop: _ })["startResizing"], R = ((0, import_react.useEffect)(() => {
    var e4 = g.filter((e5) => "ROOT" !== e5.id).reduce((e5, t2) => (e5[t2.id] = t2.data.props, e5), {});
    y.setControlBox(getControlBoxSizeFromLayers(e4));
  }, [JSON.stringify(m), w]), ({ controlBox: e4, layers: t2 }) => {
    y.setControlBox(e4), Object.entries(t2).forEach(([e5, t3]) => {
      y.history.merge().setProp(c, e5, t3);
    });
  }), O = useRotateLayer({ pageIndex: c, getLayerData: f, setLayerData: h, pageOffset: { x: (null == (O = o.current) ? void 0 : O.getBoundingClientRect().x) || 0, y: (null == (O = o.current) ? void 0 : O.getBoundingClientRect().y) || 0 }, getControlBoxData: u, setControlBoxData: d, onRotate: R, onRotateEnd: R })["startRotate"];
  return jsxs2(PageProvider, { pageIndex: c, children: [jsxs2("div", { css: { fontWeight: "bold", marginTop: 24, height: 28, display: "flex", alignItems: "center", marginBottom: 4, width: e3 * w, whiteSpace: "nowrap", "@media (max-width: 900px)": { display: "none" } }, children: [jsxs2("div", { css: { flexGrow: 1 }, children: ["Page ", c + 1] }), jsxs2("div", { css: { display: "flex", alignItems: "center", fontSize: 20, color: "#0d1216", height: 28, opacity: 0.7 }, children: [jsx2("div", { css: { marginLeft: 8, width: 28, height: 28, display: "flex", alignItems: "center", justifyContent: "center", borderRadius: 4, cursor: 0 === c ? "not-allowed" : "pointer", color: 0 === c ? "rgba(36,49,61,.4)" : "#0d1216", ":hover": { background: 0 === c ? void 0 : "rgba(64, 87, 109, 0.07)" } }, onClick: () => y.movePageUp(c), children: jsx2(CaretUpIcon, {}) }), jsx2("div", { css: { marginLeft: 8, width: 28, height: 28, display: "flex", alignItems: "center", justifyContent: "center", borderRadius: 4, cursor: c === E - 1 ? "not-allowed" : "pointer", color: c === E - 1 ? "rgba(36,49,61,.4)" : "#0d1216", ":hover": { background: c === E - 1 ? void 0 : "rgba(64, 87, 109, 0.07)" } }, onClick: () => y.movePageDown(c), children: jsx2(CaretDownIcon, {}) }), jsxs2("div", { css: { marginLeft: 8, width: 28, height: 28, display: "flex", alignItems: "center", justifyContent: "center", borderRadius: 4, cursor: "pointer", ":hover": { background: "rgba(64, 87, 109, 0.07)" } }, onClick: () => {
    T ? y.unlockPage(c) : y.lockPage(c);
  }, children: [!T && jsx2(LockKeyOpenIcon, {}), T && jsx2(LockKeyIcon, {})] }), jsx2("div", { css: { marginLeft: 8, width: 28, height: 28, display: "flex", alignItems: "center", justifyContent: "center", borderRadius: 4, cursor: "pointer", ":hover": { background: "rgba(64, 87, 109, 0.07)" } }, onClick: () => y.duplicatePage(c), children: jsx2(DuplicateIcon, {}) }), jsx2("div", { css: { marginLeft: 8, width: 28, height: 28, display: "flex", alignItems: "center", justifyContent: "center", borderRadius: 4, cursor: "pointer", ":hover": { background: "rgba(64, 87, 109, 0.07)" } }, onClick: () => (async (e4) => {
    if (i.current)
      try {
        var t2 = await toPng(i.current), n2 = document.createElement("a");
        n2.download = `design-id-page-${e4 + 1}.png`, n2.href = t2, n2.click();
      } catch (e5) {
        window.alert("Cannot download: " + e5.message);
      }
  })(c), children: jsx2(DownloadIcon, {}) }), jsx2("div", { css: { marginLeft: 8, width: 28, height: 28, display: "flex", alignItems: "center", justifyContent: "center", borderRadius: 4, cursor: T || E <= 1 ? "not-allowed" : "pointer", color: T || E <= 1 ? "rgba(36,49,61,.4)" : "#0d1216", ":hover": { background: T || E <= 1 ? void 0 : "rgba(64, 87, 109, 0.07)" } }, onClick: () => !T && 1 < E && y.deletePage(c), children: jsx2(TrashIcon, {}) }), jsx2("div", { css: { marginLeft: 8, width: 28, height: 28, display: "flex", alignItems: "center", justifyContent: "center", borderRadius: 4, cursor: "pointer", ":hover": { background: "rgba(64, 87, 109, 0.07)" } }, onClick: () => y.addPage(c), children: jsx2(FilePlusIcon, {}) })] })] }), jsxs2("div", { ref: r, css: { position: "relative", margin: 0, boxShadow: "0 2px 8px rgba(14,19,24,.07)", "@media (max-width: 900px)": { boxShadow: "none" } }, style: { width: e3 * w * n.scale, height: t * w * n.scale, transform: getTransformStyle({ position: n, scale: n.scale }) }, children: [jsx2("div", { ref: o, css: { userSelect: "none", background: "white", overflow: "hidden", transformOrigin: "0 0" }, style: { width: e3, height: t, transform: `scale(${w * n.scale})` }, onContextMenu: (e4) => {
    var t2, n2;
    e4.preventDefault(), b && b.data.locked || (S && o.current && b ? (n2 = new WebKitCSSMatrix(getTransformStyle({ rotate: S.rotate })), t2 = o.current.getBoundingClientRect(), n2 = visualCorners({ width: S.boxSize.width * w, height: S.boxSize.height * w }, n2, { x: t2.x + S.position.x * w, y: t2.y + S.position.y * w }), isPointInsideBox({ x: e4.clientX, y: e4.clientY }, n2) || y.selectLayers(c, b.id)) : b && y.selectLayers(c, b.id), y.showContextMenu(getPosition(e4.nativeEvent)));
  }, children: jsx2("div", { ref: i, css: { width: e3, height: t, position: "relative", left: 0, top: 0, zIndex: 1, "@media (max-width: 900px)": { width: e3 * w, height: t * w } }, children: jsx2(PageElement, {}) }) }), jsxs2("div", { css: { position: "absolute", inset: 0, pointerEvents: "none", zIndex: 2 }, children: [!k && c === x && S && 1 < g.length && jsx2(LayerBorderBox$1, { boxSize: S.boxSize, position: S.position, rotate: S.rotate, type: "dashed" }), !k && c === x && g.map((t2) => jsx2(LayerBorderBox$1, { ref: (e4) => e4 && (s.current[t2.id] = e4), boxSize: t2.data.props.boxSize, position: t2.data.props.position, rotate: t2.data.props.rotate }, t2.id)), !k && b && !m.includes(b.id) && jsx2(LayerBorderBox$1, { ref: (e4) => e4 && (s.current[b.id] = e4), boxSize: b.data.props.boxSize, position: b.data.props.position, rotate: b.data.props.rotate }), !k && c === x && 0 < m.length && jsxs2(import_react.Fragment, { children: [S && jsx2(ControlBox$1, { ref: a, boxSize: S.boxSize, position: S.position, rotate: S.rotate, scale: S.scale, locked: v.locked, disabled: v, onRouteStart: O, onResizeStart: _ }), jsx2(Toolbar$1, {})] }), c === x && jsx2(Guideline, {})] }), k && k.pageIndex === c && jsx2(ImageEditor, {}), C && C.pageIndex === c && jsx2(TextEditor, {})] })] });
};
var DesignPage$1 = (0, import_react.forwardRef)(DesignPage);
var useShortcut = (t) => {
  const { actions: r, state: e3, activePage: o, rootLayer: n, scale: i } = useEditor((e4) => ({ rootLayer: e4.pages[e4.activePage] && e4.pages[e4.activePage].layers.ROOT, activePage: e4.activePage, scale: e4.scale })), a = useSelectedLayers()["selectedLayerIds"], s = (0, import_react.useCallback)(async () => {
    await paste({ actions: r }), r.hideContextMenu();
  }, [r]), l = (0, import_react.useCallback)(async () => {
    await copy(e3, { pageIndex: o, layerIds: a }), r.hideContextMenu();
  }, [r, e3, o, copy, a]), c = (0, import_react.useCallback)(() => {
    duplicate(e3, { pageIndex: o, layerIds: a, actions: r }), r.hideContextMenu();
  }, [e3, o, a]), u = (0, import_react.useCallback)(() => {
    a.includes("ROOT") || r.deleteLayer(e3.activePage, a);
  }, [a, e3, r]), d = 0 === (null == n ? void 0 : n.data.child.findIndex((e4) => a.includes(e4))), p = (null == n ? void 0 : n.data.child.findLastIndex((e4) => a.includes(e4))) === ((null == n ? void 0 : n.data.child.length) || 0) - 1, f = (0, import_react.useCallback)(async (e4) => {
    var t2 = keyName(e4), t2 = modifiers$1(t2, e4), n2 = 0 < a.length;
    switch (t2) {
      case normalizeKeyName$1("Mod-a"):
        r.selectAllLayers(), e4.preventDefault();
        break;
      case normalizeKeyName$1("Mod-z"):
        r.history.undo(), e4.preventDefault();
        break;
      case normalizeKeyName$1("Mod-y"):
        r.history.redo(), e4.preventDefault();
        break;
      case normalizeKeyName$1("Mod-v"):
        await s(), e4.preventDefault();
        break;
      case normalizeKeyName$1("Mod-c"):
        n2 && await l(), e4.preventDefault();
        break;
      case normalizeKeyName$1("Mod-d"):
        n2 && await c(), e4.preventDefault();
        break;
      case normalizeKeyName$1("Mod-]"):
        !n2 || p || r.bringForward(o, a), e4.preventDefault();
        break;
      case normalizeKeyName$1("Mod-Alt-]"):
        !n2 || p || r.bringToFront(o, a), e4.preventDefault();
        break;
      case normalizeKeyName$1("Mod-["):
        !n2 || d || r.sendBackward(o, a), e4.preventDefault();
        break;
      case normalizeKeyName$1("Mod-Alt-["):
        !n2 || d || r.sendToBack(o, a), e4.preventDefault();
        break;
      case normalizeKeyName$1("Delete"):
      case normalizeKeyName$1("Backspace"):
        n2 && u(), e4.preventDefault();
        break;
      case normalizeKeyName$1("ArrowLeft"):
        r.moveSelectedLayers("left", 1);
        break;
      case normalizeKeyName$1("ArrowRight"):
        r.moveSelectedLayers("right", 1);
        break;
      case normalizeKeyName$1("ArrowUp"):
        r.moveSelectedLayers("top", 1);
        break;
      case normalizeKeyName$1("ArrowDown"):
        r.moveSelectedLayers("bottom", 1);
        break;
      case normalizeKeyName$1("Mod-0"):
        r.setScale(1), e4.preventDefault();
        break;
      case normalizeKeyName$1("Mod--"):
        i <= 0.25 ? r.setScale(0.1) : i <= 0.5 ? r.setScale(0.25) : i <= 0.75 ? r.setScale(0.5) : i <= 1 ? r.setScale(0.75) : i <= 1.25 ? r.setScale(1) : i <= 1.5 ? r.setScale(1.25) : i <= 2 ? r.setScale(1.5) : i <= 3 ? r.setScale(2) : i <= 4 ? r.setScale(3) : r.setScale(4), e4.preventDefault();
        break;
      case normalizeKeyName$1("Mod-="):
        4 <= i ? r.setScale(5) : 3 <= i ? r.setScale(4) : 2 <= i ? r.setScale(3) : 1.5 <= i ? r.setScale(2) : 1.25 <= i ? r.setScale(1.5) : 1 <= i ? r.setScale(1.25) : 0.75 <= i ? r.setScale(1) : 0.5 <= i ? r.setScale(0.75) : 0.25 <= i ? r.setScale(0.5) : r.setScale(0.25), e4.preventDefault();
    }
  }, [r, l, s, c, u]);
  (0, import_react.useEffect)(() => {
    const e4 = (e5) => {
      var t2;
      e5.ctrlKey && (t2 = Math.exp(-e5.deltaY / 600), t2 = Math.min(Math.max(i * t2, 0.1), 5), r.setScale(t2), e5.preventDefault(), e5.stopPropagation());
    };
    return null != t && t.addEventListener("wheel", e4, { passive: false }), () => {
      null != t && t.removeEventListener("wheel", e4);
    };
  }, [i]), (0, import_react.useEffect)(() => (null != t && t.addEventListener("keydown", f), () => {
    null != t && t.removeEventListener("keydown", f);
  }), [t, f]);
};
var PlusIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M224 128a8 8 0 0 1-8 8h-80v80a8 8 0 0 1-16 0v-80H40a8 8 0 0 1 0-16h80V40a8 8 0 0 1 16 0v80h80a8 8 0 0 1 8 8Z" }) }));
};
var SquaresFourBoldIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M100 36H56a20 20 0 0 0-20 20v44a20 20 0 0 0 20 20h44a20 20 0 0 0 20-20V56a20 20 0 0 0-20-20Zm-4 60H60V60h36Zm104-60h-44a20 20 0 0 0-20 20v44a20 20 0 0 0 20 20h44a20 20 0 0 0 20-20V56a20 20 0 0 0-20-20Zm-4 60h-36V60h36Zm-96 40H56a20 20 0 0 0-20 20v44a20 20 0 0 0 20 20h44a20 20 0 0 0 20-20v-44a20 20 0 0 0-20-20Zm-4 60H60v-36h36Zm104-60h-44a20 20 0 0 0-20 20v44a20 20 0 0 0 20 20h44a20 20 0 0 0 20-20v-44a20 20 0 0 0-20-20Zm-4 60h-36v-36h36Z" }) }));
};
var Page = ({ pageIndex: e3, width: t, height: n, scale: r, isActive: o }, i) => jsx2(PageProvider, { pageIndex: e3, children: jsx2("div", { ref: i, css: { position: "absolute", left: 0, top: 0, width: t * r, height: n * r, zIndex: 0, margin: 0 }, style: { visibility: o ? "visible" : "hidden", opacity: o ? 1 : 0 }, children: jsx2("div", { css: { width: t, height: n, transform: `scale(${r})`, transformOrigin: "0 0", userSelect: "none", background: "white", overflow: "hidden" }, children: jsx2("div", { css: { width: t * r, height: n * r, position: "relative", left: 0, top: 0 }, children: jsx2(PageElement, {}) }) }) }) });
var Page$1 = (0, import_react.forwardRef)(Page);
var PageSettings = ({ onClose: n }) => {
  const { actions: r, pages: e3, pageSize: o } = useEditor((e4) => ({ pages: e4.pages, pageSize: e4.pageSize }));
  const i = (window.innerWidth / 2 - 36 - 6) / o.width;
  return jsxs2("div", { css: { top: 0, left: 0, width: "100vw", height: "100vh", position: "fixed", background: "#fff", zIndex: 2050 }, children: [jsxs2("div", { css: { display: "flex", alignItems: "center", justifyContent: "center", flexShrink: 0, height: 48, borderBottom: "1px solid rgba(57,76,96,.15)", padding: "0 20px" }, children: [jsx2("p", { css: { lineHeight: "48px", fontWeight: 600, color: "#181C32", flexGrow: 1 }, children: "Pages" }), jsx2("div", { css: { fontSize: 20, flexShrink: 0, width: 32, height: 32, cursor: "pointer", display: "flex", alignItems: "center", justifyContent: "center" }, onClick: () => n(), children: jsx2(XIcon, {}) })] }), jsx2("div", { css: { display: "grid", gridTemplateColumns: "repeat(2,minmax(0,1fr))", gridGap: 24, padding: 24 }, children: e3.map((e4, t) => jsxs2("div", { css: { position: "relative" }, children: [jsx2("div", { css: { position: "relative", width: o.width * i + 6, height: o.height * i + 6, border: "3px solid #fff", boxShadow: "0 0 0 1px rgba(64,87,109,.07),0 2px 8px rgba(57,76,96,.15)", borderRadius: 8 }, children: jsx2(Page$1, { pageIndex: t, width: o.width, height: o.height, scale: i, isActive: true }) }), jsx2("p", { css: { fontSize: 14, fontWeight: 700, textAlign: "center", lineHeight: 2 }, children: t + 1 }), jsx2("div", { css: { position: "absolute", inset: 0 }, onClick: () => {
    return e5 = t, r.setActivePage(e5), void n();
    var e5;
  } })] }, t)) })] });
};
var isElementInViewport = (e3, t) => {
  var n = t.offsetTop;
  return e3.scrollTop + e3.offsetHeight >= n && e3.scrollTop < t.offsetHeight + n;
};
var useZoomPage = (p, f, n) => {
  const h = (0, import_react.useRef)({ isMoving: false, isZoom: false, touchStart: [{ clientX: 0, clientY: 0 }, { clientX: 0, clientY: 0 }], lastTouch: [{ clientX: 0, clientY: 0 }, { clientX: 0, clientY: 0 }], start: { clientX: 0, clientY: 0 }, last: { clientX: 0, clientY: 0 } }), [m, g] = (0, import_react.useState)({ scale: 1, x: 0, y: 0 }), { actions: v, scale: y, activePage: b, pageSize: w, isDragging: r, isRotating: o, isResizing: i, openImageEditor: a, openTextEditor: s, pageLength: t } = useEditor((e4) => ({ scale: e4.scale, activePage: e4.activePage, pageSize: e4.pageSize, isDragging: e4.dragData.status, isRotating: e4.rotateData.status, isResizing: e4.resizeData.status, openImageEditor: !!e4.imageEditor, openTextEditor: !!e4.textEditor, pageLength: e4.pages.length })), l = (0, import_react.useCallback)(() => {
    h.current.isZoom = true, h.current.isMoving = false;
  }, []), c = (0, import_react.useCallback)((e4) => {
    var t2, n2, r2, o2;
    p.current && h.current.isZoom && f.current && (r2 = window.innerWidth - 32, o2 = window.innerHeight - 70 - 72 - 32, { x: t2, y: n2 } = m, r2 = (r2 = (r2 - w.width * y) / 2) === t2 ? 0 : t2 - r2, o2 = (o2 = (o2 - w.height * y) / 2) === n2 ? 0 : n2 - o2, f.current[b].style.transform = getTransformStyle({ position: { x: t2 + r2 * (e4 - 1), y: n2 + o2 * (e4 - 1) }, scale: e4 }));
  }, [w, y]), u = (0, import_react.useCallback)((n2) => {
    if (p.current && h.current.isZoom && f.current) {
      h.current.isZoom = false;
      let e4 = n2;
      var { x: r2, y: o2 } = m, i2 = window.innerWidth - 32, a2 = window.innerHeight - 70 - 72 - 32;
      let t2 = w.width * y * e4;
      t2 < i2 && (e4 = i2 / y / w.width, t2 = i2);
      var s2 = w.width * y, l2 = w.height * y * e4, c2 = w.height * y, u2 = (i2 - s2) / 2, d2 = (a2 - c2) / 2, s2 = (t2 - s2) / 2 - (u2 === r2 ? 0 : r2 - u2) * (e4 - 1), u2 = (l2 - c2) / 2 - (d2 === o2 ? 0 : o2 - d2) * (e4 - 1), c2 = Math.max(-(t2 - i2), Math.min(r2 - s2, 0)), d2 = Math.max(-(l2 - a2 / 2), Math.min(o2 - u2, a2 / 2));
      e4 > n2 && (f.current[b].style.transform = getTransformStyle({ position: { x: c2, y: d2 }, scale: 1 })), g({ scale: 1, x: c2, y: d2 }), v.setScale(Math.max(y * e4));
    }
  }, [w, y, v]);
  var e3 = (0, import_react.useCallback)((e4) => {
    e4 = e4.nativeEvent.touches;
    2 === e4.length && (h.current.touchStart = [e4[0], e4[1]], h.current.lastTouch = [e4[0], e4[1]], l());
  }, [l]), d = (0, import_react.useCallback)(lodashExports.throttle((e4) => {
    var t2, e4 = e4.nativeEvent["touches"];
    2 === e4.length && (t2 = distanceBetweenPoints(h.current.touchStart[0], h.current.touchStart[1]), t2 = distanceBetweenPoints(e4[0], e4[1]) / t2, h.current.lastTouch = [e4[0], e4[1]], c(t2));
  }, 16), [c]), x = (0, import_react.useCallback)((e4) => {
    var t2, e4 = e4.nativeEvent["touches"];
    h.current.isZoom && (t2 = distanceBetweenPoints(h.current.touchStart[0], h.current.touchStart[1]), t2 = distanceBetweenPoints(h.current.lastTouch[0], h.current.lastTouch[1]) / t2, h.current.lastTouch = [e4[0], e4[1]], u(t2));
  }, [u]);
  return (0, import_react.useEffect)(() => {
    var e4, t2;
    p.current && (e4 = w.width / w.height, t2 = window.innerWidth <= 900 ? 16 : 56, t2 = p.current.clientWidth - 2 * t2, t2 = Math.min(1, { width: t2, height: t2 * e4 }.width / w.width), v.setScale(t2), isMobile_1) && (e4 = (window.innerWidth - w.width * t2 - 32) / 2, t2 = (window.innerHeight - w.height * t2 - 70 - 72 - 16) / 2, g({ scale: 1, x: e4, y: t2 }));
  }, [w, g]), (0, import_react.useEffect)(() => {
    const e4 = (e5) => {
      e5.preventDefault(), l(), document.addEventListener("gesturechange", t2), document.addEventListener("gestureend", n2, { once: true });
    }, t2 = lodashExports.throttle((e5) => {
      c(e5.scale), e5.preventDefault();
    }, 16), n2 = (e5) => {
      u(e5.scale), e5.preventDefault(), document.removeEventListener("gesturechange", t2), document.removeEventListener("gestureend", n2);
    };
    return document.addEventListener("gesturestart", e4), () => {
      document.removeEventListener("gesturestart", e4);
    };
  }, [y, m, g, v]), { pageTransform: m, onZoomStart: e3, onZoomMove: d, onZoomEnd: x, onMoveStart: (e4) => {
    var { clientX: e4, clientY: t2 } = getPosition(e4);
    h.current.isMoving = true, h.current.start = { clientX: e4, clientY: t2 }, h.current.last = { clientX: e4, clientY: t2 };
  }, onMove: (e4) => {
    var t2, n2, r2, o2, i2;
    h.current.isMoving && (i2 = window.innerWidth - 32, t2 = window.innerHeight - 70 - 72 - 32, h.current.isZoom || !h.current.isMoving || i2 >= w.width * y || ({ clientX: e4, clientY: n2 } = getPosition(e4.nativeEvent), h.current.last = { clientX: e4, clientY: n2 }, o2 = w.width * y, r2 = w.height * y, o2 = Math.max(-(o2 - i2), Math.min(m.x + e4 - h.current.start.clientX, 0)), i2 = Math.max(-(r2 - t2 / 2), Math.min(m.y + n2 - h.current.start.clientY, t2 / 2)), f.current && (f.current[b].style.transform = getTransformStyle({ position: { x: o2, y: i2 }, scale: m.scale }))));
  }, onMoveEnd: () => {
    var e4, t2, n2, r2, o2, i2;
    h.current.isMoving && (i2 = window.innerWidth - 32, e4 = window.innerHeight - 70 - 72 - 32, h.current.isZoom || !h.current.isMoving || i2 >= w.width * y || ({ clientX: n2, clientY: t2 } = h.current.last, n2 = n2 - h.current.start.clientX, o2 = w.width * y, r2 = w.height * y, o2 = Math.max(-(o2 - i2), Math.min(m.x + n2, 0)), i2 = Math.max(-(r2 - e4 / 2), Math.min(m.y + t2 - h.current.start.clientY, e4 / 2)), g({ scale: m.scale, x: o2, y: i2 }), h.current.isMoving = false));
  }, onMovePage: (e4) => {
    var t2;
    !n.current || h.current.isZoom || !h.current.isMoving || o || i || r || a || s || ({ clientX: e4, clientY: t2 } = getPosition(e4.nativeEvent), h.current.last = { clientX: e4, clientY: t2 }, t2 = e4 - h.current.start.clientX, window.innerWidth - 32 >= w.width * y && (n.current.style.transform = getTransformStyle({ position: { x: -(window.innerWidth * b) + t2, y: 0 } })));
  }, onMovePageEnd: () => {
    var e4;
    !n.current || h.current.isZoom || !h.current.isMoving || o || i || r || a || s || (e4 = h.current.last["clientX"], e4 = e4 - h.current.start.clientX, window.innerWidth - 32 >= w.width * y && (e4 <= -0.35 * window.innerWidth && b + 1 <= t - 1 ? (n.current.style.transform = getTransformStyle({ position: { x: -(window.innerWidth * (b + 1)), y: 0 } }), v.setActivePage(Math.min(b + 1, t - 1))) : e4 >= 0.35 * window.innerWidth && 0 <= b - 1 ? (n.current.style.transform = getTransformStyle({ position: { x: -(window.innerWidth * (b - 1)), y: 0 } }), v.setActivePage(Math.max(b - 1, 0))) : n.current.style.transform = getTransformStyle({ position: { x: -(window.innerWidth * b), y: 0 } })));
  } };
};
var isIntersection = (e3, t) => {
  var n = [e3, t];
  let r, o, i, a, s, l, c, u;
  for (a = 0; a < n.length; a++) {
    var d = n[a];
    for (s = 0; s < d.length; s++) {
      var p = (s + 1) % d.length, f = d[s], p = d[p], h = { x: p.y - f.y, y: f.x - p.x };
      for (r = o = void 0, l = 0; l < e3.length; l++)
        i = h.x * e3[l].x + h.y * e3[l].y, (!r || i < r) && (r = i), (!o || i > o) && (o = i);
      for (c = u = void 0, l = 0; l < t.length; l++)
        i = h.x * t[l].x + h.y * t[l].y, (!c || i < c) && (c = i), (!u || i > u) && (u = i);
      if (o < c || u < r)
        return false;
    }
  }
  return true;
};
var useSelectLayer = ({ frameRef: p, pageListRef: f, selectionBoxRef: h }) => {
  const [e3, n] = (0, import_react.useState)(), [r, m] = useLinkedRef({ clientX: 0, clientY: 0, moveClientX: 0, moveClientY: 0, isMultipleSelect: false }), { actions: o, scale: g, isSelecting: i, pages: v } = useEditor((e4) => ({ scale: e4.scale, isSelecting: e4.selectData.status, pages: e4.pages })), y = () => v.map(({ layers: i2 }, a2) => ({ layers: [...i2.ROOT.data.child, "ROOT"].reverse().reduce((e4, t2) => {
    var n2, r2, { id: t2, data: { props: o2 } } = i2[t2];
    return f.current[a2] && (r2 = f.current[a2].getBoundingClientRect(), n2 = new WebKitCSSMatrix(getTransformStyle({ rotate: o2.rotate })), r2 = visualCorners({ width: o2.boxSize.width * g, height: o2.boxSize.height * g }, n2, { x: r2.x + ((null == (n2 = p.current) ? void 0 : n2.scrollLeft) || 0) + o2.position.x * g, y: r2.y + ((null == (n2 = p.current) ? void 0 : n2.scrollTop) || 0) + o2.position.y * g }), e4.push({ id: t2, delta: [r2.nw, r2.ne, r2.se, r2.sw] })), e4;
  }, []) })), a = (0, import_react.useCallback)(({ clientX: e4, clientY: t2 }, i2 = false) => {
    if (h.current && p.current) {
      const c2 = p.current.getBoundingClientRect();
      var n2 = p.current.scrollTop || 0, r2 = p.current.scrollLeft || 0, a2 = m(), s2 = Math.abs(e4 + r2 - a2.clientX), l2 = Math.abs(t2 + n2 - a2.clientY), e4 = e4 + r2 > a2.clientX ? a2.clientX : e4 + r2, r2 = t2 + n2 > a2.clientY ? a2.clientY : t2 + n2;
      h.current.style.left = e4 - c2.x + "px", h.current.style.top = r2 - c2.y + "px", h.current.style.width = s2 + "px", h.current.style.height = l2 + "px";
      const u = [{ x: e4, y: r2 }, { x: e4 + s2, y: r2 }, { x: e4 + s2, y: r2 + l2 }, { x: e4, y: r2 + l2 }], d = {};
      let o2 = null;
      if (y().forEach(({ layers: e5 }, n3) => {
        const r3 = f.current[n3].getBoundingClientRect();
        e5.forEach(({ id: e6, delta: t3 }) => {
          !isIntersection(u, t3) || null !== o2 && o2 !== n3 || "ROOT" === e6 || (!i2 || null !== o2) && i2 || (o2 = n3, d[e6] = { boxSize: { width: v[o2].layers[e6].data.props.boxSize.width * g, height: v[o2].layers[e6].data.props.boxSize.height * g }, position: { x: r3.x - c2.x + ((null == (t3 = p.current) ? void 0 : t3.scrollLeft) || 0) + v[o2].layers[e6].data.props.position.x * g, y: r3.y - c2.y + ((null == (t3 = p.current) ? void 0 : t3.scrollTop) || 0) + v[o2].layers[e6].data.props.position.y * g }, rotate: v[o2].layers[e6].data.props.rotate });
        });
        var e5 = e5.find((e6) => "ROOT" === e6.id);
        i2 && e5 && isIntersection(u, e5.delta) && null === o2 && (o2 = n3, d.ROOT = { boxSize: { width: v[o2].layers.ROOT.data.props.boxSize.width * g, height: v[o2].layers.ROOT.data.props.boxSize.height * g }, position: { x: r3.x - c2.x + v[o2].layers.ROOT.data.props.position.x * g, y: r3.y - c2.y + ((null == (e5 = p.current) ? void 0 : e5.scrollTop) || 0) + v[o2].layers.ROOT.data.props.position.y * g }, rotate: v[o2].layers.ROOT.data.props.rotate });
      }), null !== o2)
        return { selectedPage: o2, selectedLayers: d };
    }
  }, [y, m]), t = (0, import_react.useCallback)((e4) => {
    o.setSelectData(true);
    var { clientX: e4, clientY: t2 } = getPosition(e4), e4 = (r.current.moveClientX = e4, r.current.moveClientY = t2, a({ clientX: e4, clientY: t2 }));
    n(e4);
  }, [a]), s = (0, import_react.useCallback)((e4) => {
    var { clientX: e4, clientY: t2 } = getPosition(e4), e4 = a({ clientX: e4, clientY: t2 }, e4 + p.current.scrollLeft === m().clientX && t2 + p.current.scrollTop === m().clientY);
    e4 ? o.selectLayers(e4.selectedPage, Object.keys(e4.selectedLayers), m().isMultipleSelect ? "add" : "replace") : (o.resetSelectLayer(), o.setSidebar()), c(), o.setSelectData(false);
  }, [a]), l = (0, import_react.useCallback)(() => {
    window.addEventListener("mousemove", t), window.addEventListener("mouseup", s, { once: true });
  }, [t, s]), c = (0, import_react.useCallback)(() => {
    window.removeEventListener("mousemove", t), window.removeEventListener("mouseup", s);
  }, [t]);
  return (0, import_react.useEffect)(() => {
    var e4;
    const t2 = () => {
      var e5;
      i && (e5 = a({ clientX: r.current.moveClientX || r.current.clientX, clientY: r.current.moveClientY || r.current.clientY })) && n(e5);
    };
    return null != (e4 = p.current) && e4.addEventListener("scroll", t2), () => {
      var e5;
      null != (e5 = p.current) && e5.removeEventListener("scroll", t2);
    };
  }, [i]), { tmpSelected: e3, onSelectStart: (e4) => {
    var { clientX: e4, clientY: t2 } = getPosition(e4);
    n(void 0), o.setSelectData(true), r.current.clientX = e4 + p.current.scrollLeft, r.current.clientY = t2 + p.current.scrollTop, l();
  } };
};
var arrayProto = Array.prototype;
var nativeReverse = arrayProto.reverse;
function reverse(e3) {
  return null == e3 ? e3 : nativeReverse.call(e3);
}
var reverse$1 = getDefaultExportFromCjs(reverse);
var useTrackingShiftKey = () => {
  const t = (0, import_react.useRef)(false);
  return (0, import_react.useEffect)(() => {
    const e3 = (e4) => {
      t.current = e4.shiftKey;
    };
    return window.addEventListener("keydown", e3, { capture: true }), window.addEventListener("keyup", e3, { capture: true }), () => {
      window.removeEventListener("keydown", e3, { capture: true }), window.removeEventListener("keyup", e3, { capture: true });
    };
  }, []), t;
};
var rectangleInsideAnother = (e3, t) => {
  var n = new WebKitCSSMatrix(getTransformStyle({ rotate: e3.rotate })), n = visualCorners({ width: e3.boxSize.width, height: e3.boxSize.height }, n, { x: e3.position.x, y: e3.position.y }), e3 = new WebKitCSSMatrix(getTransformStyle({ rotate: t.rotate }));
  const r = visualCorners({ width: t.boxSize.width, height: t.boxSize.height }, e3, { x: t.position.x, y: t.position.y });
  return ![n.nw, n.ne, n.se, n.sw].find((e4) => !isPointInsideBox(e4, r));
};
var useDragLayer = ({ frameRef: d, pageListRef: p }) => {
  const f = (0, import_react.useRef)(null), h = (0, import_react.useRef)(null), m = useTrackingShiftKey(), [, s, u] = useLinkedRef({}), [, g, v] = useLinkedRef(), { selectedLayers: y, selectedLayerIds: b } = useSelectedLayers(), { actions: w, state: x, hoveredLayer: S, controlBox: k, scale: C, hoveredPage: E, activePage: T, pageSize: i, layers: _, mainLayers: R } = useEditor((t) => {
    const n = parseInt(Object.keys(t.hoveredLayer)[0]);
    var e3 = t.hoveredLayer[n];
    return { scale: t.scale, hoveredPage: n, controlBox: t.controlBox, hoveredLayer: e3 ? t.pages[n].layers[e3] : null, activePage: t.activePage, pageSize: t.pageSize, fontList: t.fontList, layers: t.pages[n] && t.pages[n].layers, mainLayers: t.pages[n] && reverse$1(t.pages[n].layers.ROOT.data.child.map((e4) => t.pages[n].layers[e4])) };
  }), O = ({ clientX: e3, clientY: t }) => {
    var n = s(), r = null == (r = f.current) ? void 0 : r.start;
    const o = (e3 - r.clientX) / C, i2 = (t - r.clientY) / C, a = { layers: {} };
    Object.entries(n).forEach(([e4, t2]) => {
      a.layers[e4] = { x: t2.position.x + o, y: t2.position.y + i2 };
    });
    e3 = g();
    return e3 && (a.controlBox = { x: e3.position.x + o, y: e3.position.y + i2 }), a;
  }, I = lodashExports.throttle((e3) => {
    if (f.current) {
      const { clientX: s2, clientY: l } = getPosition(e3);
      f.current.last = { clientX: s2 + d.current.scrollLeft, clientY: l + d.current.scrollTop }, f.current.e = e3;
      var e3 = O(f.current.last), t = g();
      const c = e3.controlBox && t && !m.current ? getChange(Object.assign(Object.assign({}, t), { position: e3.controlBox }), Object.keys(e3.layers), _, C) : null;
      m.current || f.current.last.clientX === f.current.start.clientX && f.current.last.clientY === f.current.start.clientY || w.setGuideline({ horizontal: (null === c || void 0 === c ? void 0 : c.line.horizontal) || [], vertical: (null === c || void 0 === c ? void 0 : c.line.vertical) || [] }), w.setDragData(true, Object.keys(e3.layers)), Object.entries(e3.layers).forEach(([e4, t2]) => {
        f.current && w.history.merge().setProp(f.current.pageIndex, e4, { position: { x: t2.x + ((null === c || void 0 === c ? void 0 : c.x) || 0), y: t2.y + ((null === c || void 0 === c ? void 0 : c.y) || 0) } });
      });
      var n, r, o, i2, a = Object.keys(e3.layers);
      const u2 = x.pages[f.current.pageIndex].layers[a[0]];
      1 === a.length && isImageLayer(u2) && (n = R.find((e4) => {
        var t2, n2;
        return e4.id !== u2.id && (n2 = new WebKitCSSMatrix(getTransformStyle({ rotate: e4.data.props.rotate })), t2 = p.current[T].getBoundingClientRect(), n2 = visualCorners({ width: e4.data.props.boxSize.width * C, height: e4.data.props.boxSize.height * C }, n2, { x: t2.x + e4.data.props.position.x * C, y: t2.y + e4.data.props.position.y * C }), isPointInsideBox({ x: s2, y: l }, n2) ? e4 : void 0);
      }), h.current && (w.history.merge().setProp(f.current.pageIndex, u2.id, { transparency: h.current.imageLayer.data.props.image.transparency || 1 }), w.history.merge().setProp(f.current.pageIndex, h.current.affectedFrame.id, { image: h.current.affectedFrame.data.props.image ? { url: h.current.affectedFrame.data.props.image.url, boxSize: h.current.affectedFrame.data.props.image.boxSize, position: h.current.affectedFrame.data.props.image.position, rotate: h.current.affectedFrame.data.props.image.rotate } : null }), h.current = null), n) && isFrameLayer(n) && (r = u2.data.props.image, o = n.data.props.boxSize.width / n.data.props.boxSize.height, i2 = r.boxSize.width / r.boxSize.height, h.current = { imageLayer: lodashExports.cloneDeep(u2), affectedFrame: lodashExports.cloneDeep(n) }, w.history.merge().setProp(f.current.pageIndex, u2.id, { transparency: 0.5 }), i2 < o ? w.history.merge().setProp(f.current.pageIndex, n.id, { image: { url: r.url, thumb: r.thumb, boxSize: { width: n.data.props.boxSize.width / n.data.props.scale, height: n.data.props.boxSize.width / n.data.props.scale / i2 }, rotate: 0, position: { x: 0, y: -(n.data.props.boxSize.width / n.data.props.scale / i2 - n.data.props.boxSize.height / n.data.props.scale) / 2 } } }) : w.history.merge().setProp(f.current.pageIndex, n.id, { image: { url: r.url, thumb: r.thumb, boxSize: { width: n.data.props.boxSize.height / n.data.props.scale * i2, height: n.data.props.boxSize.height / n.data.props.scale }, position: { x: -(n.data.props.boxSize.height / n.data.props.scale * i2 - n.data.props.boxSize.width / n.data.props.scale) / 2, y: 0 }, rotate: 0 } })), e3.controlBox && t && (w.setDragData(true, a), w.setControlBox(Object.assign(Object.assign({}, t), { position: { x: e3.controlBox.x + ((null === c || void 0 === c ? void 0 : c.x) || 0), y: e3.controlBox.y + ((null === c || void 0 === c ? void 0 : c.y) || 0) } })));
    }
  }, 16), M = () => {
    if (f.current) {
      var { clientX: t, clientY: n } = f.current.last;
      if (w.setGuideline({ vertical: [], horizontal: [] }), t === f.current.start.clientX && n === f.current.start.clientY)
        S && w.selectLayers(E, S.id, m.current ? "add" : "replace"), w.history.back();
      else {
        var r = g();
        let e3 = false;
        t = O({ clientX: t, clientY: n });
        const o = t.controlBox && r && !m.current ? getChange(Object.assign(Object.assign({}, r), { position: t.controlBox }), Object.keys(t.layers), _, C) : null;
        t.controlBox && r && (n = Object.assign(Object.assign({}, r), { position: { x: t.controlBox.x + ((null === o || void 0 === o ? void 0 : o.x) || 0), y: t.controlBox.y + ((null === o || void 0 === o ? void 0 : o.y) || 0) } }), (n = boundingRect(n.boxSize, n.position, n.rotate)).x >= i.width || n.y >= i.height || n.x + n.width < 0 || n.y + n.height < 0) && (w.deleteLayer(null == (n = f.current) ? void 0 : n.pageIndex, Object.keys(t.layers)), e3 = true), e3 || Object.entries(t.layers).forEach(([e4, t2]) => {
          f.current && w.history.merge().setProp(f.current.pageIndex, e4, { position: { x: t2.x + ((null === o || void 0 === o ? void 0 : o.x) || 0), y: t2.y + ((null === o || void 0 === o ? void 0 : o.y) || 0) } });
        }), h.current && (w.history.merge().deleteLayer(f.current.pageIndex, h.current.imageLayer.id), h.current = null), t.controlBox && r && !e3 && w.setControlBox(Object.assign(Object.assign({}, r), { position: { x: t.controlBox.x + ((null === o || void 0 === o ? void 0 : o.x) || 0), y: t.controlBox.y + ((null === o || void 0 === o ? void 0 : o.y) || 0) } }));
      }
      f.current = null, u({}), w.setDragData(false), window.removeEventListener("mousemove", I), window.removeEventListener("mouseup", M), window.removeEventListener("mouseleave", M), window.removeEventListener("touchmove", I), window.removeEventListener("touchend", M);
    }
  };
  (0, import_react.useEffect)(() => {
    var e3;
    const t = () => {
      f.current && I(f.current.e);
    };
    return null != (e3 = d.current) && e3.addEventListener("scroll", t), () => {
      var e4;
      null != (e4 = d.current) && e4.removeEventListener("scroll", t);
    };
  }, [d, I]);
  return { onDragStart: (e3) => {
    var { clientX: t, clientY: n } = getPosition(e3);
    f.current = { start: { clientX: t + d.current.scrollLeft, clientY: n + d.current.scrollTop }, last: { clientX: t + d.current.scrollLeft, clientY: n + d.current.scrollTop }, pageIndex: T, e: e3 };
    const i2 = {};
    let r = false, o = false;
    if (k && (e3 = new WebKitCSSMatrix(getTransformStyle({ rotate: k.rotate })), a = p.current[T].getBoundingClientRect(), e3 = visualCorners({ width: k.boxSize.width * C, height: k.boxSize.height * C }, e3, { x: a.x + k.position.x * C, y: a.y + k.position.y * C }), r = isPointInsideBox({ x: t, y: n }, e3)) && S && !b.includes(S.id) && (o = rectangleInsideAnother(S.data.props, k)), (m.current || r && !o) && y.forEach(({ id: e4, data: { props: { position: t2, boxSize: n2, rotate: r2, scale: o2 } } }) => {
      i2[e4] = lodashExports.cloneDeep({ position: t2, boxSize: n2, rotate: r2, scale: o2 });
    }), S && (!r || r && o)) {
      const { position: s2, boxSize: l, rotate: c, scale: C2 } = S.data.props;
      i2[S.id] = lodashExports.cloneDeep({ position: s2, boxSize: l, rotate: c, scale: C2 }), f.current && (f.current.pageIndex = E);
      var a = getControlBoxSizeFromLayers(i2);
      a && v(a);
    } else
      k && v(k);
    u(i2), isMobile_1 && w.setDragData(true, Object.keys(i2)), w.history.new(), window.addEventListener("touchmove", I), window.addEventListener("mousemove", I), window.addEventListener("mouseup", M, { once: true }), window.addEventListener("mouseleave", M, { once: true }), window.addEventListener("touchend", M, { once: true });
  } };
};
var getChange = (e3, i, t, a) => {
  const s = { x: null, y: null, line: { horizontal: [], vertical: [] } };
  if (e3) {
    e3 = boundingRect(e3.boxSize, e3.position, e3.rotate);
    const l = { top: e3.y, left: e3.x, right: e3.x + e3.width, bottom: e3.y + e3.height, centerX: e3.centerX, centerY: e3.centerY };
    Object.entries(t).forEach(([e4, t2]) => {
      if (!i.includes(e4) && "ROOT" === t2.data.parent) {
        e4 = boundingRect(t2.data.props.boxSize, t2.data.props.position, t2.data.props.rotate);
        const n = { top: e4.y, left: e4.x, right: e4.x + e4.width, bottom: e4.y + e4.height, centerX: e4.centerX, centerY: e4.centerY }, r = ["top", "bottom", "centerY"], o = ["left", "right", "centerX"];
        Object.keys(l).forEach((t3) => {
          r.includes(t3) && r.forEach((e5) => {
            isInRange(l[t3], n[e5], a) && ((null === s.y || s.y < n[e5] - l[t3]) && (s.y = n[e5] - l[t3]), l[t3] + s.y === n[e5]) && s.line.horizontal.push({ y: n[e5], x1: Math.min(l.left, n.left), x2: Math.max(l.right, n.right) });
          }), o.includes(t3) && o.forEach((e5) => {
            isInRange(l[t3], n[e5], a) && ((null === s.x || s.x < n[e5] - l[t3]) && (s.x = n[e5] - l[t3]), l[t3] + s.x === n[e5]) && s.line.vertical.push({ x: n[e5], y1: Math.min(l.top, n.top), y2: Math.max(l.bottom, n.bottom) });
          });
        });
      }
    });
  }
  return s;
};
var ALIGN_MARGIN = 4;
var isInRange = (e3, t, n) => Math.abs(Math.round(e3) - Math.round(t)) <= ALIGN_MARGIN / n;
var useUsedFont = () => {
  var e3 = useEditor((e4) => {
    const t = [];
    return e4.pages.forEach((e5) => {
      Object.entries(e5.layers).forEach(([, e6]) => {
        isTextLayer(e6) && t.push(...e6.data.props.fonts);
      });
    }), { fontFamilyList: lodashExports.uniqBy(t, "name") };
  })["fontFamilyList"];
  return { usedFonts: e3 };
};
var DesignFrame = ({ data: e3 }) => {
  const a = useTrackingShiftKey(), t = (0, import_react.useRef)(null);
  var n = (0, import_react.useRef)(null);
  const s = (0, import_react.useRef)([]);
  var r = (0, import_react.useRef)(null), o = useUsedFont()["usedFonts"];
  const i = (0, import_react.useContext)(EditorContext)["config"]["assetPath"], [l, c] = (0, import_react.useState)(false), { actions: u, scale: d, pages: p, hoveredPage: f, hoveredLayer: h, selectStatus: m, rotateData: g, resizeData: v, controlBox: y, activePage: b, dragData: w, imageEditor: x, pageSize: S } = (useShortcut(t.current), useEditor((e4) => {
    var t2 = parseInt(Object.keys(e4.hoveredLayer)[0]), n2 = e4.hoveredLayer[t2];
    return { scale: e4.scale, pages: e4.pages, hoveredPage: t2, hoveredLayer: n2 ? e4.pages[t2].layers[n2] : null, selectStatus: e4.selectData.status, rotateData: e4.rotateData, resizeData: e4.resizeData, controlBox: e4.controlBox, activePage: e4.activePage, dragData: e4.dragData, imageEditor: e4.imageEditor, pageSize: e4.pageSize };
  })), { pageTransform: k, onZoomStart: C, onZoomMove: E, onZoomEnd: T, onMoveStart: _, onMove: R, onMoveEnd: O, onMovePage: I, onMovePageEnd: L } = useZoomPage(t, s, n);
  (0, import_react.useEffect)(() => {
    u.setData(e3);
  }, [e3, u]), useClickOutside(r, () => {
    u.hideContextMenu();
  }, "mousedown", { capture: true });
  var M = (0, import_react.useRef)(null);
  const D = useSelectedLayers()["selectedLayerIds"], { tmpSelected: N, onSelectStart: j } = useSelectLayer({ frameRef: t, pageListRef: s, selectionBoxRef: M }), A = useDragLayer({ frameRef: t, pageListRef: s })["onDragStart"], P = (0, import_react.useCallback)((t2) => {
    if (!(isMouseEvent(t2) && 2 === t2.button || x || isTouchEvent(t2) && 1 < t2.touches.length)) {
      var n2 = s.current.find((e4) => e4.contains(t2.target)), r2 = s.current.find((e4) => t2.target.contains(e4)), { clientX: o2, clientY: i2 } = getPosition(t2);
      if (n2 || r2) {
        let e4 = false;
        y && (n2 = new WebKitCSSMatrix(getTransformStyle({ rotate: y.rotate })), r2 = s.current[b].getBoundingClientRect(), n2 = visualCorners({ width: y.boxSize.width * d, height: y.boxSize.height * d }, n2, { x: r2.x + y.position.x * d, y: r2.y + y.position.y * d }), e4 = isPointInsideBox({ x: o2, y: i2 }, n2)), h && "ROOT" !== h.id && !D.includes(h.id) && (!e4 || y && rectangleInsideAnother(h.data.props, y)) && u.selectLayers(f, h.id, a.current ? "add" : "replace"), h && "ROOT" !== h.id && !h.data.locked || e4 ? (A(t2), t2.stopPropagation()) : isMouseEvent(t2) ? (j(t2), t2.stopPropagation()) : isTouchEvent(t2) && _(t2);
      }
    }
  }, [h, y, D, w]);
  var z;
  return jsxs2(import_react.Fragment, { children: [jsxs2("div", { ref: t, css: Object.assign(Object.assign({ display: "flex", position: "relative", height: "100%", overflow: "scroll" }, g.status ? (z = Math.round((g.rotate || 0) / 10), { cursor: `url('${i}/cursors/rotate/${36 === z ? 0 : z}.png') 12 12, auto;` }) : v.status ? (z = { bottomLeft: 45, left: 90, topLeft: 135, top: 180, topRight: 225, right: 270, bottomRight: 315, bottom: 0 }, z = (v.rotate || 0) + z[v.direction || "bottom"] + 90, z = Math.round(z % 180 / 10), { cursor: `url('${i}/cursors/resize/${z}.png') 12 12, auto` }) : w.status ? { cursor: "move" } : {}), { "@media (max-width: 900px)": { overflow: "hidden", height: "calc(100% - 72px)" } }), tabIndex: 0, onTouchStart: C, onTouchMove: E, onTouchEnd: T, onScroll: () => {
    if (!w.status && !m) {
      const n2 = t.current;
      s.current[b] && !isElementInViewport(n2, s.current[b]) && s.current.some((e4, t2) => {
        if (isElementInViewport(n2, e4))
          return u.selectLayers(t2, "ROOT"), true;
      });
    }
  }, children: [jsx2("div", { css: { position: "absolute", display: "flex", minWidth: "100%", minHeight: "100%" }, onMouseDown: (e4) => P(e4.nativeEvent), onTouchStart: (e4) => P(e4.nativeEvent), children: jsxs2("div", { css: { position: "relative", display: "flex", flexGrow: 1, touchAction: "pinch-zoom" }, children: [jsxs2("div", { ref: n, css: { display: "flex", position: "relative", flexDirection: "row", justifyContent: "center", margin: "auto", "@media (max-width: 900px)": { transition: "transform 250ms linear 0s", margin: "initial" } }, style: { transform: `translateX(-${isMobile_1 ? window.innerWidth * b : 0}px)` }, children: [jsxs2("div", { css: { marginLeft: 56, "@media (max-width: 900px)": { display: "flex", marginLeft: 0 } }, onTouchMove: (e4) => {
    R(e4), I(e4);
  }, onTouchEnd: () => {
    O(), L();
  }, children: [jsx2(GlobalStyle, { fonts: o, mode: "editor" }), p.map((e4, t2) => jsx2("div", { css: { "@media (max-width: 900px)": { padding: "0 16px", width: window.innerWidth, height: window.innerHeight, overflow: "hidden" } }, children: jsx2(DesignPage$1, { ref: (e5) => e5 && (s.current[t2] = e5), pageIndex: t2, width: S.width, height: S.height, transform: k }) }, t2)), jsx2("div", { css: { marginTop: 20, marginBottom: 20, background: "rgba(64,87,109,.07)", color: "#0d1216", width: S.width * d, textAlign: "center", paddingTop: 8, paddingBottom: 8, borderRadius: 8, "@media (max-width: 900px)": { display: "none" } }, onClick: () => {
    u.addPage();
  }, children: "Add Page" })] }), jsx2("div", { css: { width: 56, pointerEvents: "none", "@media (max-width: 900px)": { width: 0 } } })] }), jsx2(LayerContextMenu$1, { ref: r }), m && jsx2(SelectionBox$1, { ref: M, selectedLayers: null == N ? void 0 : N.selectedLayers })] }) }), jsx2("div", { css: { display: "none", "@media (max-width: 900px)": { pointerEvents: "auto", display: "flex", position: "absolute", bottom: 24, left: 24, background: "#3d8eff", width: 48, height: 48, alignItems: "center", justifyContent: "center", borderRadius: "50%", color: "#fff", fontSize: 24 } }, onClick: () => {
    u.addPage();
  }, children: jsx2(PlusIcon, {}) }), jsx2("div", { css: { display: "none", "@media (max-width: 900px)": { pointerEvents: "auto", display: "flex", position: "absolute", bottom: 24, right: 24, background: "#fff", width: 48, height: 48, alignItems: "center", justifyContent: "center", borderRadius: "50%", fontSize: 24, boxShadow: "0 0 0 1px rgba(64,87,109,.07),0 2px 12px rgba(53,71,90,.2)" } }, onClick: () => {
    c(true);
  }, children: jsx2(SquaresFourBoldIcon, {}) })] }), v.status && jsxs2("div", { css: { position: "fixed", top: ((null == (z = v.cursor) ? void 0 : z.clientY) || 0) + 36 + "px", left: ((null == (n = v.cursor) ? void 0 : n.clientX) || 0) + 60 + "px", whiteSpace: "nowrap", background: "#3a3a4c", padding: "3px 8px", borderRadius: 4, textAlign: "center", color: "white", fontSize: 12, fontWeight: 700 }, children: ["w: ", Math.round((null == (o = v.boxSize) ? void 0 : o.width) || 0), " h: ", Math.round((null == (r = v.boxSize) ? void 0 : r.height) || 0)] }), l && jsx2(PageSettings, { onClose: () => c(false) })] });
};
var getPositionWhenLayerCenter = (e3, t) => ({ x: (e3.width - t.width) / 2, y: (e3.height - t.height) / 2 });
var ActionMethods = (v, e3) => {
  const n = (e4, { rootId: t, layers: r }, n2 = "ROOT") => {
    const o = (e5, t2) => {
      return { id: getRandomId(), data: deserializeLayer(Object.assign(Object.assign({}, e5), { parent: t2, child: [] })) };
    }, i = o(r[t], n2);
    t = ((e5, t2) => {
      const n3 = [];
      return r[e5].child.forEach((e6) => {
        e6 = o(r[e6], t2);
        n3.push([e6.id, e6]), i.data.child.push(e6.id);
      }), n3;
    })(t, i.id), t = Object.fromEntries([[i.id, i], ...t]);
    return Object.entries(t).forEach(([e5, t2]) => {
      v.pages[v.activePage].layers[e5] = t2;
    }), v.pages[e4].layers[n2].data.child.push(i.id), i;
  };
  return { setProp(t, e4, n2, r) {
    var o = [];
    lodashExports.isArray(e4) ? o.push(...e4) : o.push(e4), o.forEach((e5) => {
      v.pages[t].layers[e5].data.props = mergeWithoutArray(v.pages[t].layers[e5].data.props, n2, r);
    });
  }, moveSelectedLayers: (t, n2) => {
    v.controlBox = void 0, v.selectedLayers[v.activePage].forEach((e4) => {
      "right" === t ? v.pages[v.activePage].layers[e4].data.props.position.x += n2 : "left" === t ? v.pages[v.activePage].layers[e4].data.props.position.x -= n2 : "top" === t ? v.pages[v.activePage].layers[e4].data.props.position.y -= n2 : "bottom" === t && (v.pages[v.activePage].layers[e4].data.props.position.y += n2);
    });
  }, changePageSize: (n2) => {
    const r = n2.width - v.pageSize.width, o = n2.height - v.pageSize.height, i = (v.pageSize = n2).width / n2.height;
    v.pages.forEach((e4) => {
      Object.entries(e4.layers).forEach(([, e5]) => {
        var t;
        !isRootLayer(e5) && isMainLayer(e5) && (e5.data.props.position.x += r / 2, e5.data.props.position.y += o / 2), isRootLayer(e5) && (e5.data.props.boxSize = n2, e5.data.props.image) && ((t = e5.data.props.image.boxSize.width / e5.data.props.image.boxSize.height) > i ? (e5.data.props.image.boxSize.height = n2.height, e5.data.props.image.boxSize.width = n2.height * t) : (e5.data.props.image.boxSize.width = n2.width, e5.data.props.image.boxSize.height = n2.width / t), e5.data.props.image.position.y = (n2.height - e5.data.props.image.boxSize.height) / 2, e5.data.props.image.position.x = (n2.width - e5.data.props.image.boxSize.width) / 2);
      });
    });
  }, setScale: (e4) => {
    v.scale = e4;
  }, setGuideline: ({ vertical: e4, horizontal: t }) => {
    v.guideline.vertical = e4, v.guideline.horizontal = t;
  }, selectLayers(e4, t, n2 = "replace") {
    t = "object" == typeof t ? t : [t];
    v.textEditor = void 0, v.imageEditor = void 0, e4 !== v.activePage && (v.selectedLayers = {}), "replace" === n2 || v.selectedLayers[e4] && v.selectedLayers[e4].includes("ROOT") || t.includes("ROOT") ? (v.selectedLayers = { [e4]: t }, (n2 = v.hoveredLayer[e4]) && t.includes(n2) && (v.hoveredLayer = { [e4]: null })) : v.selectedLayers[e4] = lodashExports.uniq([...v.selectedLayers[e4] || [], ...t]), v.activePage = e4;
  }, selectAllLayers: () => {
    v.imageEditor = void 0, v.textEditor = void 0, v.selectedLayers = { [v.activePage]: Object.entries(v.pages[v.activePage].layers).reduce((e4, [t, n2]) => ("ROOT" === n2.data.parent && e4.push(t), e4), []) };
  }, resetSelectLayer: () => {
    v.selectedLayers = {}, v.hoveredLayer = {}, v.textEditor = void 0, v.imageEditor = void 0;
  }, hoverLayer: (e4, t) => {
    v.hoveredLayer = { [e4]: t };
  }, setAlign(r) {
    const t = (e5, t2) => {
      var n3 = boundingRect(t2.data.props.boxSize, t2.data.props.position, t2.data.props.rotate);
      return "left" === r ? e5.position.x - (t2.data.props.boxSize.width - n3.width) / 2 : "right" === r ? e5.position.x + e5.boxSize.width - n3.width - (t2.data.props.boxSize.width - n3.width) / 2 : e5.position.x + (e5.boxSize.width - t2.data.props.boxSize.width) / 2;
    }, n2 = (e5, t2) => {
      var n3 = boundingRect(t2.data.props.boxSize, t2.data.props.position, t2.data.props.rotate);
      return "top" === r ? e5.position.y - (t2.data.props.boxSize.height - n3.height) / 2 : "bottom" === r ? e5.position.y + e5.boxSize.height - n3.height - (t2.data.props.boxSize.height - n3.height) / 2 : e5.position.y + (e5.boxSize.height - t2.data.props.boxSize.height) / 2;
    };
    var e4 = v.selectedLayers[v.activePage].map((e5) => v.pages[v.activePage].layers[e5]);
    if (1 === e4.length)
      ["left", "right", "center"].includes(r) ? (o = t(v.pages[v.activePage].layers.ROOT.data.props, e4[0]), v.pages[v.activePage].layers[e4[0].id].data.props.position.x = o, v.controlBox && (v.controlBox.position.x = o)) : (o = n2(v.pages[v.activePage].layers.ROOT.data.props, e4[0]), v.pages[v.activePage].layers[e4[0].id].data.props.position.y = o, v.controlBox && (v.controlBox.position.y = o));
    else if (1 < e4.length) {
      var o = e4.reduce((e5, t2) => (e5[t2.id] = t2.data.props, e5), {});
      const i = getControlBoxSizeFromLayers(o), a = {};
      e4.forEach((e5) => {
        ["left", "right", "center"].includes(r) ? v.pages[v.activePage].layers[e5.id].data.props.position.x = t(i, e5) : v.pages[v.activePage].layers[e5.id].data.props.position.y = n2(i, e5), a[e5.id] = v.pages[v.activePage].layers[e5.id].data.props;
      }), v.controlBox = getControlBoxSizeFromLayers(a);
    }
  }, setTextEditor: (e4, t, n2) => {
    v.pages[e4].layers[t].data.editor = n2;
  }, setData: (e4) => {
    v.activePage = 0, v.selectedLayers = {}, v.hoveredLayer = {};
    const t = [], s = (e5, t2) => {
      return { id: null === e5.parent ? "ROOT" : getRandomId(), data: deserializeLayer(Object.assign(Object.assign({}, e5), { parent: t2, child: [] })) };
    };
    e4.forEach((o, e5) => {
      0 === e5 && (v.pageSize = o.layers.ROOT.props.boxSize);
      const i = { locked: o.locked, layers: {} }, a = (i.layers.ROOT = s(o.layers.ROOT, null), (e6, n2) => {
        const r = [];
        return o.layers[e6].child.forEach((e7) => {
          var t2 = s(o.layers[e7], n2);
          r.push([t2.id, t2]), i.layers[t2.id] = t2, i.layers[n2].data.child.push(t2.id), 0 < o.layers[e7].child.length && r.push(...a(e7, t2.id));
        }), r;
      });
      e5 = a("ROOT", "ROOT"), e5 = Object.fromEntries(e5);
      Object.entries(e5).forEach(([e6, t2]) => {
        i.layers[e6] = t2;
      }), t.push(i);
    }), v.pages = t;
  }, setPage: (e4, o) => {
    const i = { locked: o.locked, layers: {} }, a = (e5, t2) => {
      return { id: null === e5.parent ? "ROOT" : getRandomId(), data: deserializeLayer(Object.assign(Object.assign({}, e5), { parent: t2, child: [] })) };
    }, s = (i.layers.ROOT = a(o.layers.ROOT, null), (e5, n2) => {
      const r = [];
      return o.layers[e5].child.forEach((e6) => {
        var t2 = a(o.layers[e6], n2);
        r.push([t2.id, t2]), i.layers[t2.id] = t2, i.layers[n2].data.child.push(t2.id), 0 < o.layers[e6].child.length && r.push(...s(e6, t2.id));
      }), r;
    });
    var t = s("ROOT", "ROOT"), t = Object.fromEntries(t);
    Object.entries(t).forEach(([e5, t2]) => {
      i.layers[e5] = t2;
    }), v.selectedLayers = {}, v.pages[e4] = i;
  }, setActivePage(e4) {
    v.selectedLayers = {}, v.hoveredLayer = {}, v.textEditor = void 0, v.activePage = e4;
  }, deleteLayer: (n2, e4) => {
    const t = [];
    "object" == typeof e4 ? t.push(...e4) : t.push(e4), v.selectedLayers[n2] = v.selectedLayers[n2].filter((e5) => !t.includes(e5)), t.forEach((t2) => {
      var e5 = v.pages[n2].layers[t2].data.parent;
      delete v.pages[n2].layers[t2], e5 && v.pages[n2].layers[e5] && (v.pages[n2].layers[e5].data.child = v.pages[n2].layers[e5].data.child.filter((e6) => e6 !== t2));
    });
  }, openTextEditor(e4, t) {
    v.textEditor = { pageIndex: e4, layerId: t, editor: null };
  }, setOpeningEditor(e4) {
    v.textEditor && (v.textEditor.editor = e4);
  }, closeTextEditor() {
    v.textEditor = void 0;
  }, lockPage: (e4) => {
    v.pages[e4].locked = true;
  }, unlockPage: (e4) => {
    v.pages[e4].locked = false;
  }, deletePage: (e4) => {
    v.selectedLayers = {}, v.hoveredLayer = {}, v.pages.splice(e4, 1);
  }, duplicatePage(e4) {
    v.textEditor = void 0, v.imageEditor = void 0;
    const n2 = { locked: v.pages[e4].locked, layers: {} };
    Object.entries(lodashExports.cloneDeep(serializeLayers(v.pages[e4].layers, "ROOT"))).map(([e5, t]) => {
      n2.layers[e5] = { id: e5, data: deserializeLayer(t) };
    }), v.pages.splice(e4, 0, n2), v.activePage = e4 + 1, v.selectedLayers = { [e4 + 1]: ["ROOT"] };
  }, addPage: (e4) => {
    var t = { locked: false, layers: {} };
    t.layers.ROOT = { id: "ROOT", data: deserializeLayer({ type: { resolvedName: "RootLayer" }, props: { boxSize: { width: v.pageSize.width, height: v.pageSize.height }, position: { x: 0, y: 0 }, rotate: 0, color: "#fff", image: null }, locked: false, parent: null, child: [] }) }, void 0 !== e4 ? (v.pages.splice(e4 + 1, 0, t), v.activePage = e4 + 1) : (v.pages.push(t), v.activePage = v.activePage + 1);
  }, movePageUp: (e4) => {
    var t = lodashExports.cloneDeep(v.pages[e4]);
    v.pages.splice(e4, 1), v.pages.splice(e4 - 1, 0, t), v.activePage = e4 - 1;
  }, movePageDown: (e4) => {
    var t = lodashExports.cloneDeep(v.pages[e4]);
    v.pages.splice(e4, 1), v.pages.splice(e4 + 1, 0, t), v.activePage = e4 + 1;
  }, lock: (t, e4) => {
    var n2 = [];
    "object" == typeof e4 ? n2.push(...e4) : n2.push(e4), n2.forEach((e5) => {
      v.pages[t].layers[e5].data.locked = true;
    });
  }, unlock: (t, e4) => {
    var n2 = [];
    "object" == typeof e4 ? n2.push(...e4) : n2.push(e4), n2.forEach((e5) => {
      v.pages[t].layers[e5].data.locked = false;
    });
  }, ungroup(e4) {
    const n2 = v.activePage, r = v.pages[v.activePage].layers, o = r[e4];
    var t = r[e4].data.child, i = r[e4].data.parent, a = r[i];
    const s = t.reduce((e5, t2) => (e5[t2] = positionOfObjectInsideAnother(o.data.props, r[t2].data.props), e5), {});
    a = a.data.child.indexOf(e4);
    return t.forEach((e5) => {
      var t2 = v.pages[n2].layers[e5];
      t2.data.parent = "ROOT", t2.data.props.position.x = s[e5].x, t2.data.props.position.y = s[e5].y, t2.data.props.rotate = s[e5].rotate, t2.data.props.boxSize.width = t2.data.props.boxSize.width * o.data.props.scale, t2.data.props.boxSize.height = t2.data.props.boxSize.height * o.data.props.scale, isTextLayer(t2) || isFrameLayer(t2) ? t2.data.props.scale = t2.data.props.scale * o.data.props.scale : isImageLayer(t2) && (t2.data.props.image.boxSize.width = t2.data.props.image.boxSize.width * o.data.props.scale, t2.data.props.image.boxSize.height = t2.data.props.image.boxSize.height * o.data.props.scale, t2.data.props.image.position.x = t2.data.props.image.position.x * o.data.props.scale, t2.data.props.image.position.y = t2.data.props.image.position.y * o.data.props.scale);
    }), v.pages[n2].layers[i].data.child.splice(a, 1), v.pages[n2].layers[i].data.child.splice(a, 0, ...t), delete v.pages[n2].layers[e4], v.selectedLayers = { [n2]: t }, t;
  }, group(e4) {
    const t = [], n2 = v.activePage, r = v.pages[v.activePage].layers, { left: o, right: i, top: a, bottom: s } = (e4.forEach((e5) => {
      isGroupLayer(r[e5]) ? t.push(...this.ungroup(e5)) : t.push(e5);
    }), t.reduce((e5, t2) => {
      t2 = r[t2].data.props, t2 = boundingRect(t2.boxSize, t2.position, t2.rotate);
      return (null === e5.left || e5.left > t2.x) && (e5.left = t2.x), (null === e5.right || e5.right < t2.x + t2.width) && (e5.right = t2.x + t2.width), (null === e5.top || e5.top > t2.y) && (e5.top = t2.y), (null === e5.bottom || e5.bottom < t2.y + t2.height) && (e5.bottom = t2.y + t2.height), e5;
    }, { left: null, right: null, top: null, bottom: null }));
    var l = { type: { resolvedName: "GroupLayer" }, props: { position: { x: o, y: a }, boxSize: { width: i - o, height: s - a }, scale: 1, rotate: 0 }, locked: false, hidden: false, parent: "ROOT", child: t };
    const c = getRandomId();
    l = deserializeLayer(l);
    const u = r.ROOT.data.child;
    v.pages[n2].layers[c] = { id: c, data: l }, t.sort((e5, t2) => u.indexOf(e5) - u.indexOf(t2));
    l = v.pages[n2].layers.ROOT.data.child.findLastIndex((e5) => t.includes(e5));
    return t.forEach((t2) => {
      var e5 = v.pages[n2].layers.ROOT.data.child.findIndex((e6) => e6 === t2), e5 = (v.pages[n2].layers.ROOT.data.child.splice(e5, 1), v.pages[n2].layers[t2].data.parent = c, v.pages[n2].layers[t2].data.props);
      v.pages[n2].layers[t2].data.props.position.x = e5.position.x - o, v.pages[n2].layers[t2].data.props.position.y = e5.position.y - a;
    }), v.pages[n2].layers.ROOT.data.child.splice(l - e4.length + 1, 0, c), v.selectedLayers = { [n2]: [c] }, c;
  }, bringToFront: (e4, t) => {
    var n2 = [];
    "object" == typeof t ? n2.push(...t) : n2.push(t);
    const r = v.pages[e4].layers.ROOT.data.child;
    n2.sort((e5, t2) => r.indexOf(e5) - r.indexOf(t2)), n2.forEach((t2) => {
      var e5 = r.findIndex((e6) => e6 === t2);
      r.splice(e5, 1), r.splice(r.length, 0, t2);
    });
  }, bringForward: (e4, t) => {
    const n2 = [], r = ("object" == typeof t ? n2.push(...t) : n2.push(t), v.pages[e4].layers.ROOT.data.child), o = r.findLastIndex((e5) => n2.includes(e5));
    n2.sort((e5, t2) => r.indexOf(e5) - r.indexOf(t2)), n2.forEach((t2) => {
      var e5 = r.findIndex((e6) => e6 === t2);
      r.splice(e5, 1), r.splice(o + 1, 0, t2);
    });
  }, sendToBack: (e4, t) => {
    var n2 = [];
    "object" == typeof t ? n2.push(...t) : n2.push(t);
    const r = v.pages[e4].layers.ROOT.data.child;
    n2.sort((e5, t2) => r.indexOf(t2) - r.indexOf(e5)), n2.forEach((t2) => {
      var e5 = r.findIndex((e6) => e6 === t2);
      r.splice(e5, 1), r.splice(0, 0, t2);
    });
  }, sendBackward: (e4, t) => {
    const n2 = [], r = ("object" == typeof t ? n2.push(...t) : n2.push(t), v.pages[e4].layers.ROOT.data.child), o = r.findIndex((e5) => n2.includes(e5));
    n2.sort((e5, t2) => r.indexOf(t2) - r.indexOf(e5)), n2.forEach((t2) => {
      var e5 = r.findIndex((e6) => e6 === t2);
      r.splice(e5, 1), r.splice(o - 1, 0, t2);
    });
  }, setFontList(e4) {
    v.fontList = e4;
  }, appendFontList(e4) {
    v.fontList.push(...e4);
  }, addLayer(e4, t = "ROOT") {
    var n2 = getRandomId(), e4 = deserializeLayer(Object.assign(Object.assign({}, e4), { locked: false, parent: t, child: [] }));
    v.pages[v.activePage].layers[n2] = { id: n2, data: mergeWithoutArray(e4, { props: { position: getPositionWhenLayerCenter(v.pageSize, e4.props.boxSize) } }) }, v.pages[v.activePage].layers[t].data.child.push(n2), this.selectLayers(v.activePage, n2);
  }, addShapeLayer(e4, t = "ROOT") {
    var n2 = getRandomId(), e4 = deserializeLayer(Object.assign(Object.assign({}, e4), { locked: false, parent: t, child: [] })), r = v.pageSize.width / v.pageSize.height, o = e4.props.boxSize.width / e4.props.boxSize.height;
    let i = 1, a = e4.props.boxSize.width, s = e4.props.boxSize.height;
    i = r < o ? (a = 0.3 * v.pageSize.width, s = a / o, a / e4.props.boxSize.width) : (s = 0.3 * v.pageSize.height, a = s * o, s / e4.props.boxSize.height), v.pages[v.activePage].layers[n2] = { id: n2, data: mergeWithoutArray(lodashExports.cloneDeep(e4), { props: { boxSize: { width: a, height: s }, position: getPositionWhenLayerCenter(v.pageSize, e4.props.boxSize), scale: i } }) }, v.pages[v.activePage].layers[t].data.child.push(n2), this.selectLayers(v.activePage, n2);
  }, addImageLayer({ thumb: e4, url: t }, n2, r = "ROOT") {
    var o = getRandomId(), i = v.pageSize, a = i.width / i.height, n2 = n2.width / n2.height, a = a < n2 ? 0.8 * i.width : i.height * n2 * 0.8, i = a / n2, n2 = deserializeLayer({ type: { resolvedName: "ImageLayer" }, props: { image: { url: t, thumb: e4, boxSize: { width: a, height: i }, position: { x: 0, y: 0 }, rotate: 0 }, position: { x: 0, y: 0 }, boxSize: { width: a, height: i }, rotate: 0 }, locked: false, parent: r, child: [] });
    v.pages[v.activePage].layers[o] = { id: o, data: mergeWithoutArray(n2, { props: { position: getPositionWhenLayerCenter(v.pageSize, n2.props.boxSize) } }) }, v.pages[v.activePage].layers[r].data.child.push(o), this.selectLayers(v.activePage, o);
  }, addSvgLayer(e4, t, n2, r = "ROOT") {
    var o = getRandomId(), i = v.pageSize, a = i.width / i.height, t = t.width / t.height, a = a < t ? 0.5 * i.width : i.height * t * 0.5, i = a / t, s = [], l = n2.getElementsByTagName("g"), c = n2.getAttribute("stroke") || n2.style.stroke || "none", u = n2.getAttribute("fill") || n2.style.fill || "#000000";
    if (1 < l.length)
      for (let e5 = 0; e5 < l.length; e5++) {
        var d, p, f = l[e5].getAttribute("id");
        f && (f = f.match(/^[a-z]+(\d+)(_)*(\d*)$/i)) && 2 <= f.length && (f = parseInt(f[1], 10) - 1, 0 < (p = l[e5].querySelectorAll("path, circle, ellipse,line, rect, polygon,polyline, text")).length) && (d = p[0].getAttribute("stroke") || c, p = p[0].getAttribute("fill") || u, s[f] = ("none" !== d ? new Color(d) : new Color(p)).toRgbString());
      }
    else {
      var h = n2.querySelectorAll("path, circle, ellipse,line, rect, polygon,polyline, text");
      for (let n3 = 0; n3 < h.length; n3++) {
        var m = h[n3].getAttribute("style");
        let e5 = h[n3].getAttribute("stroke") || "none", t2 = h[n3].getAttribute("fill") || "#000000";
        const g = {};
        m && m.split(";").forEach((e6) => {
          var [e6, t3] = e6.split(":");
          g[e6.trim()] = t3.trim();
        }), g.stroke && (e5 = g.stroke), g.fill && (t2 = g.fill), e5 && "none" !== e5 && !s.includes(new Color(e5).toRgbString()) ? s.push(new Color(e5).toRgbString()) : t2 && "none" !== t2 && !s.includes(new Color(t2).toRgbString()) && s.push(new Color(t2).toRgbString());
      }
    }
    t = deserializeLayer({ type: { resolvedName: "SvgLayer" }, props: { image: e4, position: { x: 0, y: 0 }, boxSize: { width: a, height: i }, colors: s, rotate: 0 }, locked: false, parent: r, child: [] });
    v.pages[v.activePage].layers[o] = { id: o, data: mergeWithoutArray(t, { props: { position: getPositionWhenLayerCenter(v.pageSize, t.props.boxSize) } }) }, v.pages[v.activePage].layers[r].data.child.push(o), this.selectLayers(v.activePage, o);
  }, addFrameLayer(e4, t, n2 = "ROOT") {
    var r = getRandomId(), o = v.pageSize, i = o.width / o.height, i = e4.width / e4.height < i ? 0.5 * o.height / e4.height : 0.5 * o.width / e4.width, o = deserializeLayer({ type: { resolvedName: "FrameLayer" }, props: { clipPath: t, position: { x: 0, y: 0 }, boxSize: { width: e4.width * i, height: e4.height * i }, rotate: 0, scale: i }, locked: false, parent: n2, child: [] });
    v.pages[v.activePage].layers[r] = { id: r, data: mergeWithoutArray(o, { props: { position: getPositionWhenLayerCenter(v.pageSize, o.props.boxSize) } }) }, v.pages[v.activePage].layers[n2].data.child.push(r), this.selectLayers(v.activePage, r);
  }, addLayerTree({ layers: e4, rootId: t }) {
    e4 = n(v.activePage, { layers: e4, rootId: t });
    this.selectLayers(v.activePage, e4.id);
  }, addLayerTrees(e4) {
    const t = [];
    e4 = e4.map((e5) => {
      e5 = n(v.activePage, e5);
      return t.push(e5.id), e5;
    });
    return this.selectLayers(v.activePage, t), e4;
  }, showContextMenu: ({ clientX: e4, clientY: t }) => {
    v.openMenu = { clientX: e4, clientY: t };
  }, hideContextMenu: () => {
    v.openMenu = null;
  }, setSelectData: (e4) => {
    v.selectData.status = e4;
  }, setResizeData: (e4, t, n2, r, o, i) => {
    v.resizeData = { status: e4, layerIds: t, direction: n2, rotate: r, boxSize: o, cursor: i };
  }, setRotateData: (e4, t) => {
    v.rotateData = { status: e4, rotate: t };
  }, setDragData: (e4, t) => {
    v.dragData = { status: e4, layerIds: t };
  }, setControlBox: (e4) => {
    v.controlBox = e4;
  }, setSidebar: (e4) => {
    v.sidebar = e4 || null;
  }, openImageEditor(e4, t, { boxSize: n2, position: r, rotate: o, image: i }) {
    v.imageEditor = lodashExports.cloneDeep({ pageIndex: e4, layerId: t, boxSize: n2, position: r, rotate: o, image: i });
  }, updateImageEditor(e4) {
    v.imageEditor && (v.imageEditor = mergeWithoutArray(v.imageEditor, e4));
  }, closeImageEditor() {
    var e4, t = v.imageEditor;
    t && (e4 = v.pages[t.pageIndex].layers[t.layerId], v.pages[t.pageIndex].layers[t.layerId].data.props = mergeWithoutArray(v.pages[t.pageIndex].layers[t.layerId].data.props, { boxSize: t.boxSize, position: t.position, rotate: t.rotate, image: { boxSize: { width: t.image.boxSize.width / (e4.data.props.scale || 1), height: t.image.boxSize.height / (e4.data.props.scale || 1) }, position: { x: t.image.position.x / (e4.data.props.scale || 1), y: t.image.position.y / (e4.data.props.scale || 1) }, rotate: t.image.rotate } })), v.imageEditor = void 0;
  } };
};
var NOTHING = Symbol.for("immer-nothing");
var DRAFTABLE = Symbol.for("immer-draftable");
var DRAFT_STATE = Symbol.for("immer-state");
var errors = true ? [function(e3) {
  return `The plugin for '${e3}' has not been loaded into Immer. To enable the plugin, import and call \`enable${e3}()\` when initializing your application.`;
}, function(e3) {
  return `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${e3}'`;
}, "This object has been frozen and should not be mutated", function(e3) {
  return "Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? " + e3;
}, "An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.", "Immer forbids circular references", "The first or second argument to `produce` must be a function", "The third argument to `produce` must be a function or undefined", "First argument to `createDraft` must be a plain object, an array, or an immerable object", "First argument to `finishDraft` must be a draft returned by `createDraft`", function(e3) {
  return "'current' expects a draft, got: " + e3;
}, "Object.defineProperty() cannot be used on an Immer draft", "Object.setPrototypeOf() cannot be used on an Immer draft", "Immer only supports deleting array indices", "Immer only supports setting array indices and the 'length' property", function(e3) {
  return "'original' expects a draft, got: " + e3;
}] : [];
function die(e3, ...t) {
  var n;
  if (true)
    throw t = "function" == typeof (n = errors[e3]) ? n.apply(null, t) : n, new Error("[Immer] " + t);
  throw new Error(`[Immer] minified error nr: ${e3}. Full error at: https://bit.ly/3cXEKWf`);
}
var getPrototypeOf = Object.getPrototypeOf;
function isDraft(e3) {
  return !!e3 && !!e3[DRAFT_STATE];
}
function isDraftable(e3) {
  var _a;
  return !!e3 && (isPlainObject(e3) || Array.isArray(e3) || !!e3[DRAFTABLE] || !!((_a = e3.constructor) == null ? void 0 : _a[DRAFTABLE]) || isMap(e3) || isSet(e3));
}
var objectCtorString = Object.prototype.constructor.toString();
function isPlainObject(e3) {
  return !(!e3 || "object" != typeof e3) && (null === (e3 = getPrototypeOf(e3)) || (e3 = Object.hasOwnProperty.call(e3, "constructor") && e3.constructor) === Object || "function" == typeof e3 && Function.toString.call(e3) === objectCtorString);
}
function each(n, r) {
  0 === getArchtype(n) ? Object.entries(n).forEach(([e3, t]) => {
    r(e3, t, n);
  }) : n.forEach((e3, t) => r(t, e3, n));
}
function getArchtype(e3) {
  var t = e3[DRAFT_STATE];
  return t ? t.type_ : Array.isArray(e3) ? 1 : isMap(e3) ? 2 : isSet(e3) ? 3 : 0;
}
function has(e3, t) {
  return 2 === getArchtype(e3) ? e3.has(t) : Object.prototype.hasOwnProperty.call(e3, t);
}
function get(e3, t) {
  return 2 === getArchtype(e3) ? e3.get(t) : e3[t];
}
function set(e3, t, n) {
  var r = getArchtype(e3);
  2 === r ? e3.set(t, n) : 3 === r ? e3.add(n) : e3[t] = n;
}
function is(e3, t) {
  return e3 === t ? 0 !== e3 || 1 / e3 == 1 / t : e3 != e3 && t != t;
}
function isMap(e3) {
  return e3 instanceof Map;
}
function isSet(e3) {
  return e3 instanceof Set;
}
function latest(e3) {
  return e3.copy_ || e3.base_;
}
function shallowCopy(t, e3) {
  if (isMap(t))
    return new Map(t);
  if (isSet(t))
    return new Set(t);
  if (Array.isArray(t))
    return Array.prototype.slice.call(t);
  if (!e3 && isPlainObject(t))
    return getPrototypeOf(t) ? { ...t } : Object.assign(/* @__PURE__ */ Object.create(null), t);
  var n = Object.getOwnPropertyDescriptors(t), r = (delete n[DRAFT_STATE], Reflect.ownKeys(n));
  for (let e4 = 0; e4 < r.length; e4++) {
    var o = r[e4], i = n[o];
    false === i.writable && (i.writable = true, i.configurable = true), (i.get || i.set) && (n[o] = { configurable: true, writable: true, enumerable: i.enumerable, value: t[o] });
  }
  return Object.create(getPrototypeOf(t), n);
}
function freeze(e3, t = false) {
  return isFrozen(e3) || isDraft(e3) || !isDraftable(e3) || (1 < getArchtype(e3) && (e3.set = e3.add = e3.clear = e3.delete = dontMutateFrozenCollections), Object.freeze(e3), t && each(e3, (e4, t2) => freeze(t2, true))), e3;
}
function dontMutateFrozenCollections() {
  die(2);
}
function isFrozen(e3) {
  return Object.isFrozen(e3);
}
var currentScope;
var plugins = {};
function getPlugin(e3) {
  var t = plugins[e3];
  return t || die(0, e3), t;
}
function loadPlugin(e3, t) {
  plugins[e3] || (plugins[e3] = t);
}
function getCurrentScope() {
  return currentScope;
}
function createScope(e3, t) {
  return { drafts_: [], parent_: e3, immer_: t, canAutoFreeze_: true, unfinalizedDrafts_: 0 };
}
function usePatchesInScope(e3, t) {
  t && (getPlugin("Patches"), e3.patches_ = [], e3.inversePatches_ = [], e3.patchListener_ = t);
}
function revokeScope(e3) {
  leaveScope(e3), e3.drafts_.forEach(revokeDraft), e3.drafts_ = null;
}
function leaveScope(e3) {
  e3 === currentScope && (currentScope = e3.parent_);
}
function enterScope(e3) {
  return currentScope = createScope(currentScope, e3);
}
function revokeDraft(e3) {
  e3 = e3[DRAFT_STATE];
  0 === e3.type_ || 1 === e3.type_ ? e3.revoke_() : e3.revoked_ = true;
}
function processResult(e3, t) {
  t.unfinalizedDrafts_ = t.drafts_.length;
  var n = t.drafts_[0];
  return void 0 !== e3 && e3 !== n ? (n[DRAFT_STATE].modified_ && (revokeScope(t), die(4)), isDraftable(e3) && (e3 = finalize(t, e3), t.parent_ || maybeFreeze(t, e3)), t.patches_ && getPlugin("Patches").generateReplacementPatches_(n[DRAFT_STATE].base_, e3, t.patches_, t.inversePatches_)) : e3 = finalize(t, n, []), revokeScope(t), t.patches_ && t.patchListener_(t.patches_, t.inversePatches_), e3 !== NOTHING ? e3 : void 0;
}
function finalize(r, n, o) {
  if (isFrozen(n))
    return n;
  const i = n[DRAFT_STATE];
  if (!i)
    return each(n, (e3, t) => finalizeProperty(r, i, n, e3, t, o)), n;
  if (i.scope_ !== r)
    return n;
  if (!i.modified_)
    return maybeFreeze(r, i.base_, true), i.base_;
  if (!i.finalized_) {
    i.finalized_ = true, i.scope_.unfinalizedDrafts_--;
    const a = i.copy_;
    let e3 = a, n2 = false;
    3 === i.type_ && (e3 = new Set(a), a.clear(), n2 = true), each(e3, (e4, t) => finalizeProperty(r, i, a, e4, t, o, n2)), maybeFreeze(r, a, false), o && r.patches_ && getPlugin("Patches").generatePatches_(i, o, r.patches_, r.inversePatches_);
  }
  return i.copy_;
}
function finalizeProperty(e3, t, n, r, o, i, a) {
  if (o === n && die(5), isDraft(o)) {
    i = finalize(e3, o, i && t && 3 !== t.type_ && !has(t.assigned_, r) ? i.concat(r) : void 0);
    if (set(n, r, i), !isDraft(i))
      return;
    e3.canAutoFreeze_ = false;
  } else
    a && n.add(o);
  !isDraftable(o) || isFrozen(o) || !e3.immer_.autoFreeze_ && e3.unfinalizedDrafts_ < 1 || (finalize(e3, o), t && t.scope_.parent_) || maybeFreeze(e3, o);
}
function maybeFreeze(e3, t, n = false) {
  !e3.parent_ && e3.immer_.autoFreeze_ && e3.canAutoFreeze_ && freeze(t, n);
}
function createProxyProxy(e3, t) {
  var n = Array.isArray(e3), t = { type_: n ? 1 : 0, scope_: t ? t.scope_ : getCurrentScope(), modified_: false, finalized_: false, assigned_: {}, parent_: t, base_: e3, draft_: null, copy_: null, revoke_: null, isManual_: false };
  let r = t, o = objectTraps;
  n && (r = [t], o = arrayTraps);
  var { revoke: e3, proxy: n } = Proxy.revocable(r, o);
  return t.draft_ = n, t.revoke_ = e3, n;
}
var objectTraps = { get(e3, t) {
  var n, r;
  return t === DRAFT_STATE ? e3 : has(n = latest(e3), t) ? (r = n[t], !e3.finalized_ && isDraftable(r) && r === peek(e3.base_, t) ? (prepareCopy(e3), e3.copy_[t] = createProxy(r, e3)) : r) : readPropFromProto(e3, n, t);
}, has(e3, t) {
  return t in latest(e3);
}, ownKeys(e3) {
  return Reflect.ownKeys(latest(e3));
}, set(e3, t, n) {
  var r = getDescriptorFromProto(latest(e3), t);
  if (r == null ? void 0 : r.set)
    r.set.call(e3.draft_, n);
  else {
    if (!e3.modified_) {
      var r = peek(latest(e3), t), o = r == null ? void 0 : r[DRAFT_STATE];
      if (o && o.base_ === n)
        return e3.copy_[t] = n, !(e3.assigned_[t] = false);
      if (is(n, r) && (void 0 !== n || has(e3.base_, t)))
        return true;
      prepareCopy(e3), markChanged(e3);
    }
    e3.copy_[t] === n && (void 0 !== n || t in e3.copy_) || Number.isNaN(n) && Number.isNaN(e3.copy_[t]) || (e3.copy_[t] = n, e3.assigned_[t] = true);
  }
  return true;
}, deleteProperty(e3, t) {
  return void 0 !== peek(e3.base_, t) || t in e3.base_ ? (e3.assigned_[t] = false, prepareCopy(e3), markChanged(e3)) : delete e3.assigned_[t], e3.copy_ && delete e3.copy_[t], true;
}, getOwnPropertyDescriptor(e3, t) {
  var n = latest(e3), r = Reflect.getOwnPropertyDescriptor(n, t);
  return r && { writable: true, configurable: 1 !== e3.type_ || "length" !== t, enumerable: r.enumerable, value: n[t] };
}, defineProperty() {
  die(11);
}, getPrototypeOf(e3) {
  return getPrototypeOf(e3.base_);
}, setPrototypeOf() {
  die(12);
} };
var arrayTraps = {};
function peek(e3, t) {
  var n = e3[DRAFT_STATE];
  return (n ? latest(n) : e3)[t];
}
function readPropFromProto(e3, t, n) {
  var _a;
  t = getDescriptorFromProto(t, n);
  return t ? "value" in t ? t.value : (_a = t.get) == null ? void 0 : _a.call(e3.draft_) : void 0;
}
function getDescriptorFromProto(t, n) {
  if (n in t) {
    let e3 = getPrototypeOf(t);
    for (; e3; ) {
      var r = Object.getOwnPropertyDescriptor(e3, n);
      if (r)
        return r;
      e3 = getPrototypeOf(e3);
    }
  }
}
function markChanged(e3) {
  e3.modified_ || (e3.modified_ = true, e3.parent_ && markChanged(e3.parent_));
}
function prepareCopy(e3) {
  e3.copy_ || (e3.copy_ = shallowCopy(e3.base_, e3.scope_.immer_.useStrictShallowCopy_));
}
each(objectTraps, (e3, t) => {
  arrayTraps[e3] = function() {
    return arguments[0] = arguments[0][0], t.apply(this, arguments);
  };
}), arrayTraps.deleteProperty = function(e3, t) {
  return isNaN(parseInt(t)) && die(13), arrayTraps.set.call(this, e3, t, void 0);
}, arrayTraps.set = function(e3, t, n) {
  return "length" !== t && isNaN(parseInt(t)) && die(14), objectTraps.set.call(this, e3[0], t, n, e3[0]);
};
var Immer2 = class {
  constructor(e3) {
    this.autoFreeze_ = true, this.useStrictShallowCopy_ = false, this.produce = (t, n, r) => {
      if ("function" == typeof t && "function" != typeof n) {
        const s = n, l = (n = t, this);
        return function(e4 = s, ...t2) {
          return l.produce(e4, (e5) => n.call(this, e5, ...t2));
        };
      }
      "function" != typeof n && die(6), void 0 !== r && "function" != typeof r && die(7);
      let o;
      if (isDraftable(t)) {
        var i = enterScope(this), a = createProxy(t, void 0);
        let e4 = true;
        try {
          o = n(a), e4 = false;
        } finally {
          (e4 ? revokeScope : leaveScope)(i);
        }
        return usePatchesInScope(i, r), processResult(o, i);
      }
      if (!t || "object" != typeof t)
        return (o = void 0 === (o = n(t)) ? t : o) === NOTHING && (o = void 0), this.autoFreeze_ && freeze(o, true), r && (a = [], i = [], getPlugin("Patches").generateReplacementPatches_(t, o, a, i), r(a, i)), o;
      die(1, t);
    }, this.produceWithPatches = (n, e4) => {
      if ("function" == typeof n)
        return (e5, ...t) => this.produceWithPatches(e5, (e6) => n(e6, ...t));
      let r, o;
      return [this.produce(n, e4, (e5, t) => {
        r = e5, o = t;
      }), r, o];
    }, "boolean" == typeof (e3 == null ? void 0 : e3.autoFreeze) && this.setAutoFreeze(e3.autoFreeze), "boolean" == typeof (e3 == null ? void 0 : e3.useStrictShallowCopy) && this.setUseStrictShallowCopy(e3.useStrictShallowCopy);
  }
  createDraft(e3) {
    isDraftable(e3) || die(8), isDraft(e3) && (e3 = current(e3));
    var t = enterScope(this), e3 = createProxy(e3, void 0);
    return e3[DRAFT_STATE].isManual_ = true, leaveScope(t), e3;
  }
  finishDraft(e3, t) {
    e3 = e3 && e3[DRAFT_STATE], e3 && e3.isManual_ || die(9), e3 = e3.scope_;
    return usePatchesInScope(e3, t), processResult(void 0, e3);
  }
  setAutoFreeze(e3) {
    this.autoFreeze_ = e3;
  }
  setUseStrictShallowCopy(e3) {
    this.useStrictShallowCopy_ = e3;
  }
  applyPatches(e3, t) {
    let n;
    for (n = t.length - 1; 0 <= n; n--) {
      var r = t[n];
      if (0 === r.path.length && "replace" === r.op) {
        e3 = r.value;
        break;
      }
    }
    -1 < n && (t = t.slice(n + 1));
    const o = getPlugin("Patches").applyPatches_;
    return isDraft(e3) ? o(e3, t) : this.produce(e3, (e4) => o(e4, t));
  }
};
function createProxy(e3, t) {
  e3 = isMap(e3) ? getPlugin("MapSet").proxyMap_(e3, t) : isSet(e3) ? getPlugin("MapSet").proxySet_(e3, t) : createProxyProxy(e3, t);
  return (t ? t.scope_ : getCurrentScope()).drafts_.push(e3), e3;
}
function current(e3) {
  return isDraft(e3) || die(10, e3), currentImpl(e3);
}
function currentImpl(e3) {
  if (!isDraftable(e3) || isFrozen(e3))
    return e3;
  var t = e3[DRAFT_STATE];
  let n;
  if (t) {
    if (!t.modified_)
      return t.base_;
    t.finalized_ = true, n = shallowCopy(e3, t.scope_.immer_.useStrictShallowCopy_);
  } else
    n = shallowCopy(e3, true);
  return each(n, (e4, t2) => {
    set(n, e4, currentImpl(t2));
  }), t && (t.finalized_ = false), n;
}
function enablePatches() {
  errors.push('Sets cannot have "replace" patches.', function(e3) {
    return "Unsupported patch operation: " + e3;
  }, function(e3) {
    return "Cannot apply patch, path doesn't resolve: " + e3;
  }, "Patching reserved attributes like __proto__, prototype and constructor is not allowed");
  const S = "replace", k = "add", C = "remove";
  function c(e3) {
    if (!isDraftable(e3))
      return e3;
    if (Array.isArray(e3))
      return e3.map(c);
    if (isMap(e3))
      return new Map(Array.from(e3.entries()).map(([e4, t2]) => [e4, c(t2)]));
    if (isSet(e3))
      return new Set(Array.from(e3).map(c));
    var t = Object.create(getPrototypeOf(e3));
    for (const n in e3)
      t[n] = c(e3[n]);
    return has(e3, DRAFTABLE) && (t[DRAFTABLE] = e3[DRAFTABLE]), t;
  }
  function E(e3) {
    return isDraft(e3) ? c(e3) : e3;
  }
  loadPlugin("Patches", { applyPatches_: function(l, e3) {
    return e3.forEach((e4) => {
      var { path: n, op: t } = e4;
      let r = l;
      for (let t2 = 0; t2 < n.length - 1; t2++) {
        var o = getArchtype(r);
        let e5 = n[t2];
        "string" != typeof e5 && "number" != typeof e5 && (e5 = "" + e5), 0 !== o && 1 !== o || "__proto__" !== e5 && "constructor" !== e5 || die(19), "function" == typeof r && "prototype" === e5 && die(19), "object" != typeof (r = get(r, e5)) && die(18, n.join("/"));
      }
      var i = getArchtype(r), a = c(e4.value), s = n[n.length - 1];
      switch (t) {
        case S:
          switch (i) {
            case 2:
              return r.set(s, a);
            case 3:
              die(16);
            default:
              return r[s] = a;
          }
        case k:
          switch (i) {
            case 1:
              return "-" === s ? r.push(a) : r.splice(s, 0, a);
            case 2:
              return r.set(s, a);
            case 3:
              return r.add(a);
            default:
              return r[s] = a;
          }
        case C:
          switch (i) {
            case 1:
              return r.splice(s, 1);
            case 2:
              return r.delete(s);
            case 3:
              return r.delete(e4.value);
            default:
              return delete r[s];
          }
        default:
          die(17, t);
      }
    }), l;
  }, generatePatches_: function(e3, i, a, s) {
    switch (e3.type_) {
      case 0:
      case 2: {
        var o = e3;
        var l = i;
        var c2 = a;
        var u = s;
        const { base_: w, copy_: x } = o;
        each(o.assigned_, (e4, t2) => {
          var n = get(w, e4), r = get(x, e4), t2 = t2 ? has(w, e4) ? S : k : C;
          n === r && t2 === S || (e4 = l.concat(e4), c2.push(t2 === C ? { op: t2, path: e4 } : { op: t2, path: e4, value: r }), u.push(t2 === k ? { op: C, path: e4 } : t2 === C ? { op: k, path: e4, value: E(n) } : { op: S, path: e4, value: E(n) }));
        });
        return;
      }
      case 1: {
        o = e3;
        var d = i;
        var p = a;
        var f = s;
        let { base_: t2, assigned_: n } = o, r = o.copy_;
        r.length < t2.length && ([t2, r] = [r, t2], [p, f] = [f, p]);
        for (let e4 = 0; e4 < t2.length; e4++) {
          var h;
          n[e4] && r[e4] !== t2[e4] && (h = d.concat([e4]), p.push({ op: S, path: h, value: E(r[e4]) }), f.push({ op: S, path: h, value: E(t2[e4]) }));
        }
        for (let e4 = t2.length; e4 < r.length; e4++) {
          var m = d.concat([e4]);
          p.push({ op: k, path: m, value: E(r[e4]) });
        }
        for (let e4 = r.length - 1; t2.length <= e4; --e4) {
          var g = d.concat([e4]);
          f.push({ op: C, path: g });
        }
        return;
      }
      case 3: {
        var t = e3;
        var v = i;
        var y = a;
        var b = s;
        let { base_: n, copy_: r } = t, o2 = 0;
        n.forEach((e4) => {
          var t2;
          r.has(e4) || (t2 = v.concat([o2]), y.push({ op: C, path: t2, value: e4 }), b.unshift({ op: k, path: t2, value: e4 })), o2++;
        }), o2 = 0, r.forEach((e4) => {
          var t2;
          n.has(e4) || (t2 = v.concat([o2]), y.push({ op: k, path: t2, value: e4 }), b.unshift({ op: C, path: t2, value: e4 })), o2++;
        });
        return;
      }
    }
  }, generateReplacementPatches_: function(e3, t, n, r) {
    n.push({ op: S, path: [], value: t === NOTHING ? void 0 : t }), r.push({ op: S, path: [], value: e3 });
  } });
}
var immer = new Immer2();
var produce = immer.produce;
var produceWithPatches = immer.produceWithPatches.bind(immer);
var applyPatches = (immer.setAutoFreeze.bind(immer), immer.setUseStrictShallowCopy.bind(immer), immer.applyPatches.bind(immer));
immer.createDraft.bind(immer), immer.finishDraft.bind(immer);
var HISTORY_ACTIONS = { UNDO: "HISTORY_UNDO", REDO: "HISTORY_REDO", THROTTLE: "HISTORY_THROTTLE", IGNORE: "HISTORY_IGNORE", MERGE: "HISTORY_MERGE", CLEAR: "HISTORY_CLEAR", NEW: "HISTORY_NEW", BACK: "HISTORY_BACK" };
var History = class {
  constructor() {
    Object.defineProperty(this, "timeline", { enumerable: true, configurable: true, writable: true, value: [] }), Object.defineProperty(this, "pointer", { enumerable: true, configurable: true, writable: true, value: -1 });
  }
  add(e3, t) {
    this.pointer = this.pointer + 1, this.timeline.length = this.pointer, this.timeline[this.pointer] = { patches: e3, inversePatches: t, timestamp: Date.now() };
  }
  throttleAdd(e3, t, n = 500) {
    if (this.timeline.length && 0 <= this.pointer) {
      var { patches: r, inversePatches: o, timestamp: i } = this.timeline[this.pointer];
      if ((/* @__PURE__ */ new Date()).getTime() - i < n)
        return void (this.timeline[this.pointer] = { timestamp: i, patches: [...r, ...e3], inversePatches: [...t, ...o] });
    }
    this.add(e3, t);
  }
  back() {
    this.canUndo() && (this.timeline.splice(this.pointer, 1), this.pointer = this.pointer - 1);
  }
  merge(e3, t) {
    var n, r, o;
    0 === e3.length && 0 === t.length || (this.timeline.length && 0 <= this.pointer ? ({ patches: n, inversePatches: r, timestamp: o } = this.timeline[this.pointer], this.timeline[this.pointer] = { timestamp: o, patches: [...n, ...e3], inversePatches: [...t, ...r] }) : this.add(e3, t));
  }
  clear() {
    this.timeline = [], this.pointer = -1;
  }
  canUndo() {
    return 0 <= this.pointer;
  }
  canRedo() {
    return this.pointer < this.timeline.length - 1;
  }
  undo(e3) {
    var t;
    if (this.canUndo())
      return t = this.timeline[this.pointer]["inversePatches"], this.pointer = this.pointer - 1, t = t.filter((e4) => "textEditor" !== e4.path[0]), applyPatches(e3, t);
  }
  redo(e3) {
    var t;
    if (this.canRedo())
      return this.pointer = this.pointer + 1, t = this.timeline[this.pointer]["patches"], t = t.filter((e4) => "textEditor" !== e4.path[0]), applyPatches(e3, t);
  }
};
function elementFromString(e3) {
  e3 = `<body>${e3}</body>`;
  return new window.DOMParser().parseFromString(e3, "text/html").body;
}
function createNodeFromContent(e3, t) {
  return DOMParser$1.fromSchema(t).parse(elementFromString(e3));
}
function createDocument(e3, t) {
  return createNodeFromContent(e3, t);
}
var setContent = (o) => (e3, t) => {
  var n = e3.tr, r = n["doc"], e3 = createDocument(o, e3.schema);
  return !!t && (n.replaceWith(0, r.content.size, e3), t(n), true);
};
var serialize = (e3) => e3.map((e4) => ({ locked: e4.locked, layers: serializeLayers(e4.layers, "ROOT") }));
var QueryMethods = (n) => ({ serialize() {
  return serialize(n.pages);
}, getLayers(e3) {
  return n.pages[e3] && n.pages[e3].layers;
}, getLayer(e3, t) {
  e3 = n.pages[e3] && n.pages[e3].layers;
  if (e3)
    return e3[t];
} });
var ignoreHistoryForActions = (enablePatches(), ["hoverLayer", "selectLayers", "setControlBox", "setScale", "setEditing", "selectAllLayers", "resetSelectLayer", "hoverLayer", "setTextEditor", "setData", "showContextMenu", "hideContextMenu", "setResizeData", "setRotateData", "setDragData", "setSelectData", "setSidebar", "imageEditor"]);
var autoHistoryForActions = ["setProp", "ungroup", "group", "setHidden", "lock", "unlock", "lockPage", "unlockPage", "deletePage", "duplicatePage", "addPage", "movePageUp", "movePageDown", "bringForward", "sendBackward", "bringToFront", "sendToBack", "addLayer", "addImageLayer", "addFrameLayer", "addLayerTree", "deleteLayer"];
var useEditorStore = () => {
  const i = (0, import_react.useMemo)(() => new History(), []), e3 = (0, import_react.useRef)(), r = (0, import_react.useCallback)(() => e3.current, []), a = ActionMethods, t = (0, import_react.useMemo)(() => {
    const n2 = QueryMethods;
    return Object.keys(n2()).reduce((e4, t2) => Object.assign(Object.assign({}, e4), { [t2]: (...e5) => {
      return (0, n2(r())[t2])(...e5);
    } }), {});
  }, [r, QueryMethods]), n = (0, import_react.useMemo)(() => Object.assign(Object.assign({}, t), { history: { canUndo() {
    return i.canUndo();
  }, canRedo() {
    return i.canRedo();
  } } }), [t, i]);
  var [o] = (0, import_react.useMemo)(() => [(e4, r2) => {
    let t2;
    var [e4, n2, o2] = produceWithPatches(e4, (e5) => {
      switch (r2.type) {
        case HISTORY_ACTIONS.NEW:
          break;
        case HISTORY_ACTIONS.BACK:
          i.back();
          break;
        case HISTORY_ACTIONS.UNDO:
          return i.undo(e5);
        case HISTORY_ACTIONS.REDO:
          return i.redo(e5);
        case HISTORY_ACTIONS.CLEAR:
          return i.clear(), Object.assign({}, e5);
        case HISTORY_ACTIONS.IGNORE:
        case HISTORY_ACTIONS.MERGE:
        case HISTORY_ACTIONS.THROTTLE:
          var [t3, ...n3] = r2.payload;
          a(e5)[t3](...n3);
          break;
        default:
          a(e5)[r2.type](...r2.payload);
      }
    });
    return t2 = e4, [HISTORY_ACTIONS.UNDO, HISTORY_ACTIONS.REDO].includes(r2.type) && (t2 = produce(t2, (e5) => {
      e5.pages.forEach((e6) => {
        Object.entries(e6.layers).forEach(([, e7]) => {
          var t3;
          isTextLayer(e7) && (t3 = e7.data.editor) && setContent(e7.data.props.text)(t3.state, t3.dispatch);
        });
      }), e5.textEditor = void 0, e5.selectedLayers = {}, e5.hoveredLayer = {}, e5.controlBox = void 0;
    })), [...ignoreHistoryForActions, HISTORY_ACTIONS.UNDO, HISTORY_ACTIONS.REDO, HISTORY_ACTIONS.CLEAR, HISTORY_ACTIONS.IGNORE, HISTORY_ACTIONS.NEW].includes(r2.type) || (r2.type === HISTORY_ACTIONS.THROTTLE ? i.throttleAdd(n2, o2, r2.config && r2.config.rate) : autoHistoryForActions.includes(r2.type) ? i.add(n2, o2) : i.merge(n2, o2)), HISTORY_ACTIONS.NEW === r2.type && i.add(n2, o2), HISTORY_ACTIONS.MERGE === r2.type && i.merge(n2, o2), HISTORY_ACTIONS.THROTTLE === r2.type && i.throttleAdd(n2, o2), t2;
  }], [i, n]);
  const [s, l] = (0, import_react.useReducer)(o, { selectedLayers: {}, hoveredLayer: {}, openMenu: null, scale: 1, activePage: 0, pageSize: { width: 0, height: 0 }, pages: [], fontList: [], guideline: { vertical: [], horizontal: [] }, sidebar: null, resizeData: { status: false }, dragData: { status: false }, rotateData: { status: false }, selectData: { status: false } }), c = (0, import_react.useMemo)(() => {
    const e4 = Object.keys(a(null));
    var t2 = e4.reduce((e5, t3) => (e5[t3] = (...e6) => l({ type: t3, payload: e6 }), e5), {}), n2 = { new() {
      l({ type: HISTORY_ACTIONS.NEW });
    }, undo() {
      return l({ type: HISTORY_ACTIONS.UNDO });
    }, redo() {
      return l({ type: HISTORY_ACTIONS.REDO });
    }, clear: () => l({ type: HISTORY_ACTIONS.CLEAR }), back: () => l({ type: HISTORY_ACTIONS.BACK }), ignore: () => e4.filter((e5) => !ignoreHistoryForActions.includes(e5)).reduce((e5, t3) => (e5[t3] = (...e6) => l({ type: HISTORY_ACTIONS.IGNORE, payload: [t3, ...e6] }), e5), {}), throttle: (n3) => e4.filter((e5) => !ignoreHistoryForActions.includes(e5)).reduce((e5, t3) => (e5[t3] = (...e6) => l({ type: HISTORY_ACTIONS.THROTTLE, payload: [t3, ...e6], config: { rate: n3 } }), e5), {}), merge: () => e4.filter((e5) => !ignoreHistoryForActions.includes(e5)).reduce((e5, t3) => (e5[t3] = (...e6) => l({ type: HISTORY_ACTIONS.MERGE, payload: [t3, ...e6] }), e5), {}) };
    return Object.assign(Object.assign({}, t2), { history: n2 });
  }, [a]);
  return e3.current = s, (0, import_react.useMemo)(() => ({ getState: r, actions: c, query: n }), [c, r]);
};
var Editor = ({ getFonts: e3, config: t, children: n }) => {
  var { getState: r, actions: o, query: i } = useEditorStore();
  return jsx2(EditorContext.Provider, { value: { config: t, getState: r, actions: o, query: i, getFonts: e3 }, children: n });
};
var CaretLeftIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M165.66 202.34a8 8 0 0 1-11.32 11.32l-80-80a8 8 0 0 1 0-11.32l80-80a8 8 0 0 1 11.32 11.32L91.31 128Z" }) }));
};
var timeout;
var Preview = () => {
  const { pages: n, pageSize: o } = useEditor((e4) => ({ pages: e4.pages, pageSize: e4.pageSize })), [r, e3] = (0, import_react.useState)(0), [i, a] = (0, import_react.useState)({ width: 0, height: 0, scale: 1 });
  var t = useUsedFont()["usedFonts"];
  const s = (0, import_react.useCallback)((t2) => {
    e3((e4) => {
      e4 = (e4 + t2) % n.length;
      return 0 <= e4 ? e4 : n.length + e4;
    });
  }, [e3, n.length]);
  return (0, import_react.useEffect)(() => (timeout = setTimeout(() => {
    s(1);
  }, 5e3), () => {
    clearTimeout(timeout);
  }), [s, r]), (0, import_react.useEffect)(() => {
    const e4 = () => {
      var { clientWidth: e5, clientHeight: t2 } = window.document.body, n2 = e5 / t2, r2 = o.width / o.height;
      r2 < n2 ? (n2 = t2 * r2, a({ width: n2, height: t2, scale: n2 / o.width })) : (n2 = (t2 = e5) / r2, a({ width: t2, height: n2, scale: t2 / o.width }));
    };
    return e4(), window.addEventListener("resize", e4), () => {
      window.removeEventListener("resize", e4);
    };
  }, [o]), 0 === i.width ? null : jsxs2("div", { css: { position: "relative", width: "100%", height: "100%", display: "flex", alignItems: "center", justifyContent: "center" }, children: [jsx2(GlobalStyle, { fonts: t }), jsx2("div", { css: { position: "absolute", top: "50%", transform: "translate(0, -50%)", left: "16px", zIndex: 1050 }, children: jsx2("div", { css: { border: "1px solid #fff", background: "rgba(255,255,255,0.3)", width: 60, height: 60, display: "flex", alignItems: "center", justifyContent: "center", fontSize: 32, color: "#fff", borderRadius: "50%", cursor: "pointer" }, onClick: () => s(-1), children: jsx2(CaretLeftIcon, {}) }) }), jsx2("div", { css: { position: "absolute", top: "50%", transform: "translate(0, -50%)", right: "16px", zIndex: 1050 }, children: jsx2("div", { css: { border: "1px solid #fff", background: "rgba(255,255,255,0.3)", width: 60, height: 60, display: "flex", alignItems: "center", justifyContent: "center", fontSize: 32, color: "#fff", borderRadius: "50%", cursor: "pointer" }, onClick: () => s(1), children: jsx2(CaretRightIcon, {}) }) }), jsx2("div", { css: { width: i.width, height: i.height }, children: jsx2("div", { css: { position: "relative" }, children: n.map((e4, t2) => jsx2("div", { children: jsx2(Page$1, { pageIndex: t2, width: o.width, height: o.height, scale: i.scale, isActive: r === t2 }) }, t2)) }) })] });
};
var getMarkAttrs = (e3) => e3.marks.reduce((n, e4) => (Object.entries(e4.attrs).forEach(([e5, t]) => {
  n[e5] || (n[e5] = []), t && n[e5].push(t);
}), n), {});
var getAllMarks = (e3) => {
  let t = e3.marks.reduce((n, e4) => (Object.entries(e4.attrs).forEach(([e5, t2]) => {
    n[e5] || (n[e5] = []), t2 && n[e5].push(t2);
  }), n), {});
  return e3.content.forEach((e4) => {
    t = lodashExports.mergeWith(t, getAllMarks(e4), (e5, t2) => {
      if (lodashExports.isArray(e5))
        return e5.concat(t2);
    });
  }), t;
};
var getAttrs = (e3) => Object.entries(e3.attrs).reduce((e4, [t, n]) => (n && (e4[t] = [n]), e4), {});
var getAllAttrs = (e3) => {
  const n = Object.entries(e3.attrs).reduce((e4, [t, n2]) => (e4[t] = [n2], e4), {});
  return e3.content.forEach((e4) => {
    Object.entries(e4.attrs).forEach(([e5, t]) => {
      n[e5] || (n[e5] = []), t && n[e5].push(t);
    });
  }), n;
};
var getFontFamily = (e3) => lodashExports.uniq((null == e3 ? void 0 : e3.fontFamily) || []);
var getFontSize = (e3) => lodashExports.uniq((null == e3 ? void 0 : e3.fontSize) || []).map((e4) => parseFloat(e4));
var getLineHeight = (e3) => lodashExports.uniq((null == e3 ? void 0 : e3.lineHeight) || []).map((e4) => parseFloat(e4));
var getLetterSpacing = (e3) => lodashExports.uniq((null == e3 ? void 0 : e3.letterSpacing) || []).map((e4) => parseFloat(e4));
var getColor = (e3, t) => {
  e3 = lodashExports.mergeWith(e3, t, (e4, t2) => {
    if (lodashExports.isArray(e4))
      return e4.concat(t2);
  });
  return lodashExports.uniq((null == e3 ? void 0 : e3.color) || []).map((e4) => new Color(e4).toRgbString());
};
var reactDom = { exports: {} };
var scheduler = { exports: {} };
var hasRequiredScheduler_development;
var hasRequiredScheduler;
var scheduler_development = {};
function requireScheduler_development() {
  var l, c, u, t, a, s, r, d, p, L, e3, j, A, F, $, B, V, f, h, H, m, g, v, y, b, n, W, o, i, w, x, S, k, C, U, E, T;
  return hasRequiredScheduler_development || (hasRequiredScheduler_development = 1, l = scheduler_development, ("undefined" != typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ && "function" == typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error()), u = c = false, a = 1, s = 2, r = 3, d = 4, p = t = 5, "object" == typeof performance && "function" == typeof performance.now ? (L = performance, l.unstable_now = function() {
    return L.now();
  }) : (e3 = Date, j = e3.now(), l.unstable_now = function() {
    return e3.now() - j;
  }), A = -1, F = 250, $ = 5e3, B = 1e4, V = 1073741823, f = [], h = [], m = null, g = r, b = y = v = !(H = 1), n = "function" == typeof setTimeout ? setTimeout : null, W = "function" == typeof clearTimeout ? clearTimeout : null, o = "undefined" != typeof setImmediate ? setImmediate : null, "undefined" != typeof navigator && void 0 !== navigator.scheduling && void 0 !== navigator.scheduling.isInputPending && navigator.scheduling.isInputPending.bind(navigator.scheduling), i = false, w = null, S = t, k = x = -1, E = function() {
    if (null !== w) {
      var e4 = l.unstable_now(), t2 = (k = e4, true);
      try {
        t2 = w(true, e4);
      } finally {
        t2 ? T() : (i = false, w = null);
      }
    } else
      i = false;
  }, T = "function" == typeof o ? function() {
    o(E);
  } : "undefined" != typeof MessageChannel ? (C = new MessageChannel(), U = C.port2, C.port1.onmessage = E, function() {
    U.postMessage(null);
  }) : function() {
    n(E, 0);
  }, l.unstable_IdlePriority = p, l.unstable_ImmediatePriority = a, l.unstable_LowPriority = d, l.unstable_NormalPriority = r, l.unstable_Profiling = null, l.unstable_UserBlockingPriority = s, l.unstable_cancelCallback = function(e4) {
    e4.callback = null;
  }, l.unstable_continueExecution = function() {
    y || v || (y = true, P(N));
  }, l.unstable_forceFrameRate = function(e4) {
    e4 < 0 || 125 < e4 ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : S = 0 < e4 ? Math.floor(1e3 / e4) : t;
  }, l.unstable_getCurrentPriorityLevel = function() {
    return g;
  }, l.unstable_getFirstCallbackNode = function() {
    return R(f);
  }, l.unstable_next = function(e4) {
    var t2;
    switch (g) {
      case a:
      case s:
      case r:
        t2 = r;
        break;
      default:
        t2 = g;
    }
    var n2 = g;
    g = t2;
    try {
      return e4();
    } finally {
      g = n2;
    }
  }, l.unstable_pauseExecution = function() {
  }, l.unstable_requestPaint = K, l.unstable_runWithPriority = function(e4, t2) {
    switch (e4) {
      case a:
      case s:
      case r:
      case d:
      case p:
        break;
      default:
        e4 = r;
    }
    var n2 = g;
    g = e4;
    try {
      return t2();
    } finally {
      g = n2;
    }
  }, l.unstable_scheduleCallback = function(e4, t2, n2) {
    var r2, o2 = l.unstable_now();
    switch (n2 = "object" == typeof n2 && null !== n2 && "number" == typeof (n2 = n2.delay) && 0 < n2 ? o2 + n2 : o2, e4) {
      case a:
        r2 = A;
        break;
      case s:
        r2 = F;
        break;
      case p:
        r2 = V;
        break;
      case d:
        r2 = B;
        break;
      default:
        r2 = $;
    }
    var i2 = n2 + r2, t2 = { id: H++, callback: t2, priorityLevel: e4, startTime: n2, expirationTime: i2, sortIndex: -1 };
    return o2 < n2 ? (t2.sortIndex = n2, _(h, t2), null === R(f) && t2 === R(h) && (b ? Y() : b = true, z(D, n2 - o2))) : (t2.sortIndex = i2, _(f, t2), y || v || (y = true, P(N))), t2;
  }, l.unstable_shouldYield = q, l.unstable_wrapCallback = function(t2) {
    var n2 = g;
    return function() {
      var e4 = g;
      g = n2;
      try {
        return t2.apply(this, arguments);
      } finally {
        g = e4;
      }
    };
  }, "undefined" != typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) && "function" == typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error())), scheduler_development;
  function _(e4, t2) {
    for (var n2 = e4.length, r2 = (e4.push(t2), e4), o2 = t2, i2 = n2; 0 < i2; ) {
      var a2 = i2 - 1 >>> 1, s2 = r2[a2];
      if (!(0 < I(s2, o2)))
        return;
      r2[a2] = o2, r2[i2] = s2, i2 = a2;
    }
  }
  function R(e4) {
    return 0 === e4.length ? null : e4[0];
  }
  function O(e4) {
    if (0 !== e4.length) {
      var t2 = e4[0], n2 = e4.pop();
      if (n2 !== t2) {
        e4[0] = n2;
        for (var r2 = e4, o2 = n2, i2 = 0, a2 = r2.length, s2 = a2 >>> 1; i2 < s2; ) {
          var l2 = 2 * (i2 + 1) - 1, c2 = r2[l2], u2 = 1 + l2, d2 = r2[u2];
          if (I(c2, o2) < 0)
            i2 = u2 < a2 && I(d2, c2) < 0 ? (r2[i2] = d2, r2[u2] = o2, u2) : (r2[i2] = c2, r2[l2] = o2, l2);
          else {
            if (!(u2 < a2 && I(d2, o2) < 0))
              return;
            r2[i2] = d2, r2[u2] = o2, i2 = u2;
          }
        }
      }
    }
  }
  function I(e4, t2) {
    var n2 = e4.sortIndex - t2.sortIndex;
    return 0 != n2 ? n2 : e4.id - t2.id;
  }
  function M(e4) {
    for (var t2 = R(h); null !== t2; ) {
      if (null === t2.callback)
        O(h);
      else {
        if (!(t2.startTime <= e4))
          return;
        O(h), t2.sortIndex = t2.expirationTime, _(f, t2);
      }
      t2 = R(h);
    }
  }
  function D(e4) {
    var t2;
    b = false, M(e4), y || (null !== R(f) ? (y = true, P(N)) : null !== (t2 = R(h)) && z(D, t2.startTime - e4));
  }
  function N(e4, t2) {
    y = false, b && (b = false, Y()), v = true;
    var n2 = g;
    try {
      if (!u) {
        var r2 = e4, o2 = t2, i2 = o2;
        for (M(i2), m = R(f); null !== m && !c && (!(m.expirationTime > i2) || r2 && !q()); ) {
          var a2, s2 = m.callback;
          "function" == typeof s2 ? (m.callback = null, g = m.priorityLevel, a2 = m.expirationTime <= i2, s2 = s2(a2), i2 = l.unstable_now(), "function" == typeof s2 ? m.callback = s2 : m === R(f) && O(f), M(i2)) : O(f), m = R(f);
        }
        return null !== m || (null !== (o2 = R(h)) && z(D, o2.startTime - i2), false);
      }
    } finally {
      m = null, g = n2, v = false;
    }
  }
  function q() {
    return !(l.unstable_now() - k < S);
  }
  function P(e4) {
    w = e4, i || (i = true, T());
  }
  function z(e4, t2) {
    x = n(function() {
      e4(l.unstable_now());
    }, t2);
  }
  function Y() {
    W(x), x = -1;
  }
  function K() {
  }
}
function requireScheduler() {
  return hasRequiredScheduler || (hasRequiredScheduler = 1, false ? scheduler.exports = requireScheduler_production_min() : scheduler.exports = requireScheduler_development()), scheduler.exports;
}
var hasRequiredReactDom_development;
var reactDom_development = {};
function requireReactDom_development() {
  if (!hasRequiredReactDom_development && (hasRequiredReactDom_development = 1, true)) {
    let d = function(e4) {
      if (!u) {
        for (var t2 = arguments.length, n2 = new Array(1 < t2 ? t2 - 1 : 0), r2 = 1; r2 < t2; r2++)
          n2[r2 - 1] = arguments[r2];
        p("warn", e4, n2);
      }
    }, te = function(e4) {
      if (!u) {
        for (var t2 = arguments.length, n2 = new Array(1 < t2 ? t2 - 1 : 0), r2 = 1; r2 < t2; r2++)
          n2[r2 - 1] = arguments[r2];
        p("error", e4, n2);
      }
    }, p = function(e4, t2, n2) {
      var r2 = s.ReactDebugCurrentFrame.getStackAddendum(), r2 = ("" !== r2 && (t2 += "%s", n2 = n2.concat([r2])), n2.map(function(e5) {
        return String(e5);
      }));
      r2.unshift("Warning: " + t2), Function.prototype.apply.call(console[e4], console, r2);
    }, F = function(e4, t2) {
      $(e4, t2), $(e4 + "Capture", t2);
    }, $ = function(e4, t2) {
      j[e4] && te("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.", e4), j[e4] = t2;
      var n2 = e4.toLowerCase();
      "onDoubleClick" === (A[n2] = e4) && (A.ondblclick = e4);
      for (var r2 = 0; r2 < t2.length; r2++)
        L.add(t2[r2]);
    }, Ee = function(e4) {
      if (V.call(Ce, e4))
        return 1;
      if (!V.call(ke, e4)) {
        if (Se.test(e4))
          return Ce[e4] = true;
        ke[e4] = true, te("Invalid attribute name: `%s`", e4);
      }
    }, Te = function(e4, t2, n2) {
      return null !== t2 ? t2.type === H : !n2 && 2 < e4.length && ("o" === e4[0] || "O" === e4[0]) && ("n" === e4[1] || "N" === e4[1]);
    }, _e = function(e4, t2, n2, r2) {
      if (null === n2 || n2.type !== H)
        switch (typeof t2) {
          case "function":
          case "symbol":
            return 1;
          case "boolean":
            var o2;
            return r2 ? void 0 : null !== n2 ? !n2.acceptsBooleans : "data-" !== (o2 = e4.toLowerCase().slice(0, 5)) && "aria-" !== o2;
          default:
            return;
        }
    }, Re = function(e4, t2, n2, r2) {
      if (null == t2)
        return 1;
      if (_e(e4, t2, n2, r2))
        return 1;
      if (!r2 && null !== n2)
        switch (n2.type) {
          case U:
            return !t2;
          case xe:
            return false === t2;
          case 5:
            return isNaN(t2);
          case 6:
            return isNaN(t2) || t2 < 1;
        }
    }, Oe = function(e4) {
      return De.hasOwnProperty(e4) ? De[e4] : null;
    }, Ie = function(e4, t2, n2, r2, o2, i2, a2) {
      this.acceptsBooleans = t2 === W || t2 === U || t2 === xe, this.attributeName = r2, this.attributeNamespace = o2, this.mustUseProperty = n2, this.propertyName = e4, this.type = t2, this.sanitizeURL = i2, this.removeEmptyString = a2;
    }, Me = function(e4) {
      return e4[1].toUpperCase();
    }, Le = function(e4) {
      !ze && Pe.test(e4) && (ze = true, te("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.", JSON.stringify(e4)));
    }, je = function(e4, t2, n2) {
      if (Ee(t2))
        return e4.hasAttribute(t2) ? (e4 = e4.getAttribute(t2)) === "" + n2 ? n2 : e4 : void 0 === n2 ? void 0 : null;
    }, Ae = function(e4, t2, n2, r2) {
      var o2, i2, a2 = Oe(t2);
      Te(t2, a2, r2) || (Re(t2, n2, a2, r2) && (n2 = null), r2 || null === a2 ? Ee(t2) && (r2 = t2, null === n2 ? e4.removeAttribute(r2) : e4.setAttribute(r2, "" + n2)) : a2.mustUseProperty ? (t2 = a2.propertyName, null === n2 ? (r2 = a2.type, e4[t2] = r2 !== U && "") : e4[t2] = n2) : (r2 = a2.attributeName, t2 = a2.attributeNamespace, null === n2 ? e4.removeAttribute(r2) : ((o2 = a2.type) === U || o2 === xe && true === n2 ? i2 = "" : (i2 = "" + n2, a2.sanitizeURL && Le(i2.toString())), t2 ? e4.setAttributeNS(t2, r2, i2) : e4.setAttribute(r2, i2))));
    }, et = function(e4) {
      return null !== e4 && "object" == typeof e4 && "function" == typeof (e4 = Je && e4[Je] || e4[Qe]) ? e4 : null;
    }, ct = function() {
    }, pt = function(e4) {
      if (void 0 === ut)
        try {
          throw Error();
        } catch (e5) {
          var t2 = e5.stack.trim().match(/\n( *(at )?)/);
          ut = t2 && t2[1] || "";
        }
      return "\n" + ut + e4;
    }, mt = function(t2, e4) {
      if (!t2 || ft)
        return "";
      var n2 = ht.get(t2);
      if (void 0 !== n2)
        return n2;
      ft = true;
      var r2, o2, n2 = Error.prepareStackTrace;
      Error.prepareStackTrace = void 0, r2 = dt.current, dt.current = null, 0 === lt && (tt = console.log, nt = console.info, rt = console.warn, ot = console.error, it = console.group, at = console.groupCollapsed, st = console.groupEnd, o2 = { configurable: true, enumerable: true, value: ct, writable: true }, Object.defineProperties(console, { info: o2, log: o2, warn: o2, error: o2, group: o2, groupCollapsed: o2, groupEnd: o2 })), lt++;
      try {
        if (e4) {
          let i2 = function() {
            throw Error();
          };
          if (Object.defineProperty(i2.prototype, "props", { set: function() {
            throw Error();
          } }), "object" == typeof Reflect && Reflect.construct) {
            try {
              Reflect.construct(i2, []);
            } catch (e5) {
              d2 = e5;
            }
            Reflect.construct(t2, [], i2);
          } else {
            try {
              i2.call();
            } catch (e5) {
              d2 = e5;
            }
            t2.call(i2.prototype);
          }
        } else {
          try {
            throw Error();
          } catch (e5) {
            d2 = e5;
          }
          t2();
        }
      } catch (e5) {
        if (e5 && d2 && "string" == typeof e5.stack) {
          for (var a2, s2 = e5.stack.split("\n"), l2 = d2.stack.split("\n"), c2 = s2.length - 1, u2 = l2.length - 1; 1 <= c2 && 0 <= u2 && s2[c2] !== l2[u2]; )
            u2--;
          for (; 1 <= c2 && 0 <= u2; c2--, u2--)
            if (s2[c2] !== l2[u2]) {
              if (1 !== c2 || 1 !== u2)
                do {
                  if (c2--, --u2 < 0 || s2[c2] !== l2[u2])
                    return a2 = "\n" + s2[c2].replace(" at new ", " at "), t2.displayName && a2.includes("<anonymous>") && (a2 = a2.replace("<anonymous>", t2.displayName)), "function" == typeof t2 && ht.set(t2, a2), a2;
                } while (1 <= c2 && 0 <= u2);
              break;
            }
        }
      } finally {
        ft = false, dt.current = r2, 0 === --lt && (o2 = { configurable: true, enumerable: true, writable: true }, Object.defineProperties(console, { log: k({}, o2, { value: tt }), info: k({}, o2, { value: nt }), warn: k({}, o2, { value: rt }), error: k({}, o2, { value: ot }), group: k({}, o2, { value: it }), groupCollapsed: k({}, o2, { value: at }), groupEnd: k({}, o2, { value: st }) })), lt < 0 && te("disabledDepth fell below zero. This is a bug in React. Please file an issue."), Error.prepareStackTrace = n2;
      }
      var e4 = t2 ? t2.displayName || t2.name : "", d2 = e4 ? pt(e4) : "";
      return "function" == typeof t2 && ht.set(t2, d2), d2;
    }, gt = function(e4) {
      return mt(e4, false);
    }, vt = function(e4) {
      switch (e4._debugOwner && e4._debugOwner.type, e4._debugSource, e4.tag) {
        case G:
          return pt(e4.type);
        case me:
          return pt("Lazy");
        case X:
          return pt("Suspense");
        case ve:
          return pt("SuspenseList");
        case q:
        case le:
        case J:
          return gt(e4.type);
        case Z:
          return gt(e4.type.render);
        case Y:
          return mt(e4.type, true);
        default:
          return "";
      }
    }, yt = function(e4) {
      try {
        for (var t2 = "", n2 = e4; t2 += vt(n2), n2 = n2.return; )
          ;
        return t2;
      } catch (e5) {
        return "\nError generating stack: " + e5.message + "\n" + e5.stack;
      }
    }, bt = function(e4) {
      return e4.displayName || "Context";
    }, Q = function(e4) {
      if (null != e4) {
        if ("number" == typeof e4.tag && te("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."), "function" == typeof e4)
          return e4.displayName || e4.name || null;
        if ("string" == typeof e4)
          return e4;
        switch (e4) {
          case Be:
            return "Fragment";
          case $e:
            return "Portal";
          case He:
            return "Profiler";
          case Ve:
            return "StrictMode";
          case Ye:
            return "Suspense";
          case Ke:
            return "SuspenseList";
        }
        if ("object" == typeof e4)
          switch (e4.$$typeof) {
            case Ue:
              return bt(e4) + ".Consumer";
            case We:
              return bt(e4._context) + ".Provider";
            case qe:
              return n2 = (t2 = e4).render, r2 = "ForwardRef", (t2 = t2.displayName) || ("" !== (t2 = n2.displayName || n2.name || "") ? r2 + "(" + t2 + ")" : r2);
            case Ge:
              n2 = e4.displayName || null;
              return null !== n2 ? n2 : Q(e4.type) || "Memo";
            case Ze:
              t2 = e4._payload, r2 = e4._init;
              try {
                return Q(r2(t2));
              } catch (e5) {
                return null;
              }
          }
        var t2, n2, r2;
      }
      return null;
    }, wt = function(e4) {
      return e4.displayName || "Context";
    }, C = function(e4) {
      var t2, n2, r2 = e4.tag, o2 = e4.type;
      switch (r2) {
        case f:
          return "Cache";
        case de:
          return wt(o2) + ".Consumer";
        case pe:
          return wt(o2._context) + ".Provider";
        case g:
          return "DehydratedFragment";
        case Z:
          return t2 = o2.render, n2 = "ForwardRef", t2 = t2.displayName || t2.name || "", o2.displayName || ("" !== t2 ? n2 + "(" + t2 + ")" : n2);
        case ce:
          return "Fragment";
        case G:
          return o2;
        case ne:
          return "Portal";
        case K:
          return "Root";
        case re:
          return "Text";
        case me:
          return Q(o2);
        case ue:
          return o2 === Ve ? "StrictMode" : "Mode";
        case be:
          return "Offscreen";
        case fe:
          return "Profiler";
        case ye:
          return "Scope";
        case X:
          return "Suspense";
        case ve:
          return "SuspenseList";
        case h:
          return "TracingMarker";
        case Y:
        case q:
        case ge:
        case le:
        case he:
        case J:
          if ("function" == typeof o2)
            return o2.displayName || o2.name || null;
          if ("string" == typeof o2)
            return o2;
      }
      return null;
    }, Ct = function() {
      var e4;
      return null !== St && null != (e4 = St._debugOwner) ? C(e4) : null;
    }, Et = function() {
      return null === St ? "" : yt(St);
    }, Tt = function() {
      xt.getCurrentStack = null, St = null, kt = false;
    }, _t = function(e4) {
      xt.getCurrentStack = null === e4 ? null : Et, St = e4, kt = false;
    }, Rt = function(e4) {
      kt = e4;
    }, Ot = function(e4) {
      switch (typeof e4) {
        case "boolean":
        case "number":
        case "string":
        case "undefined":
        case "object":
          return e4;
        default:
          return "";
      }
    }, Mt = function(e4, t2) {
      It[t2.type] || t2.onChange || t2.onInput || t2.readOnly || t2.disabled || null == t2.value || te("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."), t2.onChange || t2.readOnly || t2.disabled || null == t2.checked || te("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.");
    }, Dt = function(e4) {
      var t2 = e4.type, e4 = e4.nodeName;
      return e4 && "input" === e4.toLowerCase() && ("checkbox" === t2 || "radio" === t2);
    }, Nt = function(e4) {
      return e4._valueTracker;
    }, Pt = function(e4) {
      Nt(e4) || (e4._valueTracker = function(e5) {
        var t2, n2, r2 = Dt(e5) ? "checked" : "value", o2 = Object.getOwnPropertyDescriptor(e5.constructor.prototype, r2), i2 = (e5[r2], "" + e5[r2]);
        if (!e5.hasOwnProperty(r2) && void 0 !== o2 && "function" == typeof o2.get && "function" == typeof o2.set)
          return t2 = o2.get, n2 = o2.set, Object.defineProperty(e5, r2, { configurable: true, get: function() {
            return t2.call(this);
          }, set: function(e6) {
            i2 = "" + e6, n2.call(this, e6);
          } }), Object.defineProperty(e5, r2, { enumerable: o2.enumerable }), { getValue: function() {
            return i2;
          }, setValue: function(e6) {
            i2 = "" + e6;
          }, stopTracking: function() {
            e5._valueTracker = null, delete e5[r2];
          } };
      }(e4));
    }, zt = function(e4) {
      var t2, n2, r2;
      if (e4)
        return (t2 = Nt(e4)) ? (n2 = t2.getValue(), r2 = "", (e4 = r2 = (e4 = e4) ? Dt(e4) ? e4.checked ? "true" : "false" : e4.value : r2) !== n2 && (t2.setValue(e4), 1)) : 1;
    }, Lt = function(t2) {
      if (void 0 === (t2 = t2 || ("undefined" != typeof document ? document : void 0)))
        return null;
      try {
        return t2.activeElement || t2.body;
      } catch (e4) {
        return t2.body;
      }
    }, Bt = function(e4) {
      return "checkbox" === e4.type || "radio" === e4.type ? null != e4.checked : null != e4.value;
    }, Vt = function(e4, t2) {
      var n2 = t2.checked;
      return k({}, t2, { defaultChecked: void 0, defaultValue: void 0, value: void 0, checked: null != n2 ? n2 : e4._wrapperState.initialChecked });
    }, Ht = function(e4, t2) {
      Mt(0, t2), void 0 === t2.checked || void 0 === t2.defaultChecked || At || (te("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components", Ct() || "A component", t2.type), At = true), void 0 === t2.value || void 0 === t2.defaultValue || jt || (te("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components", Ct() || "A component", t2.type), jt = true);
      var n2 = null == t2.defaultValue ? "" : t2.defaultValue;
      e4._wrapperState = { initialChecked: null != t2.checked ? t2.checked : t2.defaultChecked, initialValue: Ot(null != t2.value ? t2.value : n2), controlled: Bt(t2) };
    }, Wt = function(e4, t2) {
      t2 = t2.checked;
      null != t2 && Ae(e4, "checked", t2, false);
    }, Ut = function(e4, t2) {
      var n2 = e4, r2 = Bt(t2), r2 = (n2._wrapperState.controlled || !r2 || $t || (te("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"), $t = true), !n2._wrapperState.controlled || r2 || Ft || (te("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"), Ft = true), Wt(e4, t2), Ot(t2.value)), e4 = t2.type;
      if (null != r2)
        "number" === e4 ? (0 === r2 && "" === n2.value || n2.value != r2) && (n2.value = "" + r2) : n2.value !== "" + r2 && (n2.value = "" + r2);
      else if ("submit" === e4 || "reset" === e4)
        return void n2.removeAttribute("value");
      t2.hasOwnProperty("value") ? Kt(n2, t2.type, r2) : t2.hasOwnProperty("defaultValue") && Kt(n2, t2.type, Ot(t2.defaultValue)), null == t2.checked && null != t2.defaultChecked && (n2.defaultChecked = !!t2.defaultChecked);
    }, qt = function(e4, t2, n2) {
      if (t2.hasOwnProperty("value") || t2.hasOwnProperty("defaultValue")) {
        var r2 = t2.type;
        if (("submit" === r2 || "reset" === r2) && (void 0 === t2.value || null === t2.value))
          return;
        r2 = "" + e4._wrapperState.initialValue;
        n2 || r2 !== e4.value && (e4.value = r2), e4.defaultValue = r2;
      }
      t2 = e4.name;
      "" !== t2 && (e4.name = ""), e4.defaultChecked = !e4.defaultChecked, e4.defaultChecked = !!e4._wrapperState.initialChecked, "" !== t2 && (e4.name = t2);
    }, Yt = function(e4, t2) {
      Ut(e4, t2);
      var n2 = e4, e4 = t2, t2 = e4.name;
      if ("radio" === e4.type && null != t2) {
        for (var r2 = n2; r2.parentNode; )
          r2 = r2.parentNode;
        for (var o2 = r2.querySelectorAll("input[name=" + JSON.stringify("" + t2) + '][type="radio"]'), i2 = 0; i2 < o2.length; i2++) {
          var a2 = o2[i2];
          if (a2 !== n2 && a2.form === n2.form) {
            var s2 = ku(a2);
            if (!s2)
              throw new Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");
            zt(a2), Ut(a2, s2);
          }
        }
      }
    }, Kt = function(e4, t2, n2) {
      "number" === t2 && Lt(e4.ownerDocument) === e4 || (null == n2 ? e4.defaultValue = "" + e4._wrapperState.initialValue : e4.defaultValue !== "" + n2 && (e4.defaultValue = "" + n2));
    }, Jt = function(e4, t2) {
      null == t2.value && ("object" == typeof t2.children && null !== t2.children ? n.Children.forEach(t2.children, function(e5) {
        null == e5 || "string" == typeof e5 || "number" == typeof e5 || Zt || (Zt = true, te("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>."));
      }) : null == t2.dangerouslySetInnerHTML || Xt || (Xt = true, te("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected."))), null == t2.selected || Gt || (te("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."), Gt = true);
    }, en = function(e4) {
      return Qt(e4);
    }, tn = function() {
      var e4 = Ct();
      return e4 ? "\n\nCheck the render method of `" + e4 + "`." : "";
    }, on = function(e4, t2, n2, r2) {
      var o2 = e4.options;
      if (t2) {
        for (var i2 = n2, a2 = {}, s2 = 0; s2 < i2.length; s2++)
          a2["$" + i2[s2]] = true;
        for (var l2 = 0; l2 < o2.length; l2++) {
          var c2 = a2.hasOwnProperty("$" + o2[l2].value);
          o2[l2].selected !== c2 && (o2[l2].selected = c2), c2 && r2 && (o2[l2].defaultSelected = true);
        }
      } else {
        for (var u2 = "" + Ot(n2), d2 = null, p2 = 0; p2 < o2.length; p2++) {
          if (o2[p2].value === u2)
            return o2[p2].selected = true, void (r2 && (o2[p2].defaultSelected = true));
          null !== d2 || o2[p2].disabled || (d2 = o2[p2]);
        }
        null !== d2 && (d2.selected = true);
      }
    }, an = function(e4, t2) {
      return k({}, t2, { value: void 0 });
    }, sn = function(e4, t2) {
      var n2 = t2;
      Mt(0, n2);
      for (var r2 = 0; r2 < rn.length; r2++) {
        var o2, i2 = rn[r2];
        null != n2[i2] && (o2 = en(n2[i2]), n2.multiple && !o2 ? te("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s", i2, tn()) : !n2.multiple && o2 && te("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s", i2, tn()));
      }
      e4._wrapperState = { wasMultiple: !!t2.multiple }, void 0 === t2.value || void 0 === t2.defaultValue || nn || (te("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"), nn = true);
    }, cn = function(e4, t2) {
      if (null != t2.dangerouslySetInnerHTML)
        throw new Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");
      return k({}, t2, { value: void 0, defaultValue: void 0, children: "" + e4._wrapperState.initialValue });
    }, un = function(e4, t2) {
      Mt(0, t2), void 0 === t2.value || void 0 === t2.defaultValue || ln || (te("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components", Ct() || "A component"), ln = true);
      var n2 = t2.value;
      if (null == n2) {
        var r2 = t2.children, t2 = t2.defaultValue;
        if (null != r2) {
          if (te("Use the `defaultValue` or `value` props instead of setting children on <textarea>."), null != t2)
            throw new Error("If you supply `defaultValue` on a <textarea>, do not pass children.");
          if (en(r2)) {
            if (1 < r2.length)
              throw new Error("<textarea> can only have at most one child.");
            r2 = r2[0];
          }
          t2 = r2;
        }
        n2 = t2 = null == t2 ? "" : t2;
      }
      e4._wrapperState = { initialValue: Ot(n2) };
    }, dn = function(e4, t2) {
      var n2 = Ot(t2.value), r2 = Ot(t2.defaultValue);
      null != n2 && ((n2 = "" + n2) !== e4.value && (e4.value = n2), null == t2.defaultValue) && e4.defaultValue !== n2 && (e4.defaultValue = n2), null != r2 && (e4.defaultValue = "" + r2);
    }, pn = function(e4) {
      var t2 = e4.textContent;
      t2 === e4._wrapperState.initialValue && "" !== t2 && null !== t2 && (e4.value = t2);
    }, mn = function(e4) {
      switch (e4) {
        case "svg":
          return hn;
        case "math":
          return "http://www.w3.org/1998/Math/MathML";
        default:
          return fn;
      }
    }, gn = function(e4, t2) {
      return null == e4 || e4 === fn ? mn(t2) : e4 === hn && "foreignObject" === t2 ? fn : e4;
    }, vn = function(e4, t2) {
      if (t2) {
        var n2 = e4.firstChild;
        if (n2 && n2 === e4.lastChild && n2.nodeType === Sn)
          return n2.nodeValue = t2;
      }
      e4.textContent = t2;
    }, On = function(e4, t2, n2) {
      return null == t2 || "boolean" == typeof t2 || "" === t2 ? "" : n2 || "number" != typeof t2 || 0 === t2 || _n.hasOwnProperty(e4) && _n[e4] ? ("" + t2).trim() : t2 + "px";
    }, qn = function(e4) {
      var t2, n2, r2, o2 = "", i2 = "";
      for (t2 in e4)
        e4.hasOwnProperty(t2) && null != (n2 = e4[t2]) && (o2 = (o2 += i2 + ((r2 = 0 === t2.indexOf("--")) ? t2 : t2.replace(In, "-$1").toLowerCase().replace(Mn, "-ms-")) + ":") + On(t2, n2, r2), i2 = ";");
      return o2 || null;
    }, Yn = function(e4, t2) {
      var n2, r2, o2, i2 = e4.style;
      for (n2 in t2)
        t2.hasOwnProperty(n2) && ((r2 = 0 === n2.indexOf("--")) || Un(n2, t2[n2]), o2 = On(n2, t2[n2], r2), "float" === n2 && (n2 = "cssFloat"), r2 ? i2.setProperty(n2, o2) : i2[n2] = o2);
    }, Kn = function(e4) {
      var t2, n2 = {};
      for (t2 in e4)
        for (var r2 = Tn[t2] || [t2], o2 = 0; o2 < r2.length; o2++)
          n2[r2[o2]] = t2;
      return n2;
    }, Zn = function(e4, t2) {
      if (t2) {
        if (Gn[e4] && (null != t2.children || null != t2.dangerouslySetInnerHTML))
          throw new Error(e4 + " is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");
        if (null != t2.dangerouslySetInnerHTML) {
          if (null != t2.children)
            throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");
          if ("object" != typeof t2.dangerouslySetInnerHTML || !("__html" in t2.dangerouslySetInnerHTML))
            throw new Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.");
        }
        if (!t2.suppressContentEditableWarning && t2.contentEditable && null != t2.children && te("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."), null != t2.style && "object" != typeof t2.style)
          throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");
      }
    }, Xn = function(e4, t2) {
      if (-1 === e4.indexOf("-"))
        return "string" == typeof t2.is;
      switch (e4) {
        case "annotation-xml":
        case "color-profile":
        case "font-face":
        case "font-face-src":
        case "font-face-uri":
        case "font-face-format":
        case "font-face-name":
        case "missing-glyph":
          return false;
        default:
          return true;
      }
    }, rr = function(e4, t2) {
      var n2, r2 = [];
      for (n2 in t2)
        (function(e5) {
          if (!V.call(er, e5) || !er[e5]) {
            if (nr.test(e5)) {
              var t3 = "aria-" + e5.slice(4).toLowerCase(), t3 = Qn.hasOwnProperty(t3) ? t3 : null;
              if (null == t3)
                return te("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.", e5), er[e5] = true;
              if (e5 !== t3)
                return te("Invalid ARIA attribute `%s`. Did you mean `%s`?", e5, t3), er[e5] = true;
            }
            if (tr.test(e5)) {
              t3 = e5.toLowerCase(), t3 = Qn.hasOwnProperty(t3) ? t3 : null;
              if (null == t3)
                return !(er[e5] = true);
              if (e5 !== t3)
                return te("Unknown ARIA attribute `%s`. Did you mean `%s`?", e5, t3), er[e5] = true;
            }
          }
          return true;
        })(n2) || r2.push(n2);
      t2 = r2.map(function(e5) {
        return "`" + e5 + "`";
      }).join(", ");
      1 === r2.length ? te("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props", t2, e4) : 1 < r2.length && te("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props", t2, e4);
    }, ir = function(e4, t2, n2) {
      var r2, o2 = [];
      for (r2 in t2)
        ar(e4, r2, t2[r2], n2) || o2.push(r2);
      var i2 = o2.map(function(e5) {
        return "`" + e5 + "`";
      }).join(", ");
      1 === o2.length ? te("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ", i2, e4) : 1 < o2.length && te("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ", i2, e4);
    }, vr = function(e4) {
      e4 = e4.target || e4.srcElement || window;
      return (e4 = e4.correspondingUseElement ? e4.correspondingUseElement : e4).nodeType === Sn ? e4.parentNode : e4;
    }, xr = function(e4) {
      e4 = xu(e4);
      if (e4) {
        if ("function" != typeof yr)
          throw new Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");
        var t2 = e4.stateNode;
        t2 && (t2 = ku(t2), yr(e4.stateNode, e4.type, t2));
      }
    }, Sr = function(e4) {
      br ? wr ? wr.push(e4) : wr = [e4] : br = e4;
    }, kr = function() {
      if (br) {
        var e4 = br, t2 = wr;
        if (wr = br = null, xr(e4), t2)
          for (var n2 = 0; n2 < t2.length; n2++)
            xr(t2[n2]);
      }
    }, _r = function() {
      null === br && null === wr || (Er(), kr());
    }, Rr = function(e4, t2, n2) {
      if (Tr)
        return e4(t2, n2);
      Tr = true;
      try {
        Cr(e4, t2, n2);
      } finally {
        Tr = false, _r();
      }
    }, Or = function(e4, t2) {
      var n2 = e4.stateNode;
      if (null === n2)
        return null;
      n2 = ku(n2);
      if (null === n2)
        return null;
      var r2 = n2[t2];
      if (function(e5, t3, n3) {
        switch (e5) {
          case "onClick":
          case "onClickCapture":
          case "onDoubleClick":
          case "onDoubleClickCapture":
          case "onMouseDown":
          case "onMouseDownCapture":
          case "onMouseMove":
          case "onMouseMoveCapture":
          case "onMouseUp":
          case "onMouseUpCapture":
          case "onMouseEnter":
            return n3.disabled && ("button" === (r3 = t3) || "input" === r3 || "select" === r3 || "textarea" === r3);
          default:
            return;
        }
        var r3;
      }(t2, e4.type, n2))
        return null;
      if (r2 && "function" != typeof r2)
        throw new Error("Expected `" + t2 + "` listener to be a function, instead got a value of `" + typeof r2 + "` type.");
      return r2;
    }, Dr = function(e4, t2, n2, r2, o2, i2, a2, s2, l2) {
      var c2 = Array.prototype.slice.call(arguments, 3);
      try {
        t2.apply(n2, c2);
      } catch (e5) {
        this.onError(e5);
      }
    }, Br = function(e4, t2, n2, r2, o2, i2, a2, s2, l2) {
      Lr = false, jr = null, zr.apply($r, arguments);
    }, Vr = function() {
      var e4;
      if (Lr)
        return e4 = jr, Lr = false, jr = null, e4;
      throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.");
    }, Hr = function(e4) {
      return e4._reactInternals;
    }, bo = function(e4) {
      var t2 = e4, n2 = e4;
      if (e4.alternate)
        for (; t2.return; )
          t2 = t2.return;
      else
        for (var r2 = t2; ((t2 = r2).flags & (Ur | Jr)) !== ee && (n2 = t2.return), r2 = t2.return; )
          ;
      return t2.tag === K ? n2 : null;
    }, wo = function(e4) {
      if (e4.tag === X) {
        var t2 = e4.memoizedState;
        if (null !== (t2 = null === t2 && null !== (e4 = e4.alternate) ? e4.memoizedState : t2))
          return t2.dehydrated;
      }
      return null;
    }, xo = function(e4) {
      return e4.tag === K ? e4.stateNode.containerInfo : null;
    }, So = function(e4) {
      if (bo(e4) !== e4)
        throw new Error("Unable to find node on an unmounted component.");
    }, ko = function(e4) {
      var t2 = e4.alternate;
      if (!t2) {
        var n2 = bo(e4);
        if (null === n2)
          throw new Error("Unable to find node on an unmounted component.");
        return n2 !== e4 ? null : e4;
      }
      for (var r2 = e4, o2 = t2; ; ) {
        var i2 = r2.return;
        if (null === i2)
          break;
        var a2 = i2.alternate;
        if (null === a2) {
          var s2 = i2.return;
          if (null === s2)
            break;
          r2 = o2 = s2;
        } else {
          if (i2.child === a2.child) {
            for (var l2 = i2.child; l2; ) {
              if (l2 === r2)
                return So(i2), e4;
              if (l2 === o2)
                return So(i2), t2;
              l2 = l2.sibling;
            }
            throw new Error("Unable to find node on an unmounted component.");
          }
          if (r2.return !== o2.return)
            r2 = i2, o2 = a2;
          else {
            for (var c2 = false, u2 = i2.child; u2; ) {
              if (u2 === r2) {
                c2 = true, r2 = i2, o2 = a2;
                break;
              }
              if (u2 === o2) {
                c2 = true, o2 = i2, r2 = a2;
                break;
              }
              u2 = u2.sibling;
            }
            if (!c2) {
              for (u2 = a2.child; u2; ) {
                if (u2 === r2) {
                  c2 = true, r2 = a2, o2 = i2;
                  break;
                }
                if (u2 === o2) {
                  c2 = true, o2 = a2, r2 = i2;
                  break;
                }
                u2 = u2.sibling;
              }
              if (!c2)
                throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.");
            }
          }
          if (r2.alternate !== o2)
            throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.");
        }
      }
      if (r2.tag !== K)
        throw new Error("Unable to find node on an unmounted component.");
      return r2.stateNode.current === r2 ? e4 : t2;
    }, Co = function(e4) {
      e4 = ko(e4);
      return null !== e4 ? function e5(t2) {
        if (t2.tag === G || t2.tag === re)
          return t2;
        var n2 = t2.child;
        for (; null !== n2; ) {
          var r2 = e5(n2);
          if (null !== r2)
            return r2;
          n2 = n2.sibling;
        }
        return null;
      }(e4) : null;
    }, Eo = function(e4) {
      e4 = ko(e4);
      return null !== e4 ? function e5(t2) {
        if (t2.tag === G || t2.tag === re)
          return t2;
        var n2 = t2.child;
        for (; null !== n2; ) {
          if (n2.tag !== ne) {
            var r2 = e5(n2);
            if (null !== r2)
              return r2;
          }
          n2 = n2.sibling;
        }
        return null;
      }(e4) : null;
    }, Ho = function(e4) {
      if ("function" == typeof jo && (Ao(e4), u = e4), $o && "function" == typeof $o.setStrictMode)
        try {
          $o.setStrictMode(Fo, e4);
        } catch (e5) {
          Bo || (Bo = true, te("React instrumentation encountered an error: %s", e5));
        }
    }, Wo = function(e4) {
      w = e4;
    }, Uo = function() {
      for (var e4 = /* @__PURE__ */ new Map(), t2 = 1, n2 = 0; n2 < ii; n2++) {
        var r2 = function(e5) {
          if (e5 & S)
            return "Sync";
          if (e5 & si)
            return "InputContinuousHydration";
          if (e5 & li)
            return "InputContinuous";
          if (e5 & ci)
            return "DefaultHydration";
          if (e5 & ui)
            return "Default";
          if (e5 & di)
            return "TransitionHydration";
          if (e5 & pi)
            return "Transition";
          if (e5 & Oi)
            return "Retry";
          if (e5 & Li)
            return "SelectiveHydration";
          if (e5 & Ai)
            return "IdleHydration";
          if (e5 & Fi)
            return "Idle";
          if (e5 & $i)
            return "Offscreen";
        }(t2);
        e4.set(t2, r2), t2 *= 2;
      }
      return e4;
    }, qo = function() {
      null !== w && "function" == typeof w.markCommitStopped && w.markCommitStopped();
    }, Yo = function(e4) {
      null !== w && "function" == typeof w.markComponentRenderStarted && w.markComponentRenderStarted(e4);
    }, Ko = function() {
      null !== w && "function" == typeof w.markComponentRenderStopped && w.markComponentRenderStopped();
    }, Go = function(e4) {
      null !== w && "function" == typeof w.markComponentLayoutEffectUnmountStarted && w.markComponentLayoutEffectUnmountStarted(e4);
    }, Zo = function() {
      null !== w && "function" == typeof w.markComponentLayoutEffectUnmountStopped && w.markComponentLayoutEffectUnmountStopped();
    }, Xo = function(e4) {
      null !== w && "function" == typeof w.markRenderStarted && w.markRenderStarted(e4);
    }, Jo = function() {
      null !== w && "function" == typeof w.markRenderStopped && w.markRenderStopped();
    }, Qo = function(e4, t2) {
      null !== w && "function" == typeof w.markStateUpdateScheduled && w.markStateUpdateScheduled(e4, t2);
    }, Hi = function(e4) {
      switch (Ji(e4)) {
        case S:
          return S;
        case si:
          return si;
        case li:
          return li;
        case ci:
          return ci;
        case ui:
          return ui;
        case di:
          return di;
        case fi:
        case hi:
        case mi:
        case gi:
        case vi2:
        case yi:
        case bi:
        case wi:
        case xi:
        case Si:
        case ki:
        case Ci:
        case Ei:
        case Ti:
        case _i:
        case Ri:
          return e4 & pi;
        case Ii:
        case Mi:
        case Di:
        case Ni:
        case Pi:
          return e4 & Oi;
        case Li:
          return Li;
        case Ai:
          return Ai;
        case Fi:
          return Fi;
        case $i:
          return $i;
        default:
          return te("Should have found matching lanes. This is a bug in React."), e4;
      }
    }, Wi = function(e4, t2) {
      var n2 = e4.pendingLanes;
      if (n2 === ae)
        return ae;
      var r2 = ae, o2 = e4.suspendedLanes, i2 = e4.pingedLanes, a2 = n2 & ji;
      if (a2 !== ae ? (s2 = a2 & ~o2) !== ae ? r2 = Hi(s2) : (s2 = a2 & i2) !== ae && (r2 = Hi(s2)) : (a2 = n2 & ~o2) !== ae ? r2 = Hi(a2) : i2 !== ae && (r2 = Hi(i2)), r2 === ae)
        return ae;
      if (t2 !== ae && t2 !== r2 && (t2 & o2) === ae) {
        var s2 = Ji(r2), a2 = Ji(t2);
        if (a2 <= s2 || s2 === ui && (a2 & pi) !== ae)
          return t2;
      }
      (r2 & li) !== ae && (r2 |= n2 & ui);
      i2 = e4.entangledLanes;
      if (i2 !== ae)
        for (var l2 = e4.entanglements, c2 = r2 & i2; 0 < c2; ) {
          var u2 = ea(c2);
          r2 |= l2[u2], c2 &= ~(1 << u2);
        }
      return r2;
    }, Ui = function(e4, t2) {
      for (var n2 = e4.pendingLanes, r2 = e4.suspendedLanes, o2 = e4.pingedLanes, i2 = e4.expirationTimes, a2 = n2; 0 < a2; ) {
        var s2 = ea(a2), l2 = 1 << s2, c2 = i2[s2];
        c2 === T ? (l2 & r2) !== ae && (l2 & o2) === ae || (i2[s2] = function(e5, t3) {
          switch (e5) {
            case S:
            case si:
            case li:
              return t3 + 250;
            case ci:
            case ui:
            case di:
            case fi:
            case hi:
            case mi:
            case gi:
            case vi2:
            case yi:
            case bi:
            case wi:
            case xi:
            case Si:
            case ki:
            case Ci:
            case Ei:
            case Ti:
            case _i:
            case Ri:
              return t3 + 5e3;
            case Ii:
            case Mi:
            case Di:
            case Ni:
            case Pi:
              return T;
            case Li:
            case Ai:
            case Fi:
            case $i:
              return T;
            default:
              return te("Should have found matching lanes. This is a bug in React."), T;
          }
        }(l2, t2)) : c2 <= t2 && (e4.expiredLanes |= l2), a2 &= ~l2;
      }
    }, qi = function(e4) {
      e4 = e4.pendingLanes & ~$i;
      return e4 !== ae ? e4 : e4 & $i ? $i : ae;
    }, Yi = function(e4) {
      return (e4 & ji) !== ae;
    }, Ki = function(e4) {
      return (e4 & Oi) === e4;
    }, Gi = function(e4, t2) {
      return (t2 & (si | li | ci | ui)) !== ae;
    }, Zi = function(e4) {
      return (e4 & pi) !== ae;
    }, Xi = function() {
      var e4 = Bi;
      return ((Bi <<= 1) & pi) === ae && (Bi = fi), e4;
    }, Ji = function(e4) {
      return e4 & -e4;
    }, Qi = function(e4) {
      return Ji(e4);
    }, ea = function(e4) {
      return 31 - ni(e4);
    }, ta = function(e4) {
      return ea(e4);
    }, na = function(e4, t2) {
      return (e4 & t2) !== ae;
    }, ra = function(e4, t2) {
      return (e4 & t2) === t2;
    }, oa = function(e4) {
      for (var t2 = [], n2 = 0; n2 < ii; n2++)
        t2.push(e4);
      return t2;
    }, ia = function(e4, t2, n2) {
      e4.pendingLanes |= t2, t2 !== Fi && (e4.suspendedLanes = ae, e4.pingedLanes = ae), e4.eventTimes[ta(t2)] = n2;
    }, aa = function(e4, t2) {
      e4.pingedLanes |= e4.suspendedLanes & t2;
    }, sa = function(e4, t2) {
      for (var n2 = e4.entangledLanes |= t2, r2 = e4.entanglements, o2 = n2; o2; ) {
        var i2 = ea(o2), a2 = 1 << i2;
        a2 & t2 | r2[i2] & t2 && (r2[i2] |= t2), o2 &= ~a2;
      }
    }, la = function(e4, t2, n2) {
      if (Vo)
        for (var r2 = e4.pendingUpdatersLaneMap; 0 < n2; ) {
          var o2 = ta(n2), i2 = 1 << o2;
          r2[o2].add(t2), n2 &= ~i2;
        }
    }, ca = function(e4, t2) {
      if (Vo)
        for (var n2 = e4.pendingUpdatersLaneMap, r2 = e4.memoizedUpdaters; 0 < t2; ) {
          var o2 = ta(t2), i2 = 1 << o2, o2 = n2[o2];
          0 < o2.size && (o2.forEach(function(e5) {
            var t3 = e5.alternate;
            null !== t3 && r2.has(t3) || r2.add(e5);
          }), o2.clear()), t2 &= ~i2;
        }
    }, wa = function() {
      return ba;
    }, xa = function(e4) {
      ba = e4;
    }, Sa = function(e4, t2) {
      return 0 !== e4 && e4 < t2;
    }, ka = function(e4) {
      e4 = Ji(e4);
      return Sa(ma, e4) ? Sa(ga, e4) ? Yi(e4) ? va : ya : ga : ma;
    }, Ca = function(e4) {
      return e4.current.memoizedState.isDehydrated;
    }, Pa = function(e4, t2) {
      switch (e4) {
        case "focusin":
        case "focusout":
          _a = null;
          break;
        case "dragenter":
        case "dragleave":
          Ra = null;
          break;
        case "mouseover":
        case "mouseout":
          Oa = null;
          break;
        case "pointerover":
        case "pointerout":
          var n2 = t2.pointerId;
          Ia.delete(n2);
          break;
        case "gotpointercapture":
        case "lostpointercapture":
          n2 = t2.pointerId;
          Ma.delete(n2);
      }
    }, za = function(e4, t2, n2, r2, o2, i2) {
      if (null === e4 || e4.nativeEvent !== i2)
        return n2 = { blockedOn: t2, domEventName: n2, eventSystemFlags: r2, nativeEvent: i2, targetContainers: [o2] }, null !== t2 && null !== (i2 = xu(t2)) && da(i2), n2;
      e4.eventSystemFlags |= r2;
      t2 = e4.targetContainers;
      return null !== o2 && -1 === t2.indexOf(o2) && t2.push(o2), e4;
    }, La = function(e4) {
      var t2 = wu(e4.target);
      if (null !== t2) {
        var n2 = bo(t2);
        if (null !== n2) {
          t2 = n2.tag;
          if (t2 === X) {
            var r2 = wo(n2);
            if (null !== r2)
              return e4.blockedOn = r2, void ha(e4.priority, function() {
                pa(n2);
              });
          } else if (t2 === K) {
            if (Ca(n2.stateNode))
              return void (e4.blockedOn = xo(n2));
          }
        }
      }
      e4.blockedOn = null;
    }, ja = function(e4) {
      if (null === e4.blockedOn) {
        for (var t2, n2 = e4.targetContainers; 0 < n2.length; ) {
          var r2, o2 = n2[0], o2 = Ga(e4.domEventName, e4.eventSystemFlags, 0, e4.nativeEvent);
          if (null !== o2)
            return null !== (r2 = xu(o2)) && da(r2), void (e4.blockedOn = o2);
          o2 = new (r2 = e4.nativeEvent).constructor(r2.type, r2), t2 = o2, null !== gr && te("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."), gr = t2, r2.target.dispatchEvent(o2), null === gr && te("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."), gr = null, n2.shift();
        }
        return 1;
      }
    }, Aa = function(e4, t2, n2) {
      ja(e4) && n2.delete(t2);
    }, Fa = function() {
      Ea = false, null !== _a && ja(_a) && (_a = null), null !== Ra && ja(Ra) && (Ra = null), null !== Oa && ja(Oa) && (Oa = null), Ia.forEach(Aa), Ma.forEach(Aa);
    }, $a = function(e4, t2) {
      e4.blockedOn === t2 && (e4.blockedOn = null, Ea || (Ea = true, r.unstable_scheduleCallback(r.unstable_NormalPriority, Fa)));
    }, Ba = function(t2) {
      if (0 < Ta.length) {
        $a(Ta[0], t2);
        for (var e4 = 1; e4 < Ta.length; e4++) {
          var n2 = Ta[e4];
          n2.blockedOn === t2 && (n2.blockedOn = null);
        }
      }
      null !== _a && $a(_a, t2), null !== Ra && $a(Ra, t2), null !== Oa && $a(Oa, t2);
      function r2(e5) {
        return $a(e5, t2);
      }
      Ia.forEach(r2), Ma.forEach(r2);
      for (var o2 = 0; o2 < Da.length; o2++) {
        var i2 = Da[o2];
        i2.blockedOn === t2 && (i2.blockedOn = null);
      }
      for (; 0 < Da.length; ) {
        var a2 = Da[0];
        if (null !== a2.blockedOn)
          break;
        La(a2), null === a2.blockedOn && Da.shift();
      }
    }, Wa = function(e4) {
      Ha = !!e4;
    }, Ua = function(e4, t2, n2, r2) {
      var o2 = ba, i2 = Va.transition;
      Va.transition = null;
      try {
        xa(ma), Ya(e4, t2, n2, r2);
      } finally {
        xa(o2), Va.transition = i2;
      }
    }, qa = function(e4, t2, n2, r2) {
      var o2 = ba, i2 = Va.transition;
      Va.transition = null;
      try {
        xa(ga), Ya(e4, t2, n2, r2);
      } finally {
        xa(o2), Va.transition = i2;
      }
    }, Ya = function(e4, t2, n2, r2) {
      if (Ha) {
        var o2 = e4, i2 = t2, a2 = n2, s2 = r2, l2 = Ga(0, 0, 0, s2);
        if (null === l2)
          ql(o2, i2, s2, Ka, a2), Pa(o2, s2);
        else if (function(e5, t3, n3, r3, o3) {
          switch (t3) {
            case "focusin":
              return _a = za(_a, e5, t3, n3, r3, o3), 1;
            case "dragenter":
              return Ra = za(Ra, e5, t3, n3, r3, o3), 1;
            case "mouseover":
              return Oa = za(Oa, e5, t3, n3, r3, o3), 1;
            case "pointerover":
              var i3 = o3, a3 = i3.pointerId;
              return Ia.set(a3, za(Ia.get(a3) || null, e5, t3, n3, r3, i3)), 1;
            case "gotpointercapture":
              a3 = o3, i3 = a3.pointerId;
              return Ma.set(i3, za(Ma.get(i3) || null, e5, t3, n3, r3, a3)), 1;
          }
        }(l2, o2, i2, a2, s2))
          s2.stopPropagation();
        else if (Pa(o2, s2), i2 & hr && function(e5) {
          return -1 < Na.indexOf(e5);
        }(o2)) {
          for (; null !== l2; ) {
            var c2 = xu(l2), c2 = (null !== c2 && !function(e5) {
              ua2(e5);
            }(c2), Ga(0, 0, 0, s2));
            if (null === c2 && ql(o2, i2, s2, Ka, a2), c2 === l2)
              break;
            l2 = c2;
          }
          null !== l2 && s2.stopPropagation();
        } else
          ql(o2, i2, s2, null, a2);
      }
    }, Ga = function(e4, t2, n2, r2) {
      Ka = null;
      r2 = wu(vr(r2));
      if (null !== r2) {
        var o2 = bo(r2);
        if (null === o2)
          r2 = null;
        else {
          var i2 = o2.tag;
          if (i2 === X) {
            var a2 = wo(o2);
            if (null !== a2)
              return a2;
            r2 = null;
          } else if (i2 === K) {
            if (Ca(o2.stateNode))
              return xo(o2);
            r2 = null;
          } else
            o2 !== r2 && (r2 = null);
        }
      }
      return Ka = r2, null;
    }, Za = function(e4) {
      switch (e4) {
        case "cancel":
        case "click":
        case "close":
        case "contextmenu":
        case "copy":
        case "cut":
        case "auxclick":
        case "dblclick":
        case "dragend":
        case "dragstart":
        case "drop":
        case "focusin":
        case "focusout":
        case "input":
        case "invalid":
        case "keydown":
        case "keypress":
        case "keyup":
        case "mousedown":
        case "mouseup":
        case "paste":
        case "pause":
        case "play":
        case "pointercancel":
        case "pointerdown":
        case "pointerup":
        case "ratechange":
        case "reset":
        case "resize":
        case "seeked":
        case "submit":
        case "touchcancel":
        case "touchend":
        case "touchstart":
        case "volumechange":
        case "change":
        case "selectionchange":
        case "textInput":
        case "compositionstart":
        case "compositionend":
        case "compositionupdate":
        case "beforeblur":
        case "afterblur":
        case "beforeinput":
        case "blur":
        case "fullscreenchange":
        case "focus":
        case "hashchange":
        case "popstate":
        case "select":
        case "selectstart":
          return ma;
        case "drag":
        case "dragenter":
        case "dragexit":
        case "dragleave":
        case "dragover":
        case "mousemove":
        case "mouseout":
        case "mouseover":
        case "pointermove":
        case "pointerout":
        case "pointerover":
        case "scroll":
        case "toggle":
        case "touchmove":
        case "wheel":
        case "mouseenter":
        case "mouseleave":
        case "pointerenter":
        case "pointerleave":
          return ga;
        case "message":
          switch (Mo()) {
            case Do:
              return ma;
            case No:
              return ga;
            case Po:
            case zo:
              return va;
            case Lo:
              return ya;
            default:
              return va;
          }
        default:
          return va;
      }
    }, es = function() {
      if (!Qa) {
        for (var e4 = Ja, t2 = e4.length, n2 = ts(), r2 = n2.length, o2 = 0; o2 < t2 && e4[o2] === n2[o2]; o2++)
          ;
        for (var i2 = t2 - o2, a2 = 1; a2 <= i2 && e4[t2 - a2] === n2[r2 - a2]; a2++)
          ;
        Qa = n2.slice(o2, 1 < a2 ? 1 - a2 : void 0);
      }
      return Qa;
    }, ts = function() {
      return "value" in Xa ? Xa.value : Xa.textContent;
    }, ns = function(e4) {
      var t2, n2 = e4.keyCode;
      return "charCode" in e4 ? 0 === (t2 = e4.charCode) && 13 === n2 && (t2 = 13) : t2 = n2, 32 <= (t2 = 10 === t2 ? 13 : t2) || 13 === t2 ? t2 : 0;
    }, rs = function() {
      return true;
    }, os2 = function() {
      return false;
    }, is2 = function(s2) {
      function e4(e5, t2, n2, r2, o2) {
        for (var i2 in this._reactName = e5, this._targetInst = n2, this.type = t2, this.nativeEvent = r2, this.target = o2, this.currentTarget = null, s2) {
          var a2;
          s2.hasOwnProperty(i2) && (a2 = s2[i2], this[i2] = a2 ? a2(r2) : r2[i2]);
        }
        e5 = null != r2.defaultPrevented ? r2.defaultPrevented : false === r2.returnValue;
        return this.isDefaultPrevented = e5 ? rs : os2, this.isPropagationStopped = os2, this;
      }
      return k(e4.prototype, { preventDefault: function() {
        this.defaultPrevented = true;
        var e5 = this.nativeEvent;
        e5 && (e5.preventDefault ? e5.preventDefault() : "unknown" != typeof e5.returnValue && (e5.returnValue = false), this.isDefaultPrevented = rs);
      }, stopPropagation: function() {
        var e5 = this.nativeEvent;
        e5 && (e5.stopPropagation ? e5.stopPropagation() : "unknown" != typeof e5.cancelBubble && (e5.cancelBubble = true), this.isPropagationStopped = rs);
      }, persist: function() {
      }, isPersistent: rs }), e4;
    }, xs = function(e4) {
      var t2 = this.nativeEvent;
      return t2.getModifierState ? t2.getModifierState(e4) : !!(e4 = ws[e4]) && !!t2[e4];
    }, Ss = function(e4) {
      return xs;
    }, Ps = function(e4, t2) {
      switch (e4) {
        case "keyup":
          return -1 !== Rs.indexOf(t2.keyCode);
        case "keydown":
          return 229 !== t2.keyCode;
        case "keypress":
        case "mousedown":
        case "focusout":
          return 1;
        default:
          return;
      }
    }, zs = function(e4) {
      e4 = e4.detail;
      return "object" == typeof e4 && "data" in e4 ? e4.data : null;
    }, Ls = function(e4) {
      return "ko" === e4.locale;
    }, As = function(e4, t2, n2, r2, o2) {
      var i2, a2, s2;
      Os ? s2 = function(e5) {
        switch (e5) {
          case "compositionstart":
            return "onCompositionStart";
          case "compositionend":
            return "onCompositionEnd";
          case "compositionupdate":
            return "onCompositionUpdate";
        }
      }(t2) : js ? Ps(t2, r2) && (s2 = "onCompositionEnd") : (a2 = r2, "keydown" === t2 && 229 === a2.keyCode && (s2 = "onCompositionStart")), s2 && (Ms && !Ls(r2) && (js || "onCompositionStart" !== s2 ? "onCompositionEnd" === s2 && js && (i2 = es()) : (Xa = o2, Ja = ts(), js = true)), 0 < (a2 = Kl(n2, s2)).length) && (n2 = new gs(s2, t2, null, r2, o2), e4.push({ event: n2, listeners: a2 }), i2 ? n2.data = i2 : null !== (s2 = zs(r2)) && (n2.data = s2));
    }, Fs = function(e4, t2) {
      var n2, r2;
      if (js)
        return "compositionend" === e4 || !Os && Ps(e4, t2) ? (n2 = es(), Qa = Ja = Xa = null, js = false, n2) : null;
      switch (e4) {
        case "paste":
          return null;
        case "keypress":
          if (!((r2 = t2).ctrlKey || r2.altKey || r2.metaKey) || r2.ctrlKey && r2.altKey) {
            if (t2.char && 1 < t2.char.length)
              return t2.char;
            if (t2.which)
              return String.fromCharCode(t2.which);
          }
          return null;
        case "compositionend":
          return Ms && !Ls(t2) ? null : t2.data;
        default:
          return null;
      }
    }, $s = function(e4, t2, n2, r2, o2) {
      t2 = (Is ? function(e5, t3) {
        switch (e5) {
          case "compositionend":
            return zs(t3);
          case "keypress":
            return 32 !== t3.which ? null : (Ns = true, Ds);
          case "textInput":
            var n3 = t3.data;
            return n3 === Ds && Ns ? null : n3;
          default:
            return null;
        }
      } : Fs)(t2, r2);
      t2 && 0 < (n2 = Kl(n2, "onBeforeInput")).length && (r2 = new vs("onBeforeInput", "beforeinput", null, r2, o2), e4.push({ event: r2, listeners: n2 }), r2.data = t2);
    }, Vs = function(e4) {
      var t2 = e4 && e4.nodeName && e4.nodeName.toLowerCase();
      return "input" === t2 ? Bs[e4.type] : "textarea" === t2;
    }, Hs = function(e4, t2, n2, r2) {
      Sr(r2);
      t2 = Kl(t2, "onChange");
      0 < t2.length && (n2 = new cs("onChange", "change", null, n2, r2), e4.push({ event: n2, listeners: t2 }));
    }, qs = function(e4) {
      $l(e4, 0);
    }, Ys = function(e4) {
      if (zt(Su(e4)))
        return e4;
    }, Ks = function(e4, t2) {
      if ("change" === e4)
        return t2;
    }, Zs = function() {
      Ws && (Ws.detachEvent("onpropertychange", Xs), Us = Ws = null);
    }, Xs = function(e4) {
      var t2;
      "value" === e4.propertyName && Ys(Us) && (Hs(t2 = [], Us, e4, vr(e4)), Rr(qs, t2));
    }, Js = function(e4, t2, n2) {
      "focusin" === e4 ? (Zs(), Us = n2, (Ws = t2).attachEvent("onpropertychange", Xs)) : "focusout" === e4 && Zs();
    }, Qs = function(e4, t2) {
      if ("selectionchange" === e4 || "keyup" === e4 || "keydown" === e4)
        return Ys(Us);
    }, el = function(e4, t2) {
      if ("click" === e4)
        return Ys(t2);
    }, tl = function(e4, t2) {
      if ("input" === e4 || "change" === e4)
        return Ys(t2);
    }, nl = function(e4, t2, n2, r2, o2) {
      var i2, a2, s2, l2 = n2 ? Su(n2) : window;
      if ("select" === (a2 = (c2 = l2).nodeName && c2.nodeName.toLowerCase()) || "input" === a2 && "file" === c2.type ? s2 = Ks : Vs(l2) ? Gs ? s2 = tl : (s2 = Qs, i2 = Js) : !(c2 = (a2 = l2).nodeName) || "input" !== c2.toLowerCase() || "checkbox" !== a2.type && "radio" !== a2.type || (s2 = el), s2) {
        var c2 = s2(t2, n2);
        if (c2)
          return void Hs(e4, c2, r2, o2);
      }
      i2 && i2(t2, l2, n2), "focusout" === t2 && (s2 = (a2 = l2)._wrapperState) && s2.controlled && "number" === a2.type && Kt(a2, "number", a2.value);
    }, rl = function(e4, t2, n2, r2, o2) {
      var i2, a2, s2, l2, c2, u2 = "mouseover" === t2 || "pointerover" === t2, d2 = "mouseout" === t2 || "pointerout" === t2;
      if (u2 && r2 !== gr) {
        var p2 = r2.relatedTarget || r2.fromElement;
        if (p2 && (wu(p2) || bu(p2)))
          return;
      }
      (d2 || u2) && (u2 = o2.window === o2 ? o2 : (p2 = o2.ownerDocument) ? p2.defaultView || p2.parentWindow : window, d2 ? (i2 = n2, null !== (a2 = (p2 = r2.relatedTarget || r2.toElement) ? wu(p2) : null) && (a2 !== bo(a2) || a2.tag !== G && a2.tag !== re) && (a2 = null)) : (i2 = null, a2 = n2), i2 !== a2) && (d2 = ds, p2 = "onMouseLeave", l2 = "onMouseEnter", c2 = "mouse", "pointerout" !== t2 && "pointerover" !== t2 || (d2 = Cs, p2 = "onPointerLeave", l2 = "onPointerEnter", c2 = "pointer"), t2 = null == i2 ? u2 : Su(i2), u2 = null == a2 ? u2 : Su(a2), (p2 = new d2(p2, c2 + "leave", i2, r2, o2)).target = t2, p2.relatedTarget = u2, s2 = null, wu(o2) === n2 && ((n2 = new d2(l2, c2 + "enter", a2, r2, o2)).target = u2, n2.relatedTarget = t2, s2 = n2), d2 = e4, l2 = p2, c2 = s2, r2 = a2, u2 = (o2 = i2) && r2 ? function(e5, t3) {
        for (var n3 = e5, r3 = t3, o3 = 0, i3 = n3; i3; i3 = Gl(i3))
          o3++;
        for (var a3 = 0, s3 = r3; s3; s3 = Gl(s3))
          a3++;
        for (; 0 < o3 - a3; )
          n3 = Gl(n3), o3--;
        for (; 0 < a3 - o3; )
          r3 = Gl(r3), a3--;
        var l3 = o3;
        for (; l3--; ) {
          if (n3 === r3 || null !== r3 && n3 === r3.alternate)
            return n3;
          n3 = Gl(n3), r3 = Gl(r3);
        }
        return null;
      }(o2, r2) : null, null !== o2 && Zl(d2, l2, o2, u2, false), null !== r2) && null !== c2 && Zl(d2, c2, r2, u2, true);
    }, il = function(e4, t2) {
      if (!ol(e4, t2)) {
        if ("object" != typeof e4 || null === e4 || "object" != typeof t2 || null === t2)
          return false;
        var n2 = Object.keys(e4), r2 = Object.keys(t2);
        if (n2.length !== r2.length)
          return false;
        for (var o2 = 0; o2 < n2.length; o2++) {
          var i2 = n2[o2];
          if (!V.call(t2, i2) || !ol(e4[i2], t2[i2]))
            return false;
        }
      }
      return true;
    }, al = function(e4) {
      for (; e4 && e4.firstChild; )
        e4 = e4.firstChild;
      return e4;
    }, sl = function(e4, t2) {
      for (var n2, r2 = al(e4), o2 = 0; r2; ) {
        if (r2.nodeType === Sn) {
          if (n2 = o2 + r2.textContent.length, o2 <= t2 && t2 <= n2)
            return { node: r2, offset: t2 - o2 };
          o2 = n2;
        }
        r2 = al(function(e5) {
          for (; e5; ) {
            if (e5.nextSibling)
              return e5.nextSibling;
            e5 = e5.parentNode;
          }
        }(r2));
      }
    }, ll = function(e4) {
      var t2 = e4.ownerDocument, t2 = t2 && t2.defaultView || window, t2 = t2.getSelection && t2.getSelection();
      if (!t2 || 0 === t2.rangeCount)
        return null;
      var n2 = t2.anchorNode, r2 = t2.anchorOffset, o2 = t2.focusNode, t2 = t2.focusOffset;
      try {
        n2.nodeType, o2.nodeType;
      } catch (e5) {
        return null;
      }
      var i2 = e4, a2 = n2, s2 = r2, l2 = o2, c2 = t2, u2 = 0, d2 = -1, p2 = -1, f2 = 0, h2 = 0, m2 = i2, g2 = null;
      e:
        for (; ; ) {
          for (var v2 = null; ; ) {
            if (m2 !== a2 || 0 !== s2 && m2.nodeType !== Sn || (d2 = u2 + s2), m2 !== l2 || 0 !== c2 && m2.nodeType !== Sn || (p2 = u2 + c2), m2.nodeType === Sn && (u2 += m2.nodeValue.length), null === (v2 = m2.firstChild))
              break;
            g2 = m2, m2 = v2;
          }
          for (; ; ) {
            if (m2 === i2)
              break e;
            if (g2 === a2 && ++f2 === s2 && (d2 = u2), g2 === l2 && ++h2 === c2 && (p2 = u2), null !== (v2 = m2.nextSibling))
              break;
            g2 = (m2 = g2).parentNode;
          }
          m2 = v2;
        }
      return -1 !== d2 && -1 !== p2 ? { start: d2, end: p2 } : null;
    }, cl = function(e4) {
      return e4 && e4.nodeType === Sn;
    }, ul = function(e4) {
      return e4 && e4.ownerDocument && function e5(t2, n2) {
        return !(!t2 || !n2) && (t2 === n2 || !cl(t2) && (cl(n2) ? e5(t2, n2.parentNode) : "contains" in t2 ? t2.contains(n2) : !!t2.compareDocumentPosition && !!(16 & t2.compareDocumentPosition(n2))));
      }(e4.ownerDocument.documentElement, e4);
    }, dl = function() {
      for (var e4 = window, t2 = Lt(); t2 instanceof e4.HTMLIFrameElement; ) {
        if (!function(e5) {
          try {
            return "string" == typeof e5.contentWindow.location.href;
          } catch (e6) {
          }
        }(t2))
          return t2;
        t2 = Lt((e4 = t2.contentWindow).document);
      }
      return t2;
    }, pl = function(e4) {
      var t2 = e4 && e4.nodeName && e4.nodeName.toLowerCase();
      return t2 && ("input" === t2 && ("text" === e4.type || "search" === e4.type || "tel" === e4.type || "url" === e4.type || "password" === e4.type) || "textarea" === t2 || "true" === e4.contentEditable);
    }, fl = function() {
      var e4 = dl();
      return { focusedElem: e4, selectionRange: pl(e4) ? function(e5) {
        e5 = "selectionStart" in e5 ? { start: e5.selectionStart, end: e5.selectionEnd } : ll(e5);
        return e5 || { start: 0, end: 0 };
      }(e4) : null };
    }, hl = function(e4) {
      var t2 = dl(), n2 = e4.focusedElem, e4 = e4.selectionRange;
      if (t2 !== n2 && ul(n2)) {
        if (null !== e4 && pl(n2)) {
          var t2 = n2, r2 = e4.start, o2 = e4.end;
          if (void 0 === o2 && (o2 = r2), "selectionStart" in t2)
            t2.selectionStart = r2, t2.selectionEnd = Math.min(o2, t2.value.length);
          else {
            r2 = t2;
            o2 = e4;
            var i2, a2, t2 = r2.ownerDocument || document, e4 = t2 && t2.defaultView || window;
            e4.getSelection && (e4 = e4.getSelection(), a2 = r2.textContent.length, i2 = Math.min(o2.start, a2), o2 = void 0 === o2.end ? i2 : Math.min(o2.end, a2), !e4.extend && o2 < i2 && (a2 = o2, o2 = i2, i2 = a2), a2 = sl(r2, i2), r2 = sl(r2, o2), a2) && r2 && (1 === e4.rangeCount && e4.anchorNode === a2.node && e4.anchorOffset === a2.offset && e4.focusNode === r2.node && e4.focusOffset === r2.offset || ((t2 = t2.createRange()).setStart(a2.node, a2.offset), e4.removeAllRanges(), o2 < i2 ? (e4.addRange(t2), e4.extend(r2.node, r2.offset)) : (t2.setEnd(r2.node, r2.offset), e4.addRange(t2))));
          }
        }
        for (var s2 = [], l2 = n2; l2 = l2.parentNode; )
          l2.nodeType === xn && s2.push({ element: l2, left: l2.scrollLeft, top: l2.scrollTop });
        "function" == typeof n2.focus && n2.focus();
        for (var c2 = 0; c2 < s2.length; c2++) {
          var u2 = s2[c2];
          u2.element.scrollLeft = u2.left, u2.element.scrollTop = u2.top;
        }
      }
    }, wl = function(e4, t2, n2) {
      var r2 = (r2 = n2).window === r2 ? r2.document : r2.nodeType === Cn ? r2 : r2.ownerDocument;
      bl || null == gl || gl !== Lt(r2) || (r2 = "selectionStart" in (r2 = gl) && pl(r2) ? { start: r2.selectionStart, end: r2.selectionEnd } : { anchorNode: (r2 = (r2.ownerDocument && r2.ownerDocument.defaultView || window).getSelection()).anchorNode, anchorOffset: r2.anchorOffset, focusNode: r2.focusNode, focusOffset: r2.focusOffset }, yl && il(yl, r2)) || (yl = r2, 0 < (r2 = Kl(vl, "onSelect")).length && (t2 = new cs("onSelect", "select", null, t2, n2), e4.push({ event: t2, listeners: r2 }), t2.target = gl));
    }, xl = function(e4, t2) {
      var n2 = {};
      return n2[e4.toLowerCase()] = t2.toLowerCase(), n2["Webkit" + e4] = "webkit" + t2, n2["Moz" + e4] = "moz" + t2, n2;
    }, El = function(e4) {
      if (kl[e4])
        return kl[e4];
      if (Sl[e4]) {
        var t2, n2 = Sl[e4];
        for (t2 in n2)
          if (n2.hasOwnProperty(t2) && t2 in Cl)
            return kl[e4] = n2[t2];
      }
      return e4;
    }, Dl = function(e4, t2) {
      Il.set(e4, t2), F(t2, [e4]);
    }, Nl = function(e4, t2, n2, r2, o2, i2) {
      var a2 = Il.get(t2);
      if (void 0 !== a2) {
        var s2 = cs, l2 = t2;
        switch (t2) {
          case "keypress":
            if (0 === ns(r2))
              return;
          case "keydown":
          case "keyup":
            s2 = ks;
            break;
          case "focusin":
            l2 = "focus", s2 = fs;
            break;
          case "focusout":
            l2 = "blur", s2 = fs;
            break;
          case "beforeblur":
          case "afterblur":
            s2 = fs;
            break;
          case "click":
            if (2 === r2.button)
              return;
          case "auxclick":
          case "dblclick":
          case "mousedown":
          case "mousemove":
          case "mouseup":
          case "mouseout":
          case "mouseover":
          case "contextmenu":
            s2 = ds;
            break;
          case "drag":
          case "dragend":
          case "dragenter":
          case "dragexit":
          case "dragleave":
          case "dragover":
          case "dragstart":
          case "drop":
            s2 = ps;
            break;
          case "touchcancel":
          case "touchend":
          case "touchmove":
          case "touchstart":
            s2 = Es;
            break;
          case Tl:
          case _l:
          case Rl:
            s2 = hs;
            break;
          case Ol:
            s2 = Ts;
            break;
          case "scroll":
            s2 = us;
            break;
          case "wheel":
            s2 = _s;
            break;
          case "copy":
          case "cut":
          case "paste":
            s2 = ms;
            break;
          case "gotpointercapture":
          case "lostpointercapture":
          case "pointercancel":
          case "pointerdown":
          case "pointermove":
          case "pointerout":
          case "pointerover":
          case "pointerup":
            s2 = Cs;
        }
        var i2 = 0 != (i2 & hr), n2 = function(e5, t3, n3, r3) {
          var o3 = null !== t3 ? t3 + "Capture" : null, i3 = n3 ? o3 : t3, a3 = [], s3 = e5, l3 = null;
          for (; null !== s3; ) {
            var c2 = s3, u2 = c2.stateNode;
            if (c2.tag === G && null !== u2 && (l3 = u2, null !== i3) && null != (c2 = Or(s3, i3)) && a3.push(Yl(s3, c2, l3)), r3)
              break;
            s3 = s3.return;
          }
          return a3;
        }(n2, a2, (r2.type, i2), !i2 && "scroll" === t2);
        0 < n2.length && (i2 = new s2(a2, l2, null, r2, o2), e4.push({ event: i2, listeners: n2 }));
      }
    }, Ll = function(e4, t2, n2, r2, o2, i2) {
      if (Nl(e4, t2, n2, r2, o2, i2), 0 == (i2 & mr)) {
        rl(e4, t2, n2, r2, o2), nl(e4, t2, n2, r2, o2);
        var a2 = e4, i2 = t2, s2 = n2, l2 = r2, c2 = o2, u2 = s2 ? Su(s2) : window;
        switch (i2) {
          case "focusin":
            !Vs(u2) && "true" !== u2.contentEditable || (gl = u2, vl = s2, yl = null);
            break;
          case "focusout":
            yl = vl = gl = null;
            break;
          case "mousedown":
            bl = true;
            break;
          case "contextmenu":
          case "mouseup":
          case "dragend":
            bl = false, wl(a2, l2, c2);
            break;
          case "selectionchange":
            if (ml)
              break;
          case "keydown":
          case "keyup":
            wl(a2, l2, c2);
        }
        As(i2 = e4, e4 = t2, t2 = n2, n2 = r2, r2 = o2), $s(i2, e4, t2, n2, r2);
      }
    }, Fl = function(e4, t2, n2) {
      var r2 = e4.type || "unknown-event";
      e4.currentTarget = n2, function(e5, t3, n3, r3, o2, i2, a2, s2, l2) {
        var c2;
        Br.apply(this, arguments), Lr && (c2 = Vr(), Ar || (Ar = true, Fr = c2));
      }(r2, t2, void 0, e4), e4.currentTarget = null;
    }, $l = function(e4, t2) {
      for (var n2 = 0 != (t2 & hr), r2 = 0; r2 < e4.length; r2++) {
        var o2 = e4[r2];
        !function(e5, t3, n3) {
          var r3;
          if (n3)
            for (var o3 = t3.length - 1; 0 <= o3; o3--) {
              var i2 = t3[o3], a2 = i2.instance, s2 = i2.currentTarget, i2 = i2.listener;
              if (a2 !== r3 && e5.isPropagationStopped())
                return;
              Fl(e5, i2, s2), r3 = a2;
            }
          else
            for (var l2 = 0; l2 < t3.length; l2++) {
              var c2 = t3[l2], u2 = c2.instance, d2 = c2.currentTarget, c2 = c2.listener;
              if (u2 !== r3 && e5.isPropagationStopped())
                return;
              Fl(e5, c2, d2), r3 = u2;
            }
        }(o2.event, o2.listeners, n2);
      }
      if (Ar)
        throw t2 = Fr, Ar = false, Fr = null, t2;
    }, _ = function(e4, t2) {
      Al.has(e4) || te('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.', e4);
      var n2 = function(e5) {
        var t3 = e5[fu];
        void 0 === t3 && (t3 = e5[fu] = /* @__PURE__ */ new Set());
        return t3;
      }(t2), r2 = e4 + "__bubble";
      n2.has(r2) || (Wl(t2, e4, fr, false), n2.add(r2));
    }, Bl = function(e4, t2, n2) {
      Al.has(e4) && !t2 && te('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.', e4);
      var r2 = 0;
      t2 && (r2 |= hr), Wl(n2, e4, r2, t2);
    }, Hl = function(t2) {
      var e4;
      t2[Vl] || (t2[Vl] = true, L.forEach(function(e5) {
        "selectionchange" !== e5 && (Al.has(e5) || Bl(e5, false, t2), Bl(e5, true, t2));
      }), null === (e4 = t2.nodeType === Cn ? t2 : t2.ownerDocument)) || e4[Vl] || Bl("selectionchange", !(e4[Vl] = true), e4);
    }, Wl = function(e4, t2, n2, r2) {
      var o2, n2 = function(e5, t3, n3) {
        var r3;
        switch (Za(t3)) {
          case ma:
            r3 = Ua;
            break;
          case ga:
            r3 = qa;
            break;
          default:
            r3 = Ya;
        }
        return r3.bind(null, t3, n3, e5);
      }(e4, t2, n2), i2 = !Ir || "touchstart" !== t2 && "touchmove" !== t2 && "wheel" !== t2 ? void 0 : true;
      r2 ? void 0 !== i2 ? (r2 = n2, o2 = i2, e4.addEventListener(t2, r2, { capture: true, passive: o2 })) : (r2 = n2, e4.addEventListener(t2, r2, true)) : void 0 !== i2 ? (o2 = n2, r2 = i2, e4.addEventListener(t2, o2, { passive: r2 })) : (i2 = n2, e4.addEventListener(t2, i2, false));
    }, Ul = function(e4, t2) {
      return e4 === t2 || e4.nodeType === kn && e4.parentNode === t2;
    }, ql = function(n2, r2, o2, e4, t2) {
      var i2 = e4;
      if (0 == (r2 & pr) && 0 == (r2 & fr)) {
        var a2 = t2;
        if (null !== e4) {
          var s2 = e4;
          e:
            for (; ; ) {
              if (null === s2)
                return;
              var l2 = s2.tag;
              if (l2 === K || l2 === ne) {
                var c2 = s2.stateNode.containerInfo;
                if (Ul(c2, a2))
                  break;
                if (l2 === ne)
                  for (var u2 = s2.return; null !== u2; ) {
                    var d2 = u2.tag;
                    if (d2 === K || d2 === ne) {
                      if (Ul(u2.stateNode.containerInfo, a2))
                        return;
                    }
                    u2 = u2.return;
                  }
                for (; null !== c2; ) {
                  var p2 = wu(c2);
                  if (null === p2)
                    return;
                  var f2 = p2.tag;
                  if (f2 === G || f2 === re) {
                    s2 = i2 = p2;
                    continue e;
                  }
                  c2 = c2.parentNode;
                }
              }
              s2 = s2.return;
            }
        }
      }
      Rr(function() {
        return e5 = r2, Ll(t3 = [], n2, i2, o2, vr(o2), e5), void $l(t3, e5);
        var e5, t3;
      });
    }, Yl = function(e4, t2, n2) {
      return { instance: e4, listener: t2, currentTarget: n2 };
    }, Kl = function(e4, t2) {
      for (var n2 = t2 + "Capture", r2 = [], o2 = e4; null !== o2; ) {
        var i2 = o2, a2 = i2.stateNode;
        i2.tag === G && null !== a2 && (i2 = a2, null != (a2 = Or(o2, n2)) && r2.unshift(Yl(o2, a2, i2)), null != (a2 = Or(o2, t2))) && r2.push(Yl(o2, a2, i2)), o2 = o2.return;
      }
      return r2;
    }, Gl = function(e4) {
      if (null === e4)
        return null;
      for (; (e4 = e4.return) && e4.tag !== G; )
        ;
      return e4 || null;
    }, Zl = function(e4, t2, n2, r2, o2) {
      for (var i2 = t2._reactName, a2 = [], s2 = n2; null !== s2 && s2 !== r2; ) {
        var l2 = s2, c2 = l2.alternate, u2 = l2.stateNode, l2 = l2.tag;
        if (null !== c2 && c2 === r2)
          break;
        l2 === G && null !== u2 && (c2 = u2, o2 ? null != (l2 = Or(s2, i2)) && a2.unshift(Yl(s2, l2, c2)) : null != (u2 = Or(s2, i2)) && a2.push(Yl(s2, u2, c2))), s2 = s2.return;
      }
      0 !== a2.length && e4.push({ event: t2, listeners: a2 });
    }, fc = function(e4) {
      return ("string" == typeof e4 ? e4 : "" + e4).replace(dc, "\n").replace(pc, "");
    }, hc = function(e4, t2, n2, r2) {
      t2 = fc(t2), e4 = fc(e4);
      if (e4 !== t2 && (r2 && !Xl && (Xl = true, te('Text content did not match. Server: "%s" Client: "%s"', e4, t2)), n2))
        throw new Error("Text content does not match server-rendered HTML.");
    }, mc = function(e4) {
      return e4.nodeType === Cn ? e4 : e4.ownerDocument;
    }, gc = function() {
    }, vc = function(e4) {
      e4.onclick = gc;
    }, yc = function(e4, t2, n2) {
      var r2, o2, i2, a2, s2, l2, c2 = Xn(t2, n2);
      switch (ic(t2, n2), t2) {
        case "dialog":
          _("cancel", e4), _("close", e4), r2 = n2;
          break;
        case "iframe":
        case "object":
        case "embed":
          _("load", e4), r2 = n2;
          break;
        case "video":
        case "audio":
          for (var u2 = 0; u2 < jl.length; u2++)
            _(jl[u2], e4);
          r2 = n2;
          break;
        case "source":
          _("error", e4), r2 = n2;
          break;
        case "img":
        case "image":
        case "link":
          _("error", e4), _("load", e4), r2 = n2;
          break;
        case "details":
          _("toggle", e4), r2 = n2;
          break;
        case "input":
          Ht(e4, n2), r2 = Vt(e4, n2), _("invalid", e4);
          break;
        case "option":
          Jt(0, n2), r2 = n2;
          break;
        case "select":
          sn(e4, n2), r2 = an(0, n2), _("invalid", e4);
          break;
        case "textarea":
          un(e4, n2), r2 = cn(e4, n2), _("invalid", e4);
          break;
        default:
          r2 = n2;
      }
      Zn(t2, r2);
      var d2, p2 = t2, f2 = e4, h2 = r2, m2 = c2;
      for (d2 in h2)
        h2.hasOwnProperty(d2) && (o2 = h2[d2], d2 === nc ? (o2 && Object.freeze(o2), Yn(f2, o2)) : d2 === Jl ? null != (i2 = o2 ? o2[rc] : void 0) && wn(f2, i2) : d2 === tc ? "string" == typeof o2 ? "textarea" === p2 && "" === o2 || vn(f2, o2) : "number" == typeof o2 && vn(f2, "" + o2) : d2 !== Ql && d2 !== ec && "autoFocus" !== d2 && (j.hasOwnProperty(d2) ? null != o2 && ("function" != typeof o2 && cc(d2, o2), "onScroll" === d2) && _("scroll", f2) : null != o2 && Ae(f2, d2, o2, m2)));
      switch (t2) {
        case "input":
          Pt(e4), qt(e4, n2, false);
          break;
        case "textarea":
          Pt(e4), pn(e4);
          break;
        case "option":
          s2 = e4, null != (l2 = n2).value && s2.setAttribute("value", "" + Ot(l2.value));
          break;
        case "select":
          s2 = n2, (l2 = e4).multiple = !!s2.multiple, null != (a2 = s2.value) ? on(l2, !!s2.multiple, a2, false) : null != s2.defaultValue && on(l2, !!s2.multiple, s2.defaultValue, true);
          break;
        default:
          "function" == typeof r2.onClick && vc(e4);
      }
    }, bc = function(e4, t2, n2, r2) {
      ic(t2, r2);
      var o2, i2, a2, s2, l2 = null;
      switch (t2) {
        case "input":
          o2 = Vt(e4, n2), i2 = Vt(e4, r2), l2 = [];
          break;
        case "select":
          o2 = an(0, n2), i2 = an(0, r2), l2 = [];
          break;
        case "textarea":
          o2 = cn(e4, n2), i2 = cn(e4, r2), l2 = [];
          break;
        default:
          i2 = r2, "function" != typeof (o2 = n2).onClick && "function" == typeof i2.onClick && vc(e4);
      }
      Zn(t2, i2);
      var c2 = null;
      for (a2 in o2)
        if (!i2.hasOwnProperty(a2) && o2.hasOwnProperty(a2) && null != o2[a2])
          if (a2 === nc) {
            var u2 = o2[a2];
            for (s2 in u2)
              u2.hasOwnProperty(s2) && ((c2 = c2 || {})[s2] = "");
          } else
            a2 !== Jl && a2 !== tc && a2 !== Ql && a2 !== ec && "autoFocus" !== a2 && (j.hasOwnProperty(a2) ? l2 = l2 || [] : (l2 = l2 || []).push(a2, null));
      for (a2 in i2) {
        var d2, p2, f2 = i2[a2], h2 = null != o2 ? o2[a2] : void 0;
        if (i2.hasOwnProperty(a2) && f2 !== h2 && (null != f2 || null != h2))
          if (a2 === nc)
            if (f2 && Object.freeze(f2), h2) {
              for (s2 in h2)
                !h2.hasOwnProperty(s2) || f2 && f2.hasOwnProperty(s2) || ((c2 = c2 || {})[s2] = "");
              for (s2 in f2)
                f2.hasOwnProperty(s2) && h2[s2] !== f2[s2] && ((c2 = c2 || {})[s2] = f2[s2]);
            } else
              c2 || (l2 = l2 || []).push(a2, c2), c2 = f2;
          else
            a2 === Jl ? (d2 = f2 ? f2[rc] : void 0, p2 = h2 ? h2[rc] : void 0, null != d2 && p2 !== d2 && (l2 = l2 || []).push(a2, d2)) : a2 === tc ? "string" != typeof f2 && "number" != typeof f2 || (l2 = l2 || []).push(a2, "" + f2) : a2 !== Ql && a2 !== ec && (j.hasOwnProperty(a2) ? (null != f2 && ("function" != typeof f2 && cc(a2, f2), "onScroll" === a2) && _("scroll", e4), l2 || h2 === f2 || (l2 = [])) : (l2 = l2 || []).push(a2, f2));
      }
      if (c2) {
        var m2, g2 = c2, t2 = i2[nc];
        if (t2) {
          var v2, y2 = Kn(g2), b2 = Kn(t2), w2 = {};
          for (v2 in y2) {
            var x2 = y2[v2], S2 = b2[v2];
            !S2 || x2 === S2 || w2[m2 = x2 + "," + S2] || (w2[m2] = true, te("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.", null == (m2 = g2[x2]) || "boolean" == typeof m2 || "" === m2 ? "Removing" : "Updating", x2, S2));
          }
        }
        (l2 = l2 || []).push(nc, c2);
      }
      return l2;
    }, wc = function(e4, t2, n2, r2, o2) {
      "input" === n2 && "radio" === o2.type && null != o2.name && Wt(e4, o2);
      Xn(n2, r2);
      for (var i2, a2, s2, l2, r2 = Xn(n2, o2), c2 = e4, u2 = t2, d2 = r2, p2 = 0; p2 < u2.length; p2 += 2) {
        var f2 = u2[p2], h2 = u2[p2 + 1];
        f2 === nc ? Yn(c2, h2) : f2 === Jl ? wn(c2, h2) : f2 === tc ? vn(c2, h2) : Ae(c2, f2, h2, d2);
      }
      switch (n2) {
        case "input":
          Ut(e4, o2);
          break;
        case "textarea":
          dn(e4, o2);
          break;
        case "select":
          a2 = o2, s2 = (i2 = e4)._wrapperState.wasMultiple, i2._wrapperState.wasMultiple = !!a2.multiple, null != (l2 = a2.value) ? on(i2, !!a2.multiple, l2, false) : s2 !== !!a2.multiple && (null != a2.defaultValue ? on(i2, !!a2.multiple, a2.defaultValue, true) : on(i2, !!a2.multiple, a2.multiple ? [] : "", false));
      }
    }, xc = function(e4, t2, n2, r2, o2, i2, a2) {
      var s2 = Xn(t2, n2);
      switch (ic(t2, n2), t2) {
        case "dialog":
          _("cancel", e4), _("close", e4);
          break;
        case "iframe":
        case "object":
        case "embed":
          _("load", e4);
          break;
        case "video":
        case "audio":
          for (var l2 = 0; l2 < jl.length; l2++)
            _(jl[l2], e4);
          break;
        case "source":
          _("error", e4);
          break;
        case "img":
        case "image":
        case "link":
          _("error", e4), _("load", e4);
          break;
        case "details":
          _("toggle", e4);
          break;
        case "input":
          Ht(e4, n2), _("invalid", e4);
          break;
        case "option":
          Jt(0, n2);
          break;
        case "select":
          sn(e4, n2), _("invalid", e4);
          break;
        case "textarea":
          un(e4, n2), _("invalid", e4);
      }
      Zn(t2, n2);
      for (var c2 = /* @__PURE__ */ new Set(), u2 = e4.attributes, d2 = 0; d2 < u2.length; d2++)
        switch (u2[d2].name.toLowerCase()) {
          case "value":
          case "checked":
          case "selected":
            break;
          default:
            c2.add(u2[d2].name);
        }
      var p2, f2, h2, m2, g2, v2, y2 = null;
      for (p2 in n2)
        n2.hasOwnProperty(p2) && (f2 = n2[p2], p2 === tc ? "string" == typeof f2 ? e4.textContent !== f2 && (true !== n2[ec] && hc(e4.textContent, f2, i2, a2), y2 = [tc, f2]) : "number" == typeof f2 && e4.textContent !== "" + f2 && (true !== n2[ec] && hc(e4.textContent, f2, i2, a2), y2 = [tc, "" + f2]) : j.hasOwnProperty(p2) ? null != f2 && ("function" != typeof f2 && cc(p2, f2), "onScroll" === p2) && _("scroll", e4) : a2 && "boolean" == typeof s2 && (m2 = void 0, v2 = Oe(p2), true !== n2[ec]) && p2 !== Ql && p2 !== ec && "value" !== p2 && "checked" !== p2 && "selected" !== p2 && (p2 === Jl ? (h2 = e4.innerHTML, null != (g2 = f2 ? f2[rc] : void 0) && (g2 = uc(e4, g2)) !== h2 && sc(p2, h2, g2)) : p2 === nc ? (c2.delete(p2), ac && (h2 = qn(f2)) !== (m2 = e4.getAttribute("style")) && sc(p2, m2, h2)) : s2 ? (c2.delete(p2.toLowerCase()), f2 !== (m2 = je(e4, p2, f2)) && sc(p2, m2, f2)) : Te(p2, v2, s2) || Re(p2, f2, v2, s2) || (g2 = false, f2 === (m2 = null !== v2 ? (c2.delete(v2.attributeName), function(e5, t3, n3, r3) {
          if (r3.mustUseProperty)
            return e5[r3.propertyName];
          r3.sanitizeURL && Le("" + n3);
          var o3, i3 = r3.attributeName, a3 = null;
          if (r3.type === xe) {
            if (e5.hasAttribute(i3))
              return "" === (o3 = e5.getAttribute(i3)) || (!Re(t3, n3, r3, false) && o3 === "" + n3 ? n3 : o3);
          } else if (e5.hasAttribute(i3)) {
            if (Re(t3, n3, r3, false))
              return e5.getAttribute(i3);
            if (r3.type === U)
              return n3;
            a3 = e5.getAttribute(i3);
          }
          return Re(t3, n3, r3, false) ? null === a3 ? n3 : a3 : a3 === "" + n3 ? n3 : a3;
        }(e4, p2, f2, v2)) : ((v2 = (v2 = r2) === fn ? mn(t2) : v2) === fn ? c2.delete(p2.toLowerCase()) : (v2 = (v2 = p2).toLowerCase(), null !== (v2 = Jn.hasOwnProperty(v2) && Jn[v2] || null) && v2 !== p2 && (g2 = true, c2.delete(v2)), c2.delete(p2)), je(e4, p2, f2)))) || g2 || sc(p2, m2, f2)));
      switch (a2 && 0 < c2.size && true !== n2[ec] && lc(c2), t2) {
        case "input":
          Pt(e4), qt(e4, n2, true);
          break;
        case "textarea":
          Pt(e4), pn(e4);
          break;
        case "select":
        case "option":
          break;
        default:
          "function" == typeof n2.onClick && vc(e4);
      }
      return y2;
    }, Sc = function(e4, t2) {
      Xl || (Xl = true, te("Did not expect server HTML to contain a <%s> in <%s>.", t2.nodeName.toLowerCase(), e4.nodeName.toLowerCase()));
    }, kc = function(e4, t2) {
      Xl || (Xl = true, te('Did not expect server HTML to contain the text node "%s" in <%s>.', t2.nodeValue, e4.nodeName.toLowerCase()));
    }, Cc = function(e4, t2) {
      Xl || (Xl = true, te("Expected server HTML to contain a matching <%s> in <%s>.", t2, e4.nodeName.toLowerCase()));
    }, Ec = function(e4, t2) {
      "" === t2 || Xl || (Xl = true, te('Expected server HTML to contain a matching text node for "%s" in <%s>.', t2, e4.nodeName.toLowerCase()));
    }, Hc = function() {
      Bc = Ha, Vc = fl();
      Wa(false);
    }, Wc = function(e4, t2, n2, r2, o2) {
      zc(e4, null, r2.ancestorInfo), "string" != typeof t2.children && "number" != typeof t2.children || (a2 = "" + t2.children, i2 = Mc(r2.ancestorInfo, e4), zc(null, a2, i2)), a2 = r2.namespace, i2 = e4, r2 = t2, e4 = a2, a2 = mc(a2 = n2), (e4 = e4 === fn ? mn(i2) : e4) === fn ? ((s2 = Xn(i2, r2)) || i2 === i2.toLowerCase() || te("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.", i2), "script" === i2 ? ((l2 = a2.createElement("div")).innerHTML = "<script><\/script>", c2 = l2.firstChild, l2 = l2.removeChild(c2)) : "string" == typeof r2.is ? l2 = a2.createElement(i2, { is: r2.is }) : (l2 = a2.createElement(i2), "select" === i2 && (c2 = l2, r2.multiple ? c2.multiple = true : r2.size && (c2.size = r2.size)))) : l2 = a2.createElementNS(e4, i2), e4 !== fn || s2 || "[object HTMLUnknownElement]" !== Object.prototype.toString.call(l2) || V.call(oc, i2) || (oc[i2] = true, te("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.", i2));
      var i2, a2, s2, l2, c2, n2 = l2;
      return gu(o2, n2), Cu(n2, t2), n2;
    }, Uc = function(e4, t2) {
      return "textarea" === e4 || "noscript" === e4 || "string" == typeof t2.children || "number" == typeof t2.children || "object" == typeof t2.dangerouslySetInnerHTML && null !== t2.dangerouslySetInnerHTML && null != t2.dangerouslySetInnerHTML.__html;
    }, qc = function(e4, t2, n2, r2) {
      zc(null, e4, n2.ancestorInfo);
      n2 = mc(t2).createTextNode(e4);
      return gu(r2, n2), n2;
    }, Jc = function(e4) {
      setTimeout(function() {
        throw e4;
      });
    }, Qc = function(e4) {
      vn(e4, "");
    }, eu = function(e4, t2) {
      e4.appendChild(t2);
    }, tu = function(e4, t2) {
      e4.nodeType === kn ? (n2 = e4.parentNode).insertBefore(t2, e4) : (n2 = e4).appendChild(t2);
      var n2, t2 = e4._reactRootContainer;
      null == t2 && null === n2.onclick && vc(n2);
    }, nu = function(e4, t2, n2) {
      e4.insertBefore(t2, n2);
    }, ru = function(e4, t2, n2) {
      (e4.nodeType === kn ? e4.parentNode : e4).insertBefore(t2, n2);
    }, ou = function(e4, t2) {
      var n2 = t2, r2 = 0;
      do {
        var o2 = n2.nextSibling;
        if (e4.removeChild(n2), o2 && o2.nodeType === kn) {
          var i2 = o2.data;
          if (i2 === Ac) {
            if (0 === r2)
              return e4.removeChild(o2), void Ba(t2);
            r2--;
          } else
            i2 !== jc && i2 !== Fc && i2 !== $c || r2++;
        }
      } while (n2 = o2);
      Ba(t2);
    }, iu = function(e4) {
      return e4.data === Fc;
    }, au = function(e4) {
      return e4.data === $c;
    }, su = function(e4) {
      for (; null != e4; e4 = e4.nextSibling) {
        var t2 = e4.nodeType;
        if (t2 === xn || t2 === Sn)
          break;
        if (t2 === kn) {
          t2 = e4.data;
          if (t2 === jc || t2 === $c || t2 === Fc)
            break;
          if (t2 === Ac)
            return null;
        }
      }
      return e4;
    }, lu = function(e4) {
      return su(e4.nextSibling);
    }, cu = function(e4) {
      for (var t2 = e4.previousSibling, n2 = 0; t2; ) {
        if (t2.nodeType === kn) {
          var r2 = t2.data;
          if (r2 === jc || r2 === $c || r2 === Fc) {
            if (0 === n2)
              return t2;
            n2--;
          } else
            r2 === Ac && n2++;
        }
        t2 = t2.previousSibling;
      }
      return null;
    }, gu = function(e4, t2) {
      t2[uu] = e4;
    }, vu = function(e4, t2) {
      t2[pu] = e4;
    }, yu = function(e4) {
      e4[pu] = null;
    }, bu = function(e4) {
      return !!e4[pu];
    }, wu = function(e4) {
      var t2 = e4[uu];
      if (t2)
        return t2;
      for (var n2 = e4.parentNode; n2; ) {
        if (t2 = n2[pu] || n2[uu]) {
          var r2 = t2.alternate;
          if (null !== t2.child || null !== r2 && null !== r2.child)
            for (var o2 = cu(e4); null !== o2; ) {
              var i2 = o2[uu];
              if (i2)
                return i2;
              o2 = cu(o2);
            }
          return t2;
        }
        n2 = (e4 = n2).parentNode;
      }
      return null;
    }, xu = function(e4) {
      e4 = e4[uu] || e4[pu];
      return e4 && (e4.tag === G || e4.tag === re || e4.tag === X || e4.tag === K) ? e4 : null;
    }, Su = function(e4) {
      if (e4.tag === G || e4.tag === re)
        return e4.stateNode;
      throw new Error("getNodeFromInstance: Invalid argument.");
    }, ku = function(e4) {
      return e4[du] || null;
    }, Cu = function(e4, t2) {
      e4[du] = t2;
    }, _u = function(e4) {
      var t2;
      e4 ? (t2 = e4._owner, e4 = function e5(t3, n2, r2) {
        if (null != t3) {
          if ("function" == typeof t3)
            return mt(t3, !(!(o2 = (o2 = t3).prototype) || !o2.isReactComponent));
          var o2;
          if ("string" == typeof t3)
            return pt(t3);
          switch (t3) {
            case Ye:
              return pt("Suspense");
            case Ke:
              return pt("SuspenseList");
          }
          if ("object" == typeof t3)
            switch (t3.$$typeof) {
              case qe:
                return gt(t3.render);
              case Ge:
                return e5(t3.type, n2, r2);
              case Ze:
                var i2 = t3._payload, a2 = t3._init;
                try {
                  return e5(a2(i2), n2, r2);
                } catch (e6) {
                }
            }
        }
        return "";
      }(e4.type, e4._source, t2 ? t2.type : null), Tu.setExtraStackFrame(e4)) : Tu.setExtraStackFrame(null);
    }, Ru = function(e4, t2, n2, r2, o2) {
      var i2, a2 = Function.call.bind(V);
      for (i2 in e4)
        if (a2(e4, i2)) {
          var s2, l2 = void 0;
          try {
            if ("function" != typeof e4[i2])
              throw (s2 = Error((r2 || "React class") + ": " + n2 + " type `" + i2 + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + typeof e4[i2] + "`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.")).name = "Invariant Violation", s2;
            l2 = e4[i2](t2, i2, r2, n2, null, "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");
          } catch (e5) {
            l2 = e5;
          }
          !l2 || l2 instanceof Error || (_u(o2), te("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).", r2 || "React class", n2, i2, typeof l2), _u(null)), l2 instanceof Error && !(l2.message in Eu) && (Eu[l2.message] = true, _u(o2), te("Failed %s type: %s", n2, l2.message), _u(null));
        }
    }, Du = function(e4) {
      return { current: e4 };
    }, Nu = function(e4, t2) {
      Mu < 0 ? te("Unexpected pop.") : (t2 !== Iu[Mu] && te("Unexpected Fiber popped."), e4.current = Ou[Mu], Ou[Mu] = null, Iu[Mu] = null, Mu--);
    }, Pu = function(e4, t2, n2) {
      Ou[++Mu] = e4.current, Iu[Mu] = n2, e4.current = t2;
    }, $u = function(e4, t2, n2) {
      return n2 && Wu(t2) ? Fu : ju.current;
    }, Bu = function(e4, t2, n2) {
      e4 = e4.stateNode;
      e4.__reactInternalMemoizedUnmaskedChildContext = t2, e4.__reactInternalMemoizedMaskedChildContext = n2;
    }, Vu = function(e4, t2) {
      var n2 = e4.type.contextTypes;
      if (!n2)
        return Lu;
      var r2 = e4.stateNode;
      if (r2 && r2.__reactInternalMemoizedUnmaskedChildContext === t2)
        return r2.__reactInternalMemoizedMaskedChildContext;
      var o2, i2 = {};
      for (o2 in n2)
        i2[o2] = t2[o2];
      return Ru(n2, i2, "context", C(e4) || "Unknown"), r2 && Bu(e4, t2, i2), i2;
    }, Hu = function() {
      return Au.current;
    }, Wu = function(e4) {
      e4 = e4.childContextTypes;
      return null != e4;
    }, Uu = function(e4) {
      Nu(Au, e4), Nu(ju, e4);
    }, qu = function(e4) {
      Nu(Au, e4), Nu(ju, e4);
    }, Yu = function(e4, t2, n2) {
      if (ju.current !== Lu)
        throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");
      Pu(ju, t2, e4), Pu(Au, n2, e4);
    }, Ku = function(e4, t2, n2) {
      var r2 = e4.stateNode, o2 = t2.childContextTypes;
      if ("function" != typeof r2.getChildContext)
        return t2 = C(e4) || "Unknown", zu[t2] || (zu[t2] = true, te("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.", t2, t2)), n2;
      var i2, t2 = r2.getChildContext();
      for (i2 in t2)
        if (!(i2 in o2))
          throw new Error((C(e4) || "Unknown") + '.getChildContext(): key "' + i2 + '" is not defined in childContextTypes.');
      return Ru(o2, t2, "child context", C(e4) || "Unknown"), k({}, n2, t2);
    }, Gu = function(e4) {
      var t2 = e4.stateNode, t2 = t2 && t2.__reactInternalMemoizedMergedChildContext || Lu;
      Fu = ju.current, Pu(ju, t2, e4), Pu(Au, Au.current, e4);
    }, Zu = function(e4, t2, n2) {
      var r2 = e4.stateNode;
      if (!r2)
        throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");
      n2 ? (t2 = Ku(e4, t2, Fu), r2.__reactInternalMemoizedMergedChildContext = t2, Nu(Au, e4), Nu(ju, e4), Pu(ju, t2, e4)) : Nu(Au, e4), Pu(Au, n2, e4);
    }, Xu = function(e4) {
      if (bo(t2 = e4) !== t2 || e4.tag !== Y)
        throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");
      var t2, n2 = e4;
      do {
        switch (n2.tag) {
          case K:
            return n2.stateNode.context;
          case Y:
            if (Wu(n2.type))
              return n2.stateNode.__reactInternalMemoizedMergedChildContext;
        }
      } while (null !== (n2 = n2.return));
      throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.");
    }, rd = function(e4) {
      null === ed ? ed = [e4] : ed.push(e4);
    }, od = function() {
      td && id();
    }, id = function() {
      if (!nd && null !== ed) {
        nd = true;
        var t2 = 0, e4 = ba;
        try {
          var n2 = ed;
          for (xa(ma); t2 < n2.length; t2++)
            for (var r2 = n2[t2]; null !== (r2 = r2(true)); )
              ;
          ed = null, td = false;
        } catch (e5) {
          throw null !== ed && (ed = ed.slice(t2 + 1)), To(Do, id), e5;
        } finally {
          xa(e4), nd = false;
        }
      }
      return null;
    }, md = function() {
      var e4 = hd;
      return (fd & ~(1 << bd(fd) - 1)).toString(32) + e4;
    }, gd = function(e4, t2) {
      xd(), ad[sd++] = cd, ad[sd++] = ld, ld = e4, cd = t2;
    }, vd = function(e4, t2, n2) {
      xd(), ud[dd++] = fd, ud[dd++] = hd, ud[dd++] = pd, pd = e4;
      var r2, o2, i2, e4 = fd, a2 = hd, s2 = bd(e4) - 1, e4 = e4 & ~(1 << s2), n2 = n2 + 1, l2 = bd(t2) + s2;
      hd = 30 < l2 ? (r2 = (e4 & (1 << (i2 = s2 - s2 % 5)) - 1).toString(32), o2 = e4 >> i2, i2 = s2 - i2, t2 = bd(t2) + i2, fd = 1 << t2 | (n2 << i2 | o2), r2 + a2) : (fd = 1 << l2 | (n2 << s2 | e4), a2);
    }, yd = function(e4) {
      xd(), null !== e4.return && (gd(e4, 1), vd(e4, 1, 0));
    }, bd = function(e4) {
      return 32 - ni(e4);
    }, wd = function(e4) {
      for (; e4 === ld; )
        ld = ad[--sd], ad[sd] = null, cd = ad[--sd], ad[sd] = null;
      for (; e4 === pd; )
        pd = ud[--dd], ud[dd] = null, hd = ud[--dd], ud[dd] = null, fd = ud[--dd], ud[dd] = null;
    }, xd = function() {
      se || te("Expected to be hydrating. This is a bug in React. Please file an issue.");
    }, Td = function() {
      Cd = true;
    }, _d = function(e4) {
      var t2 = e4.stateNode.containerInfo;
      kd = su(t2.firstChild), Sd = e4, Cd = !(se = !(Ed = null));
    }, Rd = function(e4, t2, n2) {
      kd = su(t2.nextSibling), Sd = e4, Cd = !(se = true), (Ed = null) !== n2 && (t2 = e4, e4 = n2, xd(), ud[dd++] = fd, ud[dd++] = hd, ud[dd++] = pd, fd = e4.id, hd = e4.overflow, pd = t2);
    }, Od = function(e4, t2) {
      switch (e4.tag) {
        case K:
          i2 = e4.stateNode.containerInfo, (a2 = t2).nodeType === xn ? Sc(i2, a2) : a2.nodeType !== kn && kc(i2, a2);
          break;
        case G:
          i2 = (e4.mode & b) !== E;
          e4.type, a2 = e4.memoizedProps, r2 = e4.stateNode, o2 = t2, !i2 && true === a2[Lc] || (o2.nodeType === xn ? Sc(r2, o2) : o2.nodeType !== kn && kc(r2, o2));
          break;
        case X:
          r2 = e4.memoizedState;
          null !== r2.dehydrated && (o2 = r2.dehydrated, n2 = t2, null !== (o2 = o2.parentNode)) && (n2.nodeType === xn ? Sc(o2, n2) : n2.nodeType !== kn && kc(o2, n2));
      }
      var n2, r2, o2, i2, a2;
    }, Id = function(e4, t2) {
      Od(e4, t2);
      (n2 = Ly(G, null, null, E)).elementType = "DELETED";
      n2.stateNode = t2;
      var n2, t2 = (n2.return = e4).deletions;
      null === t2 ? (e4.deletions = [n2], e4.flags |= qr) : t2.push(n2);
    }, Md = function(e4, t2) {
      if (!Cd)
        switch (e4.tag) {
          case K:
            var n2 = e4.stateNode.containerInfo;
            switch (t2.tag) {
              case G:
                var r2 = t2.type;
                t2.pendingProps, Cc(n2, r2);
                break;
              case re:
                r2 = t2.pendingProps;
                Ec(n2, r2);
            }
            break;
          case G:
            e4.type;
            var o2 = e4.memoizedProps, i2 = e4.stateNode;
            switch (t2.tag) {
              case G:
                var a2 = t2.type, s2 = (t2.pendingProps, (e4.mode & b) !== E);
                f2 = o2, h2 = i2, a2 = a2, !s2 && true === f2[Lc] || Cc(h2, a2);
                break;
              case re:
                s2 = t2.pendingProps, f2 = (e4.mode & b) !== E;
                h2 = o2, a2 = i2, p2 = s2, !f2 && true === h2[Lc] || Ec(a2, p2);
            }
            break;
          case X:
            var l2 = e4.memoizedState.dehydrated;
            if (null !== l2)
              switch (t2.tag) {
                case G:
                  var c2 = t2.type;
                  t2.pendingProps, c2 = c2, null !== (d2 = (d2 = l2).parentNode) && Cc(d2, c2);
                  break;
                case re:
                  d2 = t2.pendingProps;
                  c2 = d2, null !== (u2 = (u2 = l2).parentNode) && Ec(u2, c2);
              }
        }
      var u2, d2, p2, f2, h2;
    }, Dd = function(e4, t2) {
      t2.flags = t2.flags & ~Jr | Ur, Md(e4, t2);
    }, Nd = function(e4, t2) {
      switch (e4.tag) {
        case G:
          var n2 = e4.type, n2 = (e4.pendingProps, n2 = n2, (r2 = t2).nodeType !== xn || n2.toLowerCase() !== r2.nodeName.toLowerCase() ? null : r2);
          return null !== n2 ? (e4.stateNode = n2, Sd = e4, kd = su(n2.firstChild), 1) : void 0;
        case re:
          var r2 = e4.pendingProps, o2 = (n2 = t2, "" === r2 || n2.nodeType !== Sn ? null : n2);
          return null !== o2 ? (e4.stateNode = o2, Sd = e4, kd = null, 1) : void 0;
        case X:
          var i2 = (o2 = t2).nodeType !== kn ? null : o2;
          return null !== i2 ? (a2 = { dehydrated: i2, treeContext: (xd(), null !== pd ? { id: fd, overflow: hd } : null), retryLane: $i }, e4.memoizedState = a2, a2 = i2, (i2 = Ly(g, null, null, E)).stateNode = a2, ((a2 = i2).return = e4).child = a2, Sd = e4, kd = null, 1) : void 0;
        default:
          return;
      }
      var a2, r2;
    }, Pd = function(e4) {
      return (e4.mode & b) !== E && (e4.flags & ie2) === ee;
    }, zd = function() {
      throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.");
    }, Ld = function(e4) {
      var t2, n2, r2;
      se && ((n2 = kd) ? Nd(e4, t2 = n2) || (Pd(e4) && (Md(Sd, e4), zd()), n2 = lu(t2), r2 = Sd, n2 && Nd(e4, n2) ? Id(r2, t2) : (Dd(Sd, e4), se = false, Sd = e4)) : (Pd(e4) && (Md(Sd, e4), zd()), Dd(Sd, e4), se = false, Sd = e4));
    }, jd = function(e4, t2, n2) {
      var r2, o2, i2, a2 = e4.stateNode, s2 = !Cd, a2 = (a2 = a2, r2 = e4.type, o2 = e4.memoizedProps, n2 = n2, s2 = s2, gu(i2 = e4, a2), Cu(a2, o2), xc(a2, r2, o2, n2.namespace, 0, (i2.mode & b) !== E, s2));
      return null !== (e4.updateQueue = a2);
    }, Ad = function(e4) {
      var t2, n2, r2, o2, i2 = e4.stateNode, a2 = e4.memoizedProps, e4 = (n2 = a2, gu(e4 = e4, t2 = i2), e4.mode, t2.nodeValue !== n2);
      if (e4) {
        var s2 = Sd;
        if (null !== s2)
          switch (s2.tag) {
            case K:
              s2.stateNode.containerInfo;
              var l2 = (s2.mode & b) !== E;
              hc(i2.nodeValue, a2, l2, true);
              break;
            case G:
              s2.type;
              var l2 = s2.memoizedProps, c2 = (s2.stateNode, (s2.mode & b) !== E);
              r2 = i2, o2 = a2, c2 = c2, true !== l2[Lc] && hc(r2.nodeValue, o2, c2, true);
          }
      }
      return e4;
    }, Fd = function(e4) {
      var t2 = e4.memoizedState, t2 = null !== t2 ? t2.dehydrated : null;
      if (!t2)
        throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");
      gu(e4, t2);
    }, $d = function(e4) {
      e4 = e4.memoizedState, e4 = null !== e4 ? e4.dehydrated : null;
      if (e4) {
        for (var t2 = e4.nextSibling, n2 = 0; t2; ) {
          if (t2.nodeType === kn) {
            var r2 = t2.data;
            if (r2 === Ac) {
              if (0 === n2)
                return lu(t2);
              n2--;
            } else
              r2 !== jc && r2 !== $c && r2 !== Fc || n2++;
          }
          t2 = t2.nextSibling;
        }
        return null;
      }
      throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");
    }, Bd = function(e4) {
      for (var t2 = e4.return; null !== t2 && t2.tag !== G && t2.tag !== K && t2.tag !== X; )
        t2 = t2.return;
      Sd = t2;
    }, Vd = function(e4) {
      if (e4 !== Sd)
        return false;
      if (!se)
        return Bd(e4), !(se = true);
      if (e4.tag !== K && (e4.tag !== G || "head" !== (n2 = e4.type) && "body" !== n2 && !Uc(e4.type, e4.memoizedProps))) {
        var t2 = kd;
        if (t2)
          if (Pd(e4))
            Hd(e4), zd();
          else
            for (; t2; )
              Id(e4, t2), t2 = lu(t2);
      }
      var n2;
      return Bd(e4), kd = e4.tag === X ? $d(e4) : Sd ? lu(e4.stateNode) : null, true;
    }, Hd = function(e4) {
      for (var t2 = kd; t2; )
        Od(e4, t2), t2 = lu(t2);
    }, Wd = function() {
      kd = Sd = null, Cd = se = false;
    }, Ud = function() {
      null !== Ed && (Av(Ed), Ed = null);
    }, qd = function(e4) {
      null === Ed ? Ed = [e4] : Ed.push(e4);
    }, Gd = function(e4) {
      var t2 = [];
      return e4.forEach(function(e5) {
        t2.push(e5);
      }), t2.sort().join(", ");
    }, ap = function(e4, t2) {
      if (e4 && e4.defaultProps) {
        var n2, r2 = k({}, t2), o2 = e4.defaultProps;
        for (n2 in o2)
          void 0 === r2[n2] && (r2[n2] = o2[n2]);
        return r2;
      }
      return t2;
    }, fp = function() {
      dp = up = cp = null, pp = false;
    }, hp = function() {
      pp = true;
    }, mp = function() {
      pp = false;
    }, gp = function(e4, t2, n2) {
      Pu(sp, t2._currentValue, e4), t2._currentValue = n2, void 0 !== t2._currentRenderer && null !== t2._currentRenderer && t2._currentRenderer !== lp && te("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."), t2._currentRenderer = lp;
    }, vp = function(e4, t2) {
      var n2 = sp.current;
      Nu(sp, t2), e4._currentValue = n2;
    }, yp = function(e4, t2, n2) {
      for (var r2 = e4; null !== r2; ) {
        var o2 = r2.alternate;
        if (ra(r2.childLanes, t2) ? null === o2 || ra(o2.childLanes, t2) || (o2.childLanes = o2.childLanes | t2) : (r2.childLanes = r2.childLanes | t2, null !== o2 && (o2.childLanes = o2.childLanes | t2)), r2 === n2)
          break;
        r2 = r2.return;
      }
      r2 !== n2 && te("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.");
    }, bp = function(e4, t2, n2) {
      var r2 = e4, o2 = t2, i2 = n2, a2 = r2.child;
      for (null !== a2 && (a2.return = r2); null !== a2; ) {
        var s2 = void 0, l2 = a2.dependencies;
        if (null !== l2) {
          s2 = a2.child;
          for (var c2 = l2.firstContext; null !== c2; ) {
            if (c2.context === o2) {
              a2.tag === Y && (u2 = Qi(i2), (u2 = Pp(T, u2)).tag = Op, null !== (d2 = a2.updateQueue)) && (d2 = d2.shared, null === (p2 = d2.pending) ? u2.next = u2 : (u2.next = p2.next, p2.next = u2), d2.pending = u2), a2.lanes = a2.lanes | i2;
              var u2, d2, p2 = a2.alternate;
              null !== p2 && (p2.lanes = p2.lanes | i2), yp(a2.return, i2, r2), l2.lanes = l2.lanes | i2;
              break;
            }
            c2 = c2.next;
          }
        } else if (a2.tag === pe)
          s2 = a2.type === r2.type ? null : a2.child;
        else if (a2.tag === g) {
          var f2 = a2.return;
          if (null === f2)
            throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");
          f2.lanes = f2.lanes | i2;
          var h2 = f2.alternate;
          null !== h2 && (h2.lanes = h2.lanes | i2), yp(f2, i2, r2), s2 = a2.sibling;
        } else
          s2 = a2.child;
        if (null !== s2)
          s2.return = a2;
        else
          for (s2 = a2; null !== s2; ) {
            if (s2 === r2) {
              s2 = null;
              break;
            }
            var m2 = s2.sibling;
            if (null !== m2) {
              m2.return = s2.return, s2 = m2;
              break;
            }
            s2 = s2.return;
          }
        a2 = s2;
      }
    }, wp = function(e4, t2) {
      dp = up = null;
      e4 = (cp = e4).dependencies;
      null !== e4 && null !== e4.firstContext && (na(e4.lanes, t2) && Rg(), e4.firstContext = null);
    }, xp = function(e4) {
      pp && te("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");
      var t2 = e4._currentValue;
      if (dp !== e4) {
        e4 = { context: e4, memoizedValue: t2, next: null };
        if (null === up) {
          if (null === cp)
            throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");
          up = e4, cp.dependencies = { lanes: ae, firstContext: e4 };
        } else
          up = up.next = e4;
      }
      return t2;
    }, kp = function(e4) {
      null === Sp ? Sp = [e4] : Sp.push(e4);
    }, Cp = function(e4, t2, n2, r2) {
      var o2 = t2.interleaved;
      return null === o2 ? (n2.next = n2, kp(t2)) : (n2.next = o2.next, o2.next = n2), t2.interleaved = n2, _p(e4, r2);
    }, Ep = function(e4, t2) {
      return _p(e4, t2);
    }, _p = function(e4, t2) {
      e4.lanes = e4.lanes | t2;
      for (var n2 = e4.alternate, r2 = (null !== n2 && (n2.lanes = n2.lanes | t2), null === n2 && (e4.flags & (Ur | Jr)) !== ee && uy(e4), e4), o2 = e4.return; null !== o2; )
        o2.childLanes = o2.childLanes | t2, null !== (n2 = o2.alternate) ? n2.childLanes = n2.childLanes | t2 : (o2.flags & (Ur | Jr)) !== ee && uy(e4), o2 = (r2 = o2).return;
      return r2.tag === K ? r2.stateNode : null;
    }, Dp = function(e4) {
      var t2 = { baseState: e4.memoizedState, firstBaseUpdate: null, lastBaseUpdate: null, shared: { pending: null, interleaved: null, lanes: ae }, effects: null };
      e4.updateQueue = t2;
    }, Np = function(e4, t2) {
      var n2 = t2.updateQueue, e4 = e4.updateQueue;
      n2 === e4 && (n2 = { baseState: e4.baseState, firstBaseUpdate: e4.firstBaseUpdate, lastBaseUpdate: e4.lastBaseUpdate, shared: e4.shared, effects: e4.effects }, t2.updateQueue = n2);
    }, Pp = function(e4, t2) {
      return { eventTime: e4, lane: t2, tag: Rp, payload: null, callback: null, next: null };
    }, zp = function(e4, t2, n2) {
      var r2, o2 = e4.updateQueue;
      return null === o2 ? null : (o2 = o2.shared, Vp !== o2 || Bp || (te("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."), Bp = true), (I & B0) !== F0 ? (null === (r2 = o2.pending) ? t2.next = t2 : (t2.next = r2.next, r2.next = t2), o2.pending = t2, Tp(e4, n2)) : (r2 = e4, e4 = t2, t2 = n2, null === (o2 = (n2 = o2).interleaved) ? (e4.next = e4, kp(n2)) : (e4.next = o2.next, o2.next = e4), n2.interleaved = e4, _p(r2, t2)));
    }, Lp = function(e4, t2, n2) {
      var r2, t2 = t2.updateQueue;
      null !== t2 && (t2 = t2.shared, Zi(n2)) && (r2 = t2.lanes, r2 = (r2 &= e4.pendingLanes) | n2, sa(e4, t2.lanes = r2));
    }, jp = function(e4, t2) {
      var n2 = e4.updateQueue, r2 = e4.alternate;
      if (null !== r2) {
        r2 = r2.updateQueue;
        if (n2 === r2) {
          var o2 = null, i2 = null, a2 = n2.firstBaseUpdate;
          if (null !== a2) {
            var s2 = a2;
            do {
              var l2 = { eventTime: s2.eventTime, lane: s2.lane, tag: s2.tag, payload: s2.payload, callback: s2.callback, next: null };
            } while (null === i2 ? o2 = i2 = l2 : (i2.next = l2, i2 = l2), null !== (s2 = s2.next));
            null === i2 ? o2 = i2 = t2 : (i2.next = t2, i2 = t2);
          } else
            o2 = i2 = t2;
          return n2 = { baseState: r2.baseState, firstBaseUpdate: o2, lastBaseUpdate: i2, shared: r2.shared, effects: r2.effects }, void (e4.updateQueue = n2);
        }
      }
      a2 = n2.lastBaseUpdate;
      null === a2 ? n2.firstBaseUpdate = t2 : a2.next = t2, n2.lastBaseUpdate = t2;
    }, Ap = function(e4, t2, n2, r2) {
      var o2, i2, a2, s2, l2 = e4.updateQueue, c2 = (Mp = false, Vp = l2.shared, l2.firstBaseUpdate), u2 = l2.lastBaseUpdate, d2 = l2.shared.pending;
      if (null !== d2 && (l2.shared.pending = null, i2 = (o2 = d2).next, (o2.next = null) === u2 ? c2 = i2 : u2.next = i2, u2 = o2, null !== (a2 = e4.alternate)) && (s2 = (a2 = a2.updateQueue).lastBaseUpdate) !== u2 && (null === s2 ? a2.firstBaseUpdate = i2 : s2.next = i2, a2.lastBaseUpdate = o2), null !== c2) {
        for (var p2 = l2.baseState, f2 = ae, h2 = null, m2 = null, g2 = null, v2 = c2; ; ) {
          var y2, b2 = v2.lane, w2 = v2.eventTime;
          if (ra(r2, b2) ? (null !== g2 && (y2 = { eventTime: w2, lane: ai, tag: v2.tag, payload: v2.payload, callback: v2.callback, next: null }, g2 = g2.next = y2), p2 = function(e5, t3, n3, r3, o3) {
            switch (t3.tag) {
              case 1:
                var i3 = t3.payload;
                if ("function" != typeof i3)
                  return i3;
                hp();
                var a3 = i3.call(o3, n3, r3);
                if (e5.mode & ei) {
                  Ho(true);
                  try {
                    i3.call(o3, n3, r3);
                  } finally {
                    Ho(false);
                  }
                }
                return mp(), a3;
              case Ip:
                e5.flags = e5.flags & ~oo | ie2;
              case Rp:
                var s3, i3 = t3.payload;
                if ("function" == typeof i3) {
                  if (hp(), s3 = i3.call(o3, n3, r3), e5.mode & ei) {
                    Ho(true);
                    try {
                      i3.call(o3, n3, r3);
                    } finally {
                      Ho(false);
                    }
                  }
                  mp();
                } else
                  s3 = i3;
                return null == s3 ? n3 : k({}, n3, s3);
              case Op:
                return Mp = true, n3;
            }
            return n3;
          }(e4, v2, p2, t2, n2), null !== v2.callback && v2.lane !== ai && (e4.flags |= 64, null === (y2 = l2.effects) ? l2.effects = [v2] : y2.push(v2))) : (w2 = { eventTime: w2, lane: b2, tag: v2.tag, payload: v2.payload, callback: v2.callback, next: null }, null === g2 ? (m2 = g2 = w2, h2 = p2) : g2 = g2.next = w2, f2 |= b2), null === (v2 = v2.next)) {
            if (null === (d2 = l2.shared.pending))
              break;
            w2 = d2, b2 = w2.next;
            w2.next = null, v2 = b2, l2.lastBaseUpdate = w2, l2.shared.pending = null;
          }
        }
        null === g2 && (h2 = p2), l2.baseState = h2, l2.firstBaseUpdate = m2, l2.lastBaseUpdate = g2;
        var x2 = l2.shared.interleaved;
        if (null !== x2)
          for (var S2 = x2; f2 |= S2.lane, (S2 = S2.next) !== x2; )
            ;
        else
          null === c2 && (l2.shared.lanes = ae);
        Zv(f2), e4.lanes = f2, e4.memoizedState = p2;
      }
      Vp = null;
    }, Fp = function() {
      Mp = false;
    }, $p = function(e4, t2, n2) {
      var r2 = t2.effects;
      if ((t2.effects = null) !== r2)
        for (var o2 = 0; o2 < r2.length; o2++) {
          var i2 = r2[o2], a2 = i2.callback;
          if (null !== a2) {
            i2.callback = null, s2 = i2 = void 0;
            var i2 = a2, s2 = n2;
            if ("function" != typeof i2)
              throw new Error("Invalid argument passed as callback. Expected a function. Instead received: " + i2);
            i2.call(s2);
          }
        }
    }, nf = function(e4, t2, n2, r2) {
      var o2 = e4.memoizedState, i2 = n2(r2, o2);
      if (e4.mode & ei) {
        Ho(true);
        try {
          i2 = n2(r2, o2);
        } finally {
          Ho(false);
        }
      }
      tf(t2, i2);
      n2 = null == i2 ? o2 : k({}, o2, i2);
      e4.memoizedState = n2, e4.lanes === ae && (e4.updateQueue.baseState = n2);
    }, af = function(e4, t2, n2, r2, o2, i2, a2) {
      var s2 = e4.stateNode;
      if ("function" != typeof s2.shouldComponentUpdate)
        return !(t2.prototype && t2.prototype.isPureReactComponent && il(n2, r2) && il(o2, i2));
      n2 = s2.shouldComponentUpdate(r2, i2, a2);
      if (e4.mode & ei) {
        Ho(true);
        try {
          n2 = s2.shouldComponentUpdate(r2, i2, a2);
        } finally {
          Ho(false);
        }
      }
      return void 0 === n2 && te("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.", Q(t2) || "Component"), n2;
    }, sf = function(e4, t2) {
      t2.updater = of, (e4.stateNode = t2)._reactInternals = e4, t2._reactInternalInstance = Hp;
    }, lf = function(e4, t2, n2) {
      var r2 = false, o2 = Lu, i2 = Lu, a2 = t2.contextType, s2 = ("contextType" in t2 && (null === a2 || void 0 !== a2 && a2.$$typeof === Ue && void 0 === a2._context || Jp.has(t2) || (Jp.add(t2), s2 = "", s2 = void 0 === a2 ? " However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file." : "object" != typeof a2 ? " However, it is set to a " + typeof a2 + "." : a2.$$typeof === We ? " Did you accidentally pass the Context.Provider instead?" : void 0 !== a2._context ? " Did you accidentally pass the Context.Consumer instead?" : " However, it is set to an object with keys {" + Object.keys(a2).join(", ") + "}.", te("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s", Q(t2) || "Component", s2))), new t2(n2, i2 = "object" == typeof a2 && null !== a2 ? xp(a2) : (o2 = $u(0, t2, true), (r2 = null != t2.contextTypes) ? Vu(e4, o2) : Lu)));
      if (e4.mode & ei) {
        Ho(true);
        try {
          s2 = new t2(n2, i2);
        } finally {
          Ho(false);
        }
      }
      var l2, a2 = e4.memoizedState = null !== s2.state && void 0 !== s2.state ? s2.state : null;
      sf(e4, s2), "function" == typeof t2.getDerivedStateFromProps && null === a2 && (n2 = Q(t2) || "Component", qp.has(n2) || (qp.add(n2), te("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.", n2, null === s2.state ? "null" : "undefined", n2))), "function" != typeof t2.getDerivedStateFromProps && "function" != typeof s2.getSnapshotBeforeUpdate || (l2 = n2 = a2 = null, "function" == typeof s2.componentWillMount && true !== s2.componentWillMount.__suppressDeprecationWarning ? a2 = "componentWillMount" : "function" == typeof s2.UNSAFE_componentWillMount && (a2 = "UNSAFE_componentWillMount"), "function" == typeof s2.componentWillReceiveProps && true !== s2.componentWillReceiveProps.__suppressDeprecationWarning ? n2 = "componentWillReceiveProps" : "function" == typeof s2.UNSAFE_componentWillReceiveProps && (n2 = "UNSAFE_componentWillReceiveProps"), "function" == typeof s2.componentWillUpdate && true !== s2.componentWillUpdate.__suppressDeprecationWarning ? l2 = "componentWillUpdate" : "function" == typeof s2.UNSAFE_componentWillUpdate && (l2 = "UNSAFE_componentWillUpdate"), null === a2 && null === n2 && null === l2) || (s2 = Q(t2) || "Component", t2 = "function" == typeof t2.getDerivedStateFromProps ? "getDerivedStateFromProps()" : "getSnapshotBeforeUpdate()", Kp.has(s2)) || (Kp.add(s2), te("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n%s uses %s but also contains the following legacy lifecycles:%s%s%s\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://reactjs.org/link/unsafe-component-lifecycles", s2, t2, null !== a2 ? "\n  " + a2 : "", null !== n2 ? "\n  " + n2 : "", null !== l2 ? "\n  " + l2 : "")), r2 && Bu(e4, o2, i2);
    }, cf = function(e4, t2, n2, r2) {
      var o2 = t2.state;
      "function" == typeof t2.componentWillReceiveProps && t2.componentWillReceiveProps(n2, r2), "function" == typeof t2.UNSAFE_componentWillReceiveProps && t2.UNSAFE_componentWillReceiveProps(n2, r2), t2.state !== o2 && (n2 = C(e4) || "Component", Up.has(n2) || (Up.add(n2), te("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.", n2)), of.enqueueReplaceState(t2, t2.state, null));
    }, uf = function(e4, t2, n2, r2) {
      o2 = t2, a2 = n2, s2 = (s2 = e4).stateNode, i2 = Q(o2) || "Component", s2.render || (o2.prototype && "function" == typeof o2.prototype.render ? te("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?", i2) : te("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.", i2)), !s2.getInitialState || s2.getInitialState.isReactClassApproved || s2.state || te("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?", i2), s2.getDefaultProps && !s2.getDefaultProps.isReactClassApproved && te("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.", i2), s2.propTypes && te("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.", i2), s2.contextType && te("contextType was defined as an instance property on %s. Use a static property to define contextType instead.", i2), s2.contextTypes && te("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.", i2), o2.contextType && o2.contextTypes && !Xp.has(o2) && (Xp.add(o2), te("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.", i2)), "function" == typeof s2.componentShouldUpdate && te("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.", i2), o2.prototype && o2.prototype.isPureReactComponent && void 0 !== s2.shouldComponentUpdate && te("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.", Q(o2) || "A pure component"), "function" == typeof s2.componentDidUnmount && te("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?", i2), "function" == typeof s2.componentDidReceiveProps && te("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().", i2), "function" == typeof s2.componentWillRecieveProps && te("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?", i2), "function" == typeof s2.UNSAFE_componentWillRecieveProps && te("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?", i2), a2 = s2.props !== a2, void 0 !== s2.props && a2 && te("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.", i2, i2), s2.defaultProps && te("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.", i2, i2), "function" != typeof s2.getSnapshotBeforeUpdate || "function" == typeof s2.componentDidUpdate || Yp.has(o2) || (Yp.add(o2), te("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.", Q(o2))), "function" == typeof s2.getDerivedStateFromProps && te("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.", i2), "function" == typeof s2.getDerivedStateFromError && te("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.", i2), "function" == typeof o2.getSnapshotBeforeUpdate && te("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.", i2), (a2 = s2.state) && ("object" != typeof a2 || en(a2)) && te("%s.state: must be set to an object or null", i2), "function" == typeof s2.getChildContext && "object" != typeof o2.childContextTypes && te("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().", i2);
      var o2, i2, a2 = e4.stateNode, s2 = (a2.props = n2, a2.state = e4.memoizedState, a2.refs = Wp, Dp(e4), t2.contextType), s2 = ("object" == typeof s2 && null !== s2 ? a2.context = xp(s2) : (o2 = $u(0, t2, true), a2.context = Vu(e4, o2)), a2.state === n2 && (i2 = Q(t2) || "Component", Gp.has(i2) || (Gp.add(i2), te("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.", i2))), e4.mode & ei && Zd.recordLegacyContextWarning(e4, a2), Zd.recordUnsafeLifecycleWarnings(e4, a2), a2.state = e4.memoizedState, t2.getDerivedStateFromProps);
      "function" == typeof s2 && (nf(e4, t2, s2, n2), a2.state = e4.memoizedState), "function" == typeof t2.getDerivedStateFromProps || "function" == typeof a2.getSnapshotBeforeUpdate || "function" != typeof a2.UNSAFE_componentWillMount && "function" != typeof a2.componentWillMount || (o2 = e4, s2 = (i2 = a2).state, "function" == typeof i2.componentWillMount && i2.componentWillMount(), "function" == typeof i2.UNSAFE_componentWillMount && i2.UNSAFE_componentWillMount(), s2 !== i2.state && (te("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.", C(o2) || "Component"), of.enqueueReplaceState(i2, i2.state, null)), Ap(e4, n2, a2, r2), a2.state = e4.memoizedState), "function" == typeof a2.componentDidMount && (t2 = oe, t2 |= lo, (e4.mode & ti) !== E && (t2 |= uo), e4.flags |= t2);
    }, pf = function(e4, t2, n2) {
      var r2 = n2.ref;
      if (null !== r2 && "function" != typeof r2 && "object" != typeof r2) {
        if (!(e4.mode & ei || y) || n2._owner && n2._self && n2._owner.stateNode !== n2._self || (e4 = C(e4) || "Component", yf[e4]) || (te('A string ref, "%s", has been found within a strict mode tree. String refs are a source of potential bugs and should be avoided. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref', r2), yf[e4] = true), n2._owner) {
          var o2, i2, a2, e4 = n2._owner;
          if (e4) {
            if (e4.tag !== Y)
              throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");
            o2 = e4.stateNode;
          }
          if (o2)
            return i2 = o2, a2 = "" + r2, null !== t2 && null !== t2.ref && "function" == typeof t2.ref && t2.ref._stringRef === a2 ? t2.ref : ((e4 = function(e5) {
              var t3 = i2.refs;
              t3 === Wp && (t3 = i2.refs = {}), null === e5 ? delete t3[a2] : t3[a2] = e5;
            })._stringRef = a2, e4);
          throw new Error("Missing owner for string ref " + r2 + ". This error is likely caused by a bug in React. Please file an issue.");
        }
        if ("string" != typeof r2)
          throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");
        if (!n2._owner)
          throw new Error("Element ref was specified as a string (" + r2 + ") but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a function component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://reactjs.org/link/refs-must-have-owner for more information.");
      }
      return r2;
    }, ff = function(e4, t2) {
      var n2 = Object.prototype.toString.call(t2);
      throw new Error("Objects are not valid as a React child (found: " + ("[object Object]" === n2 ? "object with keys {" + Object.keys(t2).join(", ") + "}" : n2) + "). If you meant to render a collection of children, use an array instead.");
    }, hf = function(e4) {
      e4 = C(e4) || "Component";
      wf[e4] || (wf[e4] = true, te("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it."));
    }, mf = function(e4) {
      var t2 = e4._payload;
      return (0, e4._init)(t2);
    }, gf = function(W2) {
      function U2(e4, t2) {
        var n2;
        W2 && (null === (n2 = e4.deletions) ? (e4.deletions = [t2], e4.flags |= qr) : n2.push(t2));
      }
      function q2(e4, t2) {
        if (W2)
          for (var n2 = t2; null !== n2; )
            U2(e4, n2), n2 = n2.sibling;
        return null;
      }
      function Y2(e4, t2) {
        for (var n2 = /* @__PURE__ */ new Map(), r2 = t2; null !== r2; )
          null !== r2.key ? n2.set(r2.key, r2) : n2.set(r2.index, r2), r2 = r2.sibling;
        return n2;
      }
      function K2(e4, t2) {
        e4 = Ay(e4, t2);
        return e4.index = 0, e4.sibling = null, e4;
      }
      function G2(e4, t2, n2) {
        return e4.index = n2, W2 ? null === (n2 = e4.alternate) || (n2 = n2.index) < t2 ? (e4.flags |= Ur, t2) : n2 : (e4.flags |= ao, t2);
      }
      function Z2(e4) {
        return W2 && null === e4.alternate && (e4.flags |= Ur), e4;
      }
      function a2(e4, t2, n2, r2) {
        return null === t2 || t2.tag !== re ? ((r2 = Hy(n2, e4.mode, r2)).return = e4, r2) : ((r2 = K2(t2, n2)).return = e4, r2);
      }
      function s2(e4, t2, n2, r2) {
        var o2 = n2.type;
        if (o2 === Be)
          return c2(e4, t2, n2.props.children, r2, n2.key);
        if (null !== t2 && (t2.elementType === o2 || _y(t2, n2) || "object" == typeof o2 && null !== o2 && o2.$$typeof === Ze && mf(o2) === t2.type))
          return (o2 = K2(t2, n2.props)).ref = pf(e4, t2, n2), o2.return = e4, o2._debugSource = n2._source, o2._debugOwner = n2._owner, o2;
        o2 = $y(n2, e4.mode, r2);
        return o2.ref = pf(e4, t2, n2), o2.return = e4, o2;
      }
      function l2(e4, t2, n2, r2) {
        return null === t2 || t2.tag !== ne || t2.stateNode.containerInfo !== n2.containerInfo || t2.stateNode.implementation !== n2.implementation ? ((r2 = Wy(n2, e4.mode, r2)).return = e4, r2) : ((r2 = K2(t2, n2.children || [])).return = e4, r2);
      }
      function c2(e4, t2, n2, r2, o2) {
        return null === t2 || t2.tag !== ce ? ((r2 = By(n2, e4.mode, r2, o2)).return = e4, r2) : ((o2 = K2(t2, n2)).return = e4, o2);
      }
      function X2(e4, t2, n2) {
        var r2;
        if ("string" == typeof t2 && "" !== t2 || "number" == typeof t2)
          return (r2 = Hy("" + t2, e4.mode, n2)).return = e4, r2;
        if ("object" == typeof t2 && null !== t2) {
          switch (t2.$$typeof) {
            case Fe:
              var o2 = $y(t2, e4.mode, n2);
              return o2.ref = pf(e4, null, t2), o2.return = e4, o2;
            case $e:
              o2 = Wy(t2, e4.mode, n2);
              return o2.return = e4, o2;
            case Ze:
              o2 = t2._payload;
              return X2(e4, (0, t2._init)(o2), n2);
          }
          if (en(t2) || et(t2))
            return (r2 = By(t2, e4.mode, n2, null)).return = e4, r2;
          ff(0, t2);
        }
        return "function" == typeof t2 && hf(e4), null;
      }
      function J2(e4, t2, n2, r2) {
        var o2 = null !== t2 ? t2.key : null;
        if ("string" == typeof n2 && "" !== n2 || "number" == typeof n2)
          return null !== o2 ? null : a2(e4, t2, "" + n2, r2);
        if ("object" == typeof n2 && null !== n2) {
          switch (n2.$$typeof) {
            case Fe:
              return n2.key === o2 ? s2(e4, t2, n2, r2) : null;
            case $e:
              return n2.key === o2 ? l2(e4, t2, n2, r2) : null;
            case Ze:
              var i2 = n2._payload;
              return J2(e4, t2, (0, n2._init)(i2), r2);
          }
          if (en(n2) || et(n2))
            return null !== o2 ? null : c2(e4, t2, n2, r2, null);
          ff(0, n2);
        }
        return "function" == typeof n2 && hf(e4), null;
      }
      function Q2(e4, t2, n2, r2, o2) {
        if ("string" == typeof r2 && "" !== r2 || "number" == typeof r2)
          return a2(t2, e4.get(n2) || null, "" + r2, o2);
        if ("object" == typeof r2 && null !== r2) {
          switch (r2.$$typeof) {
            case Fe:
              return s2(t2, e4.get(null === r2.key ? n2 : r2.key) || null, r2, o2);
            case $e:
              return l2(t2, e4.get(null === r2.key ? n2 : r2.key) || null, r2, o2);
            case Ze:
              var i2 = r2._payload;
              return Q2(e4, t2, n2, (0, r2._init)(i2), o2);
          }
          if (en(r2) || et(r2))
            return c2(t2, e4.get(n2) || null, r2, o2, null);
          ff(0, r2);
        }
        return "function" == typeof r2 && hf(t2), null;
      }
      function ee2(e4, t2, n2) {
        if ("object" == typeof e4 && null !== e4)
          switch (e4.$$typeof) {
            case Fe:
            case $e:
              df(e4, n2);
              var r2 = e4.key;
              "string" == typeof r2 && (null === t2 ? (t2 = /* @__PURE__ */ new Set()).add(r2) : t2.has(r2) ? te("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.", r2) : t2.add(r2));
              break;
            case Ze:
              r2 = e4._payload;
              ee2((0, e4._init)(r2), t2, n2);
          }
        return t2;
      }
      return function L2(e4, t2, n2, r2) {
        var o2, j2, i2;
        if ("object" == typeof (n2 = "object" == typeof n2 && null !== n2 && n2.type === Be && null === n2.key ? n2.props.children : n2) && null !== n2) {
          switch (n2.$$typeof) {
            case Fe:
              return Z2(function(e5, t3, n3, r3) {
                for (var o3, i3 = n3.key, a4 = t3; null !== a4; ) {
                  if (a4.key === i3) {
                    var s4, l4 = n3.type;
                    if (l4 === Be) {
                      if (a4.tag === ce)
                        return q2(e5, a4.sibling), (s4 = K2(a4, n3.props.children)).return = e5, s4._debugSource = n3._source, s4._debugOwner = n3._owner, s4;
                    } else if (a4.elementType === l4 || _y(a4, n3) || "object" == typeof l4 && null !== l4 && l4.$$typeof === Ze && mf(l4) === a4.type)
                      return q2(e5, a4.sibling), (s4 = K2(a4, n3.props)).ref = pf(e5, a4, n3), s4.return = e5, s4._debugSource = n3._source, s4._debugOwner = n3._owner, s4;
                    q2(e5, a4);
                    break;
                  }
                  U2(e5, a4), a4 = a4.sibling;
                }
                return n3.type === Be ? (o3 = By(n3.props.children, e5.mode, r3, n3.key)).return = e5 : ((o3 = $y(n3, e5.mode, r3)).ref = pf(e5, t3, n3), o3.return = e5), o3;
              }(e4, t2, n2, r2));
            case $e:
              return Z2(function(e5, t3, n3, r3) {
                for (var o3, i3 = n3.key, a4 = t3; null !== a4; ) {
                  if (a4.key === i3) {
                    if (a4.tag === ne && a4.stateNode.containerInfo === n3.containerInfo && a4.stateNode.implementation === n3.implementation)
                      return q2(e5, a4.sibling), (o3 = K2(a4, n3.children || [])).return = e5, o3;
                    q2(e5, a4);
                    break;
                  }
                  U2(e5, a4), a4 = a4.sibling;
                }
                return (t3 = Wy(n3, e5.mode, r3)).return = e5, t3;
              }(e4, t2, n2, r2));
            case Ze:
              var A2 = n2._payload;
              return L2(e4, t2, (0, n2._init)(A2), r2);
          }
          if (en(n2)) {
            for (var a3 = e4, F2 = t2, s3 = n2, l3 = r2, $2 = null, c3 = 0; c3 < s3.length; c3++)
              $2 = ee2(s3[c3], $2, a3);
            for (var u2 = null, d2 = null, p2 = F2, f2 = 0, h2 = 0, m2 = null; null !== p2 && h2 < s3.length; h2++) {
              p2.index > h2 ? (m2 = p2, p2 = null) : m2 = p2.sibling;
              var g2 = J2(a3, p2, s3[h2], l3);
              if (null === g2) {
                null === p2 && (p2 = m2);
                break;
              }
              W2 && p2 && null === g2.alternate && U2(a3, p2), f2 = G2(g2, f2, h2), null === d2 ? u2 = g2 : d2.sibling = g2, d2 = g2, p2 = m2;
            }
            if (h2 === s3.length)
              q2(a3, p2);
            else if (null === p2)
              for (; h2 < s3.length; h2++) {
                var v2 = X2(a3, s3[h2], l3);
                null !== v2 && (f2 = G2(v2, f2, h2), null === d2 ? u2 = v2 : d2.sibling = v2, d2 = v2);
              }
            else {
              for (var y2 = Y2(0, p2); h2 < s3.length; h2++) {
                var b2 = Q2(y2, a3, h2, s3[h2], l3);
                null !== b2 && (W2 && null !== b2.alternate && y2.delete(null === b2.key ? h2 : b2.key), f2 = G2(b2, f2, h2), null === d2 ? u2 = b2 : d2.sibling = b2, d2 = b2);
              }
              W2 && y2.forEach(function(e5) {
                return U2(a3, e5);
              });
            }
            return se && gd(a3, h2), u2;
          }
          if (et(n2)) {
            var w2 = e4, F2 = t2, x2 = n2, S2 = r2, k2 = et(x2);
            if ("function" != typeof k2)
              throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");
            "function" == typeof Symbol && "Generator" === x2[Symbol.toStringTag] && (vf || te("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."), vf = true), x2.entries === k2 && (rf || te("Using Maps as children is not supported. Use an array of keyed ReactElements instead."), rf = true);
            var C2 = k2.call(x2);
            if (C2)
              for (var B2 = null, V2 = C2.next(); !V2.done; V2 = C2.next())
                B2 = ee2(V2.value, B2, w2);
            var E2 = k2.call(x2);
            if (null == E2)
              throw new Error("An iterable object provided no iterator.");
            for (var T2 = null, _2 = null, R2 = F2, O2 = 0, I2 = 0, M2 = null, D2 = E2.next(); null !== R2 && !D2.done; I2++, D2 = E2.next()) {
              R2.index > I2 ? (M2 = R2, R2 = null) : M2 = R2.sibling;
              var N2 = J2(w2, R2, D2.value, S2);
              if (null === N2) {
                null === R2 && (R2 = M2);
                break;
              }
              W2 && R2 && null === N2.alternate && U2(w2, R2), O2 = G2(N2, O2, I2), null === _2 ? T2 = N2 : _2.sibling = N2, _2 = N2, R2 = M2;
            }
            if (D2.done)
              q2(w2, R2);
            else if (null === R2)
              for (; !D2.done; I2++, D2 = E2.next()) {
                var P2 = X2(w2, D2.value, S2);
                null !== P2 && (O2 = G2(P2, O2, I2), null === _2 ? T2 = P2 : _2.sibling = P2, _2 = P2);
              }
            else {
              for (var H2 = Y2(0, R2); !D2.done; I2++, D2 = E2.next()) {
                var z2 = Q2(H2, w2, I2, D2.value, S2);
                null !== z2 && (W2 && null !== z2.alternate && H2.delete(null === z2.key ? I2 : z2.key), O2 = G2(z2, O2, I2), null === _2 ? T2 = z2 : _2.sibling = z2, _2 = z2);
              }
              W2 && H2.forEach(function(e5) {
                return U2(w2, e5);
              });
            }
            return se && gd(w2, I2), T2;
          }
          ff(0, n2);
        }
        return "string" == typeof n2 && "" !== n2 || "number" == typeof n2 ? Z2((k2 = e4, x2 = "" + n2, j2 = r2, null !== (o2 = t2) && o2.tag === re ? (q2(k2, o2.sibling), (i2 = K2(o2, x2)).return = k2) : (q2(k2, o2), (i2 = Hy(x2, k2.mode, j2)).return = k2), i2)) : ("function" == typeof n2 && hf(e4), q2(e4, t2));
      };
    }, kf = function(e4, t2) {
      for (var n2, r2, o2, i2 = e4.child; null !== i2; )
        r2 = t2, o2 = void 0, (n2 = i2).flags &= vo | Ur, null === (o2 = n2.alternate) ? (n2.childLanes = ae, n2.lanes = r2, n2.child = null, n2.subtreeFlags = ee, n2.memoizedProps = null, n2.memoizedState = null, n2.updateQueue = null, n2.dependencies = null, n2.stateNode = null, n2.selfBaseDuration = 0, n2.treeBaseDuration = 0) : (n2.childLanes = o2.childLanes, n2.lanes = o2.lanes, n2.child = o2.child, n2.subtreeFlags = ee, n2.deletions = null, n2.memoizedProps = o2.memoizedProps, n2.memoizedState = o2.memoizedState, n2.updateQueue = o2.updateQueue, n2.type = o2.type, r2 = o2.dependencies, n2.dependencies = null === r2 ? null : { lanes: r2.lanes, firstContext: r2.firstContext }, n2.selfBaseDuration = o2.selfBaseDuration, n2.treeBaseDuration = o2.treeBaseDuration), i2 = i2.sibling;
    }, Rf = function(e4) {
      if (e4 === Cf)
        throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");
      return e4;
    }, Of = function() {
      return Rf(_f.current);
    }, If = function(e4, t2) {
      Pu(_f, t2, e4), Pu(Tf, e4, e4), Pu(Ef, Cf, e4);
      t2 = function(e5) {
        var t3 = e5.nodeType;
        switch (t3) {
          case Cn:
          case En:
            var n2 = t3 === Cn ? "#document" : "#fragment", r2 = e5.documentElement, o2 = r2 ? r2.namespaceURI : gn(null, "");
            break;
          default:
            r2 = t3 === kn ? e5.parentNode : e5;
            o2 = gn(r2.namespaceURI || null, n2 = r2.tagName);
        }
        var i2 = n2.toLowerCase();
        return { namespace: o2, ancestorInfo: Mc(null, i2) };
      }(t2);
      Nu(Ef, e4), Pu(Ef, t2, e4);
    }, Mf = function(e4) {
      Nu(Ef, e4), Nu(Tf, e4), Nu(_f, e4);
    }, Df = function() {
      return Rf(Ef.current);
    }, Nf = function(e4) {
      Rf(_f.current);
      var t2, n2 = Rf(Ef.current), r2 = (r2 = n2, t2 = e4.type, { namespace: gn(r2.namespace, t2), ancestorInfo: Mc(r2.ancestorInfo, t2) });
      n2 !== r2 && (Pu(Tf, e4, e4), Pu(Ef, r2, e4));
    }, Pf = function(e4) {
      Tf.current === e4 && (Nu(Ef, e4), Nu(Tf, e4));
    }, Af = function(e4, t2) {
      Pu(jf, t2, e4);
    }, Ff = function(e4) {
      Nu(jf, e4);
    }, $f = function(e4) {
      for (var t2 = e4; null !== t2; ) {
        if (t2.tag === X) {
          var n2 = t2.memoizedState;
          if (null !== n2) {
            n2 = n2.dehydrated;
            if (null === n2 || iu(n2) || au(n2))
              return t2;
          }
        } else if (t2.tag === ve && void 0 !== t2.memoizedProps.revealOrder) {
          if ((t2.flags & ie2) !== ee)
            return t2;
        } else if (null !== t2.child) {
          t2 = (t2.child.return = t2).child;
          continue;
        }
        if (t2 === e4)
          return null;
        for (; null === t2.sibling; ) {
          if (null === t2.return || t2.return === e4)
            return null;
          t2 = t2.return;
        }
        t2.sibling.return = t2.return, t2 = t2.sibling;
      }
      return null;
    }, Yf = function() {
      for (var e4 = 0; e4 < qf.length; e4++)
        qf[e4]._workInProgressVersionPrimary = null;
      qf.length = 0;
    }, o = function() {
      var e4 = l;
      null === oh ? oh = [e4] : oh.push(e4);
    }, i = function() {
      var e4 = l;
      if (null !== oh && oh[++ih] !== e4) {
        var t2 = e4, e4 = C(R);
        if (!Zf.has(e4) && (Zf.add(e4), null !== oh)) {
          for (var n2 = "", r2 = 0; r2 <= ih; r2++) {
            for (var o2 = oh[r2], i2 = r2 === ih ? t2 : o2, a2 = r2 + 1 + ". " + o2; a2.length < 30; )
              a2 += " ";
            n2 += a2 += i2 + "\n";
          }
          te("React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks\n\n   Previous render            Next render\n   ------------------------------------------------------\n%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", e4, n2);
        }
      }
    }, sh = function(e4) {
      null == e4 || en(e4) || te("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.", l, typeof e4);
    }, lh = function() {
      throw new Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.");
    }, ch = function(e4, t2) {
      if (!ah) {
        if (null !== t2) {
          e4.length !== t2.length && te("The final argument passed to %s changed size between renders. The order and size of this array must remain constant.\n\nPrevious: %s\nIncoming: %s", l, "[" + t2.join(", ") + "]", "[" + e4.join(", ") + "]");
          for (var n2 = 0; n2 < t2.length && n2 < e4.length; n2++)
            if (!ol(e4[n2], t2[n2]))
              return;
          return 1;
        }
        te("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.", l);
      }
    }, uh = function(e4, t2, n2, r2, o2, i2) {
      Xf = i2, R = t2, oh = null !== e4 ? e4._debugHookTypes : null, ih = -1, ah = null !== e4 && e4.type !== t2.type, t2.memoizedState = null, t2.updateQueue = null, t2.lanes = ae, null !== e4 && null !== e4.memoizedState ? c.current = ym : c.current = null !== oh ? vm : gm;
      var a2 = n2(r2, o2);
      if (th) {
        var s2 = 0;
        do {
          if (th = false, nh = 0, 25 <= s2)
            throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");
        } while (s2 += 1, ah = false, Qf = Jf = null, t2.updateQueue = null, ih = -1, c.current = bm, a2 = n2(r2, o2), th);
      }
      c.current = pm, t2._debugHookTypes = oh;
      i2 = null !== Jf && null !== Jf.next;
      if (Xf = ae, ih = -1, (oh = l = Qf = Jf = R = null) !== e4 && (e4.flags & vo) != (t2.flags & vo) && (e4.mode & b) !== E && te("Internal React error: Expected static flag was missing. Please notify the React team."), eh = false, i2)
        throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");
      return a2;
    }, dh = function() {
      var e4 = 0 !== nh;
      return nh = 0, e4;
    }, ph = function(e4, t2, n2) {
      t2.updateQueue = e4.updateQueue, (t2.mode & ti) !== E ? t2.flags &= ~(po | uo | Xr | oe) : t2.flags &= ~(Xr | oe), e4.lanes = e4.lanes & ~n2;
    }, fh = function() {
      if (c.current = pm, eh) {
        for (var e4 = R.memoizedState; null !== e4; ) {
          var t2 = e4.queue;
          null !== t2 && (t2.pending = null), e4 = e4.next;
        }
        eh = false;
      }
      Xf = ae, l = oh = Qf = Jf = R = null, om = !(ih = -1), th = false, nh = 0;
    }, hh = function() {
      var e4 = { memoizedState: null, baseState: null, baseQueue: null, queue: null, next: null };
      return null === Qf ? R.memoizedState = Qf = e4 : Qf = Qf.next = e4, Qf;
    }, mh = function() {
      var e4;
      if (e4 = null === Jf ? null !== (e4 = R.alternate) ? e4.memoizedState : null : Jf.next, null !== (t2 = null === Qf ? R.memoizedState : Qf.next))
        t2 = (Qf = t2).next, Jf = e4;
      else {
        if (null === e4)
          throw new Error("Rendered more hooks than during the previous render.");
        var t2 = { memoizedState: (Jf = e4).memoizedState, baseState: Jf.baseState, baseQueue: Jf.baseQueue, queue: Jf.queue, next: null };
        null === Qf ? R.memoizedState = Qf = t2 : Qf = Qf.next = t2;
      }
      return Qf;
    }, gh = function() {
      return { lastEffect: null, stores: null };
    }, vh = function(e4, t2) {
      return "function" == typeof t2 ? t2(e4) : t2;
    }, yh = function(e4, t2, n2) {
      var r2 = hh(), n2 = void 0 !== n2 ? n2(t2) : t2, t2 = (r2.memoizedState = r2.baseState = n2, { pending: null, interleaved: null, lanes: ae, dispatch: null, lastRenderedReducer: e4, lastRenderedState: n2 }), e4 = (r2.queue = t2).dispatch = (function(e5, t3, n3) {
        "function" == typeof arguments[3] && te("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");
        var r3 = Dv(e5), o2 = { lane: r3, action: n3, hasEagerState: false, eagerState: null, next: null };
        {
          var i2;
          sm(e5) ? lm(t3, o2) : null !== (o2 = Cp(e5, t3, o2, r3)) && (i2 = Mv(), Pv(o2, e5, r3, i2), cm(o2, t3, r3));
        }
        um(e5, r3);
      }).bind(null, R, t2);
      return [r2.memoizedState, e4];
    }, bh = function(e4) {
      var t2 = mh(), n2 = t2.queue;
      if (null === n2)
        throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");
      n2.lastRenderedReducer = e4;
      var r2, o2 = Jf, i2 = o2.baseQueue, a2 = n2.pending;
      if (null !== a2 && (null !== i2 && (r2 = i2.next, y2 = a2.next, i2.next = y2, a2.next = r2), o2.baseQueue !== i2 && te("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."), o2.baseQueue = i2 = a2, n2.pending = null), null !== i2) {
        var s2 = i2.next, l2 = o2.baseState, c2 = null, u2 = null, d2 = null, p2 = s2;
        do {
          var f2, h2 = p2.lane;
        } while (ra(Xf, h2) ? (null !== d2 && (f2 = { lane: ai, action: p2.action, hasEagerState: p2.hasEagerState, eagerState: p2.eagerState, next: null }, d2 = d2.next = f2), l2 = p2.hasEagerState ? p2.eagerState : e4(l2, p2.action)) : (f2 = { lane: h2, action: p2.action, hasEagerState: p2.hasEagerState, eagerState: p2.eagerState, next: null }, null === d2 ? (u2 = d2 = f2, c2 = l2) : d2 = d2.next = f2, R.lanes = R.lanes | h2, Zv(h2)), null !== (p2 = p2.next) && p2 !== s2);
        null === d2 ? c2 = l2 : d2.next = u2, ol(l2, t2.memoizedState) || Rg(), t2.memoizedState = l2, t2.baseState = c2, t2.baseQueue = d2, n2.lastRenderedState = l2;
      }
      var m2 = n2.interleaved;
      if (null !== m2) {
        var g2 = m2;
        do {
          var v2 = g2.lane;
        } while (R.lanes = R.lanes | v2, Zv(v2), (g2 = g2.next) !== m2);
      } else
        null === i2 && (n2.lanes = ae);
      var y2 = n2.dispatch;
      return [t2.memoizedState, y2];
    }, wh = function(e4) {
      var t2 = mh(), n2 = t2.queue;
      if (null === n2)
        throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");
      n2.lastRenderedReducer = e4;
      var r2 = n2.dispatch, o2 = n2.pending, i2 = t2.memoizedState;
      if (null !== o2) {
        n2.pending = null;
        var a2 = o2.next, s2 = a2;
        do {
          i2 = e4(i2, s2.action), s2 = s2.next;
        } while (s2 !== a2);
        ol(i2, t2.memoizedState) || Rg(), t2.memoizedState = i2, null === t2.baseQueue && (t2.baseState = i2), n2.lastRenderedState = i2;
      }
      return [i2, r2];
    }, xh = function(e4, t2, n2) {
      var r2 = R, o2 = hh();
      if (se) {
        if (void 0 === n2)
          throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");
        i2 = n2(), Kf || i2 !== n2() && (te("The result of getServerSnapshot should be cached to avoid an infinite loop"), Kf = true);
      } else {
        var i2 = t2(), n2 = (Kf || (n2 = t2(), ol(i2, n2)) || (te("The result of getSnapshot should be cached to avoid an infinite loop"), Kf = true), Z0);
        if (null === n2)
          throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");
        Gi(0, Xf) || kh(r2, t2, i2);
      }
      n2 = { value: o2.memoizedState = i2, getSnapshot: t2 };
      return o2.queue = n2, Lh(Eh.bind(null, r2, n2, e4), [e4]), r2.flags |= Xr, Mh(Vf | Uf, Ch.bind(null, r2, n2, i2, t2), void 0, null), i2;
    }, Sh = function(e4, t2) {
      var n2 = R, r2 = mh(), o2 = t2(), i2 = (Kf || (i2 = t2(), ol(o2, i2)) || (te("The result of getSnapshot should be cached to avoid an infinite loop"), Kf = true), r2.memoizedState), i2 = !ol(i2, o2), r2 = (i2 && (r2.memoizedState = o2, Rg()), r2.queue);
      if (jh(Eh.bind(null, n2, r2, e4), [e4]), r2.getSnapshot !== t2 || i2 || null !== Qf && Qf.memoizedState.tag & Vf) {
        n2.flags |= Xr, Mh(Vf | Uf, Ch.bind(null, n2, r2, o2, t2), void 0, null);
        e4 = Z0;
        if (null === e4)
          throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");
        Gi(0, Xf) || kh(n2, t2, o2);
      }
      return o2;
    }, kh = function(e4, t2, n2) {
      e4.flags |= eo;
      e4 = { getSnapshot: t2, value: n2 }, t2 = R.updateQueue;
      null === t2 ? (t2 = gh(), (R.updateQueue = t2).stores = [e4]) : null === (n2 = t2.stores) ? t2.stores = [e4] : n2.push(e4);
    }, Ch = function(e4, t2, n2, r2) {
      t2.value = n2, t2.getSnapshot = r2, Th(t2) && _h(e4);
    }, Eh = function(e4, t2, n2) {
      return n2(function() {
        Th(t2) && _h(e4);
      });
    }, Th = function(e4) {
      var t2 = e4.getSnapshot, e4 = e4.value;
      try {
        var n2 = t2();
        return !ol(e4, n2);
      } catch (e5) {
        return 1;
      }
    }, _h = function(e4) {
      var t2 = Ep(e4, S);
      null !== t2 && Pv(t2, e4, S, T);
    }, Rh = function(e4) {
      var t2 = hh(), e4 = ("function" == typeof e4 && (e4 = e4()), t2.memoizedState = t2.baseState = e4, { pending: null, interleaved: null, lanes: ae, dispatch: null, lastRenderedReducer: vh, lastRenderedState: e4 }), e4 = (t2.queue = e4).dispatch = (function(e5, t3, n2) {
        "function" == typeof arguments[3] && te("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");
        var r2, o2 = Dv(e5), i2 = { lane: o2, action: n2, hasEagerState: false, eagerState: null, next: null };
        if (sm(e5))
          lm(t3, i2);
        else {
          var a2 = e5.alternate;
          if (e5.lanes === ae && (null === a2 || a2.lanes === ae)) {
            a2 = t3.lastRenderedReducer;
            if (null !== a2) {
              r2 = c.current, c.current = hm;
              try {
                var s2 = t3.lastRenderedState, l2 = a2(s2, n2);
                if (i2.hasEagerState = true, i2.eagerState = l2, ol(l2, s2))
                  return void function(e6, t4) {
                    var n3 = e6.interleaved;
                    null === n3 ? (t4.next = t4, kp(e6)) : (t4.next = n3.next, n3.next = t4), e6.interleaved = t4;
                  }(t3, i2);
              } catch (e6) {
              } finally {
                c.current = r2;
              }
            }
          }
          a2 = Cp(e5, t3, i2, o2);
          null !== a2 && (l2 = Mv(), Pv(a2, e5, o2, l2), cm(a2, t3, o2));
        }
        um(e5, o2);
      }).bind(null, R, e4);
      return [t2.memoizedState, e4];
    }, Oh = function() {
      return bh(vh);
    }, Ih = function() {
      return wh(vh);
    }, Mh = function(e4, t2, n2, r2) {
      e4 = { tag: e4, create: t2, destroy: n2, deps: r2, next: null }, t2 = R.updateQueue;
      return null === t2 ? (t2 = gh(), (R.updateQueue = t2).lastEffect = e4.next = e4) : null === (n2 = t2.lastEffect) ? t2.lastEffect = e4.next = e4 : (r2 = n2.next, (n2.next = e4).next = r2, t2.lastEffect = e4), e4;
    }, Dh = function(e4) {
      e4 = { current: e4 };
      return hh().memoizedState = e4;
    }, Nh = function() {
      return mh().memoizedState;
    }, Ph = function(e4, t2, n2, r2) {
      var o2 = hh(), r2 = void 0 === r2 ? null : r2;
      R.flags |= e4, o2.memoizedState = Mh(Vf | t2, n2, void 0, r2);
    }, zh = function(e4, t2, n2, r2) {
      var o2 = mh(), r2 = void 0 === r2 ? null : r2, i2 = void 0;
      if (null !== Jf) {
        var a2 = Jf.memoizedState, i2 = a2.destroy;
        if (null !== r2) {
          if (ch(r2, a2.deps))
            return void (o2.memoizedState = Mh(t2, n2, i2, r2));
        }
      }
      R.flags |= e4, o2.memoizedState = Mh(Vf | t2, n2, i2, r2);
    }, Lh = function(e4, t2) {
      return (R.mode & ti) !== E ? Ph(po | Xr | co, Uf, e4, t2) : Ph(Xr | co, Uf, e4, t2);
    }, jh = function(e4, t2) {
      return zh(Xr, Uf, e4, t2);
    }, Ah = function(e4, t2) {
      return Ph(oe, Hf, e4, t2);
    }, Fh = function(e4, t2) {
      return zh(oe, Hf, e4, t2);
    }, $h = function(e4, t2) {
      var n2 = oe;
      return n2 |= lo, (R.mode & ti) !== E && (n2 |= uo), Ph(n2, Wf, e4, t2);
    }, Bh = function(e4, t2) {
      return zh(oe, Wf, e4, t2);
    }, Vh = function(e4, t2) {
      var n2, r2, o2;
      return "function" == typeof t2 ? (n2 = t2, o2 = e4(), n2(o2), function() {
        n2(null);
      }) : null != t2 ? ((r2 = t2).hasOwnProperty("current") || te("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.", "an object with keys {" + Object.keys(r2).join(", ") + "}"), o2 = e4(), r2.current = o2, function() {
        r2.current = null;
      }) : void 0;
    }, Hh = function(e4, t2, n2) {
      "function" != typeof t2 && te("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.", null !== t2 ? typeof t2 : "null");
      var n2 = null != n2 ? n2.concat([e4]) : null, r2 = oe;
      return r2 |= lo, (R.mode & ti) !== E && (r2 |= uo), Ph(r2, Wf, Vh.bind(null, t2, e4), n2);
    }, Wh = function(e4, t2, n2) {
      "function" != typeof t2 && te("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.", null !== t2 ? typeof t2 : "null");
      n2 = null != n2 ? n2.concat([e4]) : null;
      return zh(oe, Wf, Vh.bind(null, t2, e4), n2);
    }, Uh = function(e4, t2) {
    }, Yh = function(e4, t2) {
      return hh().memoizedState = [e4, void 0 === t2 ? null : t2], e4;
    }, Kh = function(e4, t2) {
      var n2 = mh(), t2 = void 0 === t2 ? null : t2, r2 = n2.memoizedState;
      if (null !== r2 && (null !== t2 && ch(t2, r2[1])))
        return r2[0];
      return n2.memoizedState = [e4, t2], e4;
    }, Gh = function(e4, t2) {
      var n2 = hh(), t2 = void 0 === t2 ? null : t2, e4 = e4();
      return n2.memoizedState = [e4, t2], e4;
    }, Zh = function(e4, t2) {
      var n2 = mh(), t2 = void 0 === t2 ? null : t2, r2 = n2.memoizedState;
      if (null !== r2 && (null !== t2 && ch(t2, r2[1])))
        return r2[0];
      r2 = e4();
      return n2.memoizedState = [r2, t2], r2;
    }, Xh = function(e4) {
      return hh().memoizedState = e4;
    }, Jh = function(e4) {
      return em(mh(), Jf.memoizedState, e4);
    }, Qh = function(e4) {
      var t2 = mh();
      return null === Jf ? t2.memoizedState = e4 : em(t2, Jf.memoizedState, e4);
    }, em = function(e4, t2, n2) {
      var r2;
      return !((Xf & (S | li | ui)) === ae) ? (ol(n2, t2) || (r2 = Xi(), R.lanes = R.lanes | r2, Zv(r2), e4.baseState = true), t2) : (e4.baseState && (e4.baseState = false, Rg()), e4.memoizedState = n2);
    }, tm = function() {
      var e4 = Rh(false), t2 = e4[0], e4 = e4[1], e4 = (function(e5, t3, n2) {
        var r2 = ba, o2 = (xa((i2 = ga, 0 !== (o2 = r2) && o2 < i2 ? o2 : i2)), e5(true), Gf.transition), i2 = (Gf.transition = {}, Gf.transition);
        Gf.transition._updatedFibers = /* @__PURE__ */ new Set();
        try {
          e5(false), t3();
        } finally {
          xa(r2), null === (Gf.transition = o2) && i2._updatedFibers && (10 < i2._updatedFibers.size && d("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."), i2._updatedFibers.clear());
        }
      }).bind(null, e4);
      return [t2, hh().memoizedState = e4];
    }, nm = function() {
      return [Oh()[0], mh().memoizedState];
    }, rm2 = function() {
      return [Ih()[0], mh().memoizedState];
    }, im = function() {
      var e4, t2, n2 = hh(), r2 = Z0.identifierPrefix;
      return se ? (e4 = ":" + r2 + "R" + md(), 0 < (t2 = nh++) && (e4 += "H" + t2.toString(32)), e4 += ":") : e4 = ":" + r2 + "r" + (rh++).toString(32) + ":", n2.memoizedState = e4;
    }, am = function() {
      return mh().memoizedState;
    }, sm = function(e4) {
      var t2 = e4.alternate;
      return e4 === R || null !== t2 && t2 === R;
    }, lm = function(e4, t2) {
      th = eh = true;
      var n2 = e4.pending;
      null === n2 ? t2.next = t2 : (t2.next = n2.next, n2.next = t2), e4.pending = t2;
    }, cm = function(e4, t2, n2) {
      var r2;
      Zi(n2) && (r2 = t2.lanes, r2 = (r2 &= e4.pendingLanes) | n2, sa(e4, t2.lanes = r2));
    }, um = function(e4, t2) {
      Qo(e4, t2);
    }, dm = function() {
      te("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");
    }, a = function() {
      te("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks");
    }, _m = function() {
      xm = wm();
    }, Rm = function(e4) {
      km = wm(), e4.actualStartTime < 0 && (e4.actualStartTime = wm());
    }, Om = function() {
      km = -1;
    }, Im = function(e4, t2) {
      var n2;
      0 <= km && (n2 = wm() - km, e4.actualDuration += n2, t2 && (e4.selfBaseDuration = n2), km = -1);
    }, Mm = function(e4) {
      if (0 <= Sm)
        for (var t2 = wm() - Sm, n2 = (Sm = -1, e4.return); null !== n2; ) {
          switch (n2.tag) {
            case K:
              return void (n2.stateNode.effectDuration += t2);
            case fe:
              return void (n2.stateNode.effectDuration += t2);
          }
          n2 = n2.return;
        }
    }, Dm = function(e4) {
      if (0 <= Cm)
        for (var t2 = wm() - Cm, n2 = (Cm = -1, e4.return); null !== n2; ) {
          switch (n2.tag) {
            case K:
              var r2 = n2.stateNode;
              return void (null !== r2 && (r2.passiveEffectDuration += t2));
            case fe:
              r2 = n2.stateNode;
              return void (null !== r2 && (r2.passiveEffectDuration += t2));
          }
          n2 = n2.return;
        }
    }, Nm = function() {
      Sm = wm();
    }, Pm = function() {
      Cm = wm();
    }, zm = function(e4) {
      for (var t2 = e4.child; t2; )
        e4.actualDuration += t2.actualDuration, t2 = t2.sibling;
    }, Lm = function(e4, t2) {
      return { value: e4, source: t2, stack: yt(t2), digest: null };
    }, jm = function(e4, t2, n2) {
      return { value: e4, source: null, stack: null != n2 ? n2 : null, digest: null != t2 ? t2 : null };
    }, Am = function(e4, t2) {
      try {
        var n2 = t2.value, r2 = t2.source, o2 = t2.stack, i2 = null !== o2 ? o2 : "";
        if (null != n2 && n2._suppressLogging) {
          if (e4.tag === Y)
            return;
          console.error(n2);
        }
        var a2 = r2 ? C(r2) : null, s2 = (a2 ? "The above error occurred in the <" + a2 + "> component:" : "The above error occurred in one of your React components:") + "\n" + i2 + "\n\n" + (e4.tag === K ? "Consider adding an error boundary to your tree to customize error handling behavior.\nVisit https://reactjs.org/link/error-boundaries to learn more about error boundaries." : "React will try to recreate this component tree from scratch using the error boundary you provided, " + (C(e4) || "Anonymous") + ".");
        console.error(s2);
      } catch (e5) {
        setTimeout(function() {
          throw e5;
        });
      }
    }, $m = function(e4, t2, n2) {
      var n2 = Pp(T, n2), r2 = (n2.tag = Ip, n2.payload = { element: null }, t2.value);
      return n2.callback = function() {
        oy(r2), Am(e4, t2);
      }, n2;
    }, Bm = function(n2, r2, e4) {
      var t2, e4 = Pp(T, e4), o2 = (e4.tag = Ip, n2.type.getDerivedStateFromError), i2 = ("function" == typeof o2 && (t2 = r2.value, e4.payload = function() {
        return o2(t2);
      }, e4.callback = function() {
        Ry(n2), Am(n2, r2);
      }), n2.stateNode);
      return null !== i2 && "function" == typeof i2.componentDidCatch && (e4.callback = function() {
        Ry(n2), Am(n2, r2), "function" != typeof o2 && (e5 = this, null === mv ? mv = /* @__PURE__ */ new Set([e5]) : mv.add(e5));
        var e5 = r2.value, t3 = r2.stack;
        this.componentDidCatch(e5, { componentStack: null !== t3 ? t3 : "" }), "function" == typeof o2 || na(n2.lanes, S) || te("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.", C(n2) || "Unknown");
      }), e4;
    }, Vm = function(e4, t2, n2) {
      var r2, o2 = e4.pingCache;
      null === o2 ? (o2 = e4.pingCache = new Fm(), r2 = /* @__PURE__ */ new Set(), o2.set(t2, r2)) : void 0 === (r2 = o2.get(t2)) && (r2 = /* @__PURE__ */ new Set(), o2.set(t2, r2)), r2.has(n2) || (r2.add(n2), o2 = (function(e5, t3, n3) {
        var r3 = e5.pingCache;
        null !== r3 && r3.delete(t3);
        r3 = Mv();
        aa(e5, n3), function(e6) {
          e6.tag !== Ju && N0() && null === A0.current && te("A suspended resource finished loading inside a test, but the event was not wrapped in act(...).\n\nWhen testing, code that resolves suspended data should be wrapped into act(...):\n\nact(() => {\n  /* finish loading suspended data */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act");
        }(e5), Z0 === e5 && ra(X0, n3) && (ev === Y0 || ev === q0 && Ki(X0) && Io() - sv < lv ? qv(e5, ae) : ov |= n3);
        zv(e5, r3);
      }).bind(null, e4, t2, n2), Vo && hy(e4, n2), t2.then(o2, o2));
    }, Hm = function(e4) {
      var t2, n2, r2 = e4;
      do {
        if (r2.tag === X && (n2 = void 0, null !== (n2 = (t2 = r2).memoizedState) ? null !== n2.dehydrated : (t2.memoizedProps, 1)))
          return r2;
      } while (null !== (r2 = r2.return));
      return null;
    }, Wm = function(e4, t2, n2, r2, o2) {
      (e4.mode & b) === E ? e4 === t2 ? e4.flags |= oo : (e4.flags |= ie2, n2.flags |= io, n2.flags &= ~(to | ro), n2.tag === Y && (null === n2.alternate ? n2.tag = ge : ((t2 = Pp(T, S)).tag = Op, zp(n2, t2, S))), n2.lanes = n2.lanes | S) : (e4.flags |= oo, e4.lanes = o2);
    }, Um = function(e4, t2, n2, r2, o2) {
      if (n2.flags |= ro, Vo && hy(e4, o2), null !== r2 && "object" == typeof r2 && "function" == typeof r2.then) {
        var i2 = r2, a2 = (a2 = (l2 = n2).tag, (l2.mode & b) !== E || a2 !== q && a2 !== Z && a2 !== J || ((a2 = l2.alternate) ? (l2.updateQueue = a2.updateQueue, l2.memoizedState = a2.memoizedState, l2.lanes = a2.lanes) : (l2.updateQueue = null, l2.memoizedState = null)), se && n2.mode & b && Td(), Hm(t2));
        if (null !== a2)
          return a2.flags &= ~Kr, Wm(a2, t2, n2, 0, o2), a2.mode & b && Vm(e4, i2, o2), l2 = i2, void (null === (s2 = (a2 = a2).updateQueue) ? ((c2 = /* @__PURE__ */ new Set()).add(l2), a2.updateQueue = c2) : s2.add(l2));
        if ((o2 & S) === ae)
          return Vm(e4, i2, o2), void Xv();
        r2 = new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.");
      } else if (se && n2.mode & b) {
        Td();
        a2 = Hm(t2);
        if (null !== a2)
          return (a2.flags & oo) === ee && (a2.flags |= Kr), Wm(a2, t2, n2, 0, o2), void qd(Lm(r2, n2));
      }
      var s2, l2, a2, c2 = r2 = Lm(r2, n2), u2 = (ev !== Y0 && (ev = U0), null === iv ? iv = [c2] : iv.push(c2), t2);
      do {
        switch (u2.tag) {
          case K:
            var d2 = r2, p2 = (u2.flags |= oo, Qi(o2)), d2 = (u2.lanes = u2.lanes | p2, $m(u2, d2, p2));
            return void jp(u2, d2);
          case Y:
            var p2 = r2, d2 = u2.type, f2 = u2.stateNode;
            if ((u2.flags & ie2) !== ee || "function" != typeof d2.getDerivedStateFromError && (null === f2 || "function" != typeof f2.componentDidCatch || ry(f2)))
              break;
            return u2.flags |= oo, f2 = Qi(o2), u2.lanes = u2.lanes | f2, void jp(u2, Bm(u2, p2, f2));
        }
      } while (null !== (u2 = u2.return));
    }, Gm = function(e4, t2, n2, r2) {
      t2.child = null === e4 ? Sf(t2, null, n2, r2) : xf(t2, e4.child, n2, r2);
    }, Zm = function(e4, t2, n2, r2, o2) {
      t2.type !== t2.elementType && (s2 = n2.propTypes) && Ru(s2, r2, "prop", Q(n2));
      var i2, a2, s2 = n2.render, n2 = t2.ref;
      if (wp(t2, o2), Yo(t2), Ym.current = t2, Rt(true), i2 = uh(e4, t2, s2, r2, n2, o2), a2 = dh(), t2.mode & ei) {
        Ho(true);
        try {
          i2 = uh(e4, t2, s2, r2, n2, o2), a2 = dh();
        } finally {
          Ho(false);
        }
      }
      return Rt(false), Ko(), null === e4 || Km ? (se && a2 && yd(t2), t2.flags |= Wr, Gm(e4, t2, i2, o2), t2.child) : (ph(e4, t2, o2), Ig(e4, t2, o2));
    }, Xm = function(e4, t2, n2, r2, o2) {
      if (null === e4)
        return i2 = n2.type, "function" != typeof (a2 = i2) || jy(a2) || void 0 !== a2.defaultProps || null !== n2.compare || void 0 !== n2.defaultProps ? ((a2 = i2.propTypes) && Ru(a2, r2, "prop", Q(i2)), (a2 = Fy(n2.type, null, r2, t2, t2.mode, o2)).ref = t2.ref, (a2.return = t2).child = a2) : (a2 = Cy(a2 = i2), t2.tag = J, t2.type = a2, sg(t2, i2), Jm(e4, t2, a2, r2, o2));
      var i2 = n2.type, a2 = i2.propTypes, s2 = (a2 && Ru(a2, r2, "prop", Q(i2)), e4.child);
      if (!Mg(e4, o2)) {
        var l2 = s2.memoizedProps, n2 = n2.compare;
        if ((n2 = null !== n2 ? n2 : il)(l2, r2) && e4.ref === t2.ref)
          return Ig(e4, t2, o2);
      }
      t2.flags |= Wr;
      n2 = Ay(s2, r2);
      return n2.ref = t2.ref, (n2.return = t2).child = n2;
    }, Jm = function(e4, t2, n2, r2, o2) {
      if (t2.type !== t2.elementType) {
        var i2 = t2.elementType;
        if (i2.$$typeof === Ze) {
          var a2 = i2, s2 = a2._payload, a2 = a2._init;
          try {
            i2 = a2(s2);
          } catch (e5) {
            i2 = null;
          }
          a2 = i2 && i2.propTypes;
          a2 && Ru(a2, r2, "prop", Q(i2));
        }
      }
      if (null !== e4) {
        s2 = e4.memoizedProps;
        if (il(s2, r2) && e4.ref === t2.ref && t2.type === e4.type) {
          if (Km = false, t2.pendingProps = r2 = s2, !Mg(e4, o2))
            return t2.lanes = e4.lanes, Ig(e4, t2, o2);
          (e4.flags & io) !== ee && (Km = true);
        }
      }
      return tg(e4, t2, n2, r2, o2);
    }, Qm = function(e4, t2, n2) {
      var r2, o2 = t2.pendingProps, i2 = o2.children, a2 = null !== e4 ? e4.memoizedState : null;
      if ("hidden" === o2.mode || m)
        if ((t2.mode & b) === E)
          t2.memoizedState = { baseLanes: ae, cachePool: null, transitions: null }, Wv(t2, n2);
        else {
          if (!na(n2, $i))
            return o2 = null !== a2 ? a2.baseLanes | n2 : n2, t2.lanes = t2.childLanes = $i, t2.memoizedState = { baseLanes: o2, cachePool: null, transitions: null }, t2.updateQueue = null, Wv(t2, o2), null;
          t2.memoizedState = { baseLanes: ae, cachePool: null, transitions: null }, Wv(t2, null !== a2 ? a2.baseLanes : n2);
        }
      else
        null !== a2 ? (r2 = a2.baseLanes | n2, t2.memoizedState = null) : r2 = n2, Wv(t2, r2);
      return Gm(e4, t2, i2, n2), t2.child;
    }, eg = function(e4, t2) {
      var n2 = t2.ref;
      (null === e4 && null !== n2 || null !== e4 && e4.ref !== n2) && (t2.flags |= Gr, t2.flags |= so);
    }, tg = function(e4, t2, n2, r2, o2) {
      t2.type !== t2.elementType && (s2 = n2.propTypes) && Ru(s2, r2, "prop", Q(n2));
      var i2, a2, s2 = Vu(t2, $u(0, n2, true));
      if (wp(t2, o2), Yo(t2), Ym.current = t2, Rt(true), i2 = uh(e4, t2, n2, r2, s2, o2), a2 = dh(), t2.mode & ei) {
        Ho(true);
        try {
          i2 = uh(e4, t2, n2, r2, s2, o2), a2 = dh();
        } finally {
          Ho(false);
        }
      }
      return Rt(false), Ko(), null === e4 || Km ? (se && a2 && yd(t2), t2.flags |= Wr, Gm(e4, t2, i2, o2), t2.child) : (ph(e4, t2, o2), Ig(e4, t2, o2));
    }, ng = function(e4, t2, n2, r2, o2) {
      switch (i1(t2)) {
        case false:
          var i2 = t2.stateNode, a2 = new t2.type(t2.memoizedProps, i2.context).state;
          i2.updater.enqueueSetState(i2, a2, null);
          break;
        case true:
          t2.flags |= ie2, t2.flags |= oo;
          i2 = new Error("Simulated error coming from DevTools"), a2 = Qi(o2), i2 = (t2.lanes = t2.lanes | a2, Bm(t2, Lm(i2, t2), a2));
          jp(t2, i2);
      }
      var s2;
      t2.type !== t2.elementType && (u2 = n2.propTypes) && Ru(u2, r2, "prop", Q(n2)), Wu(n2) ? (s2 = true, Gu(t2)) : s2 = false, wp(t2, o2);
      var l2, c2, u2, d2, p2, f2, h2, m2, g2, v2, y2, b2, w2 = null === t2.stateNode ? (Og(e4, t2), lf(t2, n2, r2), uf(t2, n2, r2, o2), true) : null === e4 ? (u2 = n2, d2 = r2, p2 = o2, f2 = (c2 = t2).stateNode, h2 = c2.memoizedProps, f2.props = h2, m2 = f2.context, g2 = u2.contextType, v2 = Lu, v2 = "object" == typeof g2 && null !== g2 ? xp(g2) : Vu(c2, $u(0, u2, true)), (y2 = "function" == typeof (g2 = u2.getDerivedStateFromProps) || "function" == typeof f2.getSnapshotBeforeUpdate) || "function" != typeof f2.UNSAFE_componentWillReceiveProps && "function" != typeof f2.componentWillReceiveProps || h2 === d2 && m2 === v2 || cf(c2, f2, d2, v2), Fp(), m2 = c2.memoizedState, b2 = f2.state = m2, Ap(c2, d2, f2, p2), b2 = c2.memoizedState, h2 !== d2 || m2 !== b2 || Hu() || Mp ? ("function" == typeof g2 && (nf(c2, u2, g2, d2), b2 = c2.memoizedState), (p2 = Mp || af(c2, u2, h2, d2, m2, b2, v2)) ? (y2 || "function" != typeof f2.UNSAFE_componentWillMount && "function" != typeof f2.componentWillMount || ("function" == typeof f2.componentWillMount && f2.componentWillMount(), "function" == typeof f2.UNSAFE_componentWillMount && f2.UNSAFE_componentWillMount()), "function" == typeof f2.componentDidMount && (g2 = oe, g2 |= lo, (c2.mode & ti) !== E && (g2 |= uo), c2.flags |= g2)) : ("function" == typeof f2.componentDidMount && (u2 = oe, u2 |= lo, (c2.mode & ti) !== E && (u2 |= uo), c2.flags |= u2), c2.memoizedProps = d2, c2.memoizedState = b2), f2.props = d2, f2.state = b2, f2.context = v2, p2) : ("function" == typeof f2.componentDidMount && (p2 = oe, p2 |= lo, (c2.mode & ti) !== E && (p2 |= uo), c2.flags |= p2), false)) : (h2 = e4, m2 = n2, y2 = r2, g2 = o2, b2 = (d2 = t2).stateNode, Np(h2, d2), v2 = d2.memoizedProps, f2 = d2.type === d2.elementType ? v2 : ap(d2.type, v2), b2.props = f2, c2 = d2.pendingProps, p2 = b2.context, w2 = m2.contextType, l2 = Lu, l2 = "object" == typeof w2 && null !== w2 ? xp(w2) : Vu(d2, $u(0, m2, true)), (x2 = "function" == typeof (w2 = m2.getDerivedStateFromProps) || "function" == typeof b2.getSnapshotBeforeUpdate) || "function" != typeof b2.UNSAFE_componentWillReceiveProps && "function" != typeof b2.componentWillReceiveProps || v2 === c2 && p2 === l2 || cf(d2, b2, y2, l2), Fp(), p2 = d2.memoizedState, S2 = b2.state = p2, Ap(d2, y2, b2, g2), S2 = d2.memoizedState, v2 !== c2 || p2 !== S2 || Hu() || Mp ? ("function" == typeof w2 && (nf(d2, m2, w2, y2), S2 = d2.memoizedState), (g2 = Mp || af(d2, m2, f2, y2, p2, S2, l2) || false) ? (x2 || "function" != typeof b2.UNSAFE_componentWillUpdate && "function" != typeof b2.componentWillUpdate || ("function" == typeof b2.componentWillUpdate && b2.componentWillUpdate(y2, S2, l2), "function" == typeof b2.UNSAFE_componentWillUpdate && b2.UNSAFE_componentWillUpdate(y2, S2, l2)), "function" == typeof b2.componentDidUpdate && (d2.flags |= oe), "function" == typeof b2.getSnapshotBeforeUpdate && (d2.flags |= Zr)) : ("function" != typeof b2.componentDidUpdate || v2 === h2.memoizedProps && p2 === h2.memoizedState || (d2.flags |= oe), "function" != typeof b2.getSnapshotBeforeUpdate || v2 === h2.memoizedProps && p2 === h2.memoizedState || (d2.flags |= Zr), d2.memoizedProps = y2, d2.memoizedState = S2), b2.props = y2, b2.state = S2, b2.context = l2, g2) : ("function" != typeof b2.componentDidUpdate || v2 === h2.memoizedProps && p2 === h2.memoizedState || (d2.flags |= oe), "function" != typeof b2.getSnapshotBeforeUpdate || v2 === h2.memoizedProps && p2 === h2.memoizedState || (d2.flags |= Zr), false)), x2 = rg(e4, t2, n2, w2, s2, o2), S2 = t2.stateNode;
      return w2 && S2.props !== r2 && (pg || te("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.", C(t2) || "a component"), pg = true), x2;
    }, rg = function(e4, t2, n2, r2, o2, i2) {
      eg(e4, t2);
      var a2 = (t2.flags & ie2) !== ee;
      if (!r2 && !a2)
        return o2 && Zu(t2, n2, false), Ig(e4, t2, i2);
      var s2, l2, c2, r2 = t2.stateNode;
      if (Ym.current = t2, a2 && "function" != typeof n2.getDerivedStateFromError)
        s2 = null, Om();
      else {
        if (Yo(t2), Rt(true), s2 = r2.render(), t2.mode & ei) {
          Ho(true);
          try {
            r2.render();
          } finally {
            Ho(false);
          }
        }
        Rt(false), Ko();
      }
      return t2.flags |= Wr, null !== e4 && a2 ? (a2 = s2, c2 = i2, (l2 = t2).child = xf(l2, e4.child, null, c2), l2.child = xf(l2, null, a2, c2)) : Gm(e4, t2, s2, i2), t2.memoizedState = r2.state, o2 && Zu(t2, n2, true), t2.child;
    }, og = function(e4) {
      var t2 = e4.stateNode;
      t2.pendingContext ? Yu(e4, t2.pendingContext, t2.pendingContext !== t2.context) : t2.context && Yu(e4, t2.context, false), If(e4, t2.containerInfo);
    }, ig = function(e4, t2, n2, r2, o2) {
      return Wd(), qd(o2), t2.flags |= Kr, Gm(e4, t2, n2, r2), t2.child;
    }, ag = function(e4, t2, n2, r2) {
      Og(e4, t2);
      var o2, e4 = t2.pendingProps, i2 = n2._payload, a2 = (0, n2._init)(i2), n2 = (t2.type = a2, t2.tag = function(e5) {
        {
          if ("function" == typeof e5)
            return jy(e5) ? Y : q;
          if (null != e5) {
            e5 = e5.$$typeof;
            if (e5 === qe)
              return Z;
            if (e5 === Ge)
              return he;
          }
        }
        return le;
      }(a2)), s2 = ap(a2, e4);
      switch (n2) {
        case q:
          return sg(t2, a2), t2.type = a2 = Cy(a2), tg(null, t2, a2, s2, r2);
        case Y:
          return t2.type = a2 = Ey(a2), ng(null, t2, a2, s2, r2);
        case Z:
          return t2.type = a2 = Ty(a2), Zm(null, t2, a2, s2, r2);
        case he:
          return t2.type !== t2.elementType && (o2 = a2.propTypes) && Ru(o2, s2, "prop", Q(a2)), Xm(null, t2, a2, ap(a2.type, s2), r2);
      }
      i2 = "";
      throw null !== a2 && "object" == typeof a2 && a2.$$typeof === Ze && (i2 = " Did you wrap a component in React.lazy() more than once?"), new Error("Element type is invalid. Received a promise that resolves to: " + a2 + ". Lazy element type must resolve to a class or function." + i2);
    }, sg = function(e4, t2) {
      var n2, r2;
      t2 && t2.childContextTypes && te("%s(...): childContextTypes cannot be defined on a function component.", t2.displayName || t2.name || "Component"), null !== e4.ref && (n2 = "", (r2 = Ct()) && (n2 += "\n\nCheck the render method of `" + r2 + "`."), r2 = r2 || "", (e4 = e4._debugSource) && (r2 = e4.fileName + ":" + e4.lineNumber), qm[r2] || (qm[r2] = true, te("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s", n2))), "function" == typeof t2.getDerivedStateFromProps && (e4 = Q(t2) || "Unknown", dg[e4] || (te("%s: Function components do not support getDerivedStateFromProps.", e4), dg[e4] = true)), "object" == typeof t2.contextType && null !== t2.contextType && (r2 = Q(t2) || "Unknown", ug[r2] || (te("%s: Function components do not support contextType.", r2), ug[r2] = true));
    }, gg = function(e4) {
      return { baseLanes: e4, cachePool: null, transitions: null };
    }, vg = function(e4, t2, n2) {
      var r2 = t2.pendingProps, o2 = (a1(t2) && (t2.flags |= ie2), jf.current), i2 = false, a2 = (t2.flags & ie2) !== ee;
      if (!a2 && (l2 = o2, null !== (s2 = e4) && null === s2.memoizedState || 0 == (l2 & Lf)) ? null !== e4 && null === e4.memoizedState || (o2 |= zf) : (i2 = true, t2.flags &= ~ie2), Af(t2, o2 &= 1), null === e4) {
        Ld(t2);
        var s2 = t2.memoizedState;
        if (null !== s2) {
          var l2 = s2.dehydrated;
          if (null !== l2)
            return o2 = l2, ((c2 = t2).mode & b) === E ? (te("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."), c2.lanes = S) : au(o2) ? c2.lanes = ci : c2.lanes = $i, null;
        }
        var o2 = r2.children, c2 = r2.fallback;
        return i2 ? (u2 = function(e5, t3, n3, r3) {
          var o3, i3 = e5.mode, a3 = e5.child, t3 = { mode: "hidden", children: t3 };
          a3 = ((i3 & b) === E && null !== a3 ? ((o3 = a3).childLanes = ae, o3.pendingProps = t3, e5.mode & x && (o3.actualDuration = 0, o3.actualStartTime = -1, o3.selfBaseDuration = 0, o3.treeBaseDuration = 0)) : o3 = bg(t3, i3), By(n3, i3, r3, null));
          return o3.return = e5, a3.return = e5, o3.sibling = a3, e5.child = o3, a3;
        }(t2, o2, c2, n2), t2.child.memoizedState = gg(n2), t2.memoizedState = mg, u2) : yg(t2, o2);
      }
      var u2 = e4.memoizedState;
      if (null !== u2) {
        var d2, p2, f2, h2, m2, g2, o2 = u2.dehydrated;
        if (null !== o2)
          return d2 = e4, p2 = t2, f2 = r2, o2 = o2, u2 = u2, h2 = n2, (a2 = a2) ? p2.flags & Kr ? (p2.flags &= ~Kr, a2 = jm(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering.")), xg(d2, p2, h2, a2)) : null !== p2.memoizedState ? (p2.child = d2.child, p2.flags |= ie2, null) : (a2 = f2.children, m2 = f2.fallback, a2 = function(e5, t3, n3, r3, o3) {
            var i3 = t3.mode, n3 = bg({ mode: "visible", children: n3 }, i3), r3 = By(r3, i3, o3, null);
            r3.flags |= Ur, n3.return = t3, r3.return = t3, n3.sibling = r3, t3.child = n3, (t3.mode & b) !== E && xf(t3, e5.child, null, o3);
            return r3;
          }(d2, p2, a2, m2, h2), p2.child.memoizedState = gg(h2), p2.memoizedState = mg, a2) : (se && te("We should not be hydrating here. This is a bug in React. Please file a bug."), (p2.mode & b) === E ? xg(d2, p2, h2, null) : au(o2) ? (m2 = function(e5) {
            var t3, n3, r3;
            return (e5 = e5.nextSibling && e5.nextSibling.dataset) && (t3 = e5.dgst, n3 = e5.msg, r3 = e5.stck), { message: n3, digest: t3, stack: r3 };
          }(o2), a2 = m2.digest, g2 = m2.message, m2 = m2.stack, g2 = jm(g2 ? new Error(g2) : new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."), a2, m2), xg(d2, p2, h2, g2)) : (a2 = na(h2, d2.childLanes), Km || a2 ? (null !== (m2 = Z0) && (g2 = function(e5, t3) {
            var n3;
            switch (Ji(t3)) {
              case li:
                n3 = si;
                break;
              case ui:
                n3 = ci;
                break;
              case fi:
              case hi:
              case mi:
              case gi:
              case vi2:
              case yi:
              case bi:
              case wi:
              case xi:
              case Si:
              case ki:
              case Ci:
              case Ei:
              case Ti:
              case _i:
              case Ri:
              case Ii:
              case Mi:
              case Di:
              case Ni:
              case Pi:
                n3 = di;
                break;
              case Fi:
                n3 = Ai;
                break;
              default:
                n3 = ai;
            }
            return (n3 & (e5.suspendedLanes | t3)) !== ai ? ai : n3;
          }(m2, h2)) !== ai && g2 !== u2.retryLane && (u2.retryLane = g2, a2 = T, Ep(d2, g2), Pv(m2, d2, g2, a2)), Xv(), m2 = jm(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition.")), xg(d2, p2, h2, m2)) : iu(o2) ? (p2.flags |= ie2, p2.child = d2.child, g2 = (function(e5) {
            var t3 = e5.memoizedState, n3 = ai;
            null !== t3 && (n3 = t3.retryLane);
            ay(e5, n3);
          }).bind(null, d2), o2._reactRetry = g2, null) : (Rd(p2, o2, u2.treeContext), a2 = f2.children, (h2 = yg(p2, a2)).flags |= Jr, h2)));
      }
      return i2 ? (m2 = r2.fallback, d2 = r2.children, g2 = function(e5, t3, n3, r3, o3) {
        var i3, a3 = t3.mode, e5 = e5.child, s3 = e5.sibling, n3 = { mode: "hidden", children: n3 };
        {
          var l3;
          (a3 & b) === E && t3.child !== e5 ? (l3 = t3.child, (l3 = l3).childLanes = ae, l3.pendingProps = n3, t3.mode & x && (l3.actualDuration = 0, l3.actualStartTime = -1, l3.selfBaseDuration = e5.selfBaseDuration, l3.treeBaseDuration = e5.treeBaseDuration), t3.deletions = null) : (l3 = wg(e5, n3)).subtreeFlags = e5.subtreeFlags & vo;
        }
        null !== s3 ? i3 = Ay(s3, r3) : (i3 = By(r3, a3, o3, null)).flags |= Ur;
        return i3.return = t3, l3.return = t3, l3.sibling = i3, t3.child = l3, i3;
      }(e4, t2, d2, m2, n2), o2 = t2.child, f2 = e4.child.memoizedState, o2.memoizedState = null === f2 ? gg(n2) : { baseLanes: f2.baseLanes | n2, cachePool: null, transitions: f2.transitions }, o2.childLanes = e4.childLanes & ~n2, t2.memoizedState = mg, g2) : (p2 = r2.children, a2 = function(e5, t3, n3, r3) {
        var e5 = e5.child, o3 = e5.sibling, e5 = wg(e5, { mode: "visible", children: n3 });
        (t3.mode & b) === E && (e5.lanes = r3);
        e5.return = t3, (e5.sibling = null) !== o3 && (null === (n3 = t3.deletions) ? (t3.deletions = [o3], t3.flags |= qr) : n3.push(o3));
        return t3.child = e5;
      }(e4, t2, p2, n2), t2.memoizedState = null, a2);
    }, yg = function(e4, t2) {
      t2 = bg({ mode: "visible", children: t2 }, e4.mode);
      return (t2.return = e4).child = t2;
    }, bg = function(e4, t2) {
      return Vy(e4, t2, ae, null);
    }, wg = function(e4, t2) {
      return Ay(e4, t2);
    }, xg = function(e4, t2, n2, r2) {
      null !== r2 && qd(r2), xf(t2, e4.child, null, n2);
      r2 = yg(t2, t2.pendingProps.children);
      return r2.flags |= Ur, t2.memoizedState = null, r2;
    }, Sg = function(e4, t2, n2) {
      e4.lanes = e4.lanes | t2;
      var r2 = e4.alternate;
      null !== r2 && (r2.lanes = r2.lanes | t2), yp(e4.return, t2, n2);
    }, kg = function(e4, t2) {
      var n2 = en(e4), e4 = !n2 && "function" == typeof et(e4);
      if (!n2 && !e4)
        return 1;
      te("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>", e4 = n2 ? "array" : "iterable", t2, e4);
    }, Cg = function(e4, t2, n2, r2, o2) {
      var i2 = e4.memoizedState;
      null === i2 ? e4.memoizedState = { isBackwards: t2, rendering: null, renderingStartTime: 0, last: r2, tail: n2, tailMode: o2 } : (i2.isBackwards = t2, i2.rendering = null, i2.renderingStartTime = 0, i2.last = r2, i2.tail = n2, i2.tailMode = o2);
    }, Eg = function(e4, t2, n2) {
      var r2, o2 = t2.pendingProps, i2 = o2.revealOrder, a2 = o2.tail, o2 = o2.children, s2 = i2;
      if (void 0 !== s2 && "forwards" !== s2 && "backwards" !== s2 && "together" !== s2 && !fg[s2])
        if (fg[s2] = true, "string" == typeof s2)
          switch (s2.toLowerCase()) {
            case "together":
            case "forwards":
            case "backwards":
              te('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.', s2, s2.toLowerCase());
              break;
            case "forward":
            case "backward":
              te('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.', s2, s2.toLowerCase());
              break;
            default:
              te('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?', s2);
          }
        else
          te('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?', s2);
      l2 = i2, void 0 === (r2 = a2) || hg[r2] || ("collapsed" !== r2 && "hidden" !== r2 ? (hg[r2] = true, te('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?', r2)) : "forwards" !== l2 && "backwards" !== l2 && (hg[r2] = true, te('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?', r2))), function(e5, t3) {
        if (("forwards" === t3 || "backwards" === t3) && null != e5 && false !== e5)
          if (en(e5)) {
            for (var n3 = 0; n3 < e5.length; n3++)
              if (!kg(e5[n3], n3))
                return;
          } else {
            var r3 = et(e5);
            if ("function" == typeof r3) {
              var o3 = r3.call(e5);
              if (o3)
                for (var i3 = o3.next(), a3 = 0; !i3.done; i3 = o3.next()) {
                  if (!kg(i3.value, a3))
                    return;
                  a3++;
                }
            } else
              te('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?', t3);
          }
      }(o2, i2), Gm(e4, t2, o2, n2);
      var l2 = jf.current;
      if (0 != (l2 & Lf) ? (l2 = 1 & l2 | Lf, t2.flags |= ie2) : (null !== e4 && (e4.flags & ie2) !== ee && function(e5, t3, n3) {
        for (var r3 = t3; null !== r3; ) {
          if (r3.tag === X)
            null !== r3.memoizedState && Sg(r3, n3, e5);
          else if (r3.tag === ve)
            Sg(r3, n3, e5);
          else if (null !== r3.child) {
            r3 = (r3.child.return = r3).child;
            continue;
          }
          if (r3 === e5)
            return;
          for (; null === r3.sibling; ) {
            if (null === r3.return || r3.return === e5)
              return;
            r3 = r3.return;
          }
          r3.sibling.return = r3.return, r3 = r3.sibling;
        }
      }(t2, t2.child, n2), l2 &= 1), Af(t2, l2), (t2.mode & b) === E)
        t2.memoizedState = null;
      else
        switch (i2) {
          case "forwards":
            var c2, u2 = function(e5) {
              for (var t3 = e5, n3 = null; null !== t3; ) {
                var r3 = t3.alternate;
                null !== r3 && null === $f(r3) && (n3 = t3), t3 = t3.sibling;
              }
              return n3;
            }(t2.child);
            null === u2 ? (c2 = t2.child, t2.child = null) : (c2 = u2.sibling, u2.sibling = null), Cg(t2, false, c2, u2, a2);
            break;
          case "backwards":
            var d2 = null, p2 = t2.child;
            for (t2.child = null; null !== p2; ) {
              var f2 = p2.alternate;
              if (null !== f2 && null === $f(f2)) {
                t2.child = p2;
                break;
              }
              f2 = p2.sibling;
              p2.sibling = d2, d2 = p2, p2 = f2;
            }
            Cg(t2, true, d2, null, a2);
            break;
          case "together":
            Cg(t2, false, null, null, void 0);
            break;
          default:
            t2.memoizedState = null;
        }
      return t2.child;
    }, Rg = function() {
      Km = true;
    }, Og = function(e4, t2) {
      (t2.mode & b) === E && null !== e4 && (e4.alternate = null, t2.alternate = null, t2.flags |= Ur);
    }, Ig = function(e4, t2, n2) {
      if (null !== e4 && (t2.dependencies = e4.dependencies), Om(), Zv(t2.lanes), !na(n2, t2.childLanes))
        return null;
      var n2 = e4, r2 = t2;
      if (null !== n2 && r2.child !== n2.child)
        throw new Error("Resuming work not yet implemented.");
      if (null !== r2.child) {
        var o2 = r2.child, i2 = Ay(o2, o2.pendingProps);
        for ((r2.child = i2).return = r2; null !== o2.sibling; )
          o2 = o2.sibling, (i2 = i2.sibling = Ay(o2, o2.pendingProps)).return = r2;
        i2.sibling = null;
      }
      return t2.child;
    }, Mg = function(e4, t2) {
      return !!na(e4.lanes, t2);
    }, Dg = function(e4, t2, n2) {
      if (t2._debugNeedsRemount && null !== e4) {
        var L2 = e4, r2 = t2, o2 = Fy(t2.type, t2.key, t2.pendingProps, t2._debugOwner || null, t2.mode, t2.lanes), i2 = r2.return;
        if (null === i2)
          throw new Error("Cannot swap the root fiber.");
        if (L2.alternate = null, r2.alternate = null, o2.index = r2.index, o2.sibling = r2.sibling, o2.return = r2.return, o2.ref = r2.ref, r2 === i2.child)
          i2.child = o2;
        else {
          var a2 = i2.child;
          if (null === a2)
            throw new Error("Expected parent to have a child.");
          for (; a2.sibling !== r2; )
            if (null === (a2 = a2.sibling))
              throw new Error("Expected to find the previous sibling.");
          a2.sibling = o2;
        }
        var j2 = i2.deletions;
        return null === j2 ? (i2.deletions = [L2], i2.flags |= qr) : j2.push(L2), o2.flags |= Ur, o2;
      }
      var s2, A2, l2, c2, u2, d2, p2;
      if (null !== e4)
        if (e4.memoizedProps !== t2.pendingProps || Hu() || t2.type !== e4.type)
          Km = true;
        else {
          if (!Mg(e4, n2) && (t2.flags & ie2) === ee) {
            Km = false;
            var f2 = e4, h2 = t2, m2 = n2;
            switch (h2.tag) {
              case K:
                og(h2), h2.stateNode, Wd();
                break;
              case G:
                Nf(h2);
                break;
              case Y:
                Wu(h2.type) && Gu(h2);
                break;
              case ne:
                If(h2, h2.stateNode.containerInfo);
                break;
              case pe:
                var g2 = h2.memoizedProps.value;
                gp(h2, h2.type._context, g2);
                break;
              case fe:
                na(m2, h2.childLanes) && (h2.flags |= oe);
                g2 = h2.stateNode;
                g2.effectDuration = 0, g2.passiveEffectDuration = 0;
                break;
              case X:
                var g2 = h2.memoizedState;
                if (null !== g2)
                  return null !== g2.dehydrated ? (Af(h2, 1 & jf.current), h2.flags |= ie2, null) : na(m2, h2.child.childLanes) ? vg(f2, h2, m2) : (Af(h2, 1 & jf.current), null !== (g2 = Ig(f2, h2, m2)) ? g2.sibling : null);
                Af(h2, 1 & jf.current);
                break;
              case ve:
                var g2 = (f2.flags & ie2) !== ee, F2 = na(m2, h2.childLanes);
                if (g2) {
                  if (F2)
                    return Eg(f2, h2, m2);
                  h2.flags |= ie2;
                }
                g2 = h2.memoizedState;
                if (null !== g2 && (g2.rendering = null, g2.tail = null, g2.lastEffect = null), Af(h2, jf.current), F2)
                  break;
                return null;
              case be:
              case we:
                return h2.lanes = ae, Qm(f2, h2, m2);
            }
            return Ig(f2, h2, m2);
          }
          Km = (e4.flags & io) !== ee;
        }
      else
        Km = false, se && (i2 = t2, xd(), (i2.flags & ao) !== ee) && (j2 = t2.index, xd(), vd(t2, cd, j2));
      switch (t2.lanes = ae, t2.tag) {
        case le:
          var v2 = e4, y2 = t2, b2 = t2.type, w2 = n2;
          Og(v2, y2);
          var v2 = y2.pendingProps, $2 = Vu(y2, $u(0, b2, false));
          if (wp(y2, w2), Yo(y2), b2.prototype && "function" == typeof b2.prototype.render && (S2 = Q(b2) || "Unknown", lg[S2] || (te("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.", S2, S2), lg[S2] = true)), y2.mode & ei && Zd.recordLegacyContextWarning(y2, null), Rt(true), S2 = uh(null, Ym.current = y2, b2, v2, $2, w2), B2 = dh(), Rt(false), Ko(), y2.flags |= Wr, "object" == typeof S2 && null !== S2 && "function" == typeof S2.render && void 0 === S2.$$typeof && (x2 = Q(b2) || "Unknown", cg[x2] || (te("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.", x2, x2, x2), cg[x2] = true)), "object" == typeof S2 && null !== S2 && "function" == typeof S2.render && void 0 === S2.$$typeof)
            return x2 = Q(b2) || "Unknown", cg[x2] || (te("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.", x2, x2, x2), cg[x2] = true), y2.tag = Y, y2.memoizedState = null, y2.updateQueue = null, x2 = false, Wu(b2) ? (x2 = true, Gu(y2)) : x2 = false, y2.memoizedState = null !== S2.state && void 0 !== S2.state ? S2.state : null, Dp(y2), sf(y2, S2), uf(y2, b2, v2, w2), rg(null, y2, b2, true, x2, w2);
          if (y2.tag = q, y2.mode & ei) {
            Ho(true);
            try {
              S2 = uh(null, y2, b2, v2, $2, w2), B2 = dh();
            } finally {
              Ho(false);
            }
          }
          return se && B2 && yd(y2), Gm(null, y2, S2, w2), sg(y2, b2), y2.child;
        case me:
          return ag(e4, t2, t2.elementType, n2);
        case q:
          var x2 = t2.type, v2 = t2.pendingProps;
          return tg(e4, t2, x2, t2.elementType === x2 ? v2 : ap(x2, v2), n2);
        case Y:
          var $2 = t2.type, B2 = t2.pendingProps;
          return ng(e4, t2, $2, t2.elementType === $2 ? B2 : ap($2, B2), n2);
        case K:
          var S2 = e4, w2 = t2, b2 = n2;
          if (og(w2), null === S2)
            throw new Error("Should have a current fiber. This is a bug in React.");
          var y2 = w2.pendingProps, k2 = w2.memoizedState, V2 = k2.element, y2 = (Np(S2, w2), Ap(w2, y2, null, b2), w2.memoizedState), C2 = (w2.stateNode, y2.element);
          if (k2.isDehydrated) {
            k2 = { element: C2, isDehydrated: false, cache: y2.cache, pendingSuspenseBoundaries: y2.pendingSuspenseBoundaries, transitions: y2.transitions };
            if (w2.updateQueue.baseState = k2, w2.memoizedState = k2, w2.flags & Kr)
              return ig(S2, w2, C2, b2, Lm(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."), w2));
            if (C2 !== V2)
              return ig(S2, w2, C2, b2, Lm(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."), w2));
            _d(w2);
            for (var y2 = Sf(w2, null, C2, b2), H2 = w2.child = y2; H2; )
              H2.flags = H2.flags & ~Ur | Jr, H2 = H2.sibling;
          } else {
            if (Wd(), C2 === V2)
              return Ig(S2, w2, b2);
            Gm(S2, w2, C2, b2);
          }
          return w2.child;
        case G:
          return k2 = e4, V2 = n2, Nf(C2 = t2), null === k2 && Ld(C2), c2 = C2.type, u2 = C2.pendingProps, d2 = null !== k2 ? k2.memoizedProps : null, p2 = u2.children, Uc(c2, u2) ? p2 = null : null !== d2 && Uc(c2, d2) && (C2.flags |= Yr), eg(k2, C2), Gm(k2, C2, p2, V2), C2.child;
        case re:
          return u2 = t2, null === e4 && Ld(u2), null;
        case X:
          return vg(e4, t2, n2);
        case ne:
          return c2 = e4, d2 = n2, If(p2 = t2, p2.stateNode.containerInfo), E2 = p2.pendingProps, null === c2 ? p2.child = xf(p2, null, E2, d2) : Gm(c2, p2, E2, d2), p2.child;
        case Z:
          var E2 = t2.type, T2 = t2.pendingProps, T2 = t2.elementType === E2 ? T2 : ap(E2, T2);
          return Zm(e4, t2, E2, T2, n2);
        case ce:
          return Gm(e4, T2 = t2, T2.pendingProps, n2), T2.child;
        case ue:
          return Gm(e4, l2 = t2, l2.pendingProps.children, n2), l2.child;
        case fe:
          return l2 = e4, _2 = n2, (R2 = t2).flags |= oe, (W2 = R2.stateNode).effectDuration = 0, W2.passiveEffectDuration = 0, Gm(l2, R2, R2.pendingProps.children, _2), R2.child;
        case pe:
          var W2 = e4, _2 = t2, R2 = n2, O2 = _2.type._context, I2 = _2.pendingProps, M2 = _2.memoizedProps, U2 = I2.value, D2 = ("value" in I2 || Tg || (Tg = true, te("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?")), _2.type.propTypes);
          if (D2 && Ru(D2, I2, "prop", "Context.Provider"), gp(_2, O2, U2), null !== M2) {
            D2 = M2.value;
            if (ol(D2, U2)) {
              if (M2.children === I2.children && !Hu())
                return Ig(W2, _2, R2);
            } else
              bp(_2, O2, R2);
          }
          return Gm(W2, _2, I2.children, R2), _2.child;
        case de:
          return D2 = e4, U2 = n2, void 0 === (O2 = (M2 = t2).type)._context ? O2 === O2.Consumer || _g || (_g = true, te("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")) : O2 = O2._context, "function" != typeof (I2 = M2.pendingProps.children) && te("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."), wp(M2, U2), O2 = xp(O2), Yo(M2), Ym.current = M2, Rt(true), I2 = I2(O2), Rt(false), Ko(), M2.flags |= Wr, Gm(D2, M2, I2, U2), M2.child;
        case he:
          var N2 = t2.type, P2 = ap(N2, t2.pendingProps);
          return t2.type !== t2.elementType && (z2 = N2.propTypes) && Ru(z2, P2, "prop", Q(N2)), P2 = ap(N2.type, P2), Xm(e4, t2, N2, P2, n2);
        case J:
          return Jm(e4, t2, t2.type, t2.pendingProps, n2);
        case ge:
          var z2 = t2.type, N2 = t2.pendingProps, P2 = t2.elementType === z2 ? N2 : ap(z2, N2);
          return N2 = z2, z2 = P2, P2 = n2, Og(e4, s2 = t2), s2.tag = Y, Wu(N2) ? (A2 = true, Gu(s2)) : A2 = false, wp(s2, P2), lf(s2, N2, z2), uf(s2, N2, z2, P2), rg(null, s2, N2, true, A2, P2);
        case ve:
          return Eg(e4, t2, n2);
        case ye:
          break;
        case be:
          return Qm(e4, t2, n2);
      }
      throw new Error("Unknown unit of work tag (" + t2.tag + "). This error is likely caused by a bug in React. Please file an issue.");
    }, Ng = function(e4) {
      e4.flags |= oe;
    }, Pg = function(e4) {
      e4.flags |= Gr, e4.flags |= so;
    }, zg = function(e4, t2) {
      if (!se)
        switch (e4.tailMode) {
          case "hidden":
            for (var n2 = e4.tail, r2 = null; null !== n2; )
              null !== n2.alternate && (r2 = n2), n2 = n2.sibling;
            null === r2 ? e4.tail = null : r2.sibling = null;
            break;
          case "collapsed":
            for (var o2 = e4.tail, i2 = null; null !== o2; )
              null !== o2.alternate && (i2 = o2), o2 = o2.sibling;
            null === i2 ? t2 || null === e4.tail ? e4.tail = null : e4.tail.sibling = null : i2.sibling = null;
        }
    }, Lg = function(e4) {
      var t2 = null !== e4.alternate && e4.alternate.child === e4.child, n2 = ae, r2 = ee;
      if (t2)
        if ((e4.mode & x) !== E) {
          for (var o2 = e4.selfBaseDuration, i2 = e4.child; null !== i2; )
            n2 |= i2.lanes | i2.childLanes, r2 = (r2 |= i2.subtreeFlags & vo) | i2.flags & vo, o2 += i2.treeBaseDuration, i2 = i2.sibling;
          e4.treeBaseDuration = o2;
        } else
          for (var a2 = e4.child; null !== a2; )
            n2 |= a2.lanes | a2.childLanes, r2 = (r2 |= a2.subtreeFlags & vo) | a2.flags & vo, a2.return = e4, a2 = a2.sibling;
      else if ((e4.mode & x) !== E) {
        for (var s2 = e4.actualDuration, l2 = e4.selfBaseDuration, c2 = e4.child; null !== c2; )
          n2 |= c2.lanes | c2.childLanes, r2 = (r2 |= c2.subtreeFlags) | c2.flags, s2 += c2.actualDuration, l2 += c2.treeBaseDuration, c2 = c2.sibling;
        e4.actualDuration = s2, e4.treeBaseDuration = l2;
      } else
        for (var u2 = e4.child; null !== u2; )
          n2 |= u2.lanes | u2.childLanes, r2 = (r2 |= u2.subtreeFlags) | u2.flags, u2.return = e4, u2 = u2.sibling;
      e4.subtreeFlags |= r2, e4.childLanes = n2;
    }, jg = function(e4, t2, n2) {
      if (se && null !== kd && (t2.mode & b) !== E && (t2.flags & ie2) === ee)
        return Hd(t2), Wd(), t2.flags |= Kr | ro | oo, false;
      var r2 = Vd(t2);
      if (null === n2 || null === n2.dehydrated)
        return Ud(), true;
      if (null !== e4)
        return Wd(), (t2.flags & ie2) === ee && (t2.memoizedState = null), t2.flags |= oe, Lg(t2), (t2.mode & x) !== E && null !== n2 && null !== (e4 = t2.child) && (t2.treeBaseDuration -= e4.treeBaseDuration), false;
      if (r2)
        return Fd(t2), Lg(t2), (t2.mode & x) !== E && null !== n2 && null !== (e4 = t2.child) && (t2.treeBaseDuration -= e4.treeBaseDuration), false;
      throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");
    }, Ag = function(e4, t2, n2) {
      var r2 = t2.pendingProps;
      switch (wd(t2), t2.tag) {
        case le:
        case me:
        case J:
        case q:
        case Z:
        case ce:
        case ue:
        case fe:
        case de:
        case he:
          return Lg(t2), null;
        case Y:
          return Wu(t2.type) && Uu(t2), Lg(t2), null;
        case K:
          var o2 = t2.stateNode;
          return Mf(t2), qu(t2), Yf(), o2.pendingContext && (o2.context = o2.pendingContext, o2.pendingContext = null), null !== e4 && null !== e4.child || (Vd(t2) ? Ng(t2) : null === e4 || e4.memoizedState.isDehydrated && (t2.flags & Kr) === ee || (t2.flags |= Zr, Ud())), Lg(t2), null;
        case G:
          Pf(t2);
          var o2 = Of(), i2 = t2.type;
          if (null !== e4 && null != t2.stateNode)
            Bg(e4, t2, i2, r2), e4.ref !== t2.ref && Pg(t2);
          else {
            if (!r2) {
              if (null === t2.stateNode)
                throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");
              return Lg(t2), null;
            }
            var a2 = Df();
            Vd(t2) ? jd(t2, 0, a2) && Ng(t2) : (o2 = Wc(i2, r2, o2, a2, t2), $g(o2, t2), function(e5, t3, n3) {
              switch (yc(e5, t3, n3), t3) {
                case "button":
                case "input":
                case "select":
                case "textarea":
                  return n3.autoFocus;
                case "img":
                  return 1;
                default:
                  return;
              }
            }(t2.stateNode = o2, i2, r2) && Ng(t2)), null !== t2.ref && Pg(t2);
          }
          return Lg(t2), null;
        case re:
          a2 = r2;
          if (e4 && null != t2.stateNode) {
            o2 = e4.memoizedProps;
            Vg(0, t2, o2, a2);
          } else {
            if ("string" != typeof a2 && null === t2.stateNode)
              throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");
            i2 = Of(), o2 = Df();
            Vd(t2) ? Ad(t2) && Ng(t2) : t2.stateNode = qc(a2, i2, o2, t2);
          }
          return Lg(t2), null;
        case X:
          Ff(t2);
          a2 = t2.memoizedState;
          if (null === e4 || null !== e4.memoizedState && null !== e4.memoizedState.dehydrated) {
            if (!jg(e4, t2, a2))
              return t2.flags & oo ? t2 : null;
          }
          return (t2.flags & ie2) !== ee ? (t2.lanes = n2, (t2.mode & x) !== E && zm(t2), t2) : ((i2 = null !== a2) != (null !== e4 && null !== e4.memoizedState) && i2 && (t2.child.flags |= Qr, (t2.mode & b) !== E) && (null === e4 && (true !== t2.memoizedProps.unstable_avoidThisFallback || !v) || 0 != (jf.current & zf) ? ev === H0 && (ev = q0) : Xv()), null !== t2.updateQueue && (t2.flags |= oe), Lg(t2), (t2.mode & x) !== E && i2 && null !== (o2 = t2.child) && (t2.treeBaseDuration -= o2.treeBaseDuration), null);
        case ne:
          return Mf(t2), null === e4 && Hl(t2.stateNode.containerInfo), Lg(t2), null;
        case pe:
          return vp(t2.type._context, t2), Lg(t2), null;
        case ge:
          return Wu(t2.type) && Uu(t2), Lg(t2), null;
        case ve:
          Ff(t2);
          var s2 = t2.memoizedState;
          if (null === s2)
            ;
          else {
            var l2 = (t2.flags & ie2) !== ee, a2 = s2.rendering;
            if (null === a2)
              if (l2)
                zg(s2, false);
              else {
                if (!(ev === H0 && (null === e4 || (e4.flags & ie2) === ee)))
                  for (var c2 = t2.child; null !== c2; ) {
                    var u2 = $f(c2);
                    if (null !== u2)
                      return l2 = true, t2.flags |= ie2, zg(s2, false), null !== (u2 = u2.updateQueue) && (t2.updateQueue = u2, t2.flags |= oe), t2.subtreeFlags = ee, kf(t2, n2), Af(t2, 1 & jf.current | Lf), t2.child;
                    c2 = c2.sibling;
                  }
                null !== s2.tail && Io() > cv && (t2.flags |= ie2, zg(s2, !(l2 = true)), t2.lanes = zi);
              }
            else {
              if (!l2) {
                var i2 = $f(a2);
                if (null !== i2) {
                  t2.flags |= ie2;
                  l2 = true, o2 = i2.updateQueue;
                  if (null !== o2 && (t2.updateQueue = o2, t2.flags |= oe), zg(s2, true), null === s2.tail && "hidden" === s2.tailMode && !a2.alternate && !se)
                    return Lg(t2), null;
                } else
                  2 * Io() - s2.renderingStartTime > cv && n2 !== $i && (t2.flags |= ie2, zg(s2, !(l2 = true)), t2.lanes = zi);
              }
              s2.isBackwards ? (a2.sibling = t2.child, t2.child = a2) : (null !== (i2 = s2.last) ? i2.sibling = a2 : t2.child = a2, s2.last = a2);
            }
            if (null !== s2.tail)
              return o2 = s2.tail, s2.rendering = o2, s2.tail = o2.sibling, s2.renderingStartTime = Io(), o2.sibling = null, i2 = jf.current, l2 ? i2 = 1 & i2 | Lf : i2 &= 1, Af(t2, i2), o2;
          }
          return Lg(t2), null;
        case ye:
          break;
        case be:
        case we:
          Uv(t2);
          a2 = null !== t2.memoizedState;
          return null === e4 || null !== e4.memoizedState == a2 || m || (t2.flags |= Qr), a2 && (t2.mode & b) !== E ? na(J0, $i) && (Lg(t2), t2.subtreeFlags & (Ur | oe)) && (t2.flags |= Qr) : Lg(t2), null;
        case f:
        case h:
          return null;
      }
      throw new Error("Unknown unit of work tag (" + t2.tag + "). This error is likely caused by a bug in React. Please file an issue.");
    }, Fg = function(e4, t2) {
      switch (wd(t2), t2.tag) {
        case Y:
          var n2 = t2.type.childContextTypes;
          null != n2 && Uu(t2);
          break;
        case K:
          t2.stateNode, Mf(t2), qu(t2), Yf();
          break;
        case G:
          Pf(t2);
          break;
        case ne:
          Mf(t2);
          break;
        case X:
        case ve:
          Ff(t2);
          break;
        case pe:
          vp(t2.type._context, t2);
          break;
        case be:
        case we:
          Uv(t2);
      }
    }, Gg = function(e4, t2) {
      if (t2.props = e4.memoizedProps, t2.state = e4.memoizedState, e4.mode & x)
        try {
          Nm(), t2.componentWillUnmount();
        } finally {
          Mm(e4);
        }
      else
        t2.componentWillUnmount();
    }, Zg = function(t2, n2) {
      try {
        r0(Wf, t2);
      } catch (e4) {
        D(t2, n2, e4);
      }
    }, Xg = function(t2, n2, e4) {
      try {
        Gg(t2, e4);
      } catch (e5) {
        D(t2, n2, e5);
      }
    }, Jg = function(t2, n2) {
      try {
        s0(t2);
      } catch (e4) {
        D(t2, n2, e4);
      }
    }, Qg = function(t2, n2) {
      var e4, r2 = t2.ref;
      if (null !== r2)
        if ("function" == typeof r2) {
          try {
            if (P && z && t2.mode & x)
              try {
                Nm(), e4 = r2(null);
              } finally {
                Mm(t2);
              }
            else
              e4 = r2(null);
          } catch (e5) {
            D(t2, n2, e5);
          }
          "function" == typeof e4 && te("Unexpected return value from a callback ref in %s. A callback ref should not return a function.", C(t2));
        } else
          r2.current = null;
    }, e0 = function(t2, n2, e4) {
      try {
        e4();
      } catch (e5) {
        D(t2, n2, e5);
      }
    }, t0 = function(e4, t2) {
      for (Hc(e4.containerInfo), O = t2; null !== O; ) {
        var n2 = O, r2 = n2.child;
        (n2.subtreeFlags & fo) !== ee && null !== r2 ? (r2.return = n2, O = r2) : function() {
          for (; null !== O; ) {
            var t3 = O;
            _t(t3);
            try {
              !function(e6) {
                var t4 = e6.alternate;
                if ((e6.flags & Zr) !== ee) {
                  switch (_t(e6), e6.tag) {
                    case q:
                    case Z:
                    case J:
                      break;
                    case Y:
                      var n3, r3, o2;
                      null !== t4 && (r3 = t4.memoizedProps, o2 = t4.memoizedState, n3 = e6.stateNode, e6.type !== e6.elementType || pg || (n3.props !== e6.memoizedProps && te("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.", C(e6) || "instance"), n3.state !== e6.memoizedState && te("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.", C(e6) || "instance")), r3 = n3.getSnapshotBeforeUpdate(e6.elementType === e6.type ? r3 : ap(e6.type, r3), o2), o2 = Hg, void 0 !== r3 || o2.has(e6.type) || (o2.add(e6.type), te("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.", C(e6))), n3.__reactInternalSnapshotBeforeUpdate = r3);
                      break;
                    case K:
                      !function(e7) {
                        e7.nodeType === xn ? e7.textContent = "" : e7.nodeType === Cn && e7.documentElement && e7.removeChild(e7.documentElement);
                      }(e6.stateNode.containerInfo);
                      break;
                    case G:
                    case re:
                    case ne:
                    case ge:
                      break;
                    default:
                      throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.");
                  }
                  Tt();
                }
              }(t3);
            } catch (e6) {
              D(t3, t3.return, e6);
            }
            Tt();
            var e5 = t3.sibling;
            if (null !== e5)
              return e5.return = t3.return, O = e5;
            O = t3.return;
          }
        }();
      }
      0;
    }, n0 = function(e4, t2, n2) {
      var r2, o2 = t2.updateQueue, o2 = null !== o2 ? o2.lastEffect : null;
      if (null !== o2) {
        var i2, a2 = o2.next, s2 = a2;
        do {
          (s2.tag & e4) === e4 && (i2 = s2.destroy, (s2.destroy = void 0) !== i2) && ((e4 & Uf) !== Bf ? (r2 = t2, null !== w && "function" == typeof w.markComponentPassiveEffectUnmountStarted && w.markComponentPassiveEffectUnmountStarted(r2)) : (e4 & Wf) !== Bf && Go(t2), (e4 & Hf) !== Bf && wy(true), e0(t2, n2, i2), (e4 & Hf) !== Bf && wy(false), (e4 & Uf) !== Bf ? null !== w && "function" == typeof w.markComponentPassiveEffectUnmountStopped && w.markComponentPassiveEffectUnmountStopped() : (e4 & Wf) !== Bf && Zo()), s2 = s2.next;
        } while (s2 !== a2);
      }
    }, r0 = function(e4, t2) {
      var n2, r2 = t2.updateQueue, r2 = null !== r2 ? r2.lastEffect : null;
      if (null !== r2) {
        var o2, i2, a2 = r2.next, s2 = a2;
        do {
          (s2.tag & e4) === e4 && ((e4 & Uf) !== Bf ? (n2 = t2, null !== w && "function" == typeof w.markComponentPassiveEffectMountStarted && w.markComponentPassiveEffectMountStarted(n2)) : (e4 & Wf) !== Bf && (n2 = t2, null !== w) && "function" == typeof w.markComponentLayoutEffectMountStarted && w.markComponentLayoutEffectMountStarted(n2), o2 = s2.create, (e4 & Hf) !== Bf && wy(true), s2.destroy = o2(), (e4 & Hf) !== Bf && wy(false), (e4 & Uf) !== Bf ? null !== w && "function" == typeof w.markComponentPassiveEffectMountStopped && w.markComponentPassiveEffectMountStopped() : (e4 & Wf) !== Bf && null !== w && "function" == typeof w.markComponentLayoutEffectMountStopped && w.markComponentLayoutEffectMountStopped(), void 0 !== (o2 = s2.destroy)) && "function" != typeof o2 && (i2 = void 0, te("%s must not return anything besides a function, which is used for clean-up.%s", i2 = (s2.tag & Wf) !== ee ? "useLayoutEffect" : (s2.tag & Hf) !== ee ? "useInsertionEffect" : "useEffect", null === o2 ? " You returned null. If your effect does not require clean up, return undefined (or nothing)." : "function" == typeof o2.then ? "\n\nIt looks like you wrote " + i2 + "(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:\n\n" + i2 + "(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching" : " You returned: " + o2)), s2 = s2.next;
        } while (s2 !== a2);
      }
    }, o0 = function(e4, t2, n2) {
      if ((n2.flags & mo) !== ee)
        switch (n2.tag) {
          case q:
          case Z:
          case J:
            if (!Ug)
              if (n2.mode & x)
                try {
                  Nm(), r0(Wf | Vf, n2);
                } finally {
                  Mm(n2);
                }
              else
                r0(Wf | Vf, n2);
            break;
          case Y:
            var r2 = n2.stateNode;
            if (n2.flags & oe && !Ug)
              if (null === t2)
                if (n2.type !== n2.elementType || pg || (r2.props !== n2.memoizedProps && te("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.", C(n2) || "instance"), r2.state !== n2.memoizedState && te("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.", C(n2) || "instance")), n2.mode & x)
                  try {
                    Nm(), r2.componentDidMount();
                  } finally {
                    Mm(n2);
                  }
                else
                  r2.componentDidMount();
              else {
                var o2 = n2.elementType === n2.type ? t2.memoizedProps : ap(n2.type, t2.memoizedProps), i2 = t2.memoizedState;
                if (n2.type !== n2.elementType || pg || (r2.props !== n2.memoizedProps && te("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.", C(n2) || "instance"), r2.state !== n2.memoizedState && te("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.", C(n2) || "instance")), n2.mode & x)
                  try {
                    Nm(), r2.componentDidUpdate(o2, i2, r2.__reactInternalSnapshotBeforeUpdate);
                  } finally {
                    Mm(n2);
                  }
                else
                  r2.componentDidUpdate(o2, i2, r2.__reactInternalSnapshotBeforeUpdate);
              }
            o2 = n2.updateQueue;
            null !== o2 && (n2.type !== n2.elementType || pg || (r2.props !== n2.memoizedProps && te("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.", C(n2) || "instance"), r2.state !== n2.memoizedState && te("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.", C(n2) || "instance")), $p(0, o2, r2));
            break;
          case K:
            i2 = n2.updateQueue;
            if (null !== i2) {
              var a2 = null;
              if (null !== n2.child)
                switch (n2.child.tag) {
                  case G:
                  case Y:
                    a2 = n2.child.stateNode;
                }
              $p(0, i2, a2);
            }
            break;
          case G:
            o2 = n2.stateNode;
            null === t2 && n2.flags & oe && !function(e5, t3, n3) {
              switch (t3) {
                case "button":
                case "input":
                case "select":
                case "textarea":
                  return n3.autoFocus && e5.focus();
                case "img":
                  n3.src && (e5.src = n3.src);
              }
            }(o2, n2.type, n2.memoizedProps);
            break;
          case re:
          case ne:
            break;
          case fe:
            var r2 = n2.memoizedProps, i2 = r2.onCommit, o2 = r2.onRender, s2 = n2.stateNode.effectDuration, r2 = xm, l2 = Em ? "nested-update" : null === t2 ? "mount" : "update", c2 = ("function" == typeof o2 && o2(n2.memoizedProps.id, l2, n2.actualDuration, n2.treeBaseDuration, n2.actualStartTime, r2), "function" == typeof i2 && i2(n2.memoizedProps.id, l2, s2, r2), bv.push(n2), gv || (gv = true, vy(Po, function() {
              return ny(), null;
            })), n2.return);
            e:
              for (; null !== c2; ) {
                switch (c2.tag) {
                  case K:
                    c2.stateNode.effectDuration += s2;
                    break e;
                  case fe:
                    c2.stateNode.effectDuration += s2;
                    break e;
                }
                c2 = c2.return;
              }
            break;
          case X:
            if (null === (o2 = n2).memoizedState && null !== (o2 = o2.alternate) && null !== (o2 = o2.memoizedState) && null !== (o2 = o2.dehydrated)) {
              i2 = o2;
              Ba(i2);
            }
            break;
          case ve:
          case ge:
          case ye:
          case be:
          case we:
          case h:
            break;
          default:
            throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.");
        }
      Ug || n2.flags & Gr && s0(n2);
    }, i0 = function(e4) {
      switch (e4.tag) {
        case q:
        case Z:
        case J:
          if (e4.mode & x)
            try {
              Nm(), Zg(e4, e4.return);
            } finally {
              Mm(e4);
            }
          else
            Zg(e4, e4.return);
          break;
        case Y:
          var t2 = e4.stateNode;
          if ("function" == typeof t2.componentDidMount) {
            var n2 = e4, r2 = e4.return;
            try {
              t2.componentDidMount();
            } catch (e5) {
              D(n2, r2, e5);
            }
          }
          Jg(e4, e4.return);
          break;
        case G:
          Jg(e4, e4.return);
      }
    }, a0 = function(t2, e4) {
      for (var n2, r2, o2, i2 = null, a2 = t2; ; ) {
        if (a2.tag === G) {
          if (null === i2) {
            i2 = a2;
            try {
              var s2 = a2.stateNode;
              e4 ? "function" == typeof (o2 = (o2 = s2).style).setProperty ? o2.setProperty("display", "none", "important") : o2.display = "none" : (n2 = a2.stateNode, r2 = null != (r2 = (r2 = a2.memoizedProps).style) && r2.hasOwnProperty("display") ? r2.display : null, n2.style.display = On("display", r2));
            } catch (e5) {
              D(t2, t2.return, e5);
            }
          }
        } else if (a2.tag === re) {
          if (null === i2)
            try {
              var l2 = a2.stateNode;
              l2.nodeValue = e4 ? "" : a2.memoizedProps;
            } catch (e5) {
              D(t2, t2.return, e5);
            }
        } else if ((a2.tag !== be && a2.tag !== we || null === a2.memoizedState || a2 === t2) && null !== a2.child) {
          a2 = (a2.child.return = a2).child;
          continue;
        }
        if (a2 === t2)
          return;
        for (; null === a2.sibling; ) {
          if (null === a2.return || a2.return === t2)
            return;
          i2 === a2 && (i2 = null), a2 = a2.return;
        }
        i2 === a2 && (i2 = null), a2.sibling.return = a2.return, a2 = a2.sibling;
      }
    }, s0 = function(e4) {
      var t2 = e4.ref;
      if (null !== t2) {
        var n2, r2 = e4.stateNode;
        if (e4.tag, r2 = r2, "function" == typeof t2) {
          if (e4.mode & x)
            try {
              Nm(), n2 = t2(r2);
            } finally {
              Mm(e4);
            }
          else
            n2 = t2(r2);
          "function" == typeof n2 && te("Unexpected return value from a callback ref in %s. A callback ref should not return a function.", C(e4));
        } else
          t2.hasOwnProperty("current") || te("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().", C(e4)), t2.current = r2;
      }
    }, l0 = function(e4) {
      var t2 = e4.alternate;
      null !== t2 && (e4.alternate = null, l0(t2)), e4.child = null, e4.deletions = null, e4.sibling = null, e4.tag === G && null !== (t2 = e4.stateNode) && (delete (t2 = t2)[uu], delete t2[du], delete t2[fu], delete t2[hu], delete t2[mu]), e4.stateNode = null, e4._debugOwner = null, e4.return = null, e4.dependencies = null, e4.memoizedProps = null, e4.memoizedState = null, e4.pendingProps = null, e4.stateNode = null, e4.updateQueue = null;
    }, c0 = function(e4) {
      return e4.tag === G || e4.tag === K || e4.tag === ne;
    }, u0 = function(e4) {
      var t2 = e4;
      e:
        for (; ; ) {
          for (; null === t2.sibling; ) {
            if (null === t2.return || c0(t2.return))
              return null;
            t2 = t2.return;
          }
          for (t2.sibling.return = t2.return, t2 = t2.sibling; t2.tag !== G && t2.tag !== re && t2.tag !== g; ) {
            if (t2.flags & Ur)
              continue e;
            if (null === t2.child || t2.tag === ne)
              continue e;
            t2 = (t2.child.return = t2).child;
          }
          if (!(t2.flags & Ur))
            return t2.stateNode;
        }
    }, d0 = function(e4) {
      var t2 = function(e5) {
        for (var t3 = e5.return; null !== t3; ) {
          if (c0(t3))
            return t3;
          t3 = t3.return;
        }
        throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");
      }(e4);
      switch (t2.tag) {
        case G:
          var n2 = t2.stateNode;
          t2.flags & Yr && (Qc(n2), t2.flags &= ~Yr), !function e5(t3, n3, r2) {
            var o2 = t3.tag;
            var i2 = o2 === G || o2 === re;
            if (i2) {
              i2 = t3.stateNode;
              n3 ? nu(r2, i2, n3) : eu(r2, i2);
            } else if (o2 !== ne) {
              i2 = t3.child;
              if (null !== i2) {
                e5(i2, n3, r2);
                for (var a2 = i2.sibling; null !== a2; )
                  e5(a2, n3, r2), a2 = a2.sibling;
              }
            }
          }(e4, u0(e4), n2);
          break;
        case K:
        case ne:
          n2 = t2.stateNode.containerInfo;
          !function e5(t3, n3, r2) {
            var o2 = t3.tag;
            var i2 = o2 === G || o2 === re;
            if (i2) {
              i2 = t3.stateNode;
              n3 ? ru(r2, i2, n3) : tu(r2, i2);
            } else if (o2 !== ne) {
              i2 = t3.child;
              if (null !== i2) {
                e5(i2, n3, r2);
                for (var a2 = i2.sibling; null !== a2; )
                  e5(a2, n3, r2), a2 = a2.sibling;
              }
            }
          }(e4, u0(e4), n2);
          break;
        default:
          throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.");
      }
    }, h0 = function(e4, t2, n2) {
      for (var r2 = n2.child; null !== r2; )
        m0(e4, t2, r2), r2 = r2.sibling;
    }, m0 = function(e4, t2, n2) {
      var r2 = n2;
      if ($o && "function" == typeof $o.onCommitFiberUnmount)
        try {
          $o.onCommitFiberUnmount(Fo, r2);
        } catch (e5) {
          Bo || (Bo = true, te("React instrumentation encountered an error: %s", e5));
        }
      switch (n2.tag) {
        case G:
          Ug || Qg(n2, t2);
        case re:
          var o2 = p0, i2 = f0;
          return p0 = null, h0(e4, t2, n2), f0 = i2, void (null !== (p0 = o2) && (f0 ? (i2 = p0, o2 = n2.stateNode, (i2.nodeType === kn ? i2.parentNode : i2).removeChild(o2)) : (i2 = p0, o2 = n2.stateNode, i2.removeChild(o2))));
        case g:
          return void (null !== p0 && (f0 ? (i2 = p0, o2 = n2.stateNode, i2.nodeType === kn ? ou(i2.parentNode, o2) : i2.nodeType === xn && ou(i2, o2), Ba(i2)) : ou(p0, n2.stateNode)));
        case ne:
          var a2 = p0, s2 = f0;
          return p0 = n2.stateNode.containerInfo, f0 = true, h0(e4, t2, n2), p0 = a2, void (f0 = s2);
        case q:
        case Z:
        case he:
        case J:
          if (!Ug) {
            var a2 = n2.updateQueue;
            if (null !== a2) {
              var s2 = a2.lastEffect;
              if (null !== s2) {
                var l2 = s2.next, c2 = l2;
                do {
                  var u2 = c2, d2 = u2.destroy, u2 = u2.tag;
                } while (void 0 !== d2 && ((u2 & Hf) !== Bf ? e0(n2, t2, d2) : (u2 & Wf) !== Bf && (Go(n2), n2.mode & x ? (Nm(), e0(n2, t2, d2), Mm(n2)) : e0(n2, t2, d2), Zo())), (c2 = c2.next) !== l2);
              }
            }
          }
          return void h0(e4, t2, n2);
        case Y:
          return Ug || (Qg(n2, t2), "function" == typeof (a2 = n2.stateNode).componentWillUnmount && Xg(n2, t2, a2)), void h0(e4, t2, n2);
        case ye:
          return void h0(e4, t2, n2);
        case be:
          n2.mode & b ? (Ug = (s2 = Ug) || null !== n2.memoizedState, h0(e4, t2, n2), Ug = s2) : h0(e4, t2, n2);
          break;
        default:
          h0(e4, t2, n2);
      }
    }, g0 = function(n2) {
      var r2, e4 = n2.updateQueue;
      null !== e4 && ((n2.updateQueue = null) === (r2 = n2.stateNode) && (r2 = n2.stateNode = new qg()), e4.forEach(function(e5) {
        var t2 = (function(e6, t3) {
          var n3, r3 = ai;
          switch (e6.tag) {
            case X:
              n3 = e6.stateNode;
              var o2 = e6.memoizedState;
              null !== o2 && (r3 = o2.retryLane);
              break;
            case ve:
              n3 = e6.stateNode;
              break;
            default:
              throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.");
          }
          null !== n3 && n3.delete(t3);
          ay(e6, r3);
        }).bind(null, n2, e5);
        if (!r2.has(e5)) {
          if (r2.add(e5), Vo) {
            if (null === Yg || null === Kg)
              throw Error("Expected finished root and lanes to be set. This is a bug in React.");
            hy(Kg, Yg);
          }
          e5.then(t2, t2);
        }
      }));
    }, v0 = function(e4, t2) {
      var n2 = t2.deletions;
      if (null !== n2)
        for (var r2 = 0; r2 < n2.length; r2++) {
          var o2 = n2[r2];
          try {
            l2 = s2 = a2 = i2 = void 0;
            var i2 = e4, a2 = t2, s2 = o2, l2 = a2;
            e:
              for (; null !== l2; ) {
                switch (l2.tag) {
                  case G:
                    p0 = l2.stateNode, f0 = false;
                    break e;
                  case K:
                  case ne:
                    p0 = l2.stateNode.containerInfo, f0 = true;
                    break e;
                }
                l2 = l2.return;
              }
            if (null === p0)
              throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");
            m0(i2, a2, s2), f0 = false, (p0 = null) !== (a2 = (i2 = s2).alternate) && (a2.return = null), i2.return = null;
          } catch (e5) {
            D(o2, t2, e5);
          }
        }
      var c2 = St;
      if (t2.subtreeFlags & ho)
        for (var u2 = t2.child; null !== u2; )
          _t(u2), y0(u2, e4), u2 = u2.sibling;
      _t(c2);
    }, y0 = function(t2, e4) {
      var n2 = t2.alternate, r2 = t2.flags;
      switch (t2.tag) {
        case q:
        case Z:
        case he:
        case J:
          if (v0(e4, t2), b0(t2), r2 & oe) {
            try {
              n0(Hf | Vf, t2, t2.return), r0(Hf | Vf, t2);
            } catch (e5) {
              D(t2, t2.return, e5);
            }
            if (t2.mode & x) {
              try {
                Nm(), n0(Wf | Vf, t2, t2.return);
              } catch (e5) {
                D(t2, t2.return, e5);
              }
              Mm(t2);
            } else
              try {
                n0(Wf | Vf, t2, t2.return);
              } catch (e5) {
                D(t2, t2.return, e5);
              }
          }
          return;
        case Y:
          return v0(e4, t2), b0(t2), void (r2 & Gr && null !== n2 && Qg(n2, n2.return));
        case G:
          if (v0(e4, t2), b0(t2), r2 & Gr && null !== n2 && Qg(n2, n2.return), t2.flags & Yr) {
            var o2 = t2.stateNode;
            try {
              Qc(o2);
            } catch (e5) {
              D(t2, t2.return, e5);
            }
          }
          if (r2 & oe) {
            o2 = t2.stateNode;
            if (null != o2) {
              var i2 = t2.memoizedProps, a2 = null !== n2 ? n2.memoizedProps : i2, s2 = t2.type, l2 = t2.updateQueue;
              if ((t2.updateQueue = null) !== l2)
                try {
                  wc(c2 = o2, l2, s2, a2, u2 = i2), Cu(c2, u2);
                } catch (e5) {
                  D(t2, t2.return, e5);
                }
            }
          }
          return;
        case re:
          if (v0(e4, t2), b0(t2), r2 & oe) {
            if (null === t2.stateNode)
              throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");
            l2 = t2.stateNode, s2 = t2.memoizedProps;
            null !== n2 && n2.memoizedProps;
            try {
              l2.nodeValue = s2;
            } catch (e5) {
              D(t2, t2.return, e5);
            }
          }
          return;
        case K:
          if (v0(e4, t2), b0(t2), r2 & oe) {
            if (null !== n2) {
              if (n2.memoizedState.isDehydrated)
                try {
                  Ba(e4.containerInfo);
                } catch (e5) {
                  D(t2, t2.return, e5);
                }
            }
          }
          return;
        case ne:
          return v0(e4, t2), void b0(t2);
        case X:
          v0(e4, t2), b0(t2);
          var c2, a2 = t2.child;
          if (a2.flags & Qr && (i2 = a2.stateNode, c2 = null !== a2.memoizedState, !(i2.isHidden = c2) || null !== a2.alternate && null !== a2.alternate.memoizedState || (sv = Io())), r2 & oe) {
            try {
              t2.memoizedState;
            } catch (e5) {
              D(t2, t2.return, e5);
            }
            g0(t2);
          }
          return;
        case be:
          var u2 = null !== n2 && null !== n2.memoizedState;
          if (t2.mode & b ? (Ug = (d2 = Ug) || u2, v0(e4, t2), Ug = d2) : v0(e4, t2), b0(t2), r2 & Qr) {
            var d2 = t2.stateNode, p2 = null !== t2.memoizedState, f2 = t2;
            if ((d2.isHidden = p2) && !u2 && (f2.mode & b) !== E)
              for (var h2 = (O = f2).child; null !== h2; ) {
                y2 = v2 = g2 = m2 = void 0;
                for (var m2 = O = h2; null !== O; ) {
                  var g2 = O, v2 = g2.child;
                  switch (g2.tag) {
                    case q:
                    case Z:
                    case he:
                    case J:
                      if (g2.mode & x)
                        try {
                          Nm(), n0(Wf, g2, g2.return);
                        } finally {
                          Mm(g2);
                        }
                      else
                        n0(Wf, g2, g2.return);
                      break;
                    case Y:
                      Qg(g2, g2.return);
                      var y2 = g2.stateNode;
                      "function" == typeof y2.componentWillUnmount && Xg(g2, g2.return, y2);
                      break;
                    case G:
                      Qg(g2, g2.return);
                      break;
                    case be:
                      if (null !== g2.memoizedState) {
                        S0(m2);
                        continue;
                      }
                  }
                  null !== v2 ? (v2.return = g2, O = v2) : S0(m2);
                }
                h2 = h2.sibling;
              }
            a0(f2, p2);
          }
          return;
        case ve:
          return v0(e4, t2), b0(t2), void (r2 & oe && g0(t2));
        case ye:
          return;
        default:
          v0(e4, t2), b0(t2);
      }
    }, b0 = function(t2) {
      var e4 = t2.flags;
      if (e4 & Ur) {
        try {
          d0(t2);
        } catch (e5) {
          D(t2, t2.return, e5);
        }
        t2.flags &= ~Ur;
      }
      e4 & Jr && (t2.flags &= ~Jr);
    }, w0 = function(e4, t2, n2) {
      !function e5(t3, n3, r2) {
        var o2 = (t3.mode & b) !== E;
        for (; null !== O; ) {
          var i2 = O, a2 = i2.child;
          if (i2.tag === be && o2) {
            var s2 = null !== i2.memoizedState, s2 = s2 || Wg;
            if (s2)
              ;
            else {
              for (var l2 = i2.alternate, l2 = null !== l2 && null !== l2.memoizedState, l2 = l2 || Ug, c2 = Wg, u2 = Ug, d2 = (Wg = s2, (Ug = l2) && !u2 && k0(O = i2), a2); null !== d2; )
                e5(O = d2, n3, r2), d2 = d2.sibling;
              O = i2, Wg = c2, Ug = u2;
            }
            x0(t3);
          } else
            (i2.subtreeFlags & mo) !== ee && null !== a2 ? (a2.return = i2, O = a2) : x0(t3);
        }
      }(O = e4, Kg = t2, Yg = n2), Kg = Yg = null;
    }, x0 = function(e4) {
      for (; null !== O; ) {
        var t2 = O;
        if ((t2.flags & mo) !== ee) {
          var n2 = t2.alternate;
          _t(t2);
          try {
            o0(0, n2, t2);
          } catch (e5) {
            D(t2, t2.return, e5);
          }
          Tt();
        }
        if (t2 === e4)
          return void (O = null);
        n2 = t2.sibling;
        if (null !== n2)
          return n2.return = t2.return, void (O = n2);
        O = t2.return;
      }
    }, S0 = function(e4) {
      for (; null !== O; ) {
        var t2 = O;
        if (t2 === e4)
          return void (O = null);
        var n2 = t2.sibling;
        if (null !== n2)
          return n2.return = t2.return, void (O = n2);
        O = t2.return;
      }
    }, k0 = function(e4) {
      for (; null !== O; ) {
        var t2 = O, n2 = t2.child;
        if (t2.tag === be) {
          if (null !== t2.memoizedState) {
            C0(e4);
            continue;
          }
        }
        null !== n2 ? (n2.return = t2, O = n2) : C0(e4);
      }
    }, C0 = function(e4) {
      for (; null !== O; ) {
        var t2 = O;
        _t(t2);
        try {
          i0(t2);
        } catch (e5) {
          D(t2, t2.return, e5);
        }
        if (Tt(), t2 === e4)
          return void (O = null);
        var n2 = t2.sibling;
        if (null !== n2)
          return n2.return = t2.return, void (O = n2);
        O = t2.return;
      }
    }, E0 = function(e4, t2) {
      for (var n2 = O = t2; null !== O; ) {
        var r2 = O, o2 = r2.child;
        (r2.subtreeFlags & go) !== ee && null !== o2 ? (o2.return = r2, O = o2) : function(e5) {
          for (; null !== O; ) {
            var t3 = O;
            if ((t3.flags & Xr) !== ee) {
              _t(t3);
              try {
                !function(e6) {
                  switch (e6.tag) {
                    case q:
                    case Z:
                    case J:
                      if (e6.mode & x) {
                        Pm();
                        try {
                          r0(Uf | Vf, e6);
                        } finally {
                          Dm(e6);
                        }
                      } else
                        r0(Uf | Vf, e6);
                  }
                }(t3);
              } catch (e6) {
                D(t3, t3.return, e6);
              }
              Tt();
            }
            if (t3 === e5)
              return O = null;
            var n3 = t3.sibling;
            if (null !== n3)
              return n3.return = t3.return, O = n3;
            O = t3.return;
          }
        }(n2);
      }
    }, T0 = function(e4) {
      for (O = e4; null !== O; ) {
        var t2 = O, n2 = t2.child;
        if ((O.flags & qr) !== ee) {
          var r2 = t2.deletions;
          if (null !== r2) {
            for (var o2 = 0; o2 < r2.length; o2++) {
              var i2 = r2[o2];
              !function(e5, t3) {
                for (; null !== O; ) {
                  var n3 = O, r3 = (_t(n3), !function(e6, t4) {
                    switch (e6.tag) {
                      case q:
                      case Z:
                      case J:
                        e6.mode & x ? (Pm(), n0(Uf, e6, t4), Dm(e6)) : n0(Uf, e6, t4);
                    }
                  }(n3, t3), Tt(), n3.child);
                  null !== r3 ? (r3.return = n3, O = r3) : function(e6) {
                    for (; null !== O; ) {
                      var t4 = O, n4 = t4.sibling, r4 = t4.return;
                      if (l0(t4), t4 === e6)
                        return O = null;
                      if (null !== n4)
                        return n4.return = r4, O = n4;
                      O = r4;
                    }
                  }(e5);
                }
              }(O = i2, t2);
            }
            var a2 = t2.alternate;
            if (null !== a2) {
              var s2 = a2.child;
              if (null !== s2) {
                a2.child = null;
                do {
                  var l2 = s2.sibling;
                } while ((s2.sibling = null) !== (s2 = l2));
              }
            }
            O = t2;
          }
        }
        (t2.subtreeFlags & go) !== ee && null !== n2 ? (n2.return = t2, O = n2) : function() {
          for (; null !== O; ) {
            var e5 = O, t3 = ((e5.flags & Xr) !== ee && (_t(e5), function(e6) {
              switch (e6.tag) {
                case q:
                case Z:
                case J:
                  e6.mode & x ? (Pm(), n0(Uf | Vf, e6, e6.return), Dm(e6)) : n0(Uf | Vf, e6, e6.return);
              }
            }(e5), Tt()), e5.sibling);
            if (null !== t3)
              return t3.return = e5.return, O = t3;
            O = e5.return;
          }
        }();
      }
    }, _0 = function(t2) {
      switch (t2.tag) {
        case q:
        case Z:
        case J:
          try {
            r0(Wf | Vf, t2);
          } catch (e5) {
            D(t2, t2.return, e5);
          }
          break;
        case Y:
          var e4 = t2.stateNode;
          try {
            e4.componentDidMount();
          } catch (e5) {
            D(t2, t2.return, e5);
          }
      }
    }, R0 = function(t2) {
      switch (t2.tag) {
        case q:
        case Z:
        case J:
          try {
            r0(Uf | Vf, t2);
          } catch (e4) {
            D(t2, t2.return, e4);
          }
      }
    }, O0 = function(t2) {
      switch (t2.tag) {
        case q:
        case Z:
        case J:
          try {
            n0(Wf | Vf, t2, t2.return);
          } catch (e5) {
            D(t2, t2.return, e5);
          }
          break;
        case Y:
          var e4 = t2.stateNode;
          "function" == typeof e4.componentWillUnmount && Xg(t2, t2.return, e4);
      }
    }, I0 = function(t2) {
      switch (t2.tag) {
        case q:
        case Z:
        case J:
          try {
            n0(Uf | Vf, t2, t2.return);
          } catch (e4) {
            D(t2, t2.return, e4);
          }
      }
    }, N0 = function() {
      var e4 = "undefined" != typeof IS_REACT_ACT_ENVIRONMENT ? IS_REACT_ACT_ENVIRONMENT : void 0;
      return e4 || null === D0.current || te("The current testing environment is not configured to support act(...)"), e4;
    }, pv = function() {
      cv = Io() + uv;
    }, Mv = function() {
      return (I & (B0 | V0)) !== F0 ? Io() : Rv = Rv === T ? Io() : Rv;
    }, Dv = function(e4) {
      var t2;
      return (e4.mode & b) === E ? S : (I & B0) !== F0 && X0 !== ae ? Qi(X0) : Yd.transition !== Kd ? (null !== j0.transition && ((t2 = j0.transition)._updatedFibers || (t2._updatedFibers = /* @__PURE__ */ new Set()), t2._updatedFibers.add(e4)), Ov = Ov === ai ? Xi() : Ov) : ba !== ai ? ba : void 0 === (t2 = window.event) ? va : Za(t2.type);
    }, Nv = function(e4) {
      return (e4.mode & b) === E ? S : (e4 = Vi, ((Vi <<= 1) & Oi) === ae && (Vi = Ii), e4);
    }, Pv = function(e4, t2, n2, r2) {
      if (wv < xv)
        throw xv = 0, Sv = null, new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");
      if (Ev < Tv && (Tv = 0, _v = null, te("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render.")), Iv && te("useInsertionEffect must not schedule updates."), kv && (Cv = true), ia(e4, n2, r2), (I & B0) !== ae && e4 === Z0) {
        var o2 = t2;
        if (kt && !om)
          switch (o2.tag) {
            case q:
            case Z:
            case J:
              var i2 = M && C(M) || "Unknown", a2 = i2;
              my.has(a2) || (my.add(a2), te("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render", C(o2) || "Unknown", i2, i2));
              break;
            case Y:
              fy || (te("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."), fy = true);
          }
      } else
        Vo && la(e4, t2, n2), function(e5) {
          if (e5.mode & b) {
            if (!N0())
              return;
          } else {
            if (!function() {
              var e6 = "undefined" != typeof IS_REACT_ACT_ENVIRONMENT ? IS_REACT_ACT_ENVIRONMENT : void 0;
              return "undefined" != typeof jest && false !== e6;
            }())
              return;
            if (I !== F0)
              return;
            if (e5.tag !== q && e5.tag !== Z && e5.tag !== J)
              return;
          }
          if (null === A0.current) {
            var t3 = St;
            try {
              _t(e5), te("An update to %s inside a test was not wrapped in act(...).\n\nWhen testing, code that causes React state updates should be wrapped into act(...):\n\nact(() => {\n  /* fire events that update state */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act", C(e5));
            } finally {
              t3 ? _t(e5) : Tt();
            }
          }
        }(t2), e4 === Z0 && ((I & B0) === F0 && (rv |= n2), ev === Y0) && Fv(e4, X0), zv(e4, r2), n2 !== S || I !== F0 || (t2.mode & b) !== E || A0.isBatchingLegacy || (pv(), od());
    }, zv = function(e4, t2) {
      var n2 = e4.callbackNode, t2 = (Ui(e4, t2), Wi(e4, e4 === Z0 ? X0 : ae));
      if (t2 === ae)
        null !== n2 && yy(n2), e4.callbackNode = null, e4.callbackPriority = ai;
      else {
        var r2, o2, i2 = Ji(t2), a2 = e4.callbackPriority;
        if (a2 !== i2 || null !== A0.current && n2 !== gy) {
          if (null != n2 && yy(n2), i2 === S)
            e4.tag === Ju ? (null !== A0.isBatchingLegacy && (A0.didScheduleLegacyUpdate = true), o2 = $v.bind(null, e4), td = true, rd(o2)) : rd($v.bind(null, e4)), null !== A0.current ? A0.current.push(id) : Xc(function() {
              (I & (B0 | V0)) === F0 && id();
            }), o2 = null;
          else {
            switch (ka(t2)) {
              case ma:
                r2 = Do;
                break;
              case ga:
                r2 = No;
                break;
              case va:
                r2 = Po;
                break;
              case ya:
                r2 = Lo;
                break;
              default:
                r2 = Po;
            }
            o2 = vy(r2, Lv.bind(null, e4));
          }
          e4.callbackPriority = i2, e4.callbackNode = o2;
        } else
          null == n2 && a2 !== S && te("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.");
      }
    }, Lv = function(e4, t2) {
      if (Tm = Em = false, Rv = T, Ov = ae, (I & (B0 | V0)) !== F0)
        throw new Error("Should not already be working.");
      var n2 = e4.callbackNode, r2 = ny();
      if (r2 && e4.callbackNode !== n2)
        return null;
      r2 = Wi(e4, e4 === Z0 ? X0 : ae);
      if (r2 === ae)
        return null;
      t2 = !(Gi(0, r2) || (r2 & e4.expiredLanes) !== ae || t2);
      if ((t2 = (t2 ? function(t3, e5) {
        var n3 = I, r3 = (I |= B0, Kv());
        {
          var o3;
          Z0 === t3 && X0 === e5 || (Vo && (0 < (o3 = t3.memoizedUpdaters).size && (hy(t3, X0), o3.clear()), ca(t3, e5)), dv = null, pv(), qv(t3, e5));
        }
        Xo(e5);
        for (; ; )
          try {
            !function() {
              for (; null !== M && !Ro(); )
                Qv(M);
            }();
            break;
          } catch (e6) {
            Yv(t3, e6);
          }
        return fp(), Gv(r3), I = n3, null !== M ? (null !== w && "function" == typeof w.markRenderYielded && w.markRenderYielded(), H0) : (Jo(), Z0 = null, X0 = ae, ev);
      } : Jv)(e4, r2)) !== H0) {
        if ((t2 = t2 === U0 && (o2 = qi(e4)) !== ae ? jv(e4, r2 = o2) : t2) === W0)
          throw o2 = tv, qv(e4, ae), Fv(e4, r2), zv(e4, Io()), o2;
        if (t2 === G0)
          Fv(e4, r2);
        else {
          var o2 = !Gi(0, r2), i2 = e4.current.alternate;
          if (o2 && !function(e5) {
            var t3 = e5;
            for (; ; ) {
              if (t3.flags & eo) {
                var n3 = t3.updateQueue;
                if (null !== n3) {
                  var r3 = n3.stores;
                  if (null !== r3)
                    for (var o3 = 0; o3 < r3.length; o3++) {
                      var i3 = r3[o3], a3 = i3.getSnapshot, i3 = i3.value;
                      try {
                        if (!ol(a3(), i3))
                          return;
                      } catch (e6) {
                        return;
                      }
                    }
                }
              }
              n3 = t3.child;
              if (t3.subtreeFlags & eo && null !== n3)
                n3.return = t3, t3 = n3;
              else {
                if (t3 === e5)
                  return 1;
                for (; null === t3.sibling; ) {
                  if (null === t3.return || t3.return === e5)
                    return 1;
                  t3 = t3.return;
                }
                t3.sibling.return = t3.return, t3 = t3.sibling;
              }
            }
            return 1;
          }(i2)) {
            if ((t2 = (t2 = Jv(e4, r2)) === U0 && (o2 = qi(e4)) !== ae ? jv(e4, r2 = o2) : t2) === W0)
              throw o2 = tv, qv(e4, ae), Fv(e4, r2), zv(e4, Io()), o2;
          }
          e4.finishedWork = i2, e4.finishedLanes = r2;
          var a2 = e4, s2 = r2;
          switch (t2) {
            case H0:
            case W0:
              throw new Error("Root did not complete. This is a bug in React.");
            case U0:
              ty(a2, av, dv);
              break;
            case q0:
              if (Fv(a2, s2), Ki(s2) && !by()) {
                var l2 = sv + lv - Io();
                if (10 < l2) {
                  if (Wi(a2, ae) !== ae)
                    break;
                  var c2 = a2.suspendedLanes;
                  if (!ra(c2, s2)) {
                    Mv(), aa(a2, c2);
                    break;
                  }
                  a2.timeoutHandle = Yc(ty.bind(null, a2, av, dv), l2);
                  break;
                }
              }
              ty(a2, av, dv);
              break;
            case Y0:
              if (Fv(a2, s2), !function(e5) {
                return (e5 & pi) === e5;
              }(s2)) {
                if (!by()) {
                  c2 = function(e5, t3) {
                    for (var n3 = e5.eventTimes, r3 = T; 0 < t3; ) {
                      var o3 = ea(t3), i3 = n3[o3];
                      r3 < i3 && (r3 = i3), t3 &= ~(1 << o3);
                    }
                    return r3;
                  }(a2, s2), l2 = Io() - c2, c2 = function(e5) {
                    return e5 < 120 ? 120 : e5 < 480 ? 480 : e5 < 1080 ? 1080 : e5 < 1920 ? 1920 : e5 < 3e3 ? 3e3 : e5 < 4320 ? 4320 : 1960 * P0(e5 / 1960);
                  }(l2) - l2;
                  if (10 < c2) {
                    a2.timeoutHandle = Yc(ty.bind(null, a2, av, dv), c2);
                    break;
                  }
                }
                ty(a2, av, dv);
              }
              break;
            case K0:
              ty(a2, av, dv);
              break;
            default:
              throw new Error("Unknown root exit status.");
          }
        }
      }
      return zv(e4, Io()), e4.callbackNode === n2 ? Lv.bind(null, e4) : null;
    }, jv = function(e4, t2) {
      var n2 = iv, e4 = (Ca(e4) && (qv(e4, t2).flags |= Kr, te("An error occurred during hydration. The server HTML was replaced with client content in <%s>.", e4.containerInfo.nodeName.toLowerCase())), Jv(e4, t2));
      return e4 !== U0 && (t2 = av, av = n2, null !== t2) && Av(t2), e4;
    }, Av = function(e4) {
      null === av ? av = e4 : av.push.apply(av, e4);
    }, Fv = function(e4, t2) {
      t2 = t2 & ~ov & ~rv;
      e4.suspendedLanes |= t2, e4.pingedLanes &= ~t2;
      for (var n2 = e4.expirationTimes, r2 = t2; 0 < r2; ) {
        var o2 = ea(r2), i2 = 1 << o2;
        n2[o2] = T, r2 &= ~i2;
      }
    }, $v = function(e4) {
      if (Em = Tm, Tm = false, (I & (B0 | V0)) !== F0)
        throw new Error("Should not already be working.");
      ny();
      var t2 = Wi(e4, ae);
      if (na(t2, S)) {
        var n2 = Jv(e4, t2);
        if ((n2 = e4.tag !== Ju && n2 === U0 && (r2 = qi(e4)) !== ae ? jv(e4, t2 = r2) : n2) === W0)
          throw r2 = tv, qv(e4, ae), Fv(e4, t2), zv(e4, Io()), r2;
        if (n2 === G0)
          throw new Error("Root did not complete. This is a bug in React.");
        var r2 = e4.current.alternate;
        e4.finishedWork = r2, e4.finishedLanes = t2, ty(e4, av, dv);
      }
      return zv(e4, Io()), null;
    }, Bv = function(e4, t2) {
      var n2 = I;
      I |= $0;
      try {
        return e4(t2);
      } finally {
        (I = n2) !== F0 || A0.isBatchingLegacy || (pv(), od());
      }
    }, Vv = function(e4) {
      null !== vv && vv.tag === Ju && (I & (B0 | V0)) === F0 && ny();
      var t2 = I, n2 = (I |= $0, j0.transition), r2 = ba;
      try {
        if (j0.transition = null, xa(ma), e4)
          return e4();
      } finally {
        xa(r2), j0.transition = n2, ((I = t2) & (B0 | V0)) === F0 && id();
      }
    }, Hv = function() {
      return (I & (B0 | V0)) !== F0;
    }, Wv = function(e4, t2) {
      Pu(Q0, J0, e4), J0 |= t2;
    }, Uv = function(e4) {
      J0 = Q0.current, Nu(Q0, e4);
    }, qv = function(e4, t2) {
      e4.finishedWork = null, e4.finishedLanes = ae;
      var n2 = e4.timeoutHandle;
      if (n2 !== Gc && (e4.timeoutHandle = Gc, Kc(n2)), null !== M)
        for (var r2 = M.return; null !== r2; ) {
          r2.alternate;
          Fg(0, r2), r2 = r2.return;
        }
      n2 = Ay((Z0 = e4).current, null);
      if (M = n2, X0 = J0 = t2, ev = H0, ov = rv = nv = ae, (av = iv = tv = null) !== Sp) {
        for (var o2 = 0; o2 < Sp.length; o2++) {
          var i2, a2, s2, l2 = Sp[o2], c2 = l2.interleaved;
          null !== c2 && (l2.interleaved = null, i2 = c2.next, null !== (a2 = l2.pending) && (s2 = a2.next, a2.next = i2, c2.next = s2), l2.pending = c2);
        }
        Sp = null;
      }
      return Zd.discardPendingWarnings(), n2;
    }, Yv = function(e4, t2) {
      do {
        var n2 = M;
        try {
          if (fp(), fh(), Tt(), (L0.current = null) === n2 || null === n2.return)
            return ev = W0, tv = t2, void (M = null);
          P && n2.mode & x && Im(n2, true), N && (Ko(), null !== t2 && "object" == typeof t2 && "function" == typeof t2.then ? (a2 = n2, s2 = t2, l2 = X0, null !== w && "function" == typeof w.markComponentSuspended && w.markComponentSuspended(a2, s2, l2)) : (r2 = n2, o2 = t2, i2 = X0, null !== w && "function" == typeof w.markComponentErrored && w.markComponentErrored(r2, o2, i2))), Um(e4, n2.return, n2, t2, X0), ey(n2);
        } catch (e5) {
          t2 = e5, M === n2 && null !== n2 ? (n2 = n2.return, M = n2) : n2 = M;
          continue;
        }
        return;
      } while (1);
      var r2, o2, i2, a2, s2, l2;
    }, Kv = function() {
      var e4 = z0.current;
      return z0.current = pm, null === e4 ? pm : e4;
    }, Gv = function(e4) {
      z0.current = e4;
    }, Zv = function(e4) {
      nv |= e4;
    }, Xv = function() {
      ev !== H0 && ev !== q0 && ev !== U0 || (ev = Y0), null !== Z0 && (Yi(nv) || Yi(rv)) && Fv(Z0, X0);
    }, Jv = function(t2, e4) {
      var n2, r2 = I, o2 = (I |= B0, Kv());
      for (Z0 === t2 && X0 === e4 || (Vo && (0 < (n2 = t2.memoizedUpdaters).size && (hy(t2, X0), n2.clear()), ca(t2, e4)), dv = null, qv(t2, e4)), Xo(e4); ; )
        try {
          for (; null !== M; )
            Qv(M);
          break;
        } catch (e5) {
          Yv(t2, e5);
        }
      if (fp(), I = r2, Gv(o2), null !== M)
        throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");
      return Jo(), Z0 = null, X0 = ae, ev;
    }, Qv = function(e4) {
      var t2, n2 = e4.alternate;
      _t(e4), (e4.mode & x) !== E ? (Rm(e4), t2 = py(n2, e4, J0), Im(e4, true)) : t2 = py(n2, e4, J0), Tt(), e4.memoizedProps = e4.pendingProps, null === t2 ? ey(e4) : M = t2, L0.current = null;
    }, ey = function(e4) {
      var t2 = e4;
      do {
        var n2 = t2.alternate, r2 = t2.return;
        if ((t2.flags & ro) === ee) {
          _t(t2);
          var o2 = void 0;
          if ((t2.mode & x) === E ? o2 = Ag(n2, t2, J0) : (Rm(t2), o2 = Ag(n2, t2, J0), Im(t2, false)), Tt(), null !== o2)
            return void (M = o2);
        } else {
          n2 = function(e5) {
            switch (wd(e5), e5.tag) {
              case Y:
                Wu(e5.type) && Uu(e5);
                var t3 = e5.flags;
                return t3 & oo ? (e5.flags = t3 & ~oo | ie2, (e5.mode & x) !== E && zm(e5), e5) : null;
              case K:
                e5.stateNode, Mf(e5), qu(e5), Yf();
                t3 = e5.flags;
                return (t3 & oo) !== ee && (t3 & ie2) === ee ? (e5.flags = t3 & ~oo | ie2, e5) : null;
              case G:
                return Pf(e5), null;
              case X:
                Ff(e5);
                t3 = e5.memoizedState;
                if (null !== t3 && null !== t3.dehydrated) {
                  if (null === e5.alternate)
                    throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");
                  Wd();
                }
                t3 = e5.flags;
                return t3 & oo ? (e5.flags = t3 & ~oo | ie2, (e5.mode & x) !== E && zm(e5), e5) : null;
              case ve:
                return Ff(e5), null;
              case ne:
                return Mf(e5), null;
              case pe:
                return vp(e5.type._context, e5), null;
              case be:
              case we:
                return Uv(e5), null;
              default:
                return null;
            }
          }(t2);
          if (null !== n2)
            return n2.flags &= no, void (M = n2);
          if ((t2.mode & x) !== E) {
            Im(t2, false);
            for (var i2 = t2.actualDuration, a2 = t2.child; null !== a2; )
              i2 += a2.actualDuration, a2 = a2.sibling;
            t2.actualDuration = i2;
          }
          if (null === r2)
            return ev = G0, void (M = null);
          r2.flags |= ro, r2.subtreeFlags = ee, r2.deletions = null;
        }
        o2 = t2.sibling;
        if (null !== o2)
          return void (M = o2);
      } while (M = t2 = r2, null !== t2);
      ev === H0 && (ev = K0);
    }, ty = function(e4, t2, n2) {
      var r2 = ba, o2 = j0.transition;
      try {
        j0.transition = null, xa(ma);
        for (var i2 = e4, a2 = t2, s2 = n2, l2 = r2; ny(), null !== vv; )
          ;
        if (Zd.flushLegacyContextWarning(), Zd.flushPendingUnsafeLifecycleWarnings(), (I & (B0 | V0)) !== F0)
          throw new Error("Should not already be working.");
        var c2 = i2.finishedWork, u2 = i2.finishedLanes, d2 = u2;
        if (null !== w && "function" == typeof w.markCommitStarted && w.markCommitStarted(d2), null !== c2) {
          if (u2 === ae && te("root.finishedLanes should not be empty during a commit. This is a bug in React."), i2.finishedWork = null, i2.finishedLanes = ae, c2 === i2.current)
            throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");
          i2.callbackNode = null, i2.callbackPriority = ai;
          var p2 = c2.lanes | c2.childLanes, s2 = (!function(e5, t3) {
            for (var n3 = e5.pendingLanes & ~t3, r3 = (e5.pendingLanes = t3, e5.suspendedLanes = ae, e5.pingedLanes = ae, e5.expiredLanes &= t3, e5.mutableReadLanes &= t3, e5.entangledLanes &= t3, e5.entanglements), o3 = e5.eventTimes, i3 = e5.expirationTimes, a3 = n3; 0 < a3; ) {
              var s3 = ea(a3), l3 = 1 << s3;
              r3[s3] = ae, o3[s3] = T, i3[s3] = T, a3 &= ~l3;
            }
          }(i2, p2), i2 === Z0 && (M = Z0 = null, X0 = ae), (c2.subtreeFlags & go) === ee && (c2.flags & go) === ee || gv || (gv = true, vy(Po, function() {
            return ny(), null;
          })), (c2.subtreeFlags & (fo | ho | mo | go)) !== ee), f2 = (c2.flags & (fo | ho | mo | go)) !== ee, h2 = (s2 || f2 ? (s2 = j0.transition, j0.transition = null, f2 = ba, xa(ma), h2 = I, I |= V0, L0.current = null, t0(i2, c2), _m(), function(e5, t3, n3) {
            Yg = n3, Kg = e5, _t(t3), y0(t3, e5), _t(t3), Kg = Yg = null;
          }(i2, c2, u2), i2.containerInfo, hl(Vc), Wa(Bc), Vc = Bc = null, i2.current = c2, function(e5) {
            null !== w && "function" == typeof w.markLayoutEffectsStarted && w.markLayoutEffectsStarted(e5);
          }(u2), w0(c2, i2, u2), null !== w && "function" == typeof w.markLayoutEffectsStopped && w.markLayoutEffectsStopped(), Oo(), I = h2, xa(f2), j0.transition = s2) : (i2.current = c2, _m()), gv);
          if (gv ? (gv = false, vv = i2, yv = u2) : (Tv = 0, _v = null), (p2 = i2.pendingLanes) === ae && (mv = null), h2 || sy(i2.current, false), !function(e5, t3) {
            if ($o && "function" == typeof $o.onCommitFiberRoot)
              try {
                var n3, r3 = (e5.current.flags & ie2) === ie2;
                if (P) {
                  switch (t3) {
                    case ma:
                      n3 = Do;
                      break;
                    case ga:
                      n3 = No;
                      break;
                    case va:
                      n3 = Po;
                      break;
                    case ya:
                      n3 = Lo;
                      break;
                    default:
                      n3 = Po;
                  }
                  $o.onCommitFiberRoot(Fo, e5, n3, r3);
                }
              } catch (e6) {
                Bo || (Bo = true, te("React instrumentation encountered an error: %s", e6));
              }
          }(c2.stateNode, l2), Vo && i2.memoizedUpdaters.clear(), M0.forEach(function(e5) {
            return e5();
          }), zv(i2, Io()), null !== a2)
            for (var m2 = i2.onRecoverableError, g2 = 0; g2 < a2.length; g2++) {
              var v2 = a2[g2], y2 = v2.stack, b2 = v2.digest;
              m2(v2.value, { componentStack: y2, digest: b2 });
            }
          if (fv)
            throw fv = false, f2 = hv, hv = null, f2;
          na(yv, S) && i2.tag !== Ju && ny(), na(p2 = i2.pendingLanes, S) ? (Tm = true, i2 === Sv ? xv++ : (xv = 0, Sv = i2)) : xv = 0, id();
        }
        qo();
      } finally {
        j0.transition = o2, xa(r2);
      }
      return null;
    }, ny = function() {
      if (null !== vv) {
        var e4 = ka(yv), t2 = (e4 = e4, 0 === (t2 = va) || e4 < t2 ? t2 : e4), e4 = j0.transition, n2 = ba;
        try {
          if (j0.transition = null, xa(t2), null === vv)
            return false;
          var r2 = vv, o2 = yv;
          if (vv = null, yv = ae, (I & (B0 | V0)) !== F0)
            throw new Error("Cannot flush passive effects while already rendering.");
          Cv = !(kv = true);
          var i2 = o2, o2 = (null !== w && "function" == typeof w.markPassiveEffectsStarted && w.markPassiveEffectsStarted(i2), I), a2 = (I |= V0, T0(r2.current), E0(0, r2.current), bv);
          bv = [];
          for (var s2 = 0; s2 < a2.length; s2++) {
            l2 = void 0;
            c2 = void 0;
            u2 = void 0;
            d2 = void 0;
            p2 = void 0;
            f2 = void 0;
            h2 = void 0;
            var l2 = a2[s2];
            if ((l2.flags & oe) !== ee && l2.tag === fe) {
              var c2 = l2.stateNode.passiveEffectDuration, u2 = l2.memoizedProps, d2 = u2.id, u2 = u2.onPostCommit, p2 = xm, f2 = null === l2.alternate ? "mount" : "update", h2 = (Em && (f2 = "nested-update"), "function" == typeof u2 && u2(d2, f2, c2, p2), l2.return);
              e:
                for (; null !== h2; ) {
                  switch (h2.tag) {
                    case K:
                      h2.stateNode.passiveEffectDuration += c2;
                      break e;
                    case fe:
                      h2.stateNode.passiveEffectDuration += c2;
                      break e;
                  }
                  h2 = h2.return;
                }
            }
          }
          null !== w && "function" == typeof w.markPassiveEffectsStopped && w.markPassiveEffectsStopped(), sy(r2.current, true), I = o2, id(), Cv ? r2 === _v ? Tv++ : (Tv = 0, _v = r2) : Tv = 0, Cv = kv = false;
          var m2 = r2;
          if ($o && "function" == typeof $o.onPostCommitFiberRoot)
            try {
              $o.onPostCommitFiberRoot(Fo, m2);
            } catch (e5) {
              Bo || (Bo = true, te("React instrumentation encountered an error: %s", e5));
            }
          return (o2 = r2.current.stateNode).effectDuration = 0, !(o2.passiveEffectDuration = 0);
        } finally {
          xa(n2), j0.transition = e4;
        }
      }
      var t2;
      return false;
    }, ry = function(e4) {
      return null !== mv && mv.has(e4);
    }, iy = function(e4, t2, n2) {
      e4 = zp(e4, $m(e4, Lm(n2, t2), S), S), n2 = Mv();
      null !== e4 && (ia(e4, S, n2), zv(e4, n2));
    }, D = function(e4, t2, n2) {
      var r2;
      if (r2 = n2, Br(null, function() {
        throw r2;
      }), Vr(), wy(false), e4.tag === K)
        iy(e4, e4, n2);
      else {
        for (var o2 = null, o2 = t2; null !== o2; ) {
          if (o2.tag === K)
            return void iy(o2, e4, n2);
          if (o2.tag === Y) {
            var i2 = o2.type, a2 = o2.stateNode;
            if ("function" == typeof i2.getDerivedStateFromError || "function" == typeof a2.componentDidCatch && !ry(a2))
              return i2 = zp(o2, Bm(o2, Lm(n2, e4), S), S), a2 = Mv(), void (null !== i2 && (ia(i2, S, a2), zv(i2, a2)));
          }
          o2 = o2.return;
        }
        te("Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.\n\nError message:\n\n%s", n2);
      }
    }, ay = function(e4, t2) {
      t2 === ai && (t2 = Nv(e4));
      var n2 = Mv(), e4 = Ep(e4, t2);
      null !== e4 && (ia(e4, t2, n2), zv(e4, n2));
    }, sy = function(e4, t2) {
      _t(e4), ly(e4, uo, O0), t2 && ly(e4, po, I0), ly(e4, uo, _0), t2 && ly(e4, po, R0), Tt();
    }, ly = function(e4, t2, n2) {
      for (var r2 = e4, o2 = null; null !== r2; )
        var i2 = r2.subtreeFlags & t2, r2 = r2 !== o2 && null !== r2.child && i2 !== ee ? r2.child : ((r2.flags & t2) !== ee && n2(r2), null !== r2.sibling ? r2.sibling : o2 = r2.return);
    }, uy = function(e4) {
      if ((I & B0) === F0 && e4.mode & b) {
        var t2 = e4.tag;
        if (t2 === le || t2 === K || t2 === Y || t2 === q || t2 === Z || t2 === he || t2 === J) {
          t2 = C(e4) || "ReactComponent";
          if (null !== cy) {
            if (cy.has(t2))
              return;
            cy.add(t2);
          } else
            cy = /* @__PURE__ */ new Set([t2]);
          t2 = St;
          try {
            _t(e4), te("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.");
          } finally {
            t2 ? _t(e4) : Tt();
          }
        }
      }
    }, hy = function(t2, n2) {
      Vo && t2.memoizedUpdaters.forEach(function(e4) {
        la(t2, e4, n2);
      });
    }, vy = function(e4, t2) {
      var n2 = A0.current;
      return null !== n2 ? (n2.push(t2), gy) : To(e4, t2);
    }, yy = function(e4) {
      e4 !== gy && _o(e4);
    }, by = function() {
      return null !== A0.current;
    }, wy = function(e4) {
      Iv = e4;
    }, Cy = function(e4) {
      var t2;
      return null === xy || void 0 === (t2 = xy(e4)) ? e4 : t2.current;
    }, Ey = function(e4) {
      return Cy(e4);
    }, Ty = function(e4) {
      if (null !== xy) {
        var t2 = xy(e4);
        if (void 0 !== t2)
          return t2.current;
        if (null != e4 && "function" == typeof e4.render) {
          var t2 = Cy(e4.render);
          if (e4.render !== t2)
            return t2 = { $$typeof: qe, render: t2 }, void 0 !== e4.displayName && (t2.displayName = e4.displayName), t2;
        }
      }
      return e4;
    }, _y = function(e4, t2) {
      if (null !== xy) {
        var n2 = e4.elementType, r2 = t2.type, o2 = false, i2 = "object" == typeof r2 && null !== r2 ? r2.$$typeof : null;
        switch (e4.tag) {
          case Y:
            "function" == typeof r2 && (o2 = true);
            break;
          case q:
            ("function" == typeof r2 || i2 === Ze) && (o2 = true);
            break;
          case Z:
            (i2 === qe || i2 === Ze) && (o2 = true);
            break;
          case he:
          case J:
            (i2 === Ge || i2 === Ze) && (o2 = true);
            break;
          default:
            return false;
        }
        if (o2) {
          t2 = xy(n2);
          if (void 0 !== t2 && t2 === xy(r2))
            return true;
        }
      }
      return false;
    }, Ry = function(e4) {
      null !== xy && "function" == typeof WeakSet && (Sy = null === Sy ? /* @__PURE__ */ new WeakSet() : Sy).add(e4);
    }, Ny = function(e4, t2) {
      var n2 = function(e5, t3) {
        var n3 = e5, r3 = false;
        for (; ; ) {
          if (n3.tag === G)
            r3 = true, t3.add(n3.stateNode);
          else if (null !== n3.child) {
            n3 = (n3.child.return = n3).child;
            continue;
          }
          if (n3 === e5)
            return r3;
          for (; null === n3.sibling; ) {
            if (null === n3.return || n3.return === e5)
              return r3;
            n3 = n3.return;
          }
          n3.sibling.return = n3.return, n3 = n3.sibling;
        }
        return false;
      }(e4, t2);
      if (!n2)
        for (var r2 = e4; ; ) {
          switch (r2.tag) {
            case G:
              return void t2.add(r2.stateNode);
            case ne:
            case K:
              return void t2.add(r2.stateNode.containerInfo);
          }
          if (null === r2.return)
            throw new Error("Expected to reach root first.");
          r2 = r2.return;
        }
    }, zy = function(e4, t2, n2, r2) {
      this.tag = e4, this.key = n2, this.elementType = null, this.type = null, this.stateNode = null, this.return = null, this.child = null, this.sibling = null, this.index = 0, this.ref = null, this.pendingProps = t2, this.memoizedProps = null, this.updateQueue = null, this.memoizedState = null, this.dependencies = null, this.mode = r2, this.flags = ee, this.subtreeFlags = ee, this.deletions = null, this.lanes = ae, this.childLanes = ae, this.alternate = null, this.actualDuration = Number.NaN, this.actualStartTime = Number.NaN, this.selfBaseDuration = Number.NaN, this.treeBaseDuration = Number.NaN, this.actualDuration = 0, this.actualStartTime = -1, this.selfBaseDuration = 0, this.treeBaseDuration = 0, this._debugSource = null, this._debugOwner = null, this._debugNeedsRemount = false, this._debugHookTypes = null, Oy || "function" != typeof Object.preventExtensions || Object.preventExtensions(this);
    }, jy = function(e4) {
      e4 = e4.prototype;
      return e4 && e4.isReactComponent;
    }, Ay = function(e4, t2) {
      var n2 = e4.alternate, t2 = (null === n2 ? ((n2 = Ly(e4.tag, t2, e4.key, e4.mode)).elementType = e4.elementType, n2.type = e4.type, n2.stateNode = e4.stateNode, n2._debugSource = e4._debugSource, n2._debugOwner = e4._debugOwner, n2._debugHookTypes = e4._debugHookTypes, (n2.alternate = e4).alternate = n2) : (n2.pendingProps = t2, n2.type = e4.type, n2.flags = ee, n2.subtreeFlags = ee, n2.deletions = null, n2.actualDuration = 0, n2.actualStartTime = -1), n2.flags = e4.flags & vo, n2.childLanes = e4.childLanes, n2.lanes = e4.lanes, n2.child = e4.child, n2.memoizedProps = e4.memoizedProps, n2.memoizedState = e4.memoizedState, n2.updateQueue = e4.updateQueue, e4.dependencies);
      switch (n2.dependencies = null === t2 ? null : { lanes: t2.lanes, firstContext: t2.firstContext }, n2.sibling = e4.sibling, n2.index = e4.index, n2.ref = e4.ref, n2.selfBaseDuration = e4.selfBaseDuration, n2.treeBaseDuration = e4.treeBaseDuration, n2._debugNeedsRemount = e4._debugNeedsRemount, n2.tag) {
        case le:
        case q:
        case J:
          n2.type = Cy(e4.type);
          break;
        case Y:
          n2.type = Ey(e4.type);
          break;
        case Z:
          n2.type = Ty(e4.type);
      }
      return n2;
    }, Fy = function(e4, t2, n2, r2, o2, i2) {
      var a2 = le, s2 = e4;
      if ("function" == typeof e4)
        s2 = (jy(e4) ? (a2 = Y, Ey) : Cy)(s2);
      else if ("string" == typeof e4)
        a2 = G;
      else
        e:
          switch (e4) {
            case Be:
              return By(n2.children, o2, i2, t2);
            case Ve:
              a2 = ue, ((o2 |= ei) & b) !== E && (o2 |= ti);
              break;
            case He:
              var l2 = n2, c2 = o2, u2 = i2, d2 = t2;
              return "string" != typeof l2.id && te('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.', typeof l2.id), (l2 = Ly(fe, l2, d2, c2 | x)).elementType = He, l2.lanes = u2, l2.stateNode = { effectDuration: 0, passiveEffectDuration: 0 }, l2;
            case Ye:
              d2 = n2, c2 = i2;
              return (d2 = Ly(X, d2, t2, o2)).elementType = Ye, d2.lanes = c2, d2;
            case Ke:
              u2 = n2, l2 = i2;
              return (u2 = Ly(ve, u2, t2, o2)).elementType = Ke, u2.lanes = l2, u2;
            case Xe:
              return Vy(n2, o2, i2, t2);
            default:
              if ("object" == typeof e4 && null !== e4)
                switch (e4.$$typeof) {
                  case We:
                    a2 = pe;
                    break e;
                  case Ue:
                    a2 = de;
                    break e;
                  case qe:
                    a2 = Z, s2 = Ty(s2);
                    break e;
                  case Ge:
                    a2 = he;
                    break e;
                  case Ze:
                    a2 = me, s2 = null;
                    break e;
                }
              var p2 = "", f2 = ((void 0 === e4 || "object" == typeof e4 && null !== e4 && 0 === Object.keys(e4).length) && (p2 += " You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports."), r2 ? C(r2) : null);
              throw f2 && (p2 += "\n\nCheck the render method of `" + f2 + "`."), new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: " + (null == e4 ? e4 : typeof e4) + "." + p2);
          }
      var h2 = Ly(a2, n2, t2, o2);
      return h2.elementType = e4, h2.type = s2, h2.lanes = i2, h2._debugOwner = r2, h2;
    }, $y = function(e4, t2, n2) {
      var r2 = e4._owner, r2 = Fy(e4.type, e4.key, e4.props, r2, t2, n2);
      return r2._debugSource = e4._source, r2._debugOwner = e4._owner, r2;
    }, By = function(e4, t2, n2, r2) {
      e4 = Ly(ce, e4, r2, t2);
      return e4.lanes = n2, e4;
    }, Vy = function(e4, t2, n2, r2) {
      e4 = Ly(be, e4, r2, t2);
      e4.elementType = Xe, e4.lanes = n2;
      return e4.stateNode = { isHidden: false }, e4;
    }, Hy = function(e4, t2, n2) {
      e4 = Ly(re, e4, null, t2);
      return e4.lanes = n2, e4;
    }, Wy = function(e4, t2, n2) {
      var r2 = null !== e4.children ? e4.children : [], r2 = Ly(ne, r2, e4.key, t2);
      return r2.lanes = n2, r2.stateNode = { containerInfo: e4.containerInfo, pendingChildren: null, implementation: e4.implementation }, r2;
    }, Uy = function(e4, t2) {
      return (e4 = null === e4 ? Ly(le, null, null, E) : e4).tag = t2.tag, e4.key = t2.key, e4.elementType = t2.elementType, e4.type = t2.type, e4.stateNode = t2.stateNode, e4.return = t2.return, e4.child = t2.child, e4.sibling = t2.sibling, e4.index = t2.index, e4.ref = t2.ref, e4.pendingProps = t2.pendingProps, e4.memoizedProps = t2.memoizedProps, e4.updateQueue = t2.updateQueue, e4.memoizedState = t2.memoizedState, e4.dependencies = t2.dependencies, e4.mode = t2.mode, e4.flags = t2.flags, e4.subtreeFlags = t2.subtreeFlags, e4.deletions = t2.deletions, e4.lanes = t2.lanes, e4.childLanes = t2.childLanes, e4.alternate = t2.alternate, e4.actualDuration = t2.actualDuration, e4.actualStartTime = t2.actualStartTime, e4.selfBaseDuration = t2.selfBaseDuration, e4.treeBaseDuration = t2.treeBaseDuration, e4._debugSource = t2._debugSource, e4._debugOwner = t2._debugOwner, e4._debugNeedsRemount = t2._debugNeedsRemount, e4._debugHookTypes = t2._debugHookTypes, e4;
    }, qy = function(e4, t2, n2, r2, o2) {
      this.tag = t2, this.containerInfo = e4, this.pendingChildren = null, this.current = null, this.pingCache = null, this.finishedWork = null, this.timeoutHandle = Gc, this.context = null, this.pendingContext = null, this.callbackNode = null, this.callbackPriority = ai, this.eventTimes = oa(ae), this.expirationTimes = oa(T), this.pendingLanes = ae, this.suspendedLanes = ae, this.pingedLanes = ae, this.expiredLanes = ae, this.mutableReadLanes = ae, this.finishedLanes = ae, this.entangledLanes = ae, this.entanglements = oa(ae), this.identifierPrefix = r2, this.onRecoverableError = o2, this.mutableSourceEagerHydrationData = null, this.effectDuration = 0, this.passiveEffectDuration = 0, this.memoizedUpdaters = /* @__PURE__ */ new Set();
      for (var i2 = this.pendingUpdatersLaneMap = [], a2 = 0; a2 < ii; a2++)
        i2.push(/* @__PURE__ */ new Set());
      switch (t2) {
        case Qu:
          this._debugRootType = n2 ? "hydrateRoot()" : "createRoot()";
          break;
        case Ju:
          this._debugRootType = n2 ? "hydrate()" : "render()";
      }
    }, Yy = function(e4, t2, n2, r2, o2, i2, a2, s2, l2) {
      var c2, e4 = new qy(e4, t2, n2, s2, l2), l2 = (s2 = i2, t2 === Qu ? (c2 = b, true === s2 && (c2 = c2 | ei | ti)) : c2 = E, Vo && (c2 |= x), Ly(K, null, null, c2));
      return (e4.current = l2).stateNode = e4, l2.memoizedState = { element: r2, isDehydrated: n2, cache: null, transitions: null, pendingSuspenseBoundaries: null }, Dp(l2), e4;
    }, Gy = function(e4) {
      if (!e4)
        return Lu;
      var e4 = Hr(e4), t2 = Xu(e4);
      if (e4.tag === Y) {
        var n2 = e4.type;
        if (Wu(n2))
          return Ku(e4, n2, t2);
      }
      return t2;
    }, Zy = function(e4, t2, n2, r2, o2, i2, a2) {
      return Yy(e4, t2, false, null, 0, r2, 0, i2, a2);
    }, Xy = function(e4, t2, n2, r2, o2, i2, a2, s2, l2) {
      var n2 = Yy(n2, r2, true, e4, 0, i2, 0, s2, l2), r2 = (n2.context = Gy(null), n2.current), e4 = Mv(), i2 = Dv(r2), s2 = Pp(e4, i2);
      return s2.callback = null != t2 ? t2 : null, zp(r2, s2, i2), l2 = i2, t2 = e4, ia(r2 = n2, r2.current.lanes = l2, t2), zv(r2, t2), n2;
    }, Jy = function(e4, t2, n2, r2) {
      var o2 = t2, i2 = e4;
      if ($o && "function" == typeof $o.onScheduleFiberRoot)
        try {
          $o.onScheduleFiberRoot(Fo, o2, i2);
        } catch (e5) {
          Bo || (Bo = true, te("React instrumentation encountered an error: %s", e5));
        }
      var o2 = t2.current, i2 = Mv(), a2 = Dv(o2), s2 = (s2 = a2, null !== w && "function" == typeof w.markRenderScheduled && w.markRenderScheduled(s2), Gy(n2)), n2 = (null === t2.context ? t2.context = s2 : t2.pendingContext = s2, kt && null !== St && !r1 && (r1 = true, te("Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.\n\nCheck the render method of %s.", C(St) || "Unknown")), Pp(i2, a2)), t2 = (n2.payload = { element: e4 }, null !== (r2 = void 0 === r2 ? null : r2) && ("function" != typeof r2 && te("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.", r2), n2.callback = r2), zp(o2, n2, a2));
      null !== t2 && (Pv(t2, o2, a2, i2), Lp(t2, o2, a2));
    }, Qy = function(e4) {
      e4 = e4.current;
      return e4.child ? (e4.child.tag, e4.child.stateNode) : null;
    }, e1 = function(e4, t2) {
      var e4 = e4.memoizedState;
      null !== e4 && null !== e4.dehydrated && (e4.retryLane = (e4 = e4.retryLane, t2 = t2, e4 !== ai && e4 < t2 ? e4 : t2));
    }, t1 = function(e4, t2) {
      e1(e4, t2);
      e4 = e4.alternate;
      e4 && e1(e4, t2);
    }, n1 = function(e4) {
      e4 = Eo(e4);
      return null === e4 ? null : e4.stateNode;
    }, s1 = function(e4, t2, n2) {
      var r2 = t2[n2], o2 = en(e4) ? e4.slice() : k({}, e4);
      return n2 + 1 === t2.length ? en(o2) ? o2.splice(r2, 1) : delete o2[r2] : o2[r2] = s1(e4[r2], t2, n2 + 1), o2;
    }, l1 = function(e4, t2, n2, r2) {
      var o2 = t2[r2], i2 = en(e4) ? e4.slice() : k({}, e4);
      return r2 + 1 === t2.length ? (i2[n2[r2]] = i2[o2], en(i2) ? i2.splice(o2, 1) : delete i2[o2]) : i2[o2] = l1(e4[o2], t2, n2, r2 + 1), i2;
    }, c1 = function(e4, t2, n2, r2) {
      var o2, i2;
      return n2 >= t2.length ? r2 : (o2 = t2[n2], (i2 = en(e4) ? e4.slice() : k({}, e4))[o2] = c1(e4[o2], t2, n2 + 1, r2), i2);
    }, k1 = function(e4) {
      e4 = Co(e4);
      return null === e4 ? null : e4.stateNode;
    }, C1 = function(e4) {
      return null;
    }, E1 = function() {
      return St;
    }, _1 = function(e4) {
      this._internalRoot = e4;
    }, R1 = function(e4) {
      this._internalRoot = e4;
    }, O1 = function(e4) {
      return e4 && (e4.nodeType === xn || e4.nodeType === Cn || e4.nodeType === En || !t);
    }, I1 = function(e4) {
      return !(!e4 || e4.nodeType !== xn && e4.nodeType !== Cn && e4.nodeType !== En && (e4.nodeType !== kn || " react-mount-point-unstable " !== e4.nodeValue));
    }, M1 = function(e4) {
      e4.nodeType === xn && e4.tagName && "BODY" === e4.tagName.toUpperCase() && te("createRoot(): Creating roots directly with document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try using a container element created for your app."), bu(e4) && (e4._reactRootContainer ? te("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported.") : te("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."));
    }, P1 = function(e4) {
      return e4 ? e4.nodeType === Cn ? e4.documentElement : e4.firstChild : null;
    }, z1 = function() {
    }, L1 = function(e4, t2, n2, r2, o2) {
      D1(n2), l2 = "render", null !== (i2 = void 0 === o2 ? null : o2) && "function" != typeof i2 && te("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.", l2, i2);
      var i2, a2, s2, l2 = n2._reactRootContainer;
      return l2 ? ("function" == typeof o2 && (a2 = o2, o2 = function() {
        var e5 = Qy(s2);
        a2.call(e5);
      }), Jy(t2, s2 = l2, e4, o2)) : s2 = function(e5, t3, n3, r3, o3) {
        var i3, a3, s3, l3;
        if (o3)
          return "function" == typeof r3 && (i3 = r3, r3 = function() {
            var e6 = Qy(a3);
            i3.call(e6);
          }), a3 = Xy(t3, r3, e5, Ju, 0, false, 0, "", z1), vu((e5._reactRootContainer = a3).current, e5), Hl(e5.nodeType === kn ? e5.parentNode : e5), Vv(), a3;
        for (; s3 = e5.lastChild; )
          e5.removeChild(s3);
        "function" == typeof r3 && (l3 = r3, r3 = function() {
          var e6 = Qy(c2);
          l3.call(e6);
        });
        var c2 = Zy(e5, Ju, 0, false, 0, "", z1);
        return vu((e5._reactRootContainer = c2).current, e5), Hl(e5.nodeType === kn ? e5.parentNode : e5), Vv(function() {
          Jy(t3, c2, n3, r3);
        }), c2;
      }(n2, t2, e4, o2, r2), Qy(s2);
    };
    "undefined" != typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ && "function" == typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error());
    var n = import_react.default, r = requireScheduler(), s = n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED, u = false;
    var q = 0, Y = 1, le = 2, K = 3, ne = 4, G = 5, re = 6, ce = 7, ue = 8, de = 9, pe = 10, Z = 11, fe = 12, X = 13, he = 14, J = 15, me = 16, ge = 17, g = 18, ve = 19, ye = 21, be = 22, we = 23, f = 24, h = 25, m = false, v = false, t = true, y = false, N = true, P = true, z = true, L = /* @__PURE__ */ new Set(), j = {}, A = {};
    var B = !("undefined" == typeof window || void 0 === window.document || void 0 === window.document.createElement), V = Object.prototype.hasOwnProperty, H = 0, W = 2, U = 3, xe = 4, e3 = (Pr = ":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD") + "\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040", Se = new RegExp("^[" + Pr + "][" + e3 + "]*$"), ke = {}, Ce = {};
    var De = {}, Ne = (["children", "dangerouslySetInnerHTML", "defaultValue", "defaultChecked", "innerHTML", "suppressContentEditableWarning", "suppressHydrationWarning", "style"].forEach(function(e4) {
      De[e4] = new Ie(e4, H, false, e4, null, false, false);
    }), [["acceptCharset", "accept-charset"], ["className", "class"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"]].forEach(function(e4) {
      var t2 = e4[0], e4 = e4[1];
      De[t2] = new Ie(t2, 1, false, e4, null, false, false);
    }), ["contentEditable", "draggable", "spellCheck", "value"].forEach(function(e4) {
      De[e4] = new Ie(e4, W, false, e4.toLowerCase(), null, false, false);
    }), ["autoReverse", "externalResourcesRequired", "focusable", "preserveAlpha"].forEach(function(e4) {
      De[e4] = new Ie(e4, W, false, e4, null, false, false);
    }), ["allowFullScreen", "async", "autoFocus", "autoPlay", "controls", "default", "defer", "disabled", "disablePictureInPicture", "disableRemotePlayback", "formNoValidate", "hidden", "loop", "noModule", "noValidate", "open", "playsInline", "readOnly", "required", "reversed", "scoped", "seamless", "itemScope"].forEach(function(e4) {
      De[e4] = new Ie(e4, U, false, e4.toLowerCase(), null, false, false);
    }), ["checked", "multiple", "muted", "selected"].forEach(function(e4) {
      De[e4] = new Ie(e4, U, true, e4, null, false, false);
    }), ["capture", "download"].forEach(function(e4) {
      De[e4] = new Ie(e4, xe, false, e4, null, false, false);
    }), ["cols", "rows", "size", "span"].forEach(function(e4) {
      De[e4] = new Ie(e4, 6, false, e4, null, false, false);
    }), ["rowSpan", "start"].forEach(function(e4) {
      De[e4] = new Ie(e4, 5, false, e4.toLowerCase(), null, false, false);
    }), /[\-\:]([a-z])/g), Pe = (["accent-height", "alignment-baseline", "arabic-form", "baseline-shift", "cap-height", "clip-path", "clip-rule", "color-interpolation", "color-interpolation-filters", "color-profile", "color-rendering", "dominant-baseline", "enable-background", "fill-opacity", "fill-rule", "flood-color", "flood-opacity", "font-family", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-variant", "font-weight", "glyph-name", "glyph-orientation-horizontal", "glyph-orientation-vertical", "horiz-adv-x", "horiz-origin-x", "image-rendering", "letter-spacing", "lighting-color", "marker-end", "marker-mid", "marker-start", "overline-position", "overline-thickness", "paint-order", "panose-1", "pointer-events", "rendering-intent", "shape-rendering", "stop-color", "stop-opacity", "strikethrough-position", "strikethrough-thickness", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke-width", "text-anchor", "text-decoration", "text-rendering", "underline-position", "underline-thickness", "unicode-bidi", "unicode-range", "units-per-em", "v-alphabetic", "v-hanging", "v-ideographic", "v-mathematical", "vector-effect", "vert-adv-y", "vert-origin-x", "vert-origin-y", "word-spacing", "writing-mode", "xmlns:xlink", "x-height"].forEach(function(e4) {
      var t2 = e4.replace(Ne, Me);
      De[t2] = new Ie(t2, 1, false, e4, null, false, false);
    }), ["xlink:actuate", "xlink:arcrole", "xlink:role", "xlink:show", "xlink:title", "xlink:type"].forEach(function(e4) {
      var t2 = e4.replace(Ne, Me);
      De[t2] = new Ie(t2, 1, false, e4, "http://www.w3.org/1999/xlink", false, false);
    }), ["xml:base", "xml:lang", "xml:space"].forEach(function(e4) {
      var t2 = e4.replace(Ne, Me);
      De[t2] = new Ie(t2, 1, false, e4, "http://www.w3.org/XML/1998/namespace", false, false);
    }), ["tabIndex", "crossOrigin"].forEach(function(e4) {
      De[e4] = new Ie(e4, 1, false, e4.toLowerCase(), null, false, false);
    }), De.xlinkHref = new Ie("xlinkHref", 1, false, "xlink:href", "http://www.w3.org/1999/xlink", true, false), ["src", "href", "action", "formAction"].forEach(function(e4) {
      De[e4] = new Ie(e4, 1, false, e4.toLowerCase(), null, true, true);
    }), /^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i), ze = false;
    var Fe = Symbol.for("react.element"), $e = Symbol.for("react.portal"), Be = Symbol.for("react.fragment"), Ve = Symbol.for("react.strict_mode"), He = Symbol.for("react.profiler"), We = Symbol.for("react.provider"), Ue = Symbol.for("react.context"), qe = Symbol.for("react.forward_ref"), Ye = Symbol.for("react.suspense"), Ke = Symbol.for("react.suspense_list"), Ge = Symbol.for("react.memo"), Ze = Symbol.for("react.lazy"), Xe = (Symbol.for("react.scope"), Symbol.for("react.debug_trace_mode"), Symbol.for("react.offscreen")), Je = (Symbol.for("react.legacy_hidden"), Symbol.for("react.cache"), Symbol.for("react.tracing_marker"), Symbol.iterator), Qe = "@@iterator";
    var tt, nt, rt, ot, it, at, st, k = Object.assign, lt = 0;
    var ut, dt = s.ReactCurrentDispatcher;
    var ft = !(ct.__reactDisabledLog = true), ht = new ("function" == typeof WeakMap ? WeakMap : Map)();
    var xt = s.ReactDebugCurrentFrame, St = null, kt = false;
    var It = { button: true, checkbox: true, image: true, hidden: true, radio: true, reset: true, submit: true };
    var jt = false, At = false, Ft = false, $t = false;
    var Gt = false, Zt = false, Xt = false;
    var Qt = Array.isArray;
    var nn = false, rn = ["value", "defaultValue"];
    var ln = false;
    var fn = "http://www.w3.org/1999/xhtml", hn = "http://www.w3.org/2000/svg";
    bn = function(e4, t2) {
      if (e4.namespaceURI !== hn || "innerHTML" in e4)
        e4.innerHTML = t2;
      else {
        (yn = yn || document.createElement("div")).innerHTML = "<svg>" + t2.valueOf().toString() + "</svg>";
        for (var n2 = yn.firstChild; e4.firstChild; )
          e4.removeChild(e4.firstChild);
        for (; n2.firstChild; )
          e4.appendChild(n2.firstChild);
      }
    };
    var yn, bn, wn = "undefined" != typeof MSApp && MSApp.execUnsafeLocalFunction ? function(e4, t2, n2, r2) {
      MSApp.execUnsafeLocalFunction(function() {
        return bn(e4, t2, n2, r2);
      });
    } : bn, xn = 1, Sn = 3, kn = 8, Cn = 9, En = 11, Tn = { animation: ["animationDelay", "animationDirection", "animationDuration", "animationFillMode", "animationIterationCount", "animationName", "animationPlayState", "animationTimingFunction"], background: ["backgroundAttachment", "backgroundClip", "backgroundColor", "backgroundImage", "backgroundOrigin", "backgroundPositionX", "backgroundPositionY", "backgroundRepeat", "backgroundSize"], backgroundPosition: ["backgroundPositionX", "backgroundPositionY"], border: ["borderBottomColor", "borderBottomStyle", "borderBottomWidth", "borderImageOutset", "borderImageRepeat", "borderImageSlice", "borderImageSource", "borderImageWidth", "borderLeftColor", "borderLeftStyle", "borderLeftWidth", "borderRightColor", "borderRightStyle", "borderRightWidth", "borderTopColor", "borderTopStyle", "borderTopWidth"], borderBlockEnd: ["borderBlockEndColor", "borderBlockEndStyle", "borderBlockEndWidth"], borderBlockStart: ["borderBlockStartColor", "borderBlockStartStyle", "borderBlockStartWidth"], borderBottom: ["borderBottomColor", "borderBottomStyle", "borderBottomWidth"], borderColor: ["borderBottomColor", "borderLeftColor", "borderRightColor", "borderTopColor"], borderImage: ["borderImageOutset", "borderImageRepeat", "borderImageSlice", "borderImageSource", "borderImageWidth"], borderInlineEnd: ["borderInlineEndColor", "borderInlineEndStyle", "borderInlineEndWidth"], borderInlineStart: ["borderInlineStartColor", "borderInlineStartStyle", "borderInlineStartWidth"], borderLeft: ["borderLeftColor", "borderLeftStyle", "borderLeftWidth"], borderRadius: ["borderBottomLeftRadius", "borderBottomRightRadius", "borderTopLeftRadius", "borderTopRightRadius"], borderRight: ["borderRightColor", "borderRightStyle", "borderRightWidth"], borderStyle: ["borderBottomStyle", "borderLeftStyle", "borderRightStyle", "borderTopStyle"], borderTop: ["borderTopColor", "borderTopStyle", "borderTopWidth"], borderWidth: ["borderBottomWidth", "borderLeftWidth", "borderRightWidth", "borderTopWidth"], columnRule: ["columnRuleColor", "columnRuleStyle", "columnRuleWidth"], columns: ["columnCount", "columnWidth"], flex: ["flexBasis", "flexGrow", "flexShrink"], flexFlow: ["flexDirection", "flexWrap"], font: ["fontFamily", "fontFeatureSettings", "fontKerning", "fontLanguageOverride", "fontSize", "fontSizeAdjust", "fontStretch", "fontStyle", "fontVariant", "fontVariantAlternates", "fontVariantCaps", "fontVariantEastAsian", "fontVariantLigatures", "fontVariantNumeric", "fontVariantPosition", "fontWeight", "lineHeight"], fontVariant: ["fontVariantAlternates", "fontVariantCaps", "fontVariantEastAsian", "fontVariantLigatures", "fontVariantNumeric", "fontVariantPosition"], gap: ["columnGap", "rowGap"], grid: ["gridAutoColumns", "gridAutoFlow", "gridAutoRows", "gridTemplateAreas", "gridTemplateColumns", "gridTemplateRows"], gridArea: ["gridColumnEnd", "gridColumnStart", "gridRowEnd", "gridRowStart"], gridColumn: ["gridColumnEnd", "gridColumnStart"], gridColumnGap: ["columnGap"], gridGap: ["columnGap", "rowGap"], gridRow: ["gridRowEnd", "gridRowStart"], gridRowGap: ["rowGap"], gridTemplate: ["gridTemplateAreas", "gridTemplateColumns", "gridTemplateRows"], listStyle: ["listStyleImage", "listStylePosition", "listStyleType"], margin: ["marginBottom", "marginLeft", "marginRight", "marginTop"], marker: ["markerEnd", "markerMid", "markerStart"], mask: ["maskClip", "maskComposite", "maskImage", "maskMode", "maskOrigin", "maskPositionX", "maskPositionY", "maskRepeat", "maskSize"], maskPosition: ["maskPositionX", "maskPositionY"], outline: ["outlineColor", "outlineStyle", "outlineWidth"], overflow: ["overflowX", "overflowY"], padding: ["paddingBottom", "paddingLeft", "paddingRight", "paddingTop"], placeContent: ["alignContent", "justifyContent"], placeItems: ["alignItems", "justifyItems"], placeSelf: ["alignSelf", "justifySelf"], textDecoration: ["textDecorationColor", "textDecorationLine", "textDecorationStyle"], textEmphasis: ["textEmphasisColor", "textEmphasisStyle"], transition: ["transitionDelay", "transitionDuration", "transitionProperty", "transitionTimingFunction"], wordWrap: ["overflowWrap"] }, _n = { animationIterationCount: true, aspectRatio: true, borderImageOutset: true, borderImageSlice: true, borderImageWidth: true, boxFlex: true, boxFlexGroup: true, boxOrdinalGroup: true, columnCount: true, columns: true, flex: true, flexGrow: true, flexPositive: true, flexShrink: true, flexNegative: true, flexOrder: true, gridArea: true, gridRow: true, gridRowEnd: true, gridRowSpan: true, gridRowStart: true, gridColumn: true, gridColumnEnd: true, gridColumnSpan: true, gridColumnStart: true, fontWeight: true, lineClamp: true, lineHeight: true, opacity: true, order: true, orphans: true, tabSize: true, widows: true, zIndex: true, zoom: true, fillOpacity: true, floodOpacity: true, stopOpacity: true, strokeDasharray: true, strokeDashoffset: true, strokeMiterlimit: true, strokeOpacity: true, strokeWidth: true }, Rn = ["Webkit", "ms", "Moz", "O"];
    Object.keys(_n).forEach(function(t2) {
      Rn.forEach(function(e4) {
        _n[e4 + (e4 = t2).charAt(0).toUpperCase() + e4.substring(1)] = _n[t2];
      });
    });
    var In = /([A-Z])/g, Mn = /^ms-/, Dn = /^(?:webkit|moz|o)[A-Z]/, Nn = /^-ms-/, Pn = /-(.)/g, zn = /;\s*$/, Ln = {}, jn = {}, An = false, Fn = false, $n = function(e4) {
      Ln.hasOwnProperty(e4) && Ln[e4] || (Ln[e4] = true, te("Unsupported style property %s. Did you mean %s?", e4, e4.replace(Nn, "ms-").replace(Pn, function(e5, t2) {
        return t2.toUpperCase();
      })));
    }, Bn = function(e4) {
      Ln.hasOwnProperty(e4) && Ln[e4] || (Ln[e4] = true, te("Unsupported vendor-prefixed style property %s. Did you mean %s?", e4, e4.charAt(0).toUpperCase() + e4.slice(1)));
    }, Vn = function(e4, t2) {
      jn.hasOwnProperty(t2) && jn[t2] || (jn[t2] = true, te(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`, e4, t2.replace(zn, "")));
    }, Hn = function(e4, t2) {
      An || (An = true, te("`NaN` is an invalid value for the `%s` css style property.", e4));
    }, Wn = function(e4, t2) {
      Fn || (Fn = true, te("`Infinity` is an invalid value for the `%s` css style property.", e4));
    }, Un = function(e4, t2) {
      -1 < e4.indexOf("-") ? $n(e4) : Dn.test(e4) ? Bn(e4) : zn.test(t2) && Vn(e4, t2), "number" == typeof t2 && (isNaN(t2) ? Hn(e4, t2) : isFinite(t2) || Wn(e4, t2));
    };
    var Gn = k({ menuitem: true }, { area: true, base: true, br: true, col: true, embed: true, hr: true, img: true, input: true, keygen: true, link: true, meta: true, param: true, source: true, track: true, wbr: true });
    var Jn = { accept: "accept", acceptcharset: "acceptCharset", "accept-charset": "acceptCharset", accesskey: "accessKey", action: "action", allowfullscreen: "allowFullScreen", alt: "alt", as: "as", async: "async", autocapitalize: "autoCapitalize", autocomplete: "autoComplete", autocorrect: "autoCorrect", autofocus: "autoFocus", autoplay: "autoPlay", autosave: "autoSave", capture: "capture", cellpadding: "cellPadding", cellspacing: "cellSpacing", challenge: "challenge", charset: "charSet", checked: "checked", children: "children", cite: "cite", class: "className", classid: "classID", classname: "className", cols: "cols", colspan: "colSpan", content: "content", contenteditable: "contentEditable", contextmenu: "contextMenu", controls: "controls", controlslist: "controlsList", coords: "coords", crossorigin: "crossOrigin", dangerouslysetinnerhtml: "dangerouslySetInnerHTML", data: "data", datetime: "dateTime", default: "default", defaultchecked: "defaultChecked", defaultvalue: "defaultValue", defer: "defer", dir: "dir", disabled: "disabled", disablepictureinpicture: "disablePictureInPicture", disableremoteplayback: "disableRemotePlayback", download: "download", draggable: "draggable", enctype: "encType", enterkeyhint: "enterKeyHint", for: "htmlFor", form: "form", formmethod: "formMethod", formaction: "formAction", formenctype: "formEncType", formnovalidate: "formNoValidate", formtarget: "formTarget", frameborder: "frameBorder", headers: "headers", height: "height", hidden: "hidden", high: "high", href: "href", hreflang: "hrefLang", htmlfor: "htmlFor", httpequiv: "httpEquiv", "http-equiv": "httpEquiv", icon: "icon", id: "id", imagesizes: "imageSizes", imagesrcset: "imageSrcSet", innerhtml: "innerHTML", inputmode: "inputMode", integrity: "integrity", is: "is", itemid: "itemID", itemprop: "itemProp", itemref: "itemRef", itemscope: "itemScope", itemtype: "itemType", keyparams: "keyParams", keytype: "keyType", kind: "kind", label: "label", lang: "lang", list: "list", loop: "loop", low: "low", manifest: "manifest", marginwidth: "marginWidth", marginheight: "marginHeight", max: "max", maxlength: "maxLength", media: "media", mediagroup: "mediaGroup", method: "method", min: "min", minlength: "minLength", multiple: "multiple", muted: "muted", name: "name", nomodule: "noModule", nonce: "nonce", novalidate: "noValidate", open: "open", optimum: "optimum", pattern: "pattern", placeholder: "placeholder", playsinline: "playsInline", poster: "poster", preload: "preload", profile: "profile", radiogroup: "radioGroup", readonly: "readOnly", referrerpolicy: "referrerPolicy", rel: "rel", required: "required", reversed: "reversed", role: "role", rows: "rows", rowspan: "rowSpan", sandbox: "sandbox", scope: "scope", scoped: "scoped", scrolling: "scrolling", seamless: "seamless", selected: "selected", shape: "shape", size: "size", sizes: "sizes", span: "span", spellcheck: "spellCheck", src: "src", srcdoc: "srcDoc", srclang: "srcLang", srcset: "srcSet", start: "start", step: "step", style: "style", summary: "summary", tabindex: "tabIndex", target: "target", title: "title", type: "type", usemap: "useMap", value: "value", width: "width", wmode: "wmode", wrap: "wrap", about: "about", accentheight: "accentHeight", "accent-height": "accentHeight", accumulate: "accumulate", additive: "additive", alignmentbaseline: "alignmentBaseline", "alignment-baseline": "alignmentBaseline", allowreorder: "allowReorder", alphabetic: "alphabetic", amplitude: "amplitude", arabicform: "arabicForm", "arabic-form": "arabicForm", ascent: "ascent", attributename: "attributeName", attributetype: "attributeType", autoreverse: "autoReverse", azimuth: "azimuth", basefrequency: "baseFrequency", baselineshift: "baselineShift", "baseline-shift": "baselineShift", baseprofile: "baseProfile", bbox: "bbox", begin: "begin", bias: "bias", by: "by", calcmode: "calcMode", capheight: "capHeight", "cap-height": "capHeight", clip: "clip", clippath: "clipPath", "clip-path": "clipPath", clippathunits: "clipPathUnits", cliprule: "clipRule", "clip-rule": "clipRule", color: "color", colorinterpolation: "colorInterpolation", "color-interpolation": "colorInterpolation", colorinterpolationfilters: "colorInterpolationFilters", "color-interpolation-filters": "colorInterpolationFilters", colorprofile: "colorProfile", "color-profile": "colorProfile", colorrendering: "colorRendering", "color-rendering": "colorRendering", contentscripttype: "contentScriptType", contentstyletype: "contentStyleType", cursor: "cursor", cx: "cx", cy: "cy", d: "d", datatype: "datatype", decelerate: "decelerate", descent: "descent", diffuseconstant: "diffuseConstant", direction: "direction", display: "display", divisor: "divisor", dominantbaseline: "dominantBaseline", "dominant-baseline": "dominantBaseline", dur: "dur", dx: "dx", dy: "dy", edgemode: "edgeMode", elevation: "elevation", enablebackground: "enableBackground", "enable-background": "enableBackground", end: "end", exponent: "exponent", externalresourcesrequired: "externalResourcesRequired", fill: "fill", fillopacity: "fillOpacity", "fill-opacity": "fillOpacity", fillrule: "fillRule", "fill-rule": "fillRule", filter: "filter", filterres: "filterRes", filterunits: "filterUnits", floodopacity: "floodOpacity", "flood-opacity": "floodOpacity", floodcolor: "floodColor", "flood-color": "floodColor", focusable: "focusable", fontfamily: "fontFamily", "font-family": "fontFamily", fontsize: "fontSize", "font-size": "fontSize", fontsizeadjust: "fontSizeAdjust", "font-size-adjust": "fontSizeAdjust", fontstretch: "fontStretch", "font-stretch": "fontStretch", fontstyle: "fontStyle", "font-style": "fontStyle", fontvariant: "fontVariant", "font-variant": "fontVariant", fontweight: "fontWeight", "font-weight": "fontWeight", format: "format", from: "from", fx: "fx", fy: "fy", g1: "g1", g2: "g2", glyphname: "glyphName", "glyph-name": "glyphName", glyphorientationhorizontal: "glyphOrientationHorizontal", "glyph-orientation-horizontal": "glyphOrientationHorizontal", glyphorientationvertical: "glyphOrientationVertical", "glyph-orientation-vertical": "glyphOrientationVertical", glyphref: "glyphRef", gradienttransform: "gradientTransform", gradientunits: "gradientUnits", hanging: "hanging", horizadvx: "horizAdvX", "horiz-adv-x": "horizAdvX", horizoriginx: "horizOriginX", "horiz-origin-x": "horizOriginX", ideographic: "ideographic", imagerendering: "imageRendering", "image-rendering": "imageRendering", in2: "in2", in: "in", inlist: "inlist", intercept: "intercept", k1: "k1", k2: "k2", k3: "k3", k4: "k4", k: "k", kernelmatrix: "kernelMatrix", kernelunitlength: "kernelUnitLength", kerning: "kerning", keypoints: "keyPoints", keysplines: "keySplines", keytimes: "keyTimes", lengthadjust: "lengthAdjust", letterspacing: "letterSpacing", "letter-spacing": "letterSpacing", lightingcolor: "lightingColor", "lighting-color": "lightingColor", limitingconeangle: "limitingConeAngle", local: "local", markerend: "markerEnd", "marker-end": "markerEnd", markerheight: "markerHeight", markermid: "markerMid", "marker-mid": "markerMid", markerstart: "markerStart", "marker-start": "markerStart", markerunits: "markerUnits", markerwidth: "markerWidth", mask: "mask", maskcontentunits: "maskContentUnits", maskunits: "maskUnits", mathematical: "mathematical", mode: "mode", numoctaves: "numOctaves", offset: "offset", opacity: "opacity", operator: "operator", order: "order", orient: "orient", orientation: "orientation", origin: "origin", overflow: "overflow", overlineposition: "overlinePosition", "overline-position": "overlinePosition", overlinethickness: "overlineThickness", "overline-thickness": "overlineThickness", paintorder: "paintOrder", "paint-order": "paintOrder", panose1: "panose1", "panose-1": "panose1", pathlength: "pathLength", patterncontentunits: "patternContentUnits", patterntransform: "patternTransform", patternunits: "patternUnits", pointerevents: "pointerEvents", "pointer-events": "pointerEvents", points: "points", pointsatx: "pointsAtX", pointsaty: "pointsAtY", pointsatz: "pointsAtZ", prefix: "prefix", preservealpha: "preserveAlpha", preserveaspectratio: "preserveAspectRatio", primitiveunits: "primitiveUnits", property: "property", r: "r", radius: "radius", refx: "refX", refy: "refY", renderingintent: "renderingIntent", "rendering-intent": "renderingIntent", repeatcount: "repeatCount", repeatdur: "repeatDur", requiredextensions: "requiredExtensions", requiredfeatures: "requiredFeatures", resource: "resource", restart: "restart", result: "result", results: "results", rotate: "rotate", rx: "rx", ry: "ry", scale: "scale", security: "security", seed: "seed", shaperendering: "shapeRendering", "shape-rendering": "shapeRendering", slope: "slope", spacing: "spacing", specularconstant: "specularConstant", specularexponent: "specularExponent", speed: "speed", spreadmethod: "spreadMethod", startoffset: "startOffset", stddeviation: "stdDeviation", stemh: "stemh", stemv: "stemv", stitchtiles: "stitchTiles", stopcolor: "stopColor", "stop-color": "stopColor", stopopacity: "stopOpacity", "stop-opacity": "stopOpacity", strikethroughposition: "strikethroughPosition", "strikethrough-position": "strikethroughPosition", strikethroughthickness: "strikethroughThickness", "strikethrough-thickness": "strikethroughThickness", string: "string", stroke: "stroke", strokedasharray: "strokeDasharray", "stroke-dasharray": "strokeDasharray", strokedashoffset: "strokeDashoffset", "stroke-dashoffset": "strokeDashoffset", strokelinecap: "strokeLinecap", "stroke-linecap": "strokeLinecap", strokelinejoin: "strokeLinejoin", "stroke-linejoin": "strokeLinejoin", strokemiterlimit: "strokeMiterlimit", "stroke-miterlimit": "strokeMiterlimit", strokewidth: "strokeWidth", "stroke-width": "strokeWidth", strokeopacity: "strokeOpacity", "stroke-opacity": "strokeOpacity", suppresscontenteditablewarning: "suppressContentEditableWarning", suppresshydrationwarning: "suppressHydrationWarning", surfacescale: "surfaceScale", systemlanguage: "systemLanguage", tablevalues: "tableValues", targetx: "targetX", targety: "targetY", textanchor: "textAnchor", "text-anchor": "textAnchor", textdecoration: "textDecoration", "text-decoration": "textDecoration", textlength: "textLength", textrendering: "textRendering", "text-rendering": "textRendering", to: "to", transform: "transform", typeof: "typeof", u1: "u1", u2: "u2", underlineposition: "underlinePosition", "underline-position": "underlinePosition", underlinethickness: "underlineThickness", "underline-thickness": "underlineThickness", unicode: "unicode", unicodebidi: "unicodeBidi", "unicode-bidi": "unicodeBidi", unicoderange: "unicodeRange", "unicode-range": "unicodeRange", unitsperem: "unitsPerEm", "units-per-em": "unitsPerEm", unselectable: "unselectable", valphabetic: "vAlphabetic", "v-alphabetic": "vAlphabetic", values: "values", vectoreffect: "vectorEffect", "vector-effect": "vectorEffect", version: "version", vertadvy: "vertAdvY", "vert-adv-y": "vertAdvY", vertoriginx: "vertOriginX", "vert-origin-x": "vertOriginX", vertoriginy: "vertOriginY", "vert-origin-y": "vertOriginY", vhanging: "vHanging", "v-hanging": "vHanging", videographic: "vIdeographic", "v-ideographic": "vIdeographic", viewbox: "viewBox", viewtarget: "viewTarget", visibility: "visibility", vmathematical: "vMathematical", "v-mathematical": "vMathematical", vocab: "vocab", widths: "widths", wordspacing: "wordSpacing", "word-spacing": "wordSpacing", writingmode: "writingMode", "writing-mode": "writingMode", x1: "x1", x2: "x2", x: "x", xchannelselector: "xChannelSelector", xheight: "xHeight", "x-height": "xHeight", xlinkactuate: "xlinkActuate", "xlink:actuate": "xlinkActuate", xlinkarcrole: "xlinkArcrole", "xlink:arcrole": "xlinkArcrole", xlinkhref: "xlinkHref", "xlink:href": "xlinkHref", xlinkrole: "xlinkRole", "xlink:role": "xlinkRole", xlinkshow: "xlinkShow", "xlink:show": "xlinkShow", xlinktitle: "xlinkTitle", "xlink:title": "xlinkTitle", xlinktype: "xlinkType", "xlink:type": "xlinkType", xmlbase: "xmlBase", "xml:base": "xmlBase", xmllang: "xmlLang", "xml:lang": "xmlLang", xmlns: "xmlns", "xml:space": "xmlSpace", xmlnsxlink: "xmlnsXlink", "xmlns:xlink": "xmlnsXlink", xmlspace: "xmlSpace", y1: "y1", y2: "y2", y: "y", ychannelselector: "yChannelSelector", z: "z", zoomandpan: "zoomAndPan" }, Qn = { "aria-current": 0, "aria-description": 0, "aria-details": 0, "aria-disabled": 0, "aria-hidden": 0, "aria-invalid": 0, "aria-keyshortcuts": 0, "aria-label": 0, "aria-roledescription": 0, "aria-autocomplete": 0, "aria-checked": 0, "aria-expanded": 0, "aria-haspopup": 0, "aria-level": 0, "aria-modal": 0, "aria-multiline": 0, "aria-multiselectable": 0, "aria-orientation": 0, "aria-placeholder": 0, "aria-pressed": 0, "aria-readonly": 0, "aria-required": 0, "aria-selected": 0, "aria-sort": 0, "aria-valuemax": 0, "aria-valuemin": 0, "aria-valuenow": 0, "aria-valuetext": 0, "aria-atomic": 0, "aria-busy": 0, "aria-live": 0, "aria-relevant": 0, "aria-dropeffect": 0, "aria-grabbed": 0, "aria-activedescendant": 0, "aria-colcount": 0, "aria-colindex": 0, "aria-colspan": 0, "aria-controls": 0, "aria-describedby": 0, "aria-errormessage": 0, "aria-flowto": 0, "aria-labelledby": 0, "aria-owns": 0, "aria-posinset": 0, "aria-rowcount": 0, "aria-rowindex": 0, "aria-rowspan": 0, "aria-setsize": 0 }, er = {}, tr = new RegExp("^(aria)-[" + e3 + "]*$"), nr = new RegExp("^(aria)[A-Z][" + e3 + "]*$");
    var or = false;
    var ar = function() {
    }, sr = {}, lr = /^on./, cr = /^on[^A-Z]/, ur = new RegExp("^(aria)-[" + e3 + "]*$"), dr = new RegExp("^(aria)[A-Z][" + e3 + "]*$"), ar = function(e4, t2, n2, r2) {
      if (V.call(sr, t2) && sr[t2])
        return true;
      var o2 = t2.toLowerCase();
      if ("onfocusin" === o2 || "onfocusout" === o2)
        return te("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."), sr[t2] = true;
      if (null != r2) {
        var i2 = r2.registrationNameDependencies, r2 = r2.possibleRegistrationNames;
        if (i2.hasOwnProperty(t2))
          return true;
        i2 = r2.hasOwnProperty(o2) ? r2[o2] : null;
        if (null != i2)
          return te("Invalid event handler property `%s`. Did you mean `%s`?", t2, i2), sr[t2] = true;
        if (lr.test(t2))
          return te("Unknown event handler property `%s`. It will be ignored.", t2), sr[t2] = true;
      } else if (lr.test(t2))
        return cr.test(t2) && te("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.", t2), sr[t2] = true;
      if (ur.test(t2) || dr.test(t2))
        return true;
      if ("innerhtml" === o2)
        return te("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."), sr[t2] = true;
      if ("aria" === o2)
        return te("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."), sr[t2] = true;
      if ("is" === o2 && null != n2 && "string" != typeof n2)
        return te("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.", typeof n2), sr[t2] = true;
      if ("number" == typeof n2 && isNaN(n2))
        return te("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.", t2), sr[t2] = true;
      r2 = Oe(t2), i2 = null !== r2 && r2.type === H;
      if (Jn.hasOwnProperty(o2)) {
        var a2 = Jn[o2];
        if (a2 !== t2)
          return te("Invalid DOM property `%s`. Did you mean `%s`?", t2, a2), sr[t2] = true;
      } else if (!i2 && t2 !== o2)
        return te("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.", t2, o2), sr[t2] = true;
      return "boolean" == typeof n2 && _e(t2, n2, r2, false) ? (n2 ? te('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.', n2, t2, t2, n2, t2) : te('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.', n2, t2, t2, n2, t2, t2, t2), sr[t2] = true) : i2 || (_e(t2, n2, r2, false) ? !(sr[t2] = true) : "false" !== n2 && "true" !== n2 || null === r2 || r2.type !== U || (te("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?", n2, t2, "false" === n2 ? "The browser will interpret it as a truthy value." : 'Although this works, it will not work as expected if you pass the string "false".', t2, n2), sr[t2] = true));
    }, pr = 1, fr = 2, hr = 4, mr = pr | fr | hr, gr = null;
    var yr = null, br = null, wr = null;
    var Cr = function(e4, t2) {
      return e4(t2);
    }, Er = function() {
    }, Tr = false;
    var Ir = false;
    if (B)
      try {
        var Mr = {};
        Object.defineProperty(Mr, "passive", { get: function() {
          Ir = true;
        } }), window.addEventListener("test", Mr, Mr), window.removeEventListener("test", Mr, Mr);
      } catch (e4) {
        Ir = false;
      }
    var Nr, Pr = Dr, zr = ("undefined" != typeof window && "function" == typeof window.dispatchEvent && "undefined" != typeof document && "function" == typeof document.createEvent && (Nr = document.createElement("react"), Pr = function(e4, t2, n2, r2, o2, i2, a2, s2, l2) {
      if ("undefined" == typeof document || null === document)
        throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");
      var c2 = document.createEvent("Event"), u2 = false, d2 = true, p2 = window.event, f2 = Object.getOwnPropertyDescriptor(window, "event");
      function h2() {
        Nr.removeEventListener(x2, v2, false), void 0 !== window.event && window.hasOwnProperty("event") && (window.event = p2);
      }
      var m2, g2 = Array.prototype.slice.call(arguments, 3);
      function v2() {
        u2 = true, h2(), t2.apply(n2, g2), d2 = false;
      }
      var y2 = false, b2 = false;
      function w2(e5) {
        if (m2 = e5.error, y2 = true, null === m2 && 0 === e5.colno && 0 === e5.lineno && (b2 = true), e5.defaultPrevented && null != m2 && "object" == typeof m2)
          try {
            m2._suppressLogging = true;
          } catch (e6) {
          }
      }
      var x2 = "react-" + (e4 || "invokeguardedcallback");
      if (window.addEventListener("error", w2), Nr.addEventListener(x2, v2, false), c2.initEvent(x2, false, false), Nr.dispatchEvent(c2), f2 && Object.defineProperty(window, "event", f2), u2 && d2 && (y2 ? b2 && (m2 = new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")) : m2 = new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`), this.onError(m2)), window.removeEventListener("error", w2), !u2)
        return h2(), Dr.apply(this, arguments);
    }), Pr), Lr = false, jr = null, Ar = false, Fr = null, $r = { onError: function(e4) {
      Lr = true, jr = e4;
    } };
    var ee = 0, Wr = 1, Ur = 2, oe = 4, qr = 16, Yr = 32, ie2 = 128, Kr = 256, Gr = 512, Zr = 1024, Xr = 2048, Jr = 4096, Qr = 8192, eo = 16384, to = Xr | oe | 64 | Gr | Zr | eo, no = 32767, ro = 32768, oo = 65536, io = 131072, ao = 1048576, so = 2097152, lo = 4194304, co = 8388608, uo = 16777216, po = 33554432, fo = oe | Zr | 0, ho = Ur | oe | qr | Yr | Gr | Jr | Qr, mo = 64 | oe | Gr | Qr, go = Xr | qr, vo = lo | co | so, yo = s.ReactCurrentOwner;
    var To = r.unstable_scheduleCallback, _o = r.unstable_cancelCallback, Ro = r.unstable_shouldYield, Oo = r.unstable_requestPaint, Io = r.unstable_now, Mo = r.unstable_getCurrentPriorityLevel, Do = r.unstable_ImmediatePriority, No = r.unstable_UserBlockingPriority, Po = r.unstable_NormalPriority, zo = r.unstable_LowPriority, Lo = r.unstable_IdlePriority, jo = r.unstable_yieldValue, Ao = r.unstable_setDisableYieldValue, Fo = null, $o = null, w = null, Bo = false, Vo = "undefined" != typeof __REACT_DEVTOOLS_GLOBAL_HOOK__;
    var E = 0, b = 1, x = 2, ei = 8, ti = 16, ni = Math.clz32 || function(e4) {
      e4 >>>= 0;
      return 0 != e4 ? 31 - (ri(e4) / oi | 0) | 0 : 32;
    }, ri = Math.log, oi = Math.LN2, ii = 31, ae = 0, ai = 0, S = 1, si = 2, li = 4, ci = 8, ui = 16, di = 32, pi = 4194240, fi = 64, hi = 128, mi = 256, gi = 512, vi2 = 1024, yi = 2048, bi = 4096, wi = 8192, xi = 16384, Si = 32768, ki = 65536, Ci = 131072, Ei = 262144, Ti = 524288, _i = 1048576, Ri = 2097152, Oi = 130023424, Ii = 4194304, Mi = 8388608, Di = 16777216, Ni = 33554432, Pi = 67108864, zi = Ii, Li = 134217728, ji = 268435455, Ai = 268435456, Fi = 536870912, $i = 1073741824, T = -1, Bi = fi, Vi = Ii;
    var ua2, da, pa, fa, ha, ma = S, ga = li, va = ui, ya = Fi, ba = ai;
    var Ea = false, Ta = [], _a = null, Ra = null, Oa = null, Ia = /* @__PURE__ */ new Map(), Ma = /* @__PURE__ */ new Map(), Da = [], Na = ["mousedown", "mouseup", "touchcancel", "touchend", "touchstart", "auxclick", "dblclick", "pointercancel", "pointerdown", "pointerup", "dragend", "dragstart", "drop", "compositionend", "compositionstart", "keydown", "keypress", "keyup", "input", "textInput", "copy", "cut", "paste", "click", "change", "contextmenu", "reset", "submit"];
    var Va = s.ReactCurrentBatchConfig, Ha = true;
    var Ka = null;
    var Xa = null, Ja = null, Qa = null;
    var as, ss, ls, cs = is2(e3 = { eventPhase: 0, bubbles: 0, cancelable: 0, timeStamp: function(e4) {
      return e4.timeStamp || Date.now();
    }, defaultPrevented: 0, isTrusted: 0 }), us = is2(Mr = k({}, e3, { view: 0, detail: 0 })), ds = is2(Pr = k({}, Mr, { screenX: 0, screenY: 0, clientX: 0, clientY: 0, pageX: 0, pageY: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, getModifierState: Ss, button: 0, buttons: 0, relatedTarget: function(e4) {
      return void 0 === e4.relatedTarget ? e4.fromElement === e4.srcElement ? e4.toElement : e4.fromElement : e4.relatedTarget;
    }, movementX: function(e4) {
      return "movementX" in e4 ? e4.movementX : ((e4 = e4) !== ls && (ss = ls && "mousemove" === e4.type ? (as = e4.screenX - ls.screenX, e4.screenY - ls.screenY) : as = 0, ls = e4), as);
    }, movementY: function(e4) {
      return "movementY" in e4 ? e4.movementY : ss;
    } })), ps = is2(k({}, Pr, { dataTransfer: 0 })), fs = is2(k({}, Mr, { relatedTarget: 0 })), hs = is2(k({}, e3, { animationName: 0, elapsedTime: 0, pseudoElement: 0 })), ms = is2(k({}, e3, { clipboardData: function(e4) {
      return ("clipboardData" in e4 ? e4 : window).clipboardData;
    } })), gs = is2(k({}, e3, { data: 0 })), vs = gs, ys = { Esc: "Escape", Spacebar: " ", Left: "ArrowLeft", Up: "ArrowUp", Right: "ArrowRight", Down: "ArrowDown", Del: "Delete", Win: "OS", Menu: "ContextMenu", Apps: "ContextMenu", Scroll: "ScrollLock", MozPrintableKey: "Unidentified" }, bs = { 8: "Backspace", 9: "Tab", 12: "Clear", 13: "Enter", 16: "Shift", 17: "Control", 18: "Alt", 19: "Pause", 20: "CapsLock", 27: "Escape", 32: " ", 33: "PageUp", 34: "PageDown", 35: "End", 36: "Home", 37: "ArrowLeft", 38: "ArrowUp", 39: "ArrowRight", 40: "ArrowDown", 45: "Insert", 46: "Delete", 112: "F1", 113: "F2", 114: "F3", 115: "F4", 116: "F5", 117: "F6", 118: "F7", 119: "F8", 120: "F9", 121: "F10", 122: "F11", 123: "F12", 144: "NumLock", 145: "ScrollLock", 224: "Meta" }, ws = { Alt: "altKey", Control: "ctrlKey", Meta: "metaKey", Shift: "shiftKey" };
    var ks = is2(k({}, Mr, { key: function(e4) {
      if (e4.key) {
        var t2 = ys[e4.key] || e4.key;
        if ("Unidentified" !== t2)
          return t2;
      }
      return "keypress" === e4.type ? 13 === (t2 = ns(e4)) ? "Enter" : String.fromCharCode(t2) : "keydown" === e4.type || "keyup" === e4.type ? bs[e4.keyCode] || "Unidentified" : "";
    }, code: 0, location: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, repeat: 0, locale: 0, getModifierState: Ss, charCode: function(e4) {
      return "keypress" === e4.type ? ns(e4) : 0;
    }, keyCode: function(e4) {
      return "keydown" === e4.type || "keyup" === e4.type ? e4.keyCode : 0;
    }, which: function(e4) {
      return "keypress" === e4.type ? ns(e4) : "keydown" === e4.type || "keyup" === e4.type ? e4.keyCode : 0;
    } })), Cs = is2(k({}, Pr, { pointerId: 0, width: 0, height: 0, pressure: 0, tangentialPressure: 0, tiltX: 0, tiltY: 0, twist: 0, pointerType: 0, isPrimary: 0 })), Es = is2(k({}, Mr, { touches: 0, targetTouches: 0, changedTouches: 0, altKey: 0, metaKey: 0, ctrlKey: 0, shiftKey: 0, getModifierState: Ss })), Ts = is2(k({}, e3, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 })), _s = is2(k({}, Pr, { deltaX: function(e4) {
      return "deltaX" in e4 ? e4.deltaX : "wheelDeltaX" in e4 ? -e4.wheelDeltaX : 0;
    }, deltaY: function(e4) {
      return "deltaY" in e4 ? e4.deltaY : "wheelDeltaY" in e4 ? -e4.wheelDeltaY : "wheelDelta" in e4 ? -e4.wheelDelta : 0;
    }, deltaZ: 0, deltaMode: 0 })), Rs = [9, 13, 27, 32], Os = B && "CompositionEvent" in window, Mr = null, Is = (B && "documentMode" in document && (Mr = document.documentMode), B && "TextEvent" in window && !Mr), Ms = B && (!Os || Mr && 8 < Mr && Mr <= 11), Ds = String.fromCharCode(32), Ns = false;
    var js = false;
    var Bs = { color: true, date: true, datetime: true, "datetime-local": true, email: true, month: true, number: true, password: true, range: true, search: true, tel: true, text: true, time: true, url: true, week: true };
    var Ws = null, Us = null;
    var Gs = false;
    B && (e3 = "input", Gs = !!B && ((Pr = (e3 = "on" + e3) in document) || ((Mr = document.createElement("div")).setAttribute(e3, "return;"), Pr = "function" == typeof Mr[e3]), Pr) && (!document.documentMode || 9 < document.documentMode));
    var ol = "function" == typeof Object.is ? Object.is : function(e4, t2) {
      return e4 === t2 && (0 !== e4 || 1 / e4 == 1 / t2) || e4 != e4 && t2 != t2;
    };
    var ml = B && "documentMode" in document && document.documentMode <= 11, gl = null, vl = null, yl = null, bl = false;
    var Sl = { animationend: xl("Animation", "AnimationEnd"), animationiteration: xl("Animation", "AnimationIteration"), animationstart: xl("Animation", "AnimationStart"), transitionend: xl("Transition", "TransitionEnd") }, kl = {}, Cl = {};
    B && (Cl = document.createElement("div").style, "AnimationEvent" in window || (delete Sl.animationend.animation, delete Sl.animationiteration.animation, delete Sl.animationstart.animation), "TransitionEvent" in window || delete Sl.transitionend.transition);
    var Tl = El("animationend"), _l = El("animationiteration"), Rl = El("animationstart"), Ol = El("transitionend"), Il = /* @__PURE__ */ new Map(), Ml = ["abort", "auxClick", "cancel", "canPlay", "canPlayThrough", "click", "close", "contextMenu", "copy", "cut", "drag", "dragEnd", "dragEnter", "dragExit", "dragLeave", "dragOver", "dragStart", "drop", "durationChange", "emptied", "encrypted", "ended", "error", "gotPointerCapture", "input", "invalid", "keyDown", "keyPress", "keyUp", "load", "loadedData", "loadedMetadata", "loadStart", "lostPointerCapture", "mouseDown", "mouseMove", "mouseOut", "mouseOver", "mouseUp", "paste", "pause", "play", "playing", "pointerCancel", "pointerDown", "pointerMove", "pointerOut", "pointerOver", "pointerUp", "progress", "rateChange", "reset", "resize", "seeked", "seeking", "stalled", "submit", "suspend", "timeUpdate", "touchCancel", "touchEnd", "touchStart", "volumeChange", "scroll", "toggle", "touchMove", "waiting", "wheel"];
    for (var Pl = 0; Pl < Ml.length; Pl++) {
      var zl = Ml[Pl];
      Dl(zl.toLowerCase(), "on" + (zl[0].toUpperCase() + zl.slice(1)));
    }
    Dl(Tl, "onAnimationEnd"), Dl(_l, "onAnimationIteration"), Dl(Rl, "onAnimationStart"), Dl("dblclick", "onDoubleClick"), Dl("focusin", "onFocus"), Dl("focusout", "onBlur"), Dl(Ol, "onTransitionEnd"), $("onMouseEnter", ["mouseout", "mouseover"]), $("onMouseLeave", ["mouseout", "mouseover"]), $("onPointerEnter", ["pointerout", "pointerover"]), $("onPointerLeave", ["pointerout", "pointerover"]), F("onChange", ["change", "click", "focusin", "focusout", "input", "keydown", "keyup", "selectionchange"]), F("onSelect", ["focusout", "contextmenu", "dragend", "focusin", "keydown", "keyup", "mousedown", "mouseup", "selectionchange"]), F("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]), F("onCompositionEnd", ["compositionend", "focusout", "keydown", "keypress", "keyup", "mousedown"]), F("onCompositionStart", ["compositionstart", "focusout", "keydown", "keypress", "keyup", "mousedown"]), F("onCompositionUpdate", ["compositionupdate", "focusout", "keydown", "keypress", "keyup", "mousedown"]);
    var jl = ["abort", "canplay", "canplaythrough", "durationchange", "emptied", "encrypted", "ended", "error", "loadeddata", "loadedmetadata", "loadstart", "pause", "play", "playing", "progress", "ratechange", "resize", "seeked", "seeking", "stalled", "suspend", "timeupdate", "volumechange", "waiting"], Al = new Set(["cancel", "close", "invalid", "load", "scroll", "toggle"].concat(jl));
    var Vl = "_reactListening" + Math.random().toString(36).slice(2);
    var Xl = false, Jl = "dangerouslySetInnerHTML", Ql = "suppressContentEditableWarning", ec = "suppressHydrationWarning", tc = "children", nc = "style", rc = "__html", oc = { dialog: true, webview: true }, ic = function(e4, t2) {
      var n2, r2;
      Xn(r2 = e4, n2 = t2) || rr(r2, n2), r2 = t2, "input" !== (n2 = e4) && "textarea" !== n2 && "select" !== n2 || null == r2 || null !== r2.value || or || (or = true, "select" === n2 && r2.multiple ? te("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.", n2) : te("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.", n2)), r2 = { registrationNameDependencies: j, possibleRegistrationNames: A }, Xn(n2 = e4, e4 = t2) || ir(n2, e4, r2);
    }, ac = B && !document.documentMode, sc = function(e4, t2, n2) {
      Xl || (n2 = fc(n2), (t2 = fc(t2)) !== n2 && (Xl = true, te("Prop `%s` did not match. Server: %s Client: %s", e4, JSON.stringify(t2), JSON.stringify(n2))));
    }, lc = function(e4) {
      var t2;
      Xl || (Xl = true, t2 = [], e4.forEach(function(e5) {
        t2.push(e5);
      }), te("Extra attributes from the server: %s", t2));
    }, cc = function(e4, t2) {
      false === t2 ? te("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.", e4, e4, e4) : te("Expected `%s` listener to be a function, instead got a value of `%s` type.", e4, typeof t2);
    }, uc = function(e4, t2) {
      e4 = e4.namespaceURI === fn ? e4.ownerDocument.createElement(e4.tagName) : e4.ownerDocument.createElementNS(e4.namespaceURI, e4.tagName);
      return e4.innerHTML = t2, e4.innerHTML;
    }, dc = /\r\n?/g, pc = /\u0000|\uFFFD/g;
    var Tc = ["address", "applet", "area", "article", "aside", "base", "basefont", "bgsound", "blockquote", "body", "br", "button", "caption", "center", "col", "colgroup", "dd", "details", "dir", "div", "dl", "dt", "embed", "fieldset", "figcaption", "figure", "footer", "form", "frame", "frameset", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "iframe", "img", "input", "isindex", "li", "link", "listing", "main", "marquee", "menu", "menuitem", "meta", "nav", "noembed", "noframes", "noscript", "object", "ol", "p", "param", "plaintext", "pre", "script", "section", "select", "source", "style", "summary", "table", "tbody", "td", "template", "textarea", "tfoot", "th", "thead", "title", "tr", "track", "ul", "wbr", "xmp"], _c = ["applet", "caption", "html", "table", "td", "th", "marquee", "object", "template", "foreignObject", "desc", "title"], Rc = _c.concat(["button"]), Oc = ["dd", "dt", "li", "option", "optgroup", "p", "rp", "rt"], Ic = { current: null, formTag: null, aTagInScope: null, buttonTagInScope: null, nobrTagInScope: null, pTagInButtonScope: null, listItemTagAutoclosing: null, dlItemTagAutoclosing: null }, Mc = function(e4, t2) {
      var e4 = k({}, e4 || Ic), n2 = { tag: t2 };
      return -1 !== _c.indexOf(t2) && (e4.aTagInScope = null, e4.buttonTagInScope = null, e4.nobrTagInScope = null), -1 !== Rc.indexOf(t2) && (e4.pTagInButtonScope = null), -1 !== Tc.indexOf(t2) && "address" !== t2 && "div" !== t2 && "p" !== t2 && (e4.listItemTagAutoclosing = null, e4.dlItemTagAutoclosing = null), e4.current = n2, "form" === t2 && (e4.formTag = n2), "a" === t2 && (e4.aTagInScope = n2), "button" === t2 && (e4.buttonTagInScope = n2), "nobr" === t2 && (e4.nobrTagInScope = n2), "p" === t2 && (e4.pTagInButtonScope = n2), "li" === t2 && (e4.listItemTagAutoclosing = n2), "dd" !== t2 && "dt" !== t2 || (e4.dlItemTagAutoclosing = n2), e4;
    }, Dc = function(e4, t2) {
      switch (t2) {
        case "select":
          return "option" === e4 || "optgroup" === e4 || "#text" === e4;
        case "optgroup":
          return "option" === e4 || "#text" === e4;
        case "option":
          return "#text" === e4;
        case "tr":
          return "th" === e4 || "td" === e4 || "style" === e4 || "script" === e4 || "template" === e4;
        case "tbody":
        case "thead":
        case "tfoot":
          return "tr" === e4 || "style" === e4 || "script" === e4 || "template" === e4;
        case "colgroup":
          return "col" === e4 || "template" === e4;
        case "table":
          return "caption" === e4 || "colgroup" === e4 || "tbody" === e4 || "tfoot" === e4 || "thead" === e4 || "style" === e4 || "script" === e4 || "template" === e4;
        case "head":
          return "base" === e4 || "basefont" === e4 || "bgsound" === e4 || "link" === e4 || "meta" === e4 || "title" === e4 || "noscript" === e4 || "noframes" === e4 || "style" === e4 || "script" === e4 || "template" === e4;
        case "html":
          return "head" === e4 || "body" === e4 || "frameset" === e4;
        case "frameset":
          return "frame" === e4;
        case "#document":
          return "html" === e4;
      }
      switch (e4) {
        case "h1":
        case "h2":
        case "h3":
        case "h4":
        case "h5":
        case "h6":
          return "h1" !== t2 && "h2" !== t2 && "h3" !== t2 && "h4" !== t2 && "h5" !== t2 && "h6" !== t2;
        case "rp":
        case "rt":
          return -1 === Oc.indexOf(t2);
        case "body":
        case "caption":
        case "col":
        case "colgroup":
        case "frameset":
        case "frame":
        case "head":
        case "html":
        case "tbody":
        case "td":
        case "tfoot":
        case "th":
        case "thead":
        case "tr":
          return null == t2;
      }
      return true;
    }, Nc = function(e4, t2) {
      switch (e4) {
        case "address":
        case "article":
        case "aside":
        case "blockquote":
        case "center":
        case "details":
        case "dialog":
        case "dir":
        case "div":
        case "dl":
        case "fieldset":
        case "figcaption":
        case "figure":
        case "footer":
        case "header":
        case "hgroup":
        case "main":
        case "menu":
        case "nav":
        case "ol":
        case "p":
        case "section":
        case "summary":
        case "ul":
        case "pre":
        case "listing":
        case "table":
        case "hr":
        case "xmp":
        case "h1":
        case "h2":
        case "h3":
        case "h4":
        case "h5":
        case "h6":
          return t2.pTagInButtonScope;
        case "form":
          return t2.formTag || t2.pTagInButtonScope;
        case "li":
          return t2.listItemTagAutoclosing;
        case "dd":
        case "dt":
          return t2.dlItemTagAutoclosing;
        case "button":
          return t2.buttonTagInScope;
        case "a":
          return t2.aTagInScope;
        case "nobr":
          return t2.nobrTagInScope;
      }
      return null;
    }, Pc = {}, zc = function(e4, t2, n2) {
      var r2, o2 = (n2 = n2 || Ic).current, i2 = o2 && o2.tag, i2 = (null != t2 && (null != e4 && te("validateDOMNesting: when childText is passed, childTag should be null"), e4 = "#text"), Dc(e4, i2) ? null : o2), o2 = i2 ? null : Nc(e4, n2), n2 = i2 || o2;
      n2 && (o2 = n2.tag, Pc[n2 = !!i2 + "|" + e4 + "|" + o2] || (Pc[n2] = true, n2 = "", "#text" === (r2 = e4) ? /\S/.test(t2) ? r2 = "Text nodes" : (r2 = "Whitespace text nodes", n2 = " Make sure you don't have any extra whitespace between tags on each line of your source code.") : r2 = "<" + e4 + ">", i2 ? (t2 = "", "table" === o2 && "tr" === e4 && (t2 += " Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."), te("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s", r2, o2, n2, t2)) : te("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.", r2, o2)));
    }, Lc = "suppressHydrationWarning", jc = "$", Ac = "/$", Fc = "$?", $c = "$!", Bc = null, Vc = null;
    var Yc = "function" == typeof setTimeout ? setTimeout : void 0, Kc = "function" == typeof clearTimeout ? clearTimeout : void 0, Gc = -1, Zc = "function" == typeof Promise ? Promise : void 0, Xc = "function" == typeof queueMicrotask ? queueMicrotask : void 0 !== Zc ? function(e4) {
      return Zc.resolve(null).then(e4).catch(Jc);
    } : Yc;
    var uu = "__reactFiber$" + (e3 = Math.random().toString(36).slice(2)), du = "__reactProps$" + e3, pu = "__reactContainer$" + e3, fu = "__reactEvents$" + e3, hu = "__reactListeners$" + e3, mu = "__reactHandles$" + e3;
    var Eu = {}, Tu = s.ReactDebugCurrentFrame;
    var Ou = [], Iu = [], Mu = -1;
    var zu = {}, Lu = {}, ju = (Object.freeze(Lu), Du(Lu)), Au = Du(false), Fu = Lu;
    var Ju = 0, Qu = 1, ed = null, td = false, nd = false;
    var ad = [], sd = 0, ld = null, cd = 0, ud = [], dd = 0, pd = null, fd = 1, hd = "";
    var Sd = null, kd = null, se = false, Cd = false, Ed = null;
    var Yd = s.ReactCurrentBatchConfig, Kd = null;
    var Zd = { recordUnsafeLifecycleWarnings: function(e4, t2) {
    }, flushPendingUnsafeLifecycleWarnings: function() {
    }, recordLegacyContextWarning: function(e4, t2) {
    }, flushLegacyContextWarning: function() {
    }, discardPendingWarnings: function() {
    } }, Xd = [], Jd = [], Qd = [], ep = [], tp = [], np = [], rp = /* @__PURE__ */ new Set(), op = (Zd.recordUnsafeLifecycleWarnings = function(e4, t2) {
      rp.has(e4.type) || ("function" == typeof t2.componentWillMount && true !== t2.componentWillMount.__suppressDeprecationWarning && Xd.push(e4), e4.mode & ei && "function" == typeof t2.UNSAFE_componentWillMount && Jd.push(e4), "function" == typeof t2.componentWillReceiveProps && true !== t2.componentWillReceiveProps.__suppressDeprecationWarning && Qd.push(e4), e4.mode & ei && "function" == typeof t2.UNSAFE_componentWillReceiveProps && ep.push(e4), "function" == typeof t2.componentWillUpdate && true !== t2.componentWillUpdate.__suppressDeprecationWarning && tp.push(e4), e4.mode & ei && "function" == typeof t2.UNSAFE_componentWillUpdate && np.push(e4));
    }, Zd.flushPendingUnsafeLifecycleWarnings = function() {
      var t2 = /* @__PURE__ */ new Set(), n2 = (0 < Xd.length && (Xd.forEach(function(e4) {
        t2.add(C(e4) || "Component"), rp.add(e4.type);
      }), Xd = []), /* @__PURE__ */ new Set()), r2 = (0 < Jd.length && (Jd.forEach(function(e4) {
        n2.add(C(e4) || "Component"), rp.add(e4.type);
      }), Jd = []), /* @__PURE__ */ new Set()), o2 = (0 < Qd.length && (Qd.forEach(function(e4) {
        r2.add(C(e4) || "Component"), rp.add(e4.type);
      }), Qd = []), /* @__PURE__ */ new Set()), i2 = (0 < ep.length && (ep.forEach(function(e4) {
        o2.add(C(e4) || "Component"), rp.add(e4.type);
      }), ep = []), /* @__PURE__ */ new Set()), a2 = (0 < tp.length && (tp.forEach(function(e4) {
        i2.add(C(e4) || "Component"), rp.add(e4.type);
      }), tp = []), /* @__PURE__ */ new Set());
      0 < np.length && (np.forEach(function(e4) {
        a2.add(C(e4) || "Component"), rp.add(e4.type);
      }), np = []), 0 < n2.size && te("Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n\nPlease update the following components: %s", Gd(n2)), 0 < o2.size && te("Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state\n\nPlease update the following components: %s", Gd(o2)), 0 < a2.size && te("Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n\nPlease update the following components: %s", Gd(a2)), 0 < t2.size && d("componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s", Gd(t2)), 0 < r2.size && d("componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state\n* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s", Gd(r2)), 0 < i2.size && d("componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s", Gd(i2));
    }, /* @__PURE__ */ new Map()), ip = /* @__PURE__ */ new Set();
    Zd.recordLegacyContextWarning = function(e4, t2) {
      var n2, r2 = function(e5) {
        for (var t3 = null, n3 = e5; null !== n3; )
          n3.mode & ei && (t3 = n3), n3 = n3.return;
        return t3;
      }(e4);
      null === r2 ? te("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.") : !ip.has(e4.type) && (n2 = op.get(r2), null != e4.type.contextTypes || null != e4.type.childContextTypes || null !== t2 && "function" == typeof t2.getChildContext) && (void 0 === n2 && op.set(r2, n2 = []), n2.push(e4));
    }, Zd.flushLegacyContextWarning = function() {
      op.forEach(function(e4, t2) {
        if (0 !== e4.length) {
          var n2 = e4[0], r2 = /* @__PURE__ */ new Set(), e4 = (e4.forEach(function(e5) {
            r2.add(C(e5) || "Component"), ip.add(e5.type);
          }), Gd(r2));
          try {
            _t(n2), te("Legacy context API has been detected within a strict-mode tree.\n\nThe old API will be supported in all 16.x releases, but applications using it should migrate to the new version.\n\nPlease update the following components: %s\n\nLearn more about this warning here: https://reactjs.org/link/legacy-context", e4);
          } finally {
            Tt();
          }
        }
      });
    }, Zd.discardPendingWarnings = function() {
      Xd = [], Jd = [], Qd = [], ep = [], tp = [], np = [], op = /* @__PURE__ */ new Map();
    };
    var sp = Du(null), lp = {}, cp = null, up = null, dp = null, pp = false;
    var Sp = null;
    var Tp = _p;
    var Rp = 0, Op = 2, Ip = 3, Mp = false;
    var Bp = false, Vp = null, Hp = {}, Wp = new n.Component().refs, Up = /* @__PURE__ */ new Set(), qp = /* @__PURE__ */ new Set(), Yp = /* @__PURE__ */ new Set(), Kp = /* @__PURE__ */ new Set(), Gp = /* @__PURE__ */ new Set(), Zp = /* @__PURE__ */ new Set(), Xp = /* @__PURE__ */ new Set(), Jp = /* @__PURE__ */ new Set(), Qp = /* @__PURE__ */ new Set(), ef = function(e4, t2) {
      var n2;
      null === e4 || "function" == typeof e4 || Qp.has(n2 = t2 + "_" + e4) || (Qp.add(n2), te("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.", t2, e4));
    }, tf = function(e4, t2) {
      void 0 === t2 && (t2 = Q(e4) || "Component", Zp.has(t2) || (Zp.add(t2), te("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.", t2)));
    };
    Object.defineProperty(Hp, "_processChildContext", { enumerable: false, value: function() {
      throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).");
    } }), Object.freeze(Hp);
    var rf, of = { isMounted: function(e4) {
      var t2, n2 = yo.current;
      return null !== n2 && n2.tag === Y && ((t2 = n2.stateNode)._warnedAboutRefsInRender || te("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.", C(n2) || "A component"), t2._warnedAboutRefsInRender = true), !!(n2 = Hr(e4)) && bo(n2) === n2;
    }, enqueueSetState: function(e4, t2, n2) {
      var e4 = Hr(e4), r2 = Mv(), o2 = Dv(e4), i2 = Pp(r2, o2), t2 = (i2.payload = t2, null != n2 && (ef(n2, "setState"), i2.callback = n2), zp(e4, i2, o2));
      null !== t2 && (Pv(t2, e4, o2, r2), Lp(t2, e4, o2)), Qo(e4, o2);
    }, enqueueReplaceState: function(e4, t2, n2) {
      var e4 = Hr(e4), r2 = Mv(), o2 = Dv(e4), i2 = Pp(r2, o2), t2 = (i2.tag = 1, i2.payload = t2, null != n2 && (ef(n2, "replaceState"), i2.callback = n2), zp(e4, i2, o2));
      null !== t2 && (Pv(t2, e4, o2, r2), Lp(t2, e4, o2)), Qo(e4, o2);
    }, enqueueForceUpdate: function(e4, t2) {
      var e4 = Hr(e4), n2 = Mv(), r2 = Dv(e4), o2 = Pp(n2, r2), t2 = (o2.tag = Op, null != t2 && (ef(t2, "forceUpdate"), o2.callback = t2), zp(e4, o2, r2));
      null !== t2 && (Pv(t2, e4, r2, n2), Lp(t2, e4, r2)), o2 = e4, n2 = r2, null !== w && "function" == typeof w.markForceUpdateScheduled && w.markForceUpdateScheduled(o2, n2);
    } };
    var df = function(e4, t2) {
    };
    var vf = rf = false, yf = {}, bf = {}, wf = {}, df = function(e4, t2) {
      if (null !== e4 && "object" == typeof e4 && e4._store && !e4._store.validated && null == e4.key) {
        if ("object" != typeof e4._store)
          throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");
        e4._store.validated = true;
        e4 = C(t2) || "Component";
        bf[e4] || (bf[e4] = true, te('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'));
      }
    }, xf = gf(true), Sf = gf(false);
    var Cf = {}, Ef = Du(Cf), Tf = Du(Cf), _f = Du(Cf);
    var zf = 1, Lf = 2, jf = Du(0);
    var Bf = 0, Vf = 1, Hf = 2, Wf = 4, Uf = 8, qf = [];
    var Kf, c = s.ReactCurrentDispatcher, Gf = s.ReactCurrentBatchConfig, Zf = /* @__PURE__ */ new Set(), Xf = ae, R = null, Jf = null, Qf = null, eh = false, th = false, nh = 0, rh = 0, l = null, oh = null, ih = -1, ah = false;
    var qh = Uh;
    var om = false;
    var pm = { readContext: xp, useCallback: lh, useContext: lh, useEffect: lh, useImperativeHandle: lh, useInsertionEffect: lh, useLayoutEffect: lh, useMemo: lh, useReducer: lh, useRef: lh, useState: lh, useDebugValue: lh, useDeferredValue: lh, useTransition: lh, useMutableSource: lh, useSyncExternalStore: lh, useId: lh, unstable_isNewReconciler: false }, fm = null, hm = null, mm = null, gm = { readContext: xp, useCallback: function(e4, t2) {
      return l = "useCallback", o(), sh(t2), Yh(e4, t2);
    }, useContext: function(e4) {
      return l = "useContext", o(), xp(e4);
    }, useEffect: function(e4, t2) {
      return l = "useEffect", o(), sh(t2), Lh(e4, t2);
    }, useImperativeHandle: function(e4, t2, n2) {
      return l = "useImperativeHandle", o(), sh(n2), Hh(e4, t2, n2);
    }, useInsertionEffect: function(e4, t2) {
      return l = "useInsertionEffect", o(), sh(t2), Ah(e4, t2);
    }, useLayoutEffect: function(e4, t2) {
      return l = "useLayoutEffect", o(), sh(t2), $h(e4, t2);
    }, useMemo: function(e4, t2) {
      l = "useMemo", o(), sh(t2);
      var n2 = c.current;
      c.current = fm;
      try {
        return Gh(e4, t2);
      } finally {
        c.current = n2;
      }
    }, useReducer: function(e4, t2, n2) {
      l = "useReducer", o();
      var r2 = c.current;
      c.current = fm;
      try {
        return yh(e4, t2, n2);
      } finally {
        c.current = r2;
      }
    }, useRef: function(e4) {
      return l = "useRef", o(), Dh(e4);
    }, useState: function(e4) {
      l = "useState", o();
      var t2 = c.current;
      c.current = fm;
      try {
        return Rh(e4);
      } finally {
        c.current = t2;
      }
    }, useDebugValue: function(e4, t2) {
      l = "useDebugValue", o();
    }, useDeferredValue: function(e4) {
      return l = "useDeferredValue", o(), Xh(e4);
    }, useTransition: function() {
      return l = "useTransition", o(), tm();
    }, useMutableSource: function(e4, t2, n2) {
      l = "useMutableSource", o();
    }, useSyncExternalStore: function(e4, t2, n2) {
      return l = "useSyncExternalStore", o(), xh(e4, t2, n2);
    }, useId: function() {
      return l = "useId", o(), im();
    }, unstable_isNewReconciler: false }, vm = { readContext: xp, useCallback: function(e4, t2) {
      return l = "useCallback", i(), Yh(e4, t2);
    }, useContext: function(e4) {
      return l = "useContext", i(), xp(e4);
    }, useEffect: function(e4, t2) {
      return l = "useEffect", i(), Lh(e4, t2);
    }, useImperativeHandle: function(e4, t2, n2) {
      return l = "useImperativeHandle", i(), Hh(e4, t2, n2);
    }, useInsertionEffect: function(e4, t2) {
      return l = "useInsertionEffect", i(), Ah(e4, t2);
    }, useLayoutEffect: function(e4, t2) {
      return l = "useLayoutEffect", i(), $h(e4, t2);
    }, useMemo: function(e4, t2) {
      l = "useMemo", i();
      var n2 = c.current;
      c.current = fm;
      try {
        return Gh(e4, t2);
      } finally {
        c.current = n2;
      }
    }, useReducer: function(e4, t2, n2) {
      l = "useReducer", i();
      var r2 = c.current;
      c.current = fm;
      try {
        return yh(e4, t2, n2);
      } finally {
        c.current = r2;
      }
    }, useRef: function(e4) {
      return l = "useRef", i(), Dh(e4);
    }, useState: function(e4) {
      l = "useState", i();
      var t2 = c.current;
      c.current = fm;
      try {
        return Rh(e4);
      } finally {
        c.current = t2;
      }
    }, useDebugValue: function(e4, t2) {
      l = "useDebugValue", i();
    }, useDeferredValue: function(e4) {
      return l = "useDeferredValue", i(), Xh(e4);
    }, useTransition: function() {
      return l = "useTransition", i(), tm();
    }, useMutableSource: function(e4, t2, n2) {
      l = "useMutableSource", i();
    }, useSyncExternalStore: function(e4, t2, n2) {
      return l = "useSyncExternalStore", i(), xh(e4, t2, n2);
    }, useId: function() {
      return l = "useId", i(), im();
    }, unstable_isNewReconciler: false }, ym = { readContext: xp, useCallback: function(e4, t2) {
      return l = "useCallback", i(), Kh(e4, t2);
    }, useContext: function(e4) {
      return l = "useContext", i(), xp(e4);
    }, useEffect: function(e4, t2) {
      return l = "useEffect", i(), jh(e4, t2);
    }, useImperativeHandle: function(e4, t2, n2) {
      return l = "useImperativeHandle", i(), Wh(e4, t2, n2);
    }, useInsertionEffect: function(e4, t2) {
      return l = "useInsertionEffect", i(), Fh(e4, t2);
    }, useLayoutEffect: function(e4, t2) {
      return l = "useLayoutEffect", i(), Bh(e4, t2);
    }, useMemo: function(e4, t2) {
      l = "useMemo", i();
      var n2 = c.current;
      c.current = hm;
      try {
        return Zh(e4, t2);
      } finally {
        c.current = n2;
      }
    }, useReducer: function(e4, t2, n2) {
      l = "useReducer", i();
      var r2 = c.current;
      c.current = hm;
      try {
        return bh(e4);
      } finally {
        c.current = r2;
      }
    }, useRef: function(e4) {
      return l = "useRef", i(), Nh();
    }, useState: function(e4) {
      l = "useState", i();
      var t2 = c.current;
      c.current = hm;
      try {
        return Oh();
      } finally {
        c.current = t2;
      }
    }, useDebugValue: function(e4, t2) {
      return l = "useDebugValue", i(), qh();
    }, useDeferredValue: function(e4) {
      return l = "useDeferredValue", i(), Jh(e4);
    }, useTransition: function() {
      return l = "useTransition", i(), nm();
    }, useMutableSource: function(e4, t2, n2) {
      l = "useMutableSource", i();
    }, useSyncExternalStore: function(e4, t2, n2) {
      return l = "useSyncExternalStore", i(), Sh(e4, t2);
    }, useId: function() {
      return l = "useId", i(), am();
    }, unstable_isNewReconciler: false }, bm = { readContext: xp, useCallback: function(e4, t2) {
      return l = "useCallback", i(), Kh(e4, t2);
    }, useContext: function(e4) {
      return l = "useContext", i(), xp(e4);
    }, useEffect: function(e4, t2) {
      return l = "useEffect", i(), jh(e4, t2);
    }, useImperativeHandle: function(e4, t2, n2) {
      return l = "useImperativeHandle", i(), Wh(e4, t2, n2);
    }, useInsertionEffect: function(e4, t2) {
      return l = "useInsertionEffect", i(), Fh(e4, t2);
    }, useLayoutEffect: function(e4, t2) {
      return l = "useLayoutEffect", i(), Bh(e4, t2);
    }, useMemo: function(e4, t2) {
      l = "useMemo", i();
      var n2 = c.current;
      c.current = mm;
      try {
        return Zh(e4, t2);
      } finally {
        c.current = n2;
      }
    }, useReducer: function(e4, t2, n2) {
      l = "useReducer", i();
      var r2 = c.current;
      c.current = mm;
      try {
        return wh(e4);
      } finally {
        c.current = r2;
      }
    }, useRef: function(e4) {
      return l = "useRef", i(), Nh();
    }, useState: function(e4) {
      l = "useState", i();
      var t2 = c.current;
      c.current = mm;
      try {
        return Ih();
      } finally {
        c.current = t2;
      }
    }, useDebugValue: function(e4, t2) {
      return l = "useDebugValue", i(), qh();
    }, useDeferredValue: function(e4) {
      return l = "useDeferredValue", i(), Qh(e4);
    }, useTransition: function() {
      return l = "useTransition", i(), rm2();
    }, useMutableSource: function(e4, t2, n2) {
      l = "useMutableSource", i();
    }, useSyncExternalStore: function(e4, t2, n2) {
      return l = "useSyncExternalStore", i(), Sh(e4, t2);
    }, useId: function() {
      return l = "useId", i(), am();
    }, unstable_isNewReconciler: false }, fm = { readContext: function(e4) {
      return dm(), xp(e4);
    }, useCallback: function(e4, t2) {
      return l = "useCallback", a(), o(), Yh(e4, t2);
    }, useContext: function(e4) {
      return l = "useContext", a(), o(), xp(e4);
    }, useEffect: function(e4, t2) {
      return l = "useEffect", a(), o(), Lh(e4, t2);
    }, useImperativeHandle: function(e4, t2, n2) {
      return l = "useImperativeHandle", a(), o(), Hh(e4, t2, n2);
    }, useInsertionEffect: function(e4, t2) {
      return l = "useInsertionEffect", a(), o(), Ah(e4, t2);
    }, useLayoutEffect: function(e4, t2) {
      return l = "useLayoutEffect", a(), o(), $h(e4, t2);
    }, useMemo: function(e4, t2) {
      l = "useMemo", a(), o();
      var n2 = c.current;
      c.current = fm;
      try {
        return Gh(e4, t2);
      } finally {
        c.current = n2;
      }
    }, useReducer: function(e4, t2, n2) {
      l = "useReducer", a(), o();
      var r2 = c.current;
      c.current = fm;
      try {
        return yh(e4, t2, n2);
      } finally {
        c.current = r2;
      }
    }, useRef: function(e4) {
      return l = "useRef", a(), o(), Dh(e4);
    }, useState: function(e4) {
      l = "useState", a(), o();
      var t2 = c.current;
      c.current = fm;
      try {
        return Rh(e4);
      } finally {
        c.current = t2;
      }
    }, useDebugValue: function(e4, t2) {
      l = "useDebugValue", a(), o();
    }, useDeferredValue: function(e4) {
      return l = "useDeferredValue", a(), o(), Xh(e4);
    }, useTransition: function() {
      return l = "useTransition", a(), o(), tm();
    }, useMutableSource: function(e4, t2, n2) {
      l = "useMutableSource", a(), o();
    }, useSyncExternalStore: function(e4, t2, n2) {
      return l = "useSyncExternalStore", a(), o(), xh(e4, t2, n2);
    }, useId: function() {
      return l = "useId", a(), o(), im();
    }, unstable_isNewReconciler: false }, hm = { readContext: function(e4) {
      return dm(), xp(e4);
    }, useCallback: function(e4, t2) {
      return l = "useCallback", a(), i(), Kh(e4, t2);
    }, useContext: function(e4) {
      return l = "useContext", a(), i(), xp(e4);
    }, useEffect: function(e4, t2) {
      return l = "useEffect", a(), i(), jh(e4, t2);
    }, useImperativeHandle: function(e4, t2, n2) {
      return l = "useImperativeHandle", a(), i(), Wh(e4, t2, n2);
    }, useInsertionEffect: function(e4, t2) {
      return l = "useInsertionEffect", a(), i(), Fh(e4, t2);
    }, useLayoutEffect: function(e4, t2) {
      return l = "useLayoutEffect", a(), i(), Bh(e4, t2);
    }, useMemo: function(e4, t2) {
      l = "useMemo", a(), i();
      var n2 = c.current;
      c.current = hm;
      try {
        return Zh(e4, t2);
      } finally {
        c.current = n2;
      }
    }, useReducer: function(e4, t2, n2) {
      l = "useReducer", a(), i();
      var r2 = c.current;
      c.current = hm;
      try {
        return bh(e4);
      } finally {
        c.current = r2;
      }
    }, useRef: function(e4) {
      return l = "useRef", a(), i(), Nh();
    }, useState: function(e4) {
      l = "useState", a(), i();
      var t2 = c.current;
      c.current = hm;
      try {
        return Oh();
      } finally {
        c.current = t2;
      }
    }, useDebugValue: function(e4, t2) {
      return l = "useDebugValue", a(), i(), qh();
    }, useDeferredValue: function(e4) {
      return l = "useDeferredValue", a(), i(), Jh(e4);
    }, useTransition: function() {
      return l = "useTransition", a(), i(), nm();
    }, useMutableSource: function(e4, t2, n2) {
      l = "useMutableSource", a(), i();
    }, useSyncExternalStore: function(e4, t2, n2) {
      return l = "useSyncExternalStore", a(), i(), Sh(e4, t2);
    }, useId: function() {
      return l = "useId", a(), i(), am();
    }, unstable_isNewReconciler: false }, mm = { readContext: function(e4) {
      return dm(), xp(e4);
    }, useCallback: function(e4, t2) {
      return l = "useCallback", a(), i(), Kh(e4, t2);
    }, useContext: function(e4) {
      return l = "useContext", a(), i(), xp(e4);
    }, useEffect: function(e4, t2) {
      return l = "useEffect", a(), i(), jh(e4, t2);
    }, useImperativeHandle: function(e4, t2, n2) {
      return l = "useImperativeHandle", a(), i(), Wh(e4, t2, n2);
    }, useInsertionEffect: function(e4, t2) {
      return l = "useInsertionEffect", a(), i(), Fh(e4, t2);
    }, useLayoutEffect: function(e4, t2) {
      return l = "useLayoutEffect", a(), i(), Bh(e4, t2);
    }, useMemo: function(e4, t2) {
      l = "useMemo", a(), i();
      var n2 = c.current;
      c.current = hm;
      try {
        return Zh(e4, t2);
      } finally {
        c.current = n2;
      }
    }, useReducer: function(e4, t2, n2) {
      l = "useReducer", a(), i();
      var r2 = c.current;
      c.current = hm;
      try {
        return wh(e4);
      } finally {
        c.current = r2;
      }
    }, useRef: function(e4) {
      return l = "useRef", a(), i(), Nh();
    }, useState: function(e4) {
      l = "useState", a(), i();
      var t2 = c.current;
      c.current = hm;
      try {
        return Ih();
      } finally {
        c.current = t2;
      }
    }, useDebugValue: function(e4, t2) {
      return l = "useDebugValue", a(), i(), qh();
    }, useDeferredValue: function(e4) {
      return l = "useDeferredValue", a(), i(), Qh(e4);
    }, useTransition: function() {
      return l = "useTransition", a(), i(), rm2();
    }, useMutableSource: function(e4, t2, n2) {
      l = "useMutableSource", a(), i();
    }, useSyncExternalStore: function(e4, t2, n2) {
      return l = "useSyncExternalStore", a(), i(), Sh(e4, t2);
    }, useId: function() {
      return l = "useId", a(), i(), am();
    }, unstable_isNewReconciler: false }, wm = r.unstable_now, xm = 0, Sm = -1, km = -1, Cm = -1, Em = false, Tm = false;
    var Fm = "function" == typeof WeakMap ? WeakMap : Map;
    var qm, Ym = s.ReactCurrentOwner, Km = false;
    var lg = {}, cg = {}, ug = {}, dg = {}, pg = !(qm = {}), fg = {}, hg = {}, mg = { dehydrated: null, treeContext: null, retryLane: ai };
    var Tg = false, _g = false;
    var $g = function(e4, t2, n2, r2) {
      for (var o2, i2 = t2.child; null !== i2; ) {
        if (i2.tag === G || i2.tag === re)
          o2 = i2.stateNode, e4.appendChild(o2);
        else if (i2.tag !== ne && null !== i2.child) {
          i2 = (i2.child.return = i2).child;
          continue;
        }
        if (i2 === t2)
          return;
        for (; null === i2.sibling; ) {
          if (null === i2.return || i2.return === t2)
            return;
          i2 = i2.return;
        }
        i2.sibling.return = i2.return, i2 = i2.sibling;
      }
    }, Bg = function(e4, t2, n2, r2, o2) {
      var i2, a2, s2, e4 = e4.memoizedProps;
      e4 !== r2 && (i2 = t2.stateNode, a2 = Df(), i2 = i2, n2 = n2, e4 = e4, a2 = a2, typeof (r2 = r2).children == typeof e4.children || "string" != typeof r2.children && "number" != typeof r2.children || (s2 = "" + r2.children, a2 = Mc(a2.ancestorInfo, n2), zc(null, s2, a2)), s2 = bc(i2, n2, e4, r2), t2.updateQueue = s2) && Ng(t2);
    }, Vg = function(e4, t2, n2, r2) {
      n2 !== r2 && Ng(t2);
    }, Hg = null, Hg = /* @__PURE__ */ new Set(), Wg = false, Ug = false, qg = "function" == typeof WeakSet ? WeakSet : Set, O = null, Yg = null, Kg = null;
    var p0 = null, f0 = false;
    "function" == typeof Symbol && Symbol.for && ((Pr = Symbol.for)("selector.component"), Pr("selector.has_pseudo_class"), Pr("selector.role"), Pr("selector.test_id"), Pr("selector.text"));
    var M0 = [], D0 = s.ReactCurrentActQueue;
    var P0 = Math.ceil, z0 = s.ReactCurrentDispatcher, L0 = s.ReactCurrentOwner, j0 = s.ReactCurrentBatchConfig, A0 = s.ReactCurrentActQueue, F0 = 0, $0 = 1, B0 = 2, V0 = 4, H0 = 0, W0 = 1, U0 = 2, q0 = 3, Y0 = 4, K0 = 5, G0 = 6, I = F0, Z0 = null, M = null, X0 = ae, J0 = ae, Q0 = Du(ae), ev = H0, tv = null, nv = ae, rv = ae, ov = ae, iv = null, av = null, sv = 0, lv = 500, cv = 1 / 0, uv = 500, dv = null;
    var fv = false, hv = null, mv = null, gv = false, vv = null, yv = ae, bv = [], wv = 50, xv = 0, Sv = null, kv = false, Cv = false, Ev = 50, Tv = 0, _v = null, Rv = T, Ov = ae, Iv = false;
    var oy = function(e4) {
      fv || (fv = true, hv = e4);
    };
    var cy = null;
    var dy = null, py = function(t2, n2, r2) {
      var o2 = Uy(dy, n2);
      try {
        return Dg(t2, n2, r2);
      } catch (e4) {
        throw Cd || null !== e4 && "object" == typeof e4 && "function" == typeof e4.then || (fp(), fh(), Fg(0, n2), Uy(n2, o2), n2.mode & x && Rm(n2), Br(null, Dg, null, t2, n2, r2), Lr && "object" == typeof (o2 = Vr()) && null !== o2 && o2._suppressLogging && "object" == typeof e4 && null !== e4 && !e4._suppressLogging && (e4._suppressLogging = true)), e4;
      }
    }, fy = false;
    var my = /* @__PURE__ */ new Set(), gy = {};
    var xy = null, Sy = null, ky = function(e4) {
      xy = e4;
    };
    var Oy, Iy = function(e4, t2) {
      var n2, r2;
      null !== xy && (n2 = t2.staleFamilies, r2 = t2.updatedFamilies, ny(), Vv(function() {
        !function e5(t3, n3, r3) {
          {
            var o2 = t3.alternate, i2 = t3.child, a2 = t3.sibling, s2 = t3.tag, l2 = t3.type, c2 = null;
            switch (s2) {
              case q:
              case J:
              case Y:
                c2 = l2;
                break;
              case Z:
                c2 = l2.render;
            }
            if (null === xy)
              throw new Error("Expected resolveFamily to be set during hot reload.");
            var u2, d2 = false, p2 = false;
            null !== c2 && void 0 !== (u2 = xy(c2)) && (r3.has(u2) ? p2 = true : n3.has(u2) && (s2 === Y ? p2 = true : d2 = true)), (p2 = null !== Sy && (Sy.has(t3) || null !== o2 && Sy.has(o2)) ? true : p2) && (t3._debugNeedsRemount = true), (p2 || d2) && null !== (u2 = Ep(t3, S)) && Pv(u2, t3, S, T), null === i2 || p2 || e5(i2, n3, r3), null !== a2 && e5(a2, n3, r3);
          }
        }(e4.current, r2, n2);
      }));
    }, My = function(e4, t2) {
      e4.context === Lu && (ny(), Vv(function() {
        Jy(t2, e4, null, null);
      }));
    }, Dy = function(e4, t2) {
      var n2 = /* @__PURE__ */ new Set(), t2 = new Set(t2.map(function(e5) {
        return e5.current;
      }));
      return function e5(t3, n3, r2) {
        {
          var o2 = t3.child, i2 = t3.sibling, a2 = t3.tag, s2 = t3.type, l2 = null;
          switch (a2) {
            case q:
            case J:
            case Y:
              l2 = s2;
              break;
            case Z:
              l2 = s2.render;
          }
          a2 = false;
          (a2 = null !== l2 && n3.has(l2) ? true : a2) ? Ny(t3, r2) : null !== o2 && e5(o2, n3, r2), null !== i2 && e5(i2, n3, r2);
        }
      }(e4.current, t2, n2), n2;
    };
    Oy = false;
    try {
      var Py = Object.preventExtensions({});
      /* @__PURE__ */ new Map([[Py, null]]), /* @__PURE__ */ new Set([Py]);
    } catch (e4) {
      Oy = true;
    }
    var Ly = function(e4, t2, n2, r2) {
      return new zy(e4, t2, n2, r2);
    };
    var Ky = "18.2.0";
    var r1 = false, o1 = {}, i1 = function(e4) {
      return null;
    }, a1 = function(e4) {
      return false;
    };
    var u1 = null, d1 = null, p1 = null, f1 = null, h1 = null, m1 = null, g1 = null, v1 = null, y1 = null, b1 = function(e4, t2) {
      return s1(e4, t2, 0);
    }, w1 = function(e4, t2, n2) {
      if (t2.length === n2.length) {
        for (var r2 = 0; r2 < n2.length - 1; r2++)
          if (t2[r2] !== n2[r2])
            return void d("copyWithRename() expects paths to be the same except for the deepest key");
        return l1(e4, t2, n2, 0);
      }
      d("copyWithRename() expects paths of the same length");
    }, x1 = function(e4, t2, n2) {
      return c1(e4, t2, 0, n2);
    }, S1 = function(e4, t2) {
      for (var n2 = e4.memoizedState; null !== n2 && 0 < t2; )
        n2 = n2.next, t2--;
      return n2;
    }, u1 = function(e4, t2, n2, r2) {
      t2 = S1(e4, t2);
      null !== t2 && (n2 = x1(t2.memoizedState, n2, r2), t2.memoizedState = n2, t2.baseState = n2, e4.memoizedProps = k({}, e4.memoizedProps), null !== (r2 = Ep(e4, S))) && Pv(r2, e4, S, T);
    }, d1 = function(e4, t2, n2) {
      var t2 = S1(e4, t2);
      null !== t2 && (n2 = b1(t2.memoizedState, n2), t2.memoizedState = n2, t2.baseState = n2, e4.memoizedProps = k({}, e4.memoizedProps), null !== (t2 = Ep(e4, S))) && Pv(t2, e4, S, T);
    }, p1 = function(e4, t2, n2, r2) {
      t2 = S1(e4, t2);
      null !== t2 && (n2 = w1(t2.memoizedState, n2, r2), t2.memoizedState = n2, t2.baseState = n2, e4.memoizedProps = k({}, e4.memoizedProps), null !== (r2 = Ep(e4, S))) && Pv(r2, e4, S, T);
    }, f1 = function(e4, t2, n2) {
      e4.pendingProps = x1(e4.memoizedProps, t2, n2), e4.alternate && (e4.alternate.pendingProps = e4.pendingProps);
      t2 = Ep(e4, S);
      null !== t2 && Pv(t2, e4, S, T);
    }, h1 = function(e4, t2) {
      e4.pendingProps = b1(e4.memoizedProps, t2), e4.alternate && (e4.alternate.pendingProps = e4.pendingProps);
      t2 = Ep(e4, S);
      null !== t2 && Pv(t2, e4, S, T);
    }, m1 = function(e4, t2, n2) {
      e4.pendingProps = w1(e4.memoizedProps, t2, n2), e4.alternate && (e4.alternate.pendingProps = e4.pendingProps);
      t2 = Ep(e4, S);
      null !== t2 && Pv(t2, e4, S, T);
    }, g1 = function(e4) {
      var t2 = Ep(e4, S);
      null !== t2 && Pv(t2, e4, S, T);
    }, v1 = function(e4) {
      i1 = e4;
    }, y1 = function(e4) {
      a1 = e4;
    };
    var T1 = "function" == typeof reportError ? reportError : function(e4) {
      console.error(e4);
    };
    R1.prototype.render = _1.prototype.render = function(e4) {
      var t2 = this._internalRoot;
      if (null === t2)
        throw new Error("Cannot update an unmounted root.");
      "function" == typeof arguments[1] ? te("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().") : O1(arguments[1]) ? te("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root.") : void 0 !== arguments[1] && te("You passed a second argument to root.render(...) but it only accepts one argument.");
      var n2, r2 = t2.containerInfo;
      r2.nodeType !== kn && (n2 = n1(t2.current)) && n2.parentNode !== r2 && te("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container."), Jy(e4, t2, null, null);
    }, R1.prototype.unmount = _1.prototype.unmount = function() {
      "function" == typeof arguments[0] && te("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");
      var e4, t2 = this._internalRoot;
      null !== t2 && (this._internalRoot = null, e4 = t2.containerInfo, Hv() && te("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."), Vv(function() {
        Jy(null, t2, null, null);
      }), yu(e4));
    }, R1.prototype.unstable_scheduleHydration = function(e4) {
      if (e4) {
        for (var t2 = fa(), e4 = { blockedOn: null, target: e4, priority: t2 }, n2 = 0; n2 < Da.length && Sa(t2, Da[n2].priority); n2++)
          ;
        Da.splice(n2, 0, e4), 0 === n2 && La(e4);
      }
    };
    var D1, N1 = s.ReactCurrentOwner;
    D1 = function(e4) {
      e4._reactRootContainer && e4.nodeType !== kn && (t2 = n1(e4._reactRootContainer.current)) && t2.parentNode !== e4 && te("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.");
      var t2 = !!e4._reactRootContainer, n2 = P1(e4);
      n2 && xu(n2) && !t2 && te("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."), e4.nodeType === xn && e4.tagName && "BODY" === e4.tagName.toUpperCase() && te("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.");
    }, ua2 = function(n2) {
      switch (n2.tag) {
        case K:
          var e4 = n2.stateNode;
          Ca(e4) && (t2 = Hi(e4.pendingLanes), e4 = e4, (t2 = t2) !== ae) && (sa(e4, t2 | S), zv(e4, Io()), (I & (B0 | V0)) === F0) && (pv(), id());
          break;
        case X:
          Vv(function() {
            var e5, t3 = Ep(n2, S);
            null !== t3 && (e5 = Mv(), Pv(t3, n2, S, e5));
          }), t1(n2, S);
      }
      var t2;
    }, da = function(e4) {
      var t2, n2;
      e4.tag === X && (null !== (n2 = Ep(e4, t2 = Li)) && Pv(n2, e4, t2, Mv()), t1(e4, t2));
    }, pa = function(e4) {
      var t2, n2;
      e4.tag === X && (null !== (n2 = Ep(e4, t2 = Dv(e4))) && Pv(n2, e4, t2, Mv()), t1(e4, t2));
    }, fa = wa, ha = function(e4, t2) {
      var n2 = ba;
      try {
        return ba = e4, t2();
      } finally {
        ba = n2;
      }
    }, "function" == typeof Map && null != Map.prototype && "function" == typeof Map.prototype.forEach && "function" == typeof Set && null != Set.prototype && "function" == typeof Set.prototype.clear && "function" == typeof Set.prototype.forEach || te("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"), Er = Vv;
    var j1 = { usingClientEntryPoint: !(yr = function(e4, t2, n2) {
      switch (t2) {
        case "input":
          return void Yt(e4, n2);
        case "textarea":
          return void dn(e4, n2);
        case "select":
          return r2 = e4, void (null != (i2 = (o2 = n2).value) && on(r2, !!o2.multiple, i2, false));
      }
      var r2, o2, i2;
    }), Events: [xu, Su, ku, Sr, kr, Cr = Bv] };
    !function(e4) {
      var t2 = e4.findFiberByHostInstance, n2 = s.ReactCurrentDispatcher, e4 = { bundleType: e4.bundleType, version: e4.version, rendererPackageName: e4.rendererPackageName, rendererConfig: e4.rendererConfig, overrideHookState: u1, overrideHookStateDeletePath: d1, overrideHookStateRenamePath: p1, overrideProps: f1, overridePropsDeletePath: h1, overridePropsRenamePath: m1, setErrorHandler: v1, setSuspenseHandler: y1, scheduleUpdate: g1, currentDispatcherRef: n2, findHostInstanceByFiber: k1, findFiberByHostInstance: t2 || C1, findHostInstancesForRefresh: Dy, scheduleRefresh: Iy, scheduleRoot: My, setRefreshHandler: ky, getCurrentFiber: E1, reconcilerVersion: Ky };
      if ("undefined" == typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)
        return false;
      if ((n2 = __REACT_DEVTOOLS_GLOBAL_HOOK__).isDisabled)
        return true;
      if (!n2.supportsFiber)
        return te("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"), true;
      try {
        N && (e4 = k({}, e4, { getLaneLabelMap: Uo, injectProfilingHooks: Wo })), Fo = n2.inject(e4), $o = n2;
      } catch (e5) {
        te("React instrumentation encountered an error: %s.", e5);
      }
      return !!n2.checkDCE;
    }({ findFiberByHostInstance: wu, bundleType: 1, version: Ky, rendererPackageName: "react-dom" }) && B && window.top === window.self && (-1 < navigator.userAgent.indexOf("Chrome") && -1 === navigator.userAgent.indexOf("Edge") || -1 < navigator.userAgent.indexOf("Firefox")) && (e3 = window.location.protocol, /^(https?|file):$/.test(e3)) && console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools" + ("file:" === e3 ? "\nYou might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq" : ""), "font-weight:bold"), reactDom_development.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = j1, reactDom_development.createPortal = function(e4, t2) {
      if (O1(t2))
        return function(e5, t3, n2, r2) {
          var o2 = 3 < arguments.length && void 0 !== r2 ? r2 : null;
          return { $$typeof: $e, key: null == o2 ? null : "" + o2, children: e5, containerInfo: t3, implementation: n2 };
        }(e4, t2, null, 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null);
      throw new Error("Target container is not a DOM element.");
    }, reactDom_development.createRoot = function(e4, t2) {
      if (j1.usingClientEntryPoint || te('You are importing createRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'), !O1(e4))
        throw new Error("createRoot(...): Target container is not a DOM element.");
      M1(e4);
      var n2 = false, r2 = "", o2 = T1;
      return null != t2 && (t2.hydrate ? d("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead.") : "object" == typeof t2 && null !== t2 && t2.$$typeof === Fe && te("You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:\n\n  let root = createRoot(domContainer);\n  root.render(<App />);"), true === t2.unstable_strictMode && (n2 = true), void 0 !== t2.identifierPrefix && (r2 = t2.identifierPrefix), void 0 !== t2.onRecoverableError && (o2 = t2.onRecoverableError), void 0 !== t2.transitionCallbacks) && t2.transitionCallbacks, vu((t2 = Zy(e4, Qu, 0, n2, 0, r2, o2)).current, e4), Hl(e4.nodeType === kn ? e4.parentNode : e4), new _1(t2);
    }, reactDom_development.findDOMNode = function(e4) {
      if (null !== (t2 = N1.current) && null !== t2.stateNode && (t2.stateNode._warnedAboutRefsInRender || te("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.", Q(t2.type) || "A component"), t2.stateNode._warnedAboutRefsInRender = true), null == e4)
        return null;
      if (e4.nodeType === xn)
        return e4;
      var t2 = e4, e4 = "findDOMNode", n2 = Hr(t2);
      if (void 0 === n2)
        throw "function" == typeof t2.render ? new Error("Unable to find node on an unmounted component.") : (t2 = Object.keys(t2).join(","), new Error("Argument appears to not be a ReactComponent. Keys: " + t2));
      if (null === (t2 = Co(n2)))
        return null;
      if (t2.mode & ei) {
        var r2 = C(n2) || "Component";
        if (!o1[r2]) {
          o1[r2] = true;
          var o2 = St;
          try {
            _t(t2), n2.mode & ei ? te("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node", e4, e4, r2) : te("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node", e4, e4, r2);
          } finally {
            o2 ? _t(o2) : Tt();
          }
        }
      }
      return t2.stateNode;
    }, reactDom_development.flushSync = function(e4) {
      return Hv() && te("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."), Vv(e4);
    }, reactDom_development.hydrate = function(e4, t2, n2) {
      if (te("ReactDOM.hydrate is no longer supported in React 18. Use hydrateRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"), I1(t2))
        return bu(t2) && void 0 === t2._reactRootContainer && te("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call hydrateRoot(container, element)?"), L1(null, e4, t2, true, n2);
      throw new Error("Target container is not a DOM element.");
    }, reactDom_development.hydrateRoot = function(e4, t2, n2) {
      if (j1.usingClientEntryPoint || te('You are importing hydrateRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'), !O1(e4))
        throw new Error("hydrateRoot(...): Target container is not a DOM element.");
      M1(e4), void 0 === t2 && te("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");
      var r2, o2, i2 = null != n2 && n2.hydratedSources || null, a2 = false, s2 = "", l2 = T1, c2 = (null != n2 && (true === n2.unstable_strictMode && (a2 = true), void 0 !== n2.identifierPrefix && (s2 = n2.identifierPrefix), void 0 !== n2.onRecoverableError) && (l2 = n2.onRecoverableError), Xy(t2, null, e4, Qu, 0, a2, 0, s2, l2));
      if (vu(c2.current, e4), Hl(e4), i2)
        for (var u2 = 0; u2 < i2.length; u2++) {
          var d2 = i2[u2];
          r2 = c2, o2 = (o2 = void 0, (d2 = d2)._getVersion)(d2._source), null == r2.mutableSourceEagerHydrationData ? r2.mutableSourceEagerHydrationData = [d2, o2] : r2.mutableSourceEagerHydrationData.push(d2, o2);
        }
      return new R1(c2);
    }, reactDom_development.render = function(e4, t2, n2) {
      if (te("ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"), I1(t2))
        return bu(t2) && void 0 === t2._reactRootContainer && te("You are calling ReactDOM.render() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.render(element)?"), L1(null, e4, t2, false, n2);
      throw new Error("Target container is not a DOM element.");
    }, reactDom_development.unmountComponentAtNode = function(e4) {
      var t2, n2;
      if (I1(e4))
        return bu(e4) && void 0 === e4._reactRootContainer && te("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.unmount()?"), e4._reactRootContainer ? ((t2 = P1(e4)) && !xu(t2) && te("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React."), Vv(function() {
          L1(null, null, e4, false, function() {
            e4._reactRootContainer = null, yu(e4);
          });
        }), true) : (t2 = !(!(t2 = P1(e4)) || !xu(t2)), n2 = e4.nodeType === xn && I1(e4.parentNode) && !!e4.parentNode._reactRootContainer, t2 && te("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s", n2 ? "You may have accidentally passed in a React root node instead of its container." : "Instead, have the parent component update its state and rerender in order to remove this component."), false);
      throw new Error("unmountComponentAtNode(...): Target container is not a DOM element.");
    }, reactDom_development.unstable_batchedUpdates = Bv, reactDom_development.unstable_renderSubtreeIntoContainer = function(e4, t2, n2, r2) {
      if (te("ReactDOM.unstable_renderSubtreeIntoContainer() is no longer supported in React 18. Consider using a portal instead. Until you switch to the createRoot API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"), !I1(n2))
        throw new Error("Target container is not a DOM element.");
      if (null == e4 || void 0 === e4._reactInternals)
        throw new Error("parentComponent must be a valid React Component");
      return L1(e4, t2, n2, false, r2);
    }, reactDom_development.version = Ky, "undefined" != typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ && "function" == typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error());
  }
  return reactDom_development;
}
false ? (checkDCE(), reactDom.exports = requireReactDom_production_min()) : reactDom.exports = requireReactDom_development();
var reactDomExports = reactDom.exports;
var ReactDOM = getDefaultExportFromCjs(reactDomExports);
var Sidebar = ({ open: e3, children: t }, n) => {
  const [r, o] = (0, import_react.useState)(window.document.getElementById("settings"));
  n = jsx2("div", { ref: n, css: { borderRight: "1px solid rgba(57,76,96,.15)", background: "#fff", width: "100%", height: "100%", position: "absolute", overflowY: "auto", pointerEvents: "auto", "@media (max-width: 900px)": { width: "100%", position: "fixed", bottom: 0, left: 0, top: 0, background: "#fff" } }, children: t });
  return (0, import_react.useEffect)(() => {
    o(window.document.getElementById("settings"));
  }, []), r && e3 ? ReactDOM.createPortal(n, r) : null;
};
var Sidebar$1 = (0, import_react.forwardRef)(Sidebar);
var FontStyle = () => {
  const e3 = useEditor((e4) => ({ fontList: e4.fontList }))["fontList"];
  var t = (0, import_react.useMemo)(() => {
    const n = [];
    return e3.forEach((e4) => {
      var t2 = e4.fonts.find((e5) => !e5.style);
      t2 && n.push(`
                @font-face {
                  font-family: '${e4.name}';
                  src: url(${t2.urls.join(",")}) format('woff2');
                  font-display: block;
                }
                `);
    }), n.join("\n");
  }, [e3]);
  return jsx2(Global, { styles: css`
                ${t}
            ` });
};
var FontStyle$1 = import_react.default.memo(FontStyle);
var CheckIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "m229.66 77.66-128 128a8 8 0 0 1-11.32 0l-56-56a8 8 0 0 1 11.32-11.32L96 188.69 218.34 66.34a8 8 0 0 1 11.32 11.32Z" }) }));
};
var MagnifyingGlassIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "m229.66 218.34-50.07-50.06a88.11 88.11 0 1 0-11.31 11.31l50.06 50.07a8 8 0 0 0 11.32-11.32ZM40 112a72 72 0 1 1 72 72 72.08 72.08 0 0 1-72-72Z" }) }));
};
var FontSidebar = (e3, t) => {
  var { selected: n, onChangeFontFamily: r } = e3, e3 = __rest(e3, ["selected", "onChangeFontFamily"]);
  const o = (0, import_react.useRef)(false), i = (0, import_react.useRef)(null), a = (0, import_react.useRef)(null), s = (0, import_react.useContext)(EditorContext)["getFonts"];
  var l = useUsedFont()["usedFonts"];
  const { actions: c, fontList: u } = useEditor((e4) => ({ fontList: e4.fontList })), [d, p] = (0, import_react.useState)(false), [f, h] = (0, import_react.useState)(""), m = (0, import_react.useCallback)(async (e4 = 0) => {
    o.current = true, p(true);
    var t2 = await s({ limit: "30", offset: e4 + "", q: f });
    e4 ? c.appendFontList(t2) : c.setFontList(t2), p(false), 0 < t2.length && (o.current = false);
  }, [s, c, p, f]);
  useAsync(async () => {
    await m();
  }, [m]), (0, import_react.useEffect)(() => {
    var e4;
    const t2 = async (e5) => {
      e5 = e5.target;
      e5.scrollHeight - e5.scrollTop - 80 <= e5.clientHeight && !o.current && await m(u.length);
    };
    return null != (e4 = a.current) && e4.addEventListener("scroll", t2), () => {
      var e5;
      null != (e5 = a.current) && e5.removeEventListener("scroll", t2);
    };
  }, [m, u]);
  return jsxs2(Sidebar$1, Object.assign({ ref: t }, e3, { children: [jsx2(FontStyle$1, {}), jsxs2("div", { css: { width: "100%", height: "100%", display: "flex", flexDirection: "column", overflowY: "auto" }, children: [jsxs2("div", { css: { display: "flex", alignItems: "center", justifyContent: "center", flexShrink: 0, height: 48, borderBottom: "1px solid rgba(57,76,96,.15)", padding: "0 20px" }, children: [jsx2("p", { css: { lineHeight: "48px", fontWeight: 600, color: "#181C32", flexGrow: 1 }, children: "Font" }), jsx2("div", { css: { fontSize: 20, flexShrink: 0, width: 32, height: 32, cursor: "pointer", display: "flex", alignItems: "center", justifyContent: "center" }, onClick: () => {
    c.setSidebar();
  }, children: jsx2(XIcon, {}) })] }), jsx2("div", { css: { borderRadius: 4, boxShadow: "0 0 0 1px rgba(43,59,74,.3)", margin: 16 }, children: jsxs2("div", { css: { height: 40, borderRadius: 4, padding: "0 12px", display: "flex", alignItems: "center" }, children: [jsx2("div", { css: { fontSize: 24, marginRight: 8, flexShrink: 0 }, children: jsx2(MagnifyingGlassIcon, {}) }), jsx2("form", { onSubmit: async (e4) => {
    e4.preventDefault(), a.current && (a.current.scrollTop = 0), h((null == (e4 = i.current) ? void 0 : e4.value) || ""), await m(0);
  }, children: jsx2("input", { ref: i, type: "text", css: { width: "100%", height: "100%" } }) })] }) }), jsxs2("div", { ref: a, css: { flexGrow: 1, overflowY: "auto" }, children: [jsx2("div", { css: { padding: "16px 20px", fontWeight: 700 }, children: "Document fonts" }), l.map((e4) => jsxs2("div", { css: { height: 40, display: "flex", alignItems: "center", justifyContent: "space-between", cursor: "pointer", padding: "0 24px", ":hover": { background: "#F9F9F9" } }, onClick: () => r(e4), children: [jsx2("span", { css: { fontFamily: e4.name }, children: e4.name }), n.map((e5) => e5.name).includes(e4.name) && jsx2("span", { children: jsx2(CheckIcon, {}) })] }, e4.name)), jsxs2("div", { css: { borderTop: "1px solid rgba(217, 219, 228, 0.6)" }, children: [jsx2("div", { css: { padding: "16px 20px", fontWeight: 700 }, children: "Fonts" }), u.map((e4) => jsxs2("div", { css: { height: 40, display: "flex", alignItems: "center", justifyContent: "space-between", cursor: "pointer", padding: "0 24px", ":hover": { background: "#F9F9F9" } }, onClick: () => r(e4), children: [jsx2("span", { css: { fontFamily: e4.name }, children: e4.name }), n.map((e5) => e5.name).includes(e4.name) && jsx2("span", { children: jsx2(CheckIcon, {}) })] }, e4.name)), d && jsx2("div", { children: "Loading..." })] })] })] })] }));
};
var FontSidebar$1 = (0, import_react.forwardRef)(FontSidebar);
var Slider = ({ label: e3, min: n = 0, max: t = 100, step: r = 1, defaultValue: o, value: i, hideLabel: a, hideInput: s, onChange: l }) => {
  const c = (0, import_react.useRef)(null), u = (0, import_react.useRef)(null);
  var d = (0, import_react.useRef)(null);
  const p = (0, import_react.useRef)({ startPoint: 0, startValue: 0 }), [f, h] = (0, import_react.useState)(0), [m, g] = (0, import_react.useState)(o || i || 0), [v, y] = (0, import_react.useState)(false), b = ((0, import_react.useEffect)(() => {
    void 0 !== i && (g(i), u.current) && (u.current.value = "" + i);
  }, [i]), (0, import_react.useEffect)(() => {
    var e4;
    n < 0 && (e4 = -n / (t - n) * 100, h(e4));
  }, [n, t]), (e4) => {
    g(e4);
    var t2 = (r + "").split("."), t2 = parseFloat((Math.round(e4 / r) * r).toFixed((null == (e4 = t2[1]) ? void 0 : e4.length) || 0));
    u.current && (u.current.value = t2 + ""), l && l(t2);
  }), w = (e4) => {
    return e4 / ((null == (e4 = c.current) ? void 0 : e4.getBoundingClientRect()).width / (t - n));
  }, x = lodashExports.throttle((e4) => {
    e4 = getPosition(e4).clientX, e4 -= p.current.startPoint, e4 = Math.max(n, Math.min(t, p.current.startValue + w(e4)));
    b(e4);
  }, 16), S = (e4) => {
    var e4 = getPosition(e4)["clientX"], e4 = e4 - p.current.startPoint;
    e4 && (e4 = Math.max(n, Math.min(t, p.current.startValue + w(e4))), b(e4)), y(false), window.removeEventListener("touchmove", x), window.removeEventListener("mousemove", x), window.removeEventListener("mouseup", S), window.removeEventListener("mouseleave", S), window.removeEventListener("touchend", S);
  };
  o = (e4) => {
    var e4 = getPosition(e4.nativeEvent)["clientX"], t2 = (t2 = e4) - (null == (t2 = c.current) ? void 0 : t2.getBoundingClientRect()).x, t2 = w(t2);
    p.current.startPoint = e4, p.current.startValue = n + t2, b(n + t2), y(true), window.addEventListener("touchmove", x), window.addEventListener("mousemove", x), window.addEventListener("mouseup", S, { once: true }), window.addEventListener("mouseleave", S, { once: true }), window.addEventListener("touchend", S, { once: true });
  };
  const k = () => {
    var e4;
    u.current && (e4 = Math.max(n, Math.min(t, parseInt(u.current.value, 10))), u.current.blur(), b(e4));
  };
  return jsxs2("div", { css: { display: "grid", gridColumnGap: 16, gridRowGap: 8, gridTemplateColumns: "1fr auto", alignItems: "center" }, children: [!a && jsx2("div", { css: { fontSize: 14, textTransform: "capitalize", whiteSpace: "nowrap" }, children: e3 }), !s && jsx2("div", { css: { background: "#fff", border: "1px solid rgba(43,59,74,.3)", width: 40, height: 24, borderRadius: 4, overflow: "hidden" }, children: jsx2("input", { ref: u, css: { width: "100%", height: "100%", padding: 2, textAlign: "center" }, defaultValue: m, onBlur: k, onKeyDown: (e4) => {
    "enter" === e4.key.toLowerCase() && k();
  } }) }), jsxs2("div", { css: { height: 16, position: "relative", width: "100%", gridRow: s && a ? 1 : "2/auto", gridColumn: "1/-1" }, onMouseDown: o, onTouchStart: o, children: [jsx2("div", { ref: c, css: { width: "100%", position: "absolute", left: 0, top: "50%", transform: "translateY(-50%)", height: 2, borderRadius: 2, cursor: "pointer", backgroundColor: "#bbbbbb" } }), 0 < f && jsxs2("div", { css: { position: "absolute", top: "50%", width: "100%", transform: "translateY(-50%)", display: "inline-flex" }, children: [jsx2("div", { css: { width: `calc(${f}% - 2px)`, maxWidth: "calc(100% - 4px)" } }), jsx2("div", { css: { width: 4, height: 4, transform: "translateY(-6px)", borderRadius: "50%", background: "#bbbbbb" } })] }), jsx2("div", { ref: d, css: { position: "absolute", top: "50%" }, style: { width: (Math.abs(m) - (0 < n ? n : 0)) / (t - n) * 100 + "%", marginLeft: Math.min(f, f + m / (t - n) * 100) + "%", transform: `scaleX(${0 <= m ? 1 : -1})` }, children: jsx2("div", { css: { backgroundColor: "#3d8eff", width: "100%", height: 2, transform: "translateY(-50%)", position: "absolute", borderRadius: 2 }, children: jsxs2("div", { css: { width: 16, height: 16, transform: "translate(-50%, -50%)", background: "#fff", left: "100%", position: "absolute" }, onMouseDown: o, onTouchStart: o, children: [jsx2("div", { css: { position: "absolute", borderRadius: "50%", width: 16, height: 16, transform: v ? " scale(1.125)" : void 0, border: v ? "1px solid #3d8eff" : "1px solid #5E6278" } }), jsx2("div", { css: { position: "absolute", borderRadius: "50%", width: 16, height: 16, boxShadow: v ? "0 0 0 8px #3d8eff" : "0 0 4px 1px #bbbbbb", opacity: v ? 0.5 : 1 } })] }) }) })] })] });
};
var PopoverWrapper = ({ open: e3, children: t, anchorEl: i, placement: a = "bottom-end", onClose: o, offsets: n }, r) => {
  const s = useForwardedRef(r), l = (0, import_react.useRef)(null), [c, u] = (0, import_react.useState)({ x: -9999, y: -9999 }), [d, p] = (0, import_react.useState)({ x: -9999, y: -9999 });
  (0, import_react.useEffect)(() => {
    const e4 = lodashExports.throttle(() => {
      var e5, t2, n2;
      i && (e5 = i.getBoundingClientRect(), [t2] = a.split("-"), n2 = { x: e5.x, y: e5.y }, "right" === t2 && (n2.x += e5.width), "bottom" === t2 && (n2.y += e5.height), "top" === t2 && (n2.y -= e5.height), "left" === t2 && (n2.x -= e5.width), u(n2));
    }, 16);
    return e4(), window.addEventListener("resize", e4), () => {
      window.removeEventListener("resize", e4);
    };
  }, [e3]), (0, import_react.useEffect)(() => {
    const e4 = (t2) => {
      var n2 = s.current;
      let r2 = true;
      if (n2)
        for (let e5 = 0; e5 < n2.children.length; e5++)
          n2.children[e5].contains(t2.target) && (r2 = false);
      r2 && o();
    };
    return window.addEventListener("mousedown", e4, { capture: true }), () => {
      window.removeEventListener("mousedown", e4, { capture: true });
    };
  }, []), (0, import_react.useEffect)(() => {
    const e4 = new MutationObserver(() => {
      var e5, t2, n2, [r2, o2] = a.split("-");
      i ? (e5 = null == (e5 = l.current) ? void 0 : e5.getBoundingClientRect(), t2 = i.getBoundingClientRect(), n2 = { x: 0, y: 0 }, "top" === r2 ? (n2.y = -e5.height + t2.height, "end" === o2 && (n2.x = -e5.width + t2.width)) : "bottom" === r2 && "end" === o2 && (n2.x = -e5.width + t2.width), p(n2)) : p({ x: 0, y: 0 });
    });
    return l.current && e4.observe(l.current, { subtree: true, childList: true, attributes: true }), () => {
      e4.disconnect();
    };
  }, [a, i]);
  r = (0, import_react.useMemo)(() => {
    var e4;
    return n && n[a] ? (e4 = n[a], { x: c.x + e4.x, y: c.y + e4.y }) : c;
  }, [n, c]);
  return jsx2("div", { ref: s, css: { position: "fixed", top: 0, left: 0, zIndex: 1040 }, children: jsx2("div", { ref: l, css: { position: "absolute", top: r.y, left: r.x, transform: `translate(${d.x}px, ${d.y}px)`, boxShadow: "0 0 0 1px rgba(64,87,109,.07),0 2px 12px rgba(53,71,90,.2)", borderRadius: 4 }, children: jsx2("div", { css: { background: "#fff" }, children: t }) }) });
};
var PopoverWrapper$1 = (0, import_react.forwardRef)(PopoverWrapper);
var Popover = (e3, t) => {
  var { open: n, children: r, element: o } = e3, e3 = __rest(e3, ["open", "children", "element"]);
  const [i] = (0, import_react.useState)(window.document.createElement("div"));
  (0, import_react.useEffect)(() => (o || window.document.body.appendChild(i), () => {
    o || window.document.body.removeChild(i);
  }), [o, i, n]);
  t = jsx2(PopoverWrapper$1, Object.assign({ ref: t, open: n }, e3, { children: r }));
  return n ? ReactDOM.createPortal(t, o || i) : null;
};
var Popover$1 = (0, import_react.forwardRef)(Popover);
var equalColorObjects = (e3, t) => {
  if (e3 !== t) {
    for (const n in e3)
      if (e3[n] !== t[n])
        return false;
  }
  return true;
};
var equalHex = (e3, t) => e3.toLowerCase() === t.toLowerCase() || equalColorObjects(hex2rgb(e3), hex2rgb(t));
var clamp = (e3, t = 0, n = 1) => n < e3 ? n : e3 < t ? t : e3;
var isTouch = (e3) => "touches" in e3;
var getTouchPoint = (t, n) => {
  for (let e3 = 0; e3 < t.length; e3++)
    if (t[e3].identifier === n)
      return t[e3];
  return t[0];
};
var getParentWindow = (e3) => e3 && e3.ownerDocument.defaultView || self;
var getRelativePosition = (e3, t, n) => {
  var r = e3.getBoundingClientRect(), n = isTouch(t) ? getTouchPoint(t.touches, n) : t;
  return { left: clamp((n.pageX - (r.left + getParentWindow(e3).pageXOffset)) / r.width), top: clamp((n.pageY - (r.top + getParentWindow(e3).pageYOffset)) / r.height) };
};
var preventDefaultMove = (e3) => {
  isTouch(e3) || e3.preventDefault();
};
var isInvalid = (e3, t) => t && !isTouch(e3);
var InteractiveBase = (e3) => {
  var { onMove: t, onMoveStart: n, onMoveEnd: r, onKey: o } = e3, e3 = __rest(e3, ["onMove", "onMoveStart", "onMoveEnd", "onKey"]);
  const a = (0, import_react.useRef)(null), s = useEventCallback(t), l = useEventCallback(n), c = useEventCallback(r), u = useEventCallback(o), d = (0, import_react.useRef)(null), p = (0, import_react.useRef)(false), [i, f, h] = (0, import_react.useMemo)(() => {
    const r2 = (e4) => {
      preventDefaultMove(e4), (isTouch(e4) ? 0 < e4.touches.length : 0 < e4.buttons) && a.current ? s(getRelativePosition(a.current, e4, d.current)) : i2(false);
    }, o2 = () => {
      i2(false), c && c();
    };
    function i2(e4) {
      var t2 = p.current, n2 = a.current, n2 = getParentWindow(n2), e4 = e4 ? n2.addEventListener : n2.removeEventListener;
      e4(t2 ? "touchmove" : "mousemove", r2), e4(t2 ? "touchend" : "mouseup", o2);
    }
    return [({ nativeEvent: e4 }) => {
      var t2, n2 = a.current;
      n2 && (preventDefaultMove(e4), !isInvalid(e4, p.current)) && n2 && (isTouch(e4) && (p.current = true, (t2 = e4.changedTouches || []).length) && (d.current = t2[0].identifier), n2.focus(), l && l(getRelativePosition(n2, e4, d.current)), s(getRelativePosition(n2, e4, d.current)), i2(true));
    }, (e4) => {
      var t2 = e4.which || e4.keyCode;
      t2 < 37 || 40 < t2 || (e4.preventDefault(), u({ left: 39 === t2 ? 0.05 : 37 === t2 ? -0.05 : 0, top: 40 === t2 ? 0.05 : 38 === t2 ? -0.05 : 0 }));
    }, i2];
  }, [u, s]);
  return (0, import_react.useEffect)(() => h, [h]), jsx2("div", Object.assign({}, e3, { onTouchStart: i, onMouseDown: i, css: { position: "absolute", left: 0, top: 0, right: 0, bottom: 0, borderRadius: "inherit", outline: "none", touchAction: "none" }, ref: a, onKeyDown: f, tabIndex: 0 }));
};
var Interactive = import_react.default.memo(InteractiveBase);
var HuePointer = ({ style: e3, left: t, top: n = 0.5 }) => {
  n = { top: 100 * n + "%", left: 100 * t + "%" };
  return jsx2("div", { css: Object.assign({ position: "absolute", width: 8, height: 8, transform: "translate(-50%,-50%)", background: "#fff", borderRadius: "50%", boxShadow: "0 2px 5px rgba(57,76,96,.15), 0 0 0 1px rgba(64,87,109,.07)", zIndex: 2, transition: "width height .1s" }, e3), style: n });
};
var HueBase = ({ hue: t, onChange: n }) => {
  const [e3, r] = (0, import_react.useState)(false);
  return jsx2("div", { css: { borderRadius: 6, position: "relative", height: 12, background: "linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)", cursor: "pointer" }, children: jsx2(Interactive, { onMoveStart: () => {
    r(true);
  }, onMoveEnd: () => {
    r(false);
  }, onMove: (e4) => {
    n({ h: 360 * e4.left });
  }, onKey: (e4) => {
    n({ h: lodashExports.clamp(t + 360 * e4.left, 0, 360) });
  }, "aria-label": "Hue", "aria-valuenow": Math.round(t), "aria-valuemax": "360", "aria-valuemin": "0", children: jsx2(HuePointer, { style: { width: e3 ? 12 : 8, height: e3 ? 12 : 8, ":hover": { width: 12, height: 12 } }, left: t / 360 }) }) });
};
var Hue = import_react.default.memo(HueBase);
var Pointer = ({ zIndex: e3, color: t, left: n, top: r = 0.5 }) => {
  return jsx2("div", { css: { position: "absolute", width: 14, height: 14, transform: "translate(-50%,-50%)", background: "#fff", border: "3px solid #fff", borderRadius: "50%", boxShadow: "0 2px 5px rgba(57,76,96,.15), 0 0 0 1px rgba(64,87,109,.07)", zIndex: e3 }, style: { top: 100 * r + "%", left: 100 * n + "%" }, children: jsx2("div", { css: { position: "absolute", left: 0, top: 0, right: 0, bottom: 0, pointerEvents: "none", borderRadius: "inherit" }, style: { backgroundColor: t } }) });
};
var SaturationBase = ({ hsva: t, onChange: n }) => {
  return jsx2("div", { css: { position: "relative", flexGrow: 1, borderColor: "transparent", borderRadius: 4, height: 112, backgroundImage: "linear-gradient(to top, #000, rgba(0, 0, 0, 0)), linear-gradient(to right, #fff, rgba(255, 255, 255, 0))", cursor: "pointer" }, style: { backgroundColor: hsv2hslString({ h: t.h, s: 100, v: 100, a: 1 }) }, children: jsx2(Interactive, { onMove: (e3) => {
    n({ s: 100 * e3.left, v: 100 - 100 * e3.top });
  }, onKey: (e3) => {
    n({ s: lodashExports.clamp(t.s + 100 * e3.left, 0, 100), v: lodashExports.clamp(t.v - 100 * e3.top, 0, 100) });
  }, "aria-label": "Color", "aria-valuetext": `Saturation ${Math.round(t.s)}%, Brightness ${Math.round(t.v)}%`, children: jsx2(Pointer, { zIndex: 3, top: 1 - t.v / 100, left: t.s / 100, color: hsv2hslString(t) }) }) });
};
var Saturation = import_react.default.memo(SaturationBase);
function useColorManipulation(t, n, e3) {
  const r = useEventCallback(e3), [o, i] = (0, import_react.useState)(() => t.toHsva(n)), a = (0, import_react.useRef)({ color: n, hsva: o });
  (0, import_react.useEffect)(() => {
    var e4;
    t.equal(n, a.current.color) || (e4 = t.toHsva(n), a.current = { hsva: e4, color: n }, i(e4));
  }, [n, t]), (0, import_react.useEffect)(() => {
    let e4;
    equalColorObjects(o, a.current.hsva) || t.equal(e4 = t.fromHsva(o), a.current.color) || (a.current = { hsva: o, color: e4 }, r(e4));
  }, [o, t, r]);
  e3 = (0, import_react.useCallback)((t2) => {
    i((e4) => Object.assign({}, e4, t2));
  }, []);
  return [o, e3];
}
var Alpha = ({ hsva: t, onChange: n }) => {
  const [e3, r] = (0, import_react.useState)(false);
  return jsx2("div", { css: { position: "relative", backgroundImage: "linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%),linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%)", backgroundSize: "8px 8px", backgroundPosition: "0  0, 4px 4px", backgroundColor: "#fff", boxShadow: "inset 0 0 0 1px rgba(57,76,96,.15)", cursor: "pointer", borderRadius: 6 }, children: jsx2("div", { css: { borderRadius: 6, height: 12, background: "linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)" }, style: { backgroundImage: `linear-gradient(90deg, ${hsv2hslString(Object.assign({}, t, { a: 0 }))}, ${hsv2hslString(Object.assign({}, t, { a: 1 }))})` }, children: jsx2(Interactive, { onMoveStart: () => {
    r(true);
  }, onMoveEnd: () => {
    r(false);
  }, onMove: (e4) => {
    n({ a: e4.left });
  }, onKey: (e4) => {
    n({ a: clamp(t.a + e4.left) });
  }, children: jsx2(HuePointer, { style: { width: e3 ? 12 : 8, height: e3 ? 12 : 8, ":hover": { width: 12, height: 12 } }, left: t.a }) }) }) });
};
var EyedropperIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M224 67.3a35.79 35.79 0 0 0-11.26-25.66c-14-13.28-36.72-12.78-50.62 1.13L142.8 62.2a24 24 0 0 0-33.14.77l-9 9a16 16 0 0 0 0 22.64l2 2.06-51 51a39.75 39.75 0 0 0-10.53 38l-8 18.41A13.68 13.68 0 0 0 36 219.3a15.92 15.92 0 0 0 17.71 3.35L71.23 215a39.89 39.89 0 0 0 37.06-10.75l51-51 2.06 2.06a16 16 0 0 0 22.62 0l9-9a24 24 0 0 0 .74-33.18l19.75-19.87A35.75 35.75 0 0 0 224 67.3ZM97 193a24 24 0 0 1-24 6 8 8 0 0 0-5.55.31l-18.1 7.91L57 189.41a8 8 0 0 0 .25-5.75A23.88 23.88 0 0 1 63 159l51-51 33.94 34ZM202.13 82l-25.37 25.52a8 8 0 0 0 0 11.3l4.89 4.89a8 8 0 0 1 0 11.32l-9 9L112 83.26l9-9a8 8 0 0 1 11.31 0l4.89 4.89a8 8 0 0 0 11.33 0l24.94-25.09c7.81-7.82 20.5-8.18 28.29-.81a20 20 0 0 1 .39 28.7Z" }) }));
};
var BaseColorPicker = (e3) => {
  var { colorModel: t, color: n = t.defaultColor, onChange: r, enableAlpha: o } = e3, e3 = __rest(e3, ["colorModel", "color", "onChange", "enableAlpha"]), i = (0, import_react.useRef)(null);
  const a = (0, import_react.useRef)(null), [s, l] = (0, import_react.useState)(false), [c, u] = useColorManipulation(t, n, r);
  const d = (e4) => {
    e4 = e4.replace(/^#/, "");
    3 <= e4.length ? u(hex2hsv("#" + e4)) : "" === e4 ? u(hex2hsv("#ffffff")) : u(hex2hsv(`#${e4}${e4}00000`.slice(0, 7)));
  };
  t = (e4) => {
    a.current.value = hsv2hex(Object.assign(Object.assign({}, c), e4)).slice(0, 7), u(e4);
  };
  return jsxs2("div", Object.assign({}, e3, { ref: i, css: { position: "relative", width: "100%", display: "grid", rowGap: 8 }, children: [jsx2(Saturation, { hsva: c, onChange: t }), jsx2(Hue, { hue: c.h, onChange: t }), o && jsx2(Alpha, { hsva: c, onChange: t }), jsxs2("div", { css: { display: "flex" }, children: [jsxs2("div", { css: { flexGrow: 1, borderWidth: 1, borderRadius: 4, fontSize: 14, lineHeight: "36px", color: "rgb(94, 98, 120)", marginRight: 8, display: "flex", overflow: "hidden", borderColor: s ? "#3d8eff" : "rgb(217, 219, 228)" }, children: [jsx2("div", { css: { flexGrow: 1 }, children: jsx2("input", { ref: a, type: "text", defaultValue: n, css: { width: "100%", height: "100%", textAlign: o ? "left" : "center", textTransform: "uppercase", padding: "0 12px" }, onKeyDown: (e4) => {
    var t2 = keyName(e4.nativeEvent), t2 = modifiers$1(t2, e4.nativeEvent);
    /[a-f0-9]/.test(t2) || ["Backspace", "Delete", normalizeKeyName$1("Mod-v"), normalizeKeyName$1("Mod-a")].includes(t2) || e4.preventDefault();
  }, onChange: (e4) => {
    var t2 = e4.target.value.replace(/^#/, "");
    d(t2), e4.target.value = "#" + t2;
  }, onFocus: (e4) => {
    e4.target.select(), l(true);
  }, onBlur: () => l(false), onPaste: (e4) => {
    var t2 = ("" + e4.clipboardData.getData("text").replaceAll(/([^a-f0-9])/g, "")).slice(0, 6);
    d(t2), e4.target.value = "#" + t2, e4.preventDefault();
  }, maxLength: 7 }) }), o && jsxs2("div", { css: { display: "flex", alignItems: "center", flexShrink: 0, width: 80, paddingLeft: 12 }, children: [jsx2("input", { type: "text", onKeyDown: (e4) => {
    var t2 = keyName(e4.nativeEvent), t2 = modifiers$1(t2, e4.nativeEvent);
    /[0-9]/.test(t2) || ["Backspace", "Delete", normalizeKeyName$1("Mod-v"), normalizeKeyName$1("Mod-a")].includes(t2) || e4.preventDefault();
  }, onChange: (e4) => {
    var t2 = parseInt(e4.target.value, 10) || 0, t2 = Math.max(0, Math.min(100, t2));
    u(Object.assign(Object.assign({}, c), { a: 0.01 * t2 })), e4.target.value = t2.toString();
  }, onFocus: (e4) => {
    e4.target.select();
  }, onPaste: (e4) => {
    var t2 = e4.clipboardData.getData("text").replaceAll(/([^0-9])/g, ""), t2 = Math.max(0, Math.min(100, parseInt(t2, 10)));
    e4.target.value = t2.toString(), u(Object.assign(Object.assign({}, c), { a: 0.01 * t2 })), e4.preventDefault();
  }, defaultValue: Math.round(100 * c.a), css: { width: "100%", height: "100%", textAlign: "right", padding: "0 8px" } }), jsx2("span", { css: { color: "rgba(13,18,22,.7)", padding: "0 8px", flexShrink: 0 }, children: "%" })] })] }), jsx2("div", { css: {}, children: jsx2("div", { css: { width: 38, height: 38, border: "1px solid rgb(217, 219, 228)", background: window.EyeDropper ? void 0 : n, borderRadius: 4, fontSize: 24, display: "flex", alignItems: "center", justifyContent: "center", cursor: window.EyeDropper ? "pointer" : void 0 }, onClick: async () => {
    var e4;
    window.EyeDropper && (e4 = await new window.EyeDropper().open(), a.current.value = new Color(e4.sRGBHex).toHex(), d(new Color(e4.sRGBHex).toHex()));
  }, children: window.EyeDropper && jsx2(EyedropperIcon, {}) }) })] })] }));
};
var colorModel = { defaultColor: "000", toHsva: hex2hsv, fromHsva: ({ h: e3, s: t, v: n, a: r }) => hsv2hex({ h: e3, s: t, v: n, a: r }), equal: equalHex };
var ColorPicker = (e3) => jsx2(BaseColorPicker, Object.assign({}, e3, { colorModel }));
var ColorIcon = (e3, t) => {
  var { color: n, selected: r, children: o } = e3, e3 = __rest(e3, ["color", "selected", "children"]);
  return jsxs2("div", Object.assign({ ref: t, css: { paddingBottom: "100%", position: "relative", width: "100%", cursor: "pointer" } }, e3, { children: [jsxs2("div", { css: { backgroundColor: "#fff", backgroundPosition: "0 0, 6px 6px", backgroundSize: "12px 12px", inset: 0, position: "absolute", backgroundImage: "linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%),linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%)" }, children: [jsx2("div", { css: { borderRadius: 4, overflow: "hidden", background: n, width: "100%", height: "100%", position: "absolute", boxShadow: "inset 0 0 0 1px rgba(57,76,96,.15)" } }), jsx2("div", { css: { position: "absolute", top: 0, left: 0, width: "100%", height: "100%", borderRadius: 4, boxShadow: r && new Color(r).toRgbString() === new Color(n).toRgbString() ? "0 0 0 1px #3d8eff,inset 0 0 0 2px #009ef7,inset 0 0 0 4px #fff" : void 0 } })] }), o] }));
};
var ColorIcon$1 = (0, import_react.forwardRef)(ColorIcon);
var getEffectList = (e3) => [{ value: "none", img: e3 + "/text/effects/none.png" }, { value: "shadow", img: e3 + "/text/effects/shadow.png", settings: { offset: 50, direction: 45, blur: 0, transparency: 40, color: "#000000" } }, { value: "lift", img: e3 + "/text/effects/lift.png", settings: { intensity: 50 } }, { value: "hollow", img: e3 + "/text/effects/hollow.png", settings: { thickness: 50 } }, { value: "splice", img: e3 + "/text/effects/splice.png", settings: { thickness: 50, offset: 50, direction: 45, color: "#000000" } }, { value: "echo", img: e3 + "/text/effects/echo.png", settings: { offset: 50, direction: 45, color: "#000000" } }];
var TextEffectSidebar = (e3, t) => {
  e3 = __rest(e3, []);
  const o = (0, import_react.useContext)(EditorContext)["config"]["assetPath"], n = (0, import_react.useRef)(null), [r, i] = (0, import_react.useState)(false);
  var a = useSelectedLayers()["selectedLayers"];
  const { actions: s, activePage: l } = useEditor((e4) => ({ activePage: e4.activePage })), c = a.filter((e4) => isTextLayer(e4)), { effect: u, settings: d } = (0, import_react.useMemo)(() => c.reduce((e4, t2) => {
    t2 = t2.data.props;
    return t2.effect && (t2.effect.name === e4.effect || t2.effect.name && "none" === e4.effect ? (e4.effect = t2.effect.name, e4.settings = t2.effect.settings) : (e4.effect = "none", e4.settings = {})), e4;
  }, { effect: "none", settings: {} }), [c]), p = lodashExports.throttle((e4, t2) => {
    var n2 = c.map((e5) => e5.id);
    s.history.throttle(2e3).setProp(l, n2, { effect: { settings: { [e4]: t2 } } });
  }, 16);
  return jsxs2(Sidebar$1, Object.assign({ ref: t }, e3, { children: [jsxs2("div", { css: { display: "flex", alignItems: "center", justifyContent: "center", flexShrink: 0, height: 48, borderBottom: "1px solid rgba(57,76,96,.15)", padding: "0 20px" }, children: [jsx2("p", { css: { lineHeight: "48px", fontWeight: 600, color: "#181C32", flexGrow: 1 }, children: "Text Effects" }), jsx2("div", { css: { fontSize: 20, flexShrink: 0, width: 32, height: 32, cursor: "pointer", display: "flex", alignItems: "center", justifyContent: "center" }, onClick: () => {
    s.setSidebar();
  }, children: jsx2(XIcon, {}) })] }), jsxs2("div", { css: { padding: "24px 16px" }, children: [jsx2("p", { children: "Style" }), jsxs2("div", { css: { display: "grid", gridTemplateColumns: "repeat(3,minmax(0,1fr))", gap: 12, fontSize: 10 }, children: [getEffectList(o).map((e4) => jsxs2("div", { children: [jsxs2("div", { css: { cursor: "pointer", position: "relative" }, onClick: () => {
    return r2 = e4.value, s.history.new(), void c.forEach(({ id: e5, data: { props: { colors: t2 } } }) => {
      var n2;
      "none" === r2 ? s.setProp(l, e5, { effect: null }) : (n2 = lodashExports.cloneDeep(null == (n2 = getEffectList(o).find((e6) => e6.value === r2)) ? void 0 : n2.settings), 0 < t2.length && (50 < (t2 = new Color(t2[0])).white() ? n2.color = t2.darken(0.5).toRgbString() : n2.color = t2.whiten(0.5).toRgbString()), s.history.merge().setProp(l, e5, { effect: { name: r2, settings: n2 } }, (e6, t3) => {
        if (t3)
          return t3;
      }));
    });
    var r2;
  }, children: [jsx2("div", { css: { paddingBottom: "100%", width: "100%" } }), jsx2("img", { src: e4.img, css: { width: "100%", height: "100%", position: "absolute", left: 0, top: 0, borderRadius: 4, boxShadow: e4.value === u ? "0 0 0 2px #3d8eff,inset 0 0 0 2px #fff" : "0 0 0 1px rgba(43,59,74,.3)", ":hover": { boxShadow: "00 0 0 2px #3d8eff,inset 0 0 0 2px #fff" } } })] }), jsx2("div", { css: { textAlign: "center", marginTop: 4, lineHeight: "20px", textTransform: "capitalize" }, children: e4.value })] }, e4.value)), d && jsx2("div", { css: { gridRow: Math.ceil((1 + getEffectList(o).findIndex((e4) => e4.value === u)) / 3) + 1 + " / auto", gridColumn: "1/-1", padding: "8px 0" }, children: jsx2("div", { css: { display: "grid", rowGap: 8 }, children: Object.entries(d).map(([t2, e4]) => jsxs2(import_react.Fragment, { children: ["color" !== t2 && jsx2(Slider, { label: t2, min: "direction" === t2 ? -180 : 0, max: "direction" === t2 ? 180 : 100, defaultValue: e4, onChange: (e5) => {
    p(t2, e5);
  } }), "color" === t2 && jsxs2("div", { css: { display: "flex", alignItems: "center" }, children: [jsx2("div", { css: { flexGrow: 1, fontSize: 14, textTransform: "capitalize", whiteSpace: "nowrap" }, children: "Color" }), jsx2("div", { ref: n, css: { width: 32, height: 32 }, children: jsx2(ColorIcon$1, { color: e4, selected: null, onClick: () => i(true) }) }), jsx2(Popover$1, { open: r, anchorEl: n.current, placement: "bottom-end", onClose: () => i(false), children: jsx2("div", { css: { padding: 16, width: 280 }, children: jsx2(ColorPicker, { color: new Color(e4 || "#f25022").toHex(), onChange: (e5) => {
    p(t2, hex2rgbString(e5));
  } }) }) })] })] }, t2)) }) })] })] })] }));
};
var TextEffectSidebar$1 = (0, import_react.forwardRef)(TextEffectSidebar);
var GRADIENT_STYLE = ["leftToRight", "topToBottom", "topLeftToBottomRight", "circleCenter", "circleTopLeft"];
var GradientPicker = ({ selectedColor: n, gradient: r, event: e3, children: t, onChangeGradient: o, onChangeColor: i }) => {
  var a = (0, import_react.useRef)(null), s = (0, import_react.useRef)(null);
  const l = (0, import_react.useRef)([]), [c, u] = (0, import_react.useState)(false), [d, p] = (0, import_react.useState)(null), [f, h] = (0, import_react.useState)(r ? "gradient" : "solid"), [m, g] = (0, import_react.useState)(), [v, y] = (0, import_react.useState)(n), b = (0, import_react.useMemo)(() => {
    var e4, t2;
    return null != r && r.colors.length ? null == r ? void 0 : r.colors : ((t2 = (e4 = new Color(n)).toHsl()).l < 50 ? t2.l = Math.min(100, t2.l + 30) : t2.l = Math.max(0, t2.l - 30), [e4.toRgbString(), new Color(t2).toRgbString()]);
  }, [r, n]), w = ((0, import_react.useEffect)(() => {
    c && g({ colors: b, style: (null == r ? void 0 : r.style) || "leftToRight" });
  }, [c]), (0, import_react.useEffect)(() => {
    m && "gradient" === f && o(m);
  }, [m, f]), (e4) => {
    y(e4), i(e4);
  });
  return jsxs2(import_react.Fragment, { children: [jsx2("div", { ref: s, css: { cursor: "pointer" }, onClick: () => "click" === e3 && u(true), onDoubleClick: () => "doubleClick" === e3 && u(true), children: t }), jsx2(Popover$1, { ref: a, open: c, anchorEl: s.current, placement: "bottom", offsets: { bottom: { y: 8, x: 0 } }, onClose: () => {
    u(false), p(null);
  }, children: jsxs2("div", { css: { padding: "0 16px 16px 16px", width: 280 }, children: [jsxs2("div", { css: { display: "flex", justifyContent: "center", marginBottom: 12, borderBottom: "1px solid rgba(217, 219, 228, 0.6)" }, children: [jsx2("div", { css: { display: "inline-block", cursor: "pointer", padding: 8, flexGrow: 1, textAlign: "center", overflow: "hidden", flexShrink: 0, fontWeight: 700, whiteSpace: "nowrap", color: "solid" === f ? "#3d8eff" : "rgba(13,18,22,.7)" }, onClick: () => {
    h("solid"), w(n);
  }, children: "Solid Color" }), jsx2("div", { css: { display: "inline-block", cursor: "pointer", padding: 8, flexGrow: 1, textAlign: "center", overflow: "hidden", flexShrink: 0, fontWeight: 700, whiteSpace: "nowrap", color: "gradient" === f ? "#3d8eff" : "rgba(13,18,22,.7)" }, onClick: () => {
    h("gradient"), g({ colors: (null === m || void 0 === m ? void 0 : m.colors) || [], style: (null === m || void 0 === m ? void 0 : m.style) || "leftToRight" });
  }, children: "Gradient" })] }), "solid" === f && jsx2("div", { css: {}, children: jsx2(ColorPicker, { color: new Color(v).toHex(), onChange: w }) }), "gradient" === f && jsxs2("div", { css: { display: "grid", rowGap: 12 }, children: [jsxs2("div", { children: [jsx2("div", { css: { fontWeight: 700, lineHeight: 2.2 }, children: "Gradient colors" }), jsxs2("div", { css: { display: "grid", gridTemplateColumns: " repeat(auto-fill, minmax(40px, 1fr))", gridGap: 8 }, children: [null === m || void 0 === m ? void 0 : m.colors.map((e4, t2) => jsxs2("div", { css: { position: "relative" }, children: [jsx2(ColorIcon$1, { ref: (e5) => l.current[t2] = e5, selected: null, color: e4, onClick: () => p({ index: t2, color: e4 }) }), jsx2("div", { css: { position: "absolute", top: -8, right: -8, fontSize: 12, padding: 4, borderRadius: "50%", opacity: 0, transition: "opacity .15s ease-in-out", background: "rgba(17,23,29,.6)", color: "#fff", display: 2 < (null === m || void 0 === m ? void 0 : m.colors.length) ? "block" : "none", cursor: "pointer", ":hover": { opacity: 1 } }, onClick: () => {
    return 2 < (null === m || void 0 === m ? void 0 : m.colors.length) && (n2 = t2, void (m && g({ colors: m.colors.filter((e5, t3) => t3 !== n2), style: m.style })));
    var n2;
  }, children: jsx2(XIcon, {}) })] }, t2)), jsx2(Popover$1, { open: !!d, anchorEl: d && l.current[d.index], element: a.current, placement: "bottom", offsets: { bottom: { y: 8, x: 0 } }, onClose: () => p(null), children: jsx2("div", { css: { padding: 16, width: 280 }, children: jsx2(ColorPicker, { enableAlpha: true, color: new Color((null === d || void 0 === d ? void 0 : d.color) || "#f25022").toHex(), onChange: (e4) => {
    var t2;
    d && ((t2 = [...b])[d.index] = e4, g({ colors: t2, style: (null === m || void 0 === m ? void 0 : m.style) || "leftToRight" }));
  } }) }) }), jsx2("div", { css: { paddingBottom: "100%", position: "relative", width: "100%", cursor: "pointer" }, onClick: () => {
    var e4 = b[b.length - 1];
    g({ colors: [...b, e4], style: (null == r ? void 0 : r.style) || "leftToRight" }), p({ index: b.length, color: e4 });
  }, children: jsx2("div", { css: { background: "rgba(64,87,109,.07)", fontSize: 24, display: "flex", alignItems: "center", justifyContent: "center", position: "absolute", inset: 0, borderRadius: 4, transition: "background-color .1s linear,border-color .1s linear,color .1s linear", ":hover": { background: "rgba(57,76,96,.15)" } }, children: jsx2(PlusIcon, {}) }) })] })] }), jsxs2("div", { children: [jsx2("div", { css: { fontWeight: 700, lineHeight: 2.2 }, children: "Style" }), jsx2("div", { css: { display: "grid", columnGap: 8, gridAutoFlow: "column" }, children: GRADIENT_STYLE.map((t2) => jsx2("div", { css: { width: "100%", height: 40, borderRadius: 4, overflow: "hidden" }, onClick: () => {
    var e4;
    e4 = t2, g({ colors: b, style: e4 });
  }, children: jsx2("div", { css: { backgroundColor: "#fff", backgroundPosition: "0 0, 6px 6px", backgroundSize: "12px 12px", width: "100%", height: "100%", position: "relative", backgroundImage: "linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%),linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%)" }, children: jsx2("div", { css: { background: getGradientBackground(b, t2), position: "absolute", inset: 0 } }) }) }, t2)) })] })] })] }) })] });
};
var ColorPickerPopover = ({ color: e3, event: t, onChange: n, children: r }) => {
  var o = (0, import_react.useRef)(null);
  const [i, a] = (0, import_react.useState)(false);
  return jsxs2(import_react.Fragment, { children: [jsx2("div", { ref: o, css: { cursor: "pointer" }, onClick: () => "click" === t && a(true), onDoubleClick: () => "doubleClick" === t && a(true), children: r }), jsx2(Popover$1, { open: i, anchorEl: o.current, placement: "bottom", offsets: { bottom: { y: 8, x: 0 } }, onClose: () => a(false), children: jsx2("div", { css: { padding: 16, width: 280 }, children: jsx2(ColorPicker, { color: new Color(e3).toHex(), onChange: n }) }) })] });
};
var defaultColors = [["#000000", "#545454", "#737373", "#a6a6a6", "#d9d9d9", "#ffffff"], ["#ff3131", "#FF5757", "#FF66C4", "#CB6CE6", "#8C52FF", "#5E17EB"], ["#0097B2", "#0CC0DF", "#5CE1E6", "#38B6FF", "#5271FF", "#004AAD"], ["#00BF62", "#7ED957", "#C1FF72", "#FFDE59", "#FFBD59", "#FF914D"]];
var ColorSidebar = (e3, t) => {
  var { selected: r, gradient: o, useGradient: i, onSelect: n, onChangeGradient: a } = e3, e3 = __rest(e3, ["selected", "gradient", "useGradient", "onSelect", "onChangeGradient"]);
  const [s, l] = (0, import_react.useState)(null), [c, u] = (0, import_react.useState)(null), [d] = (0, import_react.useState)(r), { actions: p, state: f } = useEditor(), h = (0, import_react.useMemo)(() => f.pages.reduce((t2, e4) => (Object.entries(e4.layers).forEach(([, e5]) => {
    isRootLayer(e5) && e5.data.props.color || isShapeLayer(e5) && e5.data.props.color ? t2.push(e5.data.props.color) : (isTextLayer(e5) || isSvgLayer(e5)) && t2.push(...e5.data.props.colors);
  }), lodashExports.uniq(t2)), []), []), m = (0, import_react.useMemo)(() => {
    var e4 = f.pages.reduce((t2, e5) => (Object.entries(e5.layers).forEach(([, e6]) => {
      (isRootLayer(e6) && e6.data.props.gradientBackground || isShapeLayer(e6) && e6.data.props.gradientBackground) && t2.push(e6.data.props.gradientBackground);
    }), t2), []);
    return lodashExports.uniqWith(e4, lodashExports.isEqual);
  }, []);
  var g = (0, import_react.useMemo)(() => {
    var e4;
    return s ? (e4 = h.findIndex((e5) => d && e5 === new Color(d).toRgbString()), lodashExports.uniq([...h.slice(0, e4), s, ...h.slice(e4, h.length)])) : h;
  }, [h, s, d]), v = (0, import_react.useMemo)(() => {
    var e4;
    return c ? (e4 = m.findIndex((e5) => lodashExports.isEqual(e5, o)), lodashExports.uniqWith([...m.slice(0, e4), c, ...m.slice(e4, m.length)], lodashExports.isEqual)) : m;
  }, [m, c, o]);
  const y = (e4) => {
    lodashExports.isEqual(e4, s) || (l(null), u(null)), n(new Color(e4).toRgbString());
  }, b = (e4) => {
    l(e4), u(null), n(e4);
  }, w = (e4) => {
    l(null), u(e4), a && a(e4);
  };
  return jsxs2(Sidebar$1, Object.assign({ ref: t }, e3, { children: [jsxs2("div", { css: { display: "flex", alignItems: "center", justifyContent: "center", flexShrink: 0, height: 48, borderBottom: "1px solid rgba(57,76,96,.15)", padding: "0 20px" }, children: [jsx2("p", { css: { lineHeight: "48px", fontWeight: 600, color: "#181C32", flexGrow: 1 }, children: "Colors" }), jsx2("div", { css: { fontSize: 20, flexShrink: 0, width: 32, height: 32, cursor: "pointer", display: "flex", alignItems: "center", justifyContent: "center" }, onClick: () => {
    p.setSidebar();
  }, children: jsx2(XIcon, {}) })] }), jsxs2("div", { css: { padding: "0 20px", display: "grid", rowGap: 24 }, children: [jsxs2("div", { children: [jsx2("div", { css: { padding: "8px 0", fontWeight: 700 }, children: "Document colors" }), jsxs2("div", { css: { display: "grid", gridGap: 12, gridTemplateColumns: `repeat(${defaultColors[0].length},minmax(0,1fr))` }, children: [i && a && jsx2(GradientPicker, { selectedColor: new Color(s || r || "#f25022").toHex(), event: "click", gradient: c || o, onChangeColor: (e4) => {
    b(new Color(e4).toRgbString());
  }, onChangeGradient: w, children: jsx2("div", { css: { paddingBottom: "100%", position: "relative", width: "100%" }, children: jsx2("div", { css: { borderRadius: 4, overflow: "hidden", background: "conic-gradient(red, yellow, lime, aqua, blue, magenta, red)", width: "100%", height: "100%", position: "absolute", display: "flex", alignItems: "center", justifyContent: "center" }, children: jsx2("div", { css: { fontSize: 16, width: 24, height: 24, background: "#fff", borderRadius: "50%", display: "flex", alignItems: "center", justifyContent: "center" }, children: jsx2(PlusIcon, {}) }) }) }) }), !i && jsx2(ColorPickerPopover, { color: d || "#f25022", event: "click", onChange: y, children: jsx2("div", { css: { paddingBottom: "100%", position: "relative", width: "100%" }, children: jsx2("div", { css: { borderRadius: 4, overflow: "hidden", background: "conic-gradient(red, yellow, lime, aqua, blue, magenta, red)", width: "100%", height: "100%", position: "absolute", display: "flex", alignItems: "center", justifyContent: "center" }, children: jsx2("div", { css: { fontSize: 16, width: 24, height: 24, background: "#fff", borderRadius: "50%", display: "flex", alignItems: "center", justifyContent: "center" }, children: jsx2(PlusIcon, {}) }) }) }) }), g.map((e4, t2) => {
    var n2 = jsx2(ColorIcon$1, { color: e4, selected: r, onClick: () => r !== e4 && y(e4) });
    return i && a ? jsx2(GradientPicker, { selectedColor: new Color(s || r || "#f25022").toHex(), event: "doubleClick", gradient: c || o, onChangeColor: (e5) => {
      e5 = hex2rgbString(e5);
      b(e5);
    }, onChangeGradient: w, children: n2 }, t2) : jsx2(ColorPickerPopover, { color: d || "#f25022", event: "doubleClick", onChange: y, children: n2 }, t2);
  }), i && a && v.map((t2, e4) => jsx2(GradientPicker, { selectedColor: new Color(s || r || "#f25022").toHex(), event: "doubleClick", gradient: c || o, onChangeColor: (e5) => {
    e5 = hex2rgbString(e5);
    b(e5);
  }, onChangeGradient: w, children: jsx2(ColorIcon$1, { color: getGradientBackground(t2.colors, t2.style), selected: o && getGradientBackground(o.colors, o.style) || null, onClick: () => {
    return e5 = t2, lodashExports.isEqual(e5, c) || (l(null), u(null)), void (a && a(e5));
    var e5;
  } }) }, e4))] })] }), jsxs2("div", { css: { borderTop: "1px solid rgba(217, 219, 228, 0.6)" }, children: [jsx2("div", { css: { padding: "8px 0", fontWeight: 700 }, children: "Default Colors" }), jsx2("div", { css: { display: "grid", gridGap: 12, gridTemplateColumns: `repeat(${defaultColors[0].length},minmax(0,1fr))` }, children: defaultColors.map((e4) => e4.map((e5, t2) => jsx2(ColorIcon$1, { color: e5, selected: r, onClick: () => y(e5) }, t2))) })] })] })] }));
};
var ColorSidebar$1 = (0, import_react.forwardRef)(ColorSidebar);
var TextBBoldIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M177.08 114.46A48 48 0 0 0 140 36H72a12 12 0 0 0-12 12v152a12 12 0 0 0 12 12h80a52 52 0 0 0 25.08-97.54ZM84 60h56a24 24 0 0 1 0 48H84Zm68 128H84v-56h68a28 28 0 0 1 0 56Z" }) }));
};
var ListBulletsIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M80 64a8 8 0 0 1 8-8h128a8 8 0 0 1 0 16H88a8 8 0 0 1-8-8Zm136 56H88a8 8 0 0 0 0 16h128a8 8 0 0 0 0-16Zm0 64H88a8 8 0 0 0 0 16h128a8 8 0 0 0 0-16ZM44 52a12 12 0 1 0 12 12 12 12 0 0 0-12-12Zm0 64a12 12 0 1 0 12 12 12 12 0 0 0-12-12Zm0 64a12 12 0 1 0 12 12 12 12 0 0 0-12-12Z" }) }));
};
var ListNumbersIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M224 128a8 8 0 0 1-8 8H104a8 8 0 0 1 0-16h112a8 8 0 0 1 8 8ZM104 72h112a8 8 0 0 0 0-16H104a8 8 0 0 0 0 16Zm112 112H104a8 8 0 0 0 0 16h112a8 8 0 0 0 0-16ZM43.58 55.16 48 52.94V104a8 8 0 0 0 16 0V40a8 8 0 0 0-11.58-7.16l-16 8a8 8 0 0 0 7.16 14.32Zm36.19 101.56a23.73 23.73 0 0 0-9.6-15.95 24.86 24.86 0 0 0-34.11 4.7 23.63 23.63 0 0 0-3.57 6.46 8 8 0 1 0 15 5.47 7.84 7.84 0 0 1 1.18-2.13 8.76 8.76 0 0 1 12-1.59 7.91 7.91 0 0 1 3.26 5.32 7.64 7.64 0 0 1-1.57 5.78 1 1 0 0 0-.08.11l-28.69 38.32A8 8 0 0 0 40 216h32a8 8 0 0 0 0-16H56l19.08-25.53a23.47 23.47 0 0 0 4.69-17.75Z" }) }));
};
var TextAaIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M87.24 52.59a8 8 0 0 0-14.48 0l-64 136a8 8 0 1 0 14.48 6.81L39.9 160h80.2l16.66 35.4a8 8 0 1 0 14.48-6.81ZM47.43 144 80 74.79 112.57 144ZM200 96c-12.76 0-22.73 3.47-29.63 10.32a8 8 0 0 0 11.26 11.36c3.8-3.77 10-5.68 18.37-5.68 13.23 0 24 9 24 20v3.22a42.76 42.76 0 0 0-24-7.22c-22.06 0-40 16.15-40 36s17.94 36 40 36a42.73 42.73 0 0 0 24-7.25 8 8 0 0 0 16-.75v-60c0-19.85-17.94-36-40-36Zm0 88c-13.23 0-24-9-24-20s10.77-20 24-20 24 9 24 20-10.77 20-24 20Z" }) }));
};
var TextAlignCenterIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M32 64a8 8 0 0 1 8-8h176a8 8 0 0 1 0 16H40a8 8 0 0 1-8-8Zm32 32a8 8 0 0 0 0 16h128a8 8 0 0 0 0-16Zm152 40H40a8 8 0 0 0 0 16h176a8 8 0 0 0 0-16Zm-24 40H64a8 8 0 0 0 0 16h128a8 8 0 0 0 0-16Z" }) }));
};
var TextAlignJustifyIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M32 64a8 8 0 0 1 8-8h176a8 8 0 0 1 0 16H40a8 8 0 0 1-8-8Zm184 32H40a8 8 0 0 0 0 16h176a8 8 0 0 0 0-16Zm0 40H40a8 8 0 0 0 0 16h176a8 8 0 0 0 0-16Zm0 40H40a8 8 0 0 0 0 16h176a8 8 0 0 0 0-16Z" }) }));
};
var TextAlignLeftIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M32 64a8 8 0 0 1 8-8h176a8 8 0 0 1 0 16H40a8 8 0 0 1-8-8Zm8 48h128a8 8 0 0 0 0-16H40a8 8 0 0 0 0 16Zm176 24H40a8 8 0 0 0 0 16h176a8 8 0 0 0 0-16Zm-48 40H40a8 8 0 0 0 0 16h128a8 8 0 0 0 0-16Z" }) }));
};
var TextAlignRightIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M32 64a8 8 0 0 1 8-8h176a8 8 0 0 1 0 16H40a8 8 0 0 1-8-8Zm184 32H88a8 8 0 0 0 0 16h128a8 8 0 0 0 0-16Zm0 40H40a8 8 0 0 0 0 16h176a8 8 0 0 0 0-16Zm0 40H88a8 8 0 0 0 0 16h128a8 8 0 0 0 0-16Z" }) }));
};
var TextItalicIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M200 56a8 8 0 0 1-8 8h-34.23L115.1 192H144a8 8 0 0 1 0 16H64a8 8 0 0 1 0-16h34.23L140.9 64H112a8 8 0 0 1 0-16h80a8 8 0 0 1 8 8Z" }) }));
};
var TextUnderlineIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M200 224a8 8 0 0 1-8 8H64a8 8 0 0 1 0-16h128a8 8 0 0 1 8 8Zm-72-24a64.07 64.07 0 0 0 64-64V56a8 8 0 0 0-16 0v80a48 48 0 0 1-96 0V56a8 8 0 0 0-16 0v80a64.07 64.07 0 0 0 64 64Z" }) }));
};
var SettingButton = (e3, t) => {
  var { children: n, isActive: r, disabled: o, onClick: i } = e3, e3 = __rest(e3, ["children", "isActive", "disabled", "onClick"]);
  return jsx2("div", Object.assign({ ref: t, css: { position: "relative", display: "flex", alignItems: "center", justifyContent: "center", borderRadius: 4, height: 32, padding: "0 4px", cursor: o ? "not-allowed" : "pointer", backgroundColor: r ? "rgba(57,76,96,.15)" : "#fff", color: o ? "rgba(36,49,61,.4)" : void 0, whiteSpace: "nowrap", ":hover": { backgroundColor: o ? void 0 : "rgba(64,87,109,.07)" } }, onClick: (e4) => !o && i && i(e4) }, e3, { children: n }));
};
var SettingButton$1 = (0, import_react.forwardRef)(SettingButton);
var MinusIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M224 128a8 8 0 0 1-8 8H40a8 8 0 0 1 0-16h176a8 8 0 0 1 8 8Z" }) }));
};
var TextAUnderlineIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M60.59 175.24a8 8 0 0 0 10.65-3.83L87.9 136h80.2l16.66 35.41a8 8 0 1 0 14.48-6.82l-64-136a8 8 0 0 0-14.48 0l-64 136a8 8 0 0 0 3.83 10.65ZM128 50.79 160.57 120H95.43ZM224 216a8 8 0 0 1-8 8H40a8 8 0 0 1 0-16h176a8 8 0 0 1 8 8Z" }) }));
};
var KeyboardIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M223.51 48h-191A16.51 16.51 0 0 0 16 64.49v127A16.51 16.51 0 0 0 32.49 208h191A16.51 16.51 0 0 0 240 191.51v-127A16.51 16.51 0 0 0 223.51 48Zm.49 143.51a.49.49 0 0 1-.49.49h-191a.49.49 0 0 1-.49-.49v-127a.49.49 0 0 1 .49-.49h191a.49.49 0 0 1 .49.49ZM208 128a8 8 0 0 1-8 8H56a8 8 0 0 1 0-16h144a8 8 0 0 1 8 8Zm0-32a8 8 0 0 1-8 8H56a8 8 0 0 1 0-16h144a8 8 0 0 1 8 8ZM72 160a8 8 0 0 1-8 8h-8a8 8 0 0 1 0-16h8a8 8 0 0 1 8 8Zm96 0a8 8 0 0 1-8 8H96a8 8 0 0 1 0-16h64a8 8 0 0 1 8 8Zm40 0a8 8 0 0 1-8 8h-8a8 8 0 0 1 0-16h8a8 8 0 0 1 8 8Z" }) }));
};
function getNodeType(e3, t) {
  if ("string" != typeof e3)
    return e3;
  if (t.nodes[e3])
    return t.nodes[e3];
  throw Error(`There is no node type named '${e3}'!`);
}
var isNodeActive = (e3, t, n = {}) => {
  const { from: r, to: o, empty: i } = e3.selection, a = t ? getNodeType(t, e3.schema) : null, s = [];
  e3.doc.nodesBetween(r, o, (e4, t2) => {
    var n2;
    e4.isText || (n2 = Math.max(r, t2), t2 = Math.min(o, t2 + e4.nodeSize), s.push({ node: e4, from: n2, to: t2 }));
  });
  t = o - r, e3 = s.filter((e4) => !a || a.name === e4.node.type.name).filter((e4) => objectIncludes(e4.node.attrs, n));
  return i ? !!e3.length : t <= e3.reduce((e4, t2) => e4 + t2.to - t2.from, 0);
};
function getSchemaType(e3, t) {
  return t.nodes[e3] ? "node" : t.marks[e3] ? "mark" : null;
}
function isActive(e3, t, n = {}) {
  var r;
  return t ? "node" === (r = getSchemaType(t, e3.schema)) ? isNodeActive(e3, t, n) : "mark" === r && isMarkActive(e3, t, n) : isNodeActive(e3, null, n) || isMarkActive(e3, null, n);
}
var isEmptyContent = (e3) => {
  var t = null == (t = e3.doc.type.createAndFill()) ? void 0 : t.toJSON(), e3 = e3.doc.toJSON();
  return JSON.stringify(t) === JSON.stringify(e3);
};
var setTextAlign = (s) => (e3, t) => {
  const o = e3.tr.setSelection(e3.selection);
  var { selection: e3, doc: n } = o;
  if (!e3 || !n)
    return false;
  var { from: e3, to: r } = e3;
  const i = [], a = ["paragraph"];
  return n.nodesBetween(e3, r, (e4, t2) => {
    var n2 = e4.type;
    return (e4.attrs.align || null) !== s && a.includes(n2.name) && i.push({ node: e4, pos: t2, nodeType: n2 }), true;
  }), !!i.length && (i.forEach((e4) => {
    var { node: e4, pos: t2, nodeType: n2 } = e4;
    let r2 = e4["attrs"];
    r2 = s ? Object.assign(Object.assign({}, r2), { textAlign: s }) : Object.assign(Object.assign({}, r2), { textAlign: null }), o.setNodeMarkup(t2, n2, r2, e4.marks);
  }), !!t) && (t(o), true);
};
var setFontFamily = (s) => (e3, t) => {
  const o = e3.tr.setSelection(e3.selection);
  var { selection: e3, doc: n } = o;
  if (!e3 || !n)
    return false;
  var { from: e3, to: r } = e3;
  const i = [], a = ["paragraph"];
  return n.nodesBetween(e3, r, (e4, t2) => {
    var n2 = e4.type;
    return a.includes(n2.name) && i.push({ node: e4, pos: t2, nodeType: n2 }), true;
  }), !!i.length && (i.forEach((e4) => {
    var { node: e4, pos: t2, nodeType: n2 } = e4, r2 = e4["attrs"], r2 = Object.assign(Object.assign({}, r2), { fontFamily: s });
    o.setNodeMarkup(t2, n2, r2, e4.marks);
  }), !!t) && (t(o), true);
};
var setFontSize = (s) => (e3, t) => {
  const o = e3.tr.setSelection(e3.selection);
  var { selection: e3, doc: n } = o;
  if (!e3 || !n)
    return false;
  var { from: e3, to: r } = e3;
  const i = [], a = ["paragraph"];
  return n.nodesBetween(e3, r, (e4, t2) => {
    var n2 = e4.type;
    return a.includes(n2.name) && i.push({ node: e4, pos: t2, nodeType: n2 }), true;
  }), !!i.length && (i.forEach((e4) => {
    var { node: e4, pos: t2, nodeType: n2 } = e4, r2 = e4["attrs"], r2 = Object.assign(Object.assign({}, r2), { fontSize: s + "px" });
    o.setNodeMarkup(t2, n2, r2, e4.marks);
  }), !!t) && (t(o), true);
};
var toggleUnderline = (...e3) => toggleMark("underline")(...e3);
var unsetUnderline = (...e3) => unsetMark("underline")(...e3);
var setUnderline = (...e3) => setMark("underline")(...e3);
var setTextTransform = (s) => (e3, t) => {
  const o = e3.tr.setSelection(e3.selection);
  var { selection: e3, doc: n } = o;
  if (!e3 || !n)
    return false;
  var { from: e3, to: r } = e3;
  const i = [], a = /* @__PURE__ */ new Set(["list_item", "paragraph"]);
  return n.nodesBetween(e3, r, (e4, t2) => {
    var n2 = e4.type;
    return a.has(n2.name) && i.push({ node: e4, pos: t2, nodeType: n2 }), true;
  }), !!i.length && (i.forEach((e4) => {
    var { node: e4, pos: t2, nodeType: n2 } = e4, r2 = e4["attrs"], r2 = Object.assign(Object.assign({}, r2), { textTransform: null != s ? s : null });
    o.setNodeMarkup(t2, n2, r2, e4.marks);
  }), !!t) && (t(o), true);
};
var setBulletList = (s) => (e3, t) => {
  const o = e3.tr.setSelection(e3.selection);
  var { selection: e3, doc: n } = o;
  if (!e3 || !n)
    return false;
  var { from: e3, to: r } = e3;
  const i = [], a = ["paragraph"];
  return n.nodesBetween(e3, r, (e4, t2) => {
    var n2 = e4.type;
    return a.includes(n2.name) && i.push({ node: e4, pos: t2, nodeType: n2 }), true;
  }), !!i.length && (i.forEach((e4) => {
    var { node: e4, pos: t2, nodeType: n2 } = e4, r2 = e4["attrs"], r2 = Object.assign(Object.assign({}, r2), { indent: s, listType: "" });
    o.setNodeMarkup(t2, n2, r2, e4.marks);
  }), !!t) && (t(o), true);
};
var setOrderedList = (s) => (e3, t) => {
  const o = e3.tr.setSelection(e3.selection);
  var { selection: e3, doc: n } = o;
  if (!e3 || !n)
    return false;
  var { from: e3, to: r } = e3;
  const i = [], a = /* @__PURE__ */ new Set(["list_item", "paragraph"]);
  return n.nodesBetween(e3, r, (e4, t2) => {
    var n2 = e4.type;
    return a.has(n2.name) && i.push({ node: e4, pos: t2, nodeType: n2 }), true;
  }), !!i.length && (i.forEach((e4) => {
    var { node: e4, pos: t2, nodeType: n2 } = e4, r2 = e4["attrs"], r2 = Object.assign(Object.assign({}, r2), { indent: s, listType: "ordered" });
    o.setNodeMarkup(t2, n2, r2, e4.marks);
  }), !!t) && (t(o), true);
};
var setColor = (r) => (e3, t, n) => (setMark("color", { color: r })(e3, t, n), true);
var setColorForBlock = (i) => (e3, t) => {
  const o = e3.tr.setSelection(e3.selection);
  var { $from: n, $to: r } = o.selection, n = n.blockRange(r);
  return !(!n || !t || (e3.doc.nodesBetween(n.start, n.end, (e4, t2) => {
    var n2, r2;
    e4.isBlock && (n2 = e4.type, r2 = Object.assign(Object.assign({}, e4.attrs), { color: i }), o.setNodeMarkup(t2, n2, r2, e4.marks));
  }), t(o), 0));
};
var LineSpacingIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ width: "1em", height: "1em", viewBox: "0 0 24 24", fill: "currentColor", xmlns: "http://www.w3.org/2000/svg" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M21 12c0 .4-.3.8-.7.8h-9.7c-.4 0-.7-.3-.7-.8 0-.4.3-.8.7-.8h9.7c.4 0 .7.4.7.8zM10.6 6.8h9.7c.4 0 .7-.4.7-.8s-.3-.8-.7-.8h-9.7c-.4 0-.7.3-.7.8 0 .4.4.8.7.8zM20.3 17.2h-9.7c-.4 0-.7.3-.7.8s.3.8.7.8h9.7c.4 0 .7-.3.7-.8s-.3-.8-.7-.8zM8.4 17.2c.3.2.3.6 0 .9l-3 2.5c-.3.2-.8.2-1.1 0l-3-2.5c-.3-.2-.3-.6 0-.9.3-.2.8-.2 1.1 0l1.7 1.4V5.3L2.4 6.8c-.3.2-.8.2-1.1 0-.3-.3-.3-.7 0-.9l3-2.5c.3-.2.8-.2 1.1 0l3 2.5c.3.2.3.6 0 .9-.3.2-.8.2-1.1 0L5.6 5.3v13.3l1.7-1.4c.3-.2.8-.2 1.1 0z" }) }));
};
var setLetterSpacing = (s) => (e3, t) => {
  const o = e3.tr.setSelection(e3.selection);
  var { selection: e3, doc: n } = o;
  if (!e3 || !n)
    return false;
  var { from: e3, to: r } = e3;
  const i = [], a = ["paragraph"];
  return n.nodesBetween(e3, r, (e4, t2) => {
    var n2 = e4.type;
    return a.includes(n2.name) && i.push({ node: e4, pos: t2, nodeType: n2 }), true;
  }), !!i.length && (i.forEach((e4) => {
    var { node: e4, pos: t2, nodeType: n2 } = e4, r2 = e4["attrs"], r2 = Object.assign(Object.assign({}, r2), { letterSpacing: s });
    o.setNodeMarkup(t2, n2, r2, e4.marks);
  }), !!t) && (t(o), true);
};
var setLineHeight = (s) => (e3, t) => {
  const o = e3.tr.setSelection(e3.selection);
  var { selection: e3, doc: n } = o;
  if (!e3 || !n)
    return false;
  var { from: e3, to: r } = e3;
  const i = [], a = ["paragraph"];
  return n.nodesBetween(e3, r, (e4, t2) => {
    var n2 = e4.type;
    return a.includes(n2.name) && i.push({ node: e4, pos: t2, nodeType: n2 }), true;
  }), !!i.length && (i.forEach((e4) => {
    var { node: e4, pos: t2, nodeType: n2 } = e4, r2 = e4["attrs"], r2 = Object.assign(Object.assign({}, r2), { lineHeight: s });
    o.setNodeMarkup(t2, n2, r2, e4.marks);
  }), !!t) && (t(o), true);
};
var selectNode = (o) => (e3, t) => {
  var e3 = e3.tr, n = e3["doc"], r = Math.max(0, Math.min(n.content.size, o)), n = NodeSelection.create(n, r);
  return e3.setSelection(n), !!t && (t(e3), true);
};
var fontSizeList = [6, 8, 10, 12, 14, 16, 18, 21, 24, 28, 32, 36, 42, 48, 56, 64, 72, 80, 88, 96, 104, 120, 144];
var TextSettings = ({ layers: a }) => {
  var e3 = (0, import_react.useRef)(null);
  const r = (0, import_react.useRef)(null);
  var t = (0, import_react.useRef)(null);
  const [n, o] = (0, import_react.useState)(false), { selectedLayers: c, selectedLayerIds: i } = useSelectedLayers(), [L, s] = (0, import_react.useState)(false), l = useUsedFont()["usedFonts"], [u, d] = (0, import_react.useState)(() => {
    const t2 = { fontFamily: {}, fontSize: {}, color: {}, isBold: true, isItalic: true, isUnderline: true, isUppercase: true, isBulletList: true, isOrderedList: true, lineHeight: {}, letterSpacing: {} };
    return a.forEach((e4) => {
      t2.fontFamily[e4.id] = e4.data.props.fonts, t2.fontSize[e4.id] = e4.data.props.fontSizes, t2.color[e4.id] = e4.data.props.colors;
      e4 = e4.data.editor;
      e4 && (isActive(e4.state, "bold") || (t2.isBold = false), isActive(e4.state, "italic") || (t2.isItalic = false), isActive(e4.state, "underline") || (t2.isUnderline = false), isActive(e4.state, null, { indent: 1, listType: "" }) || (t2.isBulletList = false), isActive(e4.state, null, { indent: 1, listType: "ordered" }) || (t2.isOrderedList = false), isActive(e4.state, null, { textTransform: "uppercase" }) || (t2.isUppercase = false), isActive(e4.state, null, { textTransform: "uppercase" }) || (t2.isUppercase = false));
    }), t2;
  }), { isBold: p, isItalic: f, isUnderline: h, isUppercase: m, isBulletList: j, isOrderedList: A } = u, g = __rest(u, ["isBold", "isItalic", "isUnderline", "isUppercase", "isBulletList", "isOrderedList"]), { actions: v, activePage: y, textEditor: b, editingLayer: w, sidebar: x, fontList: S } = useEditor((e4) => ({ activePage: e4.activePage, sidebar: e4.sidebar, fontList: e4.fontList, textEditor: e4.textEditor, editingLayer: e4.textEditor ? e4.pages[e4.textEditor.pageIndex].layers[e4.textEditor.layerId] : null })), { fontFamily: k, fontSize: C, color: E, lineHeight: F, letterSpacing: $ } = ((0, import_react.useEffect)(() => {
    const r2 = { fontFamily: {}, fontSize: {}, color: {}, isBold: true, isItalic: true, isUnderline: true, isUppercase: true, isBulletList: true, isOrderedList: true, lineHeight: {}, letterSpacing: {} };
    o(false), s(false), c.forEach((e4) => {
      var t2, n2 = e4.data.editor;
      n2 && (t2 = getAllAttrs(n2.state.doc), r2.fontFamily[e4.id] = lodashExports.uniqBy(getFontFamily(t2).map((e5) => ({ name: e5, fonts: _[e5] || T[e5] })), "name"), r2.fontSize[e4.id] = getFontSize(t2), r2.lineHeight[e4.id] = getLineHeight(t2), r2.letterSpacing[e4.id] = getLetterSpacing(t2), r2.color[e4.id] = getColor(t2, getAllMarks(n2.state.doc)), isActive(n2.state, "bold") || (r2.isBold = false), isActive(n2.state, "italic") || (r2.isItalic = false), isActive(n2.state, "underline") || (r2.isUnderline = false), isActive(n2.state, "bulletList") || (r2.isBulletList = false), isActive(n2.state, "orderedList") || (r2.isOrderedList = false), isActive(n2.state, null, { textTransform: "uppercase" }) || (r2.isUppercase = false), d(r2));
    });
  }, [JSON.stringify(i)]), (0, import_react.useMemo)(() => a.reduce((e4, t2) => {
    if (g.fontFamily[t2.id]) {
      const n2 = t2.data.props;
      e4.fontFamily.push(...g.fontFamily[t2.id]), e4.fontFamily = lodashExports.uniqBy(e4.fontFamily, "name"), g.fontSize[t2.id] && (e4.fontSize = lodashExports.uniq(e4.fontSize.concat(g.fontSize[t2.id].map((e5) => Math.round(e5 * n2.scale * 10) / 10)))), e4.color = lodashExports.uniq(e4.color.concat(g.color[t2.id])), e4.lineHeight = lodashExports.uniq(e4.lineHeight.concat(g.lineHeight[t2.id])), e4.letterSpacing = lodashExports.uniq(e4.letterSpacing.concat(g.letterSpacing[t2.id]));
    }
    return e4;
  }, { fontSize: [], fontFamily: [], color: [], lineHeight: [], letterSpacing: [] }), [g, c])), T = ((0, import_react.useEffect)(() => {
    r.current && (1 === C.length ? r.current.value = C[0] + "" : r.current.value = "--");
  }, [C]), (0, import_react.useMemo)(() => S.reduce((e4, t2) => (e4[t2.name] = t2.fonts, e4), {}), [S])), _ = (0, import_react.useMemo)(() => l.reduce((e4, t2) => (e4[t2.name] = t2.fonts, e4), {}), [l]), R = (0, import_react.useCallback)((s2) => {
    const l2 = { fontFamily: {}, fontSize: {}, color: {}, isBold: true, isItalic: true, isUnderline: true, isUppercase: true, isBulletList: true, isOrderedList: true, lineHeight: {}, letterSpacing: {} };
    if (w) {
      l2.fontFamily[w.id] = [], l2.fontSize[w.id] = [], l2.color[w.id] = [], l2.lineHeight[w.id] = [], l2.letterSpacing[w.id] = [];
      const i2 = null === b || void 0 === b ? void 0 : b.editor;
      if (i2) {
        null != (e4 = w.data.editor) && e4.updateState(i2.state);
        var e4 = w.data.props, t2 = (isEmptyContent(i2.state) && (setColorForBlock(e4.colors[0])(i2.state, i2.dispatch), setFontSize(e4.fontSizes[0])(i2.state, i2.dispatch), setFontFamily(e4.fonts[0].name)(i2.state, i2.dispatch), i2.focus()), new WebKitCSSMatrix(getTransformStyle({ position: w.data.props.position, rotate: w.data.props.rotate }))), n2 = visualCorners(w.data.props.boxSize, t2, w.data.props.position), t2 = visualCorners({ width: w.data.props.boxSize.width, height: i2.dom.clientHeight * w.data.props.scale }, t2, w.data.props.position), { changeX: n2, changeY: t2 } = getPositionChangesBetweenTwoCorners(n2, t2, "bottomRight");
        i2.state.selection.empty && (o2 = (i2.state.storedMarks || i2.state.selection.$from.marks()).reduce((n3, e5) => (Object.entries(e5.attrs).forEach(([e6, t3]) => {
          n3[e6] || (n3[e6] = []), n3[e6].push(t3);
        }), n3), {}), l2.color[w.id] = lodashExports.uniq(getColor({}, o2)));
        let r2 = null;
        i2.state.doc.nodesBetween(i2.state.selection.ranges[0].$from.pos, i2.state.selection.ranges[0].$to.pos, (t3) => {
          var e5, n3 = getAttrs(t3);
          if (t3.isBlock && (e5 = getFontFamily(n3).map((e6) => ({ name: e6, fonts: _[e6] || T[e6] })), l2.fontFamily[w.id].push(...e5), l2.fontFamily[w.id] = lodashExports.uniqBy(l2.fontFamily[w.id], "name"), l2.fontSize[w.id] = lodashExports.uniq(l2.fontSize[w.id].concat(getFontSize(n3))), l2.lineHeight[w.id] = lodashExports.uniq(l2.lineHeight[w.id].concat(getLineHeight(n3))), l2.letterSpacing[w.id] = lodashExports.uniq(l2.letterSpacing[w.id].concat(getLetterSpacing(n3))), r2 = getColor(n3, getMarkAttrs(t3))), t3.isText && !i2.state.selection.empty) {
            let e6 = getColor(n3, getMarkAttrs(t3));
            0 === e6.length && r2 && (e6 = r2), l2.color[w.id] = lodashExports.uniq(l2.color[w.id].concat(e6)), r2 = null;
          }
        }), isActive(i2.state, "bold") || (l2.isBold = false), isActive(i2.state, "italic") || (l2.isItalic = false), isActive(i2.state, "underline") || (l2.isUnderline = false), isActive(i2.state, null, { indent: 1, listType: "" }) || (l2.isBulletList = false), isActive(i2.state, null, { indent: 1, listType: "ordered" }) || (l2.isOrderedList = false), isActive(i2.state, null, { textTransform: "uppercase" }) || (l2.isUppercase = false), d(l2), "content" === s2 && (o2 = getAllAttrs(i2.state.doc), v.history.merge().setProp(y, w.id, { text: i2.dom.innerHTML, fontSizes: getFontSize(o2), fonts: lodashExports.uniqBy(getFontFamily(o2).map((e5) => ({ name: e5, fonts: _[e5] || T[e5] })), "name"), colors: getColor(o2, getAllMarks(i2.state.doc)), boxSize: { width: e4.boxSize.width, height: i2.dom.clientHeight * e4.scale }, position: { x: e4.position.x - n2, y: e4.position.y - t2 } }), v.setControlBox({ boxSize: { width: e4.boxSize.width, height: i2.dom.clientHeight * e4.scale }, position: { x: e4.position.x - n2, y: e4.position.y - t2 }, scale: e4.scale, rotate: e4.rotate }));
      }
    } else {
      var o2 = c.reduce((e5, t3) => {
        var n3, r2, o3, i2, a2 = t3.data.editor;
        return a2 ? (r2 = t3.data.props, n3 = getAllAttrs(a2.state.doc), l2.fontFamily[t3.id] = lodashExports.uniqBy(getFontFamily(n3).map((e6) => ({ name: e6, fonts: _[e6] || T[e6] })), "name"), l2.fontSize[t3.id] = getFontSize(n3), l2.lineHeight[t3.id] = getLineHeight(n3), l2.letterSpacing[t3.id] = getLetterSpacing(n3), l2.color[t3.id] = getColor(n3, getAllMarks(a2.state.doc)), isActive(a2.state, "bold") || (l2.isBold = false), isActive(a2.state, "italic") || (l2.isItalic = false), isActive(a2.state, "underline") || (l2.isUnderline = false), isActive(a2.state, "bulletList") || (l2.isBulletList = false), isActive(a2.state, "orderedList") || (l2.isOrderedList = false), isActive(a2.state, null, { textTransform: "uppercase" }) || (l2.isUppercase = false), "content" === s2 && (n3 = lodashExports.isEqual(r2.fontSizes, l2.fontSize[t3.id]) ? r2.scale : 1, r2 = ((r2 = document.createElement("div")).append(a2.dom), getVirtualDomHeight(r2, t3.data.props.boxSize.width, n3))["clientHeight"], i2 = new WebKitCSSMatrix(getTransformStyle({ position: t3.data.props.position, rotate: t3.data.props.rotate })), o3 = visualCorners(t3.data.props.boxSize, i2, t3.data.props.position), i2 = visualCorners({ width: t3.data.props.boxSize.width, height: r2 }, i2, t3.data.props.position), { changeX: o3, changeY: i2 } = getPositionChangesBetweenTwoCorners(o3, i2, "bottomRight"), v.history.merge().setProp(y, t3.id, { text: a2.dom.innerHTML, fontSizes: l2.fontSize[t3.id], fonts: l2.fontFamily[t3.id], colors: l2.color[t3.id], scale: n3, boxSize: { width: t3.data.props.boxSize.width, height: r2 }, position: { x: t3.data.props.position.x - o3, y: t3.data.props.position.y - i2 } }), e5[t3.id] = Object.assign(Object.assign({}, t3.data.props), { boxSize: { width: t3.data.props.boxSize.width, height: r2 }, position: { x: t3.data.props.position.x - o3, y: t3.data.props.position.y - i2 } }))) : e5[t3.id] = t3.data.props, e5;
      }, {});
      d(l2), v.setControlBox(getControlBoxSizeFromLayers(o2));
    }
  }, [JSON.stringify(c.map((e4) => ({ id: e4.id, boxSize: e4.data.props.boxSize, position: e4.data.props.position, rotate: e4.data.props.rotate, scale: e4.data.props.scale }))), w, null === b || void 0 === b ? void 0 : b.editor, v, T]), O = (0, import_react.useCallback)(() => {
    R("selection");
  }, [R]), I = (0, import_react.useCallback)(() => {
    R("content");
  }, [R]), M = ((0, import_react.useEffect)(() => {
    var e4;
    return null != (e4 = null === b || void 0 === b ? void 0 : b.editor) && e4.events.on("selectionUpdate", O), null != (e4 = null === b || void 0 === b ? void 0 : b.editor) && e4.events.on("update", I), () => {
      var e5;
      null != (e5 = null === b || void 0 === b ? void 0 : b.editor) && e5.events.off("selectionUpdate", O), null != (e5 = null === b || void 0 === b ? void 0 : b.editor) && e5.events.off("update", I);
    };
  }, [null === b || void 0 === b ? void 0 : b.editor, R]), (0, import_react.useEffect)(() => (a.forEach((e4) => {
    null != (e4 = e4.data.editor) && e4.events.on("update", I);
  }), () => {
    a.forEach((e4) => {
      null != (e4 = e4.data.editor) && e4.events.off("update", I);
    });
  }), [JSON.stringify(a.map((e4) => e4.id)), R]), (0, import_react.useCallback)((e4) => {
    const r2 = ["Bold", "Bold_Italic", "Italic"];
    return e4.forEach((n2) => {
      r2.forEach((t2, e5) => {
        n2.fonts.find((e6) => e6.style === t2) || r2.splice(e5, 1);
      });
    }), r2;
  }, []));
  const D = (i2) => {
    a.forEach((r2) => {
      const o2 = r2.data.editor;
      var e4;
      o2 && (e4 = o2.state.doc, o2.state.doc.nodesBetween(0, e4.content.size, (e5, t2) => {
        var n2;
        e5.isBlock && (e5 = getAllAttrs(e5), 0 < (e5 = getFontSize(e5)).length) && (n2 = r2.data.props.scale || 1, selectNode(t2)(o2.state, o2.dispatch), setFontSize(Math.round(1e3 * (e5[0] * n2 + i2)) / 1e3)(o2.state, o2.dispatch));
      }));
    });
  }, N = (e4) => {
    v.history.new();
    const t2 = Math.max(Math.min(800, e4), 8);
    var n2, r2, o2;
    w ? (e4 = null === b || void 0 === b ? void 0 : b.editor) && ((n2 = setFontSize(Math.round(t2 / w.data.props.scale * 1e3) / 1e3))(e4.state, e4.dispatch), e4.focus(), w.data.editor) && (r2 = w.data.editor, { $from: e4, $to: o2 } = e4.state.selection, selectText({ from: e4.pos, to: o2.pos })(r2.state, r2.dispatch), n2(r2.state, r2.dispatch)) : a.forEach((e5) => {
      e5 = e5.data.editor;
      e5 && (selectAll(e5.state, e5.dispatch), setFontSize(t2)(e5.state, e5.dispatch));
    }), s(false);
  };
  var B = (0, import_react.useMemo)(() => {
    if (!E)
      return {};
    if (1 === E.length && 100 === new Color(E[0]).white())
      return { backgroundImage: "linear-gradient(to right, rgb(255, 0, 0) 0%, rgb(255, 255, 0) 17%, rgb(0, 255, 0) 33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 67%, rgb(255, 0, 255) 83%, rgb(255, 0, 0) 100%)" };
    const n2 = 100 / E.length;
    return { backgroundImage: E.map((e4) => `linear-gradient(to right, ${e4}, ${e4})`).join(", "), backgroundSize: E.map((e4, t2) => n2 * (t2 + 1) + "%").join(", "), boxShadow: "inset 0 0 0 1px rgba(57,76,96,.15)" };
  }, [E]), V = lodashExports.throttle((r2) => {
    var e4, t2, n2, o2;
    r2 && (w ? (n2 = null === b || void 0 === b ? void 0 : b.editor) && ((e4 = setColor(r2))(n2.state, n2.dispatch), n2.focus(), w.data.editor) && (t2 = w.data.editor, { $from: n2, $to: o2 } = n2.state.selection, selectText({ from: n2.pos, to: o2.pos })(t2.state, t2.dispatch), e4(t2.state, t2.dispatch)) : a.forEach((e5) => {
      var t3, n3 = e5.data.editor;
      n3 && (t3 = getAllAttrs(n3.state.doc), selectAll(n3.state, n3.dispatch), setColor(r2)(n3.state, n3.dispatch), setColorForBlock(r2)(n3.state, n3.dispatch), v.history.throttle(2e3).setProp(y, e5.id, { colors: getColor(t3, getAllMarks(n3.state.doc)) }));
    }));
  }, 16);
  const P = (t2) => {
    if (v.history.new(), w) {
      var e4, n2, r2, o2 = null === b || void 0 === b ? void 0 : b.editor;
      if (o2)
        if ("BOLD" === t2) {
          const i2 = w.data.props.fonts.reduce((e5, t4) => (e5[t4.name] = t4.fonts, e5), {});
          let t3 = true;
          o2.state.doc.nodesBetween(o2.state.selection.ranges[0].$from.pos, o2.state.selection.ranges[0].$to.pos, (e5) => {
            e5 = getAllAttrs(e5);
            getFontFamily(e5).every((e6) => i2[e6] && i2[e6].find((e7) => "Bold" === e7.style)) || (t3 = false);
          }), t3 && (toggleBold(o2.state, o2.dispatch), o2.focus(), w.data.editor) && (e4 = w.data.editor, { $from: n2, $to: r2 } = o2.state.selection, selectText({ from: n2.pos, to: r2.pos })(e4.state, e4.dispatch), toggleBold(e4.state, e4.dispatch));
        } else
          "ITALIC" === t2 ? (toggleItalic(o2.state, o2.dispatch), o2.focus(), w.data.editor && (n2 = w.data.editor, { $from: r2, $to: e4 } = o2.state.selection, selectText({ from: r2.pos, to: e4.pos })(n2.state, n2.dispatch), toggleItalic(n2.state, n2.dispatch))) : "UNDERLINE" === t2 ? (toggleUnderline(o2.state, o2.dispatch), o2.focus(), w.data.editor && (r2 = w.data.editor, { $from: e4, $to: n2 } = o2.state.selection, selectText({ from: e4.pos, to: n2.pos })(r2.state, r2.dispatch), toggleUnderline(r2.state, r2.dispatch))) : "UPPERCASE" === t2 && ((e4 = setTextTransform(isActive(o2.state, null, { textTransform: "uppercase" }) ? void 0 : "uppercase"))(o2.state, o2.dispatch), o2.focus(), w.data.editor) && (n2 = w.data.editor, { $from: r2, $to: o2 } = o2.state.selection, selectText({ from: r2.pos, to: o2.pos })(n2.state, n2.dispatch), e4(n2.state, n2.dispatch));
    } else
      a.forEach((e5) => {
        e5 = e5.data.editor;
        e5 && (selectAll(e5.state, e5.dispatch), "BOLD" === t2 ? (p ? unsetBold : setBold)(e5.state, e5.dispatch) : "ITALIC" === t2 ? (f ? unsetItalic : setItalic)(e5.state, e5.dispatch) : "UNDERLINE" === t2 ? (h ? unsetUnderline : setUnderline)(e5.state, e5.dispatch) : "UPPERCASE" === t2 && (m ? setTextTransform() : setTextTransform("uppercase"))(e5.state, e5.dispatch));
      });
  }, z = (t2) => {
    v.history.new();
    var e4, n2, r2 = null === b || void 0 === b ? void 0 : b.editor;
    w && r2 ? (setTextAlign(t2)(r2.state, r2.dispatch), r2.focus(), w.data.editor && (e4 = w.data.editor, { $from: r2, $to: n2 } = r2.state.selection, selectText({ from: r2.pos, to: n2.pos })(e4.state, e4.dispatch), setTextAlign(t2)(e4.state, e4.dispatch))) : a.forEach((e5) => {
      e5 = e5.data.editor;
      e5 && (selectAll(e5.state, e5.dispatch), setTextAlign(t2)(e5.state, e5.dispatch));
    });
  };
  return jsxs2(import_react.Fragment, { children: [1 === a.length && jsx2(SettingButton$1, { css: { display: "none", "@media (max-width: 900px)": { fontSize: 24, display: "flex" } }, onClick: () => {
    v.openTextEditor(y, a[0].id);
  }, children: jsx2(KeyboardIcon, {}) }), jsx2("div", { children: jsxs2("div", { css: { border: "1px solid rgba(43,59,74,.3)", height: 32, padding: "0 2px", borderRadius: 4, display: "flex", justifyContent: "center", alignItems: "center", cursor: "pointer", background: "FONT_FAMILY" === x ? "rgba(57,76,96,.15)" : "#fff" }, onClick: () => v.setSidebar("FONT_FAMILY"), children: [jsx2("div", { css: { padding: 4, textOverflow: "ellipsis", whiteSpace: "nowrap", fontSize: 14 }, children: 1 === k.length ? k[0].name : "Multiple Fonts" }), jsx2("div", { css: { width: 24, height: 24, display: "flex", justifyContent: "center", alignItems: "center", fontSize: 16 }, children: jsx2(CaretDownIcon, {}) })] }) }), jsx2("div", { children: jsxs2("div", { css: { border: "1px solid rgba(43,59,74,.3)", display: "flex", alignItems: "center", justifyContent: "space-between" }, children: [jsx2("div", { css: { width: 32, height: 32, display: "flex", alignItems: "center", justifyContent: "center", cursor: "pointer", fontSize: 12 }, onClick: () => {
    if (v.history.new(), w) {
      const o2 = null === b || void 0 === b ? void 0 : b.editor;
      var e4;
      o2 && (e4 = { from: o2.state.selection.ranges[0].$from.pos, to: o2.state.selection.ranges[0].$to.pos }, o2.state.doc.nodesBetween(e4.from, e4.to, (e5, t2) => {
        var n2, r2;
        e5.isBlock && (e5 = getAllAttrs(e5), [e5] = getFontSize(e5), n2 = w.data.props.scale, selectNode(t2)(o2.state, o2.dispatch), setFontSize(Math.round(1e3 * (e5 - 1 / n2)) / 1e3)(o2.state, o2.dispatch), r2 = w.data.editor) && (selectNode(t2)(r2.state, r2.dispatch), setFontSize(Math.round(1e3 * (e5 - 1 / n2)) / 1e3)(r2.state, r2.dispatch));
      }), selectText(e4)(o2.state, o2.dispatch), o2.focus());
    } else
      D(-1);
  }, children: jsx2(MinusIcon, {}) }), jsx2("div", { ref: e3, css: { width: 32, height: 32, borderLeft: "1px solid rgba(43,59,74,.3)", borderRight: "1px solid rgba(43,59,74,.3)" }, onClick: () => s(true), children: jsx2("input", { ref: r, css: { width: 28, height: "100%", outline: 0, border: 0, textAlign: "center" }, onBlur: () => {
    var e4 = r.current.value;
    "--" !== e4 && e4 !== C[0] + "" && r.current && N(+parseFloat(e4).toFixed(1));
  }, onKeyDown: (e4) => {
    var t2 = r.current, n2 = t2.value;
    "enter" === e4.key.toLowerCase() ? (r.current && N(+parseFloat(n2).toFixed(1)), t2.blur()) : e4.key.match(/^[0-9]|./) || e4.preventDefault();
  }, onClick: () => {
    var e4;
    return null == (e4 = r.current) ? void 0 : e4.select();
  } }) }), jsx2(Popover$1, { open: L, anchorEl: r.current, placement: "bottom", onClose: () => s(false), children: jsx2("div", { css: { maxHeight: "50vh", overflowY: "auto" }, children: fontSizeList.map((e4) => jsxs2("div", { css: { height: 40, minWidth: 120, padding: "0 8px", display: "flex", alignItems: "center", cursor: "pointer", ":hover": { backgroundColor: "rgba(64,87,109,.07)" } }, onClick: () => N(e4), children: [jsx2("div", { css: { flexGrow: 1 }, children: e4 }), C.includes(e4) && jsx2("div", { css: { fontSize: 24, flexShrink: 0 }, children: jsx2(CheckIcon, {}) })] }, e4)) }) }), jsx2("div", { css: { width: 32, height: 32, display: "flex", alignItems: "center", justifyContent: "center", cursor: "pointer", fontSize: 12 }, onClick: () => {
    if (v.history.new(), w) {
      const o2 = null === b || void 0 === b ? void 0 : b.editor;
      var e4;
      o2 && (e4 = { from: o2.state.selection.ranges[0].$from.pos, to: o2.state.selection.ranges[0].$to.pos }, o2.state.doc.nodesBetween(e4.from, e4.to, (e5, t2) => {
        var n2, r2;
        e5.isBlock && (e5 = getAllAttrs(e5), [e5] = getFontSize(e5), n2 = w.data.props.scale, selectNode(t2)(o2.state, o2.dispatch), setFontSize(Math.round(1e3 * (e5 + 1 / n2)) / 1e3)(o2.state, o2.dispatch), r2 = w.data.editor) && (selectNode(t2)(r2.state, r2.dispatch), setFontSize(Math.round(1e3 * (e5 + 1 / n2)) / 1e3)(r2.state, r2.dispatch));
      }), selectText(e4)(o2.state, o2.dispatch), o2.focus());
    } else
      D(1);
  }, children: jsx2(PlusIcon, {}) })] }) }), jsxs2("div", { css: { position: "relative", display: "flex", justifyContent: "center", fontSize: 24 }, onClick: () => v.setSidebar("CHOOSING_COLOR"), children: [jsx2(TextAUnderlineIcon, {}), jsx2("div", { css: { bottom: 1, left: "5%", width: "90%", position: "absolute" }, children: jsx2("div", { css: { paddingTop: "22.2222%", height: 0, position: "relative", width: "100%" }, children: jsx2("span", { css: Object.assign({ borderRadius: 4, overflow: "hidden", position: "absolute", inset: 0, backgroundRepeat: "no-repeat" }, B) }) }) })] }), jsx2(SettingButton$1, { css: { fontSize: 24 }, disabled: !M(k).includes("Bold"), isActive: p, onClick: () => P("BOLD"), children: jsx2(TextBBoldIcon, {}) }), jsx2(SettingButton$1, { css: { fontSize: 24 }, disabled: !M(k).includes("Italic"), isActive: f, onClick: () => P("ITALIC"), children: jsx2(TextItalicIcon, {}) }), jsx2(SettingButton$1, { css: { fontSize: 24 }, isActive: h, onClick: () => P("UNDERLINE"), children: jsx2(TextUnderlineIcon, {}) }), jsx2(SettingButton$1, { css: { fontSize: 24 }, isActive: m, onClick: () => P("UPPERCASE"), children: jsx2(TextAaIcon, {}) }), jsx2("div", { css: { height: 24, width: "1px", background: "rgba(57,76,96,.15)" } }), jsx2(SettingButton$1, { css: { fontSize: 24 }, onClick: () => z("left"), children: jsx2(TextAlignLeftIcon, {}) }), jsx2(SettingButton$1, { css: { fontSize: 24 }, onClick: () => z("center"), children: jsx2(TextAlignCenterIcon, {}) }), jsx2(SettingButton$1, { css: { fontSize: 24 }, onClick: () => z("right"), children: jsx2(TextAlignRightIcon, {}) }), jsx2(SettingButton$1, { css: { fontSize: 24 }, onClick: () => z("justify"), children: jsx2(TextAlignJustifyIcon, {}) }), jsx2("div", { css: { height: 24, width: "1px", background: "rgba(57,76,96,.15)" } }), jsx2(SettingButton$1, { css: { fontSize: 24 }, isActive: j, onClick: () => {
    if (v.history.new(), w) {
      var e4, t2, n2, r2 = null === b || void 0 === b ? void 0 : b.editor;
      r2 && (e4 = isActive(r2.state, null, { indent: 1, listType: "" }), setBulletList(e4 ? 0 : 1)(r2.state, r2.dispatch), r2.focus(), w.data.editor) && (t2 = w.data.editor, { $from: r2, $to: n2 } = r2.state.selection, selectText({ from: r2.pos, to: n2.pos })(t2.state, t2.dispatch), setBulletList(e4 ? 0 : 1)(t2.state, t2.dispatch));
    } else {
      const o2 = a.every((e5) => {
        e5 = e5.data.editor;
        if (e5)
          return selectAll(e5.state, e5.dispatch), isActive(e5.state, null, { indent: 1, listType: "" });
      });
      a.forEach((e5) => {
        e5 = e5.data.editor;
        e5 && setBulletList(o2 ? 0 : 1)(e5.state, e5.dispatch);
      });
    }
  }, children: jsx2(ListBulletsIcon, {}) }), jsx2(SettingButton$1, { css: { fontSize: 24 }, isActive: A, onClick: () => {
    if (v.history.new(), w) {
      var e4, t2, n2, r2 = null === b || void 0 === b ? void 0 : b.editor;
      r2 && (e4 = isActive(r2.state, null, { indent: 1, listType: "ordered" }), setOrderedList(e4 ? 0 : 1)(r2.state, r2.dispatch), r2.focus(), w.data.editor) && (t2 = w.data.editor, { $from: r2, $to: n2 } = r2.state.selection, selectText({ from: r2.pos, to: n2.pos })(t2.state, t2.dispatch), setOrderedList(e4 ? 0 : 1)(t2.state, t2.dispatch));
    } else {
      const o2 = a.every((e5) => {
        e5 = e5.data.editor;
        if (e5)
          return selectAll(e5.state, e5.dispatch), isActive(e5.state, null, { indent: 1, listType: "ordered" });
      });
      a.forEach((e5) => {
        e5 = e5.data.editor;
        e5 && (selectAll(e5.state, e5.dispatch), setOrderedList(o2 ? 0 : 1)(e5.state, e5.dispatch));
      });
    }
  }, children: jsx2(ListNumbersIcon, {}) }), jsx2(SettingButton$1, { ref: t, css: { fontSize: 24 }, onClick: () => o(true), children: jsx2(LineSpacingIcon, {}) }), jsx2(Popover$1, { open: n, anchorEl: t.current, placement: "bottom-end", onClose: () => o(false), offsets: { "bottom-end": { x: 0, y: 8 } }, children: jsxs2("div", { css: { padding: 16, minWidth: 220, display: "grid", rowGap: 8 }, children: [jsx2(Slider, { label: "Letter spacing", min: -200, max: 800, value: 1e3 * $[0] || 0, onChange: (e4) => {
    var t2, n2, r2;
    t2 = e4 / 1e3, v.history.new(), e4 = null === b || void 0 === b ? void 0 : b.editor, w && e4 ? (setLetterSpacing(t2)(e4.state, e4.dispatch), e4.focus(), w.data.editor && (n2 = w.data.editor, { $from: e4, $to: r2 } = e4.state.selection, selectText({ from: e4.pos, to: r2.pos })(n2.state, n2.dispatch), setLetterSpacing(t2)(n2.state, n2.dispatch))) : a.forEach((e5) => {
      e5 = e5.data.editor;
      e5 && (selectAll(e5.state, e5.dispatch), setLetterSpacing(t2)(e5.state, e5.dispatch));
    });
  } }), jsx2(Slider, { label: "Line spacing", step: 0.01, min: 0.5, max: 2.5, value: F[0] || 1.4, onChange: (t2) => {
    v.history.new();
    var e4, n2, r2 = null === b || void 0 === b ? void 0 : b.editor;
    w && r2 ? (setLineHeight(t2)(r2.state, r2.dispatch), r2.focus(), w.data.editor && (e4 = w.data.editor, { $from: r2, $to: n2 } = r2.state.selection, selectText({ from: r2.pos, to: n2.pos })(e4.state, e4.dispatch), setLineHeight(t2)(e4.state, e4.dispatch))) : a.forEach((e5) => {
      e5 = e5.data.editor;
      e5 && (selectAll(e5.state, e5.dispatch), setLineHeight(t2)(e5.state, e5.dispatch));
    });
  } })] }) }), jsx2("div", { css: { height: 24, width: "1px", background: "rgba(57,76,96,.15)" } }), jsx2(SettingButton$1, { onClick: () => v.setSidebar("TEXT_EFFECT"), children: jsx2("span", { css: { padding: "0 4px" }, children: "Effects" }) }), jsx2("div", { css: { height: 24, width: "1px", background: "rgba(57,76,96,.15)" } }), "FONT_FAMILY" === x && jsx2(FontSidebar$1, { open: true, selected: k, onChangeFontFamily: (n2) => {
    var e4, t2, r2;
    v.history.new(), w ? (r2 = null === b || void 0 === b ? void 0 : b.editor) && (setFontFamily(n2.name)(r2.state, r2.dispatch), (e4 = M([n2])).includes("Bold") || unsetBoldOfBlock(r2.state, r2.dispatch), e4.includes("Italic") || unsetItalicOfBlock(r2.state, r2.dispatch), r2.focus(), w.data.editor) && (e4 = w.data.editor, { $from: r2, $to: t2 } = r2.state.selection, selectText({ from: r2.pos, to: t2.pos })(e4.state, e4.dispatch), setFontFamily(n2.name)(e4.state, e4.dispatch), (r2 = M([n2])).includes("Bold") || unsetBoldOfBlock(e4.state, e4.dispatch), r2.includes("Italic") || unsetItalicOfBlock(e4.state, e4.dispatch)) : a.forEach((e5) => {
      var t3, e5 = e5.data.editor;
      e5 && (selectAll(e5.state, e5.dispatch), setFontFamily(n2.name)(e5.state, e5.dispatch), (t3 = M([n2])).includes("Bold") || unsetBoldOfBlock(e5.state, e5.dispatch), t3.includes("Italic") || unsetItalicOfBlock(e5.state, e5.dispatch));
    });
  } }), "CHOOSING_COLOR" === x && jsx2(ColorSidebar$1, { open: true, selected: E[0], onSelect: V }), "TEXT_EFFECT" === x && jsx2(TextEffectSidebar$1, { open: true })] });
};
var DotsSixVerticalBoldIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M108 60a16 16 0 1 1-16-16 16 16 0 0 1 16 16Zm56 16a16 16 0 1 0-16-16 16 16 0 0 0 16 16Zm-72 36a16 16 0 1 0 16 16 16 16 0 0 0-16-16Zm72 0a16 16 0 1 0 16 16 16 16 0 0 0-16-16Zm-72 68a16 16 0 1 0 16 16 16 16 0 0 0-16-16Zm72 0a16 16 0 1 0 16 16 16 16 0 0 0-16-16Z" }) }));
};
var WIDTH = 231;
var HEIGHT = 36;
var ReverseTransformLayer = ({ layer: o, hiddenChild: e3 }) => {
  const t = (0, import_react.useMemo)(() => {
    var e4 = { width: WIDTH, height: HEIGHT, scale: 1 }, t2 = e4.width / e4.height, n2 = o.data.props, n2 = boundingRect(n2.boxSize, n2.position, n2.rotate), r = n2.width / n2.height;
    return r < t2 ? (e4.height = HEIGHT, e4.width = e4.height * r, e4.scale = e4.height / n2.height) : (e4.width = WIDTH, e4.height = e4.width / r, e4.scale = e4.width / n2.width), e4;
  }, [o]);
  var n = (0, import_react.useMemo)(() => {
    var e4 = o.data.props;
    return 0 === e4.rotate ? { x: -e4.position.x * t.scale, y: -e4.position.y * t.scale } : { x: -(e4 = boundingRect(e4.boxSize, e4.position, e4.rotate)).x * t.scale, y: -e4.y * t.scale };
  }, [o, t]);
  return jsx2("div", { css: { width: WIDTH, height: HEIGHT, display: "flex", alignItems: "center", justifyContent: "center" }, children: jsx2("div", { css: { width: t.width, height: t.height }, children: jsx2("div", { css: { transform: getTransformStyle({ position: n }) }, children: jsx2("div", { css: { transformOrigin: "0px 0px", transform: `scale(${t.scale})` }, children: e3 ? (0, import_react.createElement)(o.data.comp, o.data.props, null) : jsx2(LayerProvider, { id: o.id, children: jsx2(RenderLayer$1, {}) }) }) }) }) });
};
var LayerSidebar = (e3, t) => {
  e3 = __rest(e3, []);
  const n = (0, import_react.useRef)({ isMultipleSelect: false }), r = useSelectedLayers()["selectedLayerIds"], { layers: o, actions: i, activePage: a } = useEditor((e4) => ({ layers: e4.pages[e4.activePage] && e4.pages[e4.activePage].layers, activePage: e4.activePage }));
  var s = (0, import_react.useMemo)(() => {
    if (o)
      return reverse$1(o.ROOT.data.child.map((e4) => o[e4]));
  }, [o]);
  const l = (0, import_react.useMemo)(() => {
    if (o)
      return o.ROOT;
  }, [o]), c = (e4) => {
    i.showContextMenu(getPosition(e4.nativeEvent));
  };
  return (0, import_react.useEffect)(() => {
    const e4 = (e5) => {
      n.current.isMultipleSelect = e5.shiftKey;
    };
    return window.addEventListener("keydown", e4), window.addEventListener("keyup", e4), () => {
      window.removeEventListener("keydown", e4), window.removeEventListener("keyup", e4);
    };
  }, []), jsx2(Sidebar$1, Object.assign({}, e3, { children: jsx2(PageContext.Provider, { value: { pageIndex: a }, children: jsxs2("div", { css: { width: "100%", height: "100%", display: "flex", flexDirection: "column", overflowY: "auto" }, children: [jsxs2("div", { css: { display: "flex", alignItems: "center", justifyContent: "center", flexShrink: 0, height: 48, borderBottom: "1px solid rgba(57,76,96,.15)", padding: "0 20px" }, children: [jsx2("p", { css: { lineHeight: "48px", fontWeight: 600, color: "#181C32", flexGrow: 1 }, children: "Layers" }), jsx2("div", { css: { fontSize: 20, flexShrink: 0, width: 32, height: 32, cursor: "pointer", display: "flex", alignItems: "center", justifyContent: "center" }, onClick: () => {
    i.setSidebar();
  }, children: jsx2(XIcon, {}) })] }), jsx2("div", { ref: t, css: { flexGrow: 1, overflowY: "auto" }, children: jsxs2("div", { css: { display: "grid", gridTemplateColumns: "minmax(0,1fr)", gridRowGap: 8, padding: 16 }, children: [(s || []).map((e4) => jsxs2("div", { css: { background: "#F6F6F6", borderRadius: 8, padding: 8, cursor: "pointer", position: "relative", borderWidth: 2, borderStyle: "solid", borderColor: r.includes(e4.id) ? "#3d8eff" : "transparent" }, onMouseDown: () => {
    i.selectLayers(a, e4.id, n.current.isMultipleSelect ? "add" : "replace");
  }, children: [jsxs2("div", { css: { display: "flex", alignItems: "center" }, children: [jsx2("div", { css: { fontSize: 24, width: 40, height: 40, display: "flex", justifyContent: "center", alignItems: "center", flexShrink: 0 }, children: jsx2(DotsSixVerticalBoldIcon, {}) }), jsx2("div", { css: { minWidth: 0, flexGrow: 1 }, children: jsx2(ReverseTransformLayer, { layer: e4 }) }), isGroupLayer(e4) && jsx2("div", { css: { flexShrink: 0, fontSize: 24 }, children: jsx2(BoundingBoxIcon, {}) })] }), jsx2("div", { css: { position: "absolute", right: 4, top: 4, background: "#5E6278", borderRadius: 8, color: "#fff", padding: "0 6px" }, onClick: c, children: jsx2(DotsThreeBoldIcon, {}) })] }, e4.id)), l && jsx2("div", { css: { background: "#F6F6F6", borderRadius: 8, padding: 8, cursor: "pointer", position: "relative", borderWidth: 2, borderStyle: "solid", borderColor: r.includes(l.id) ? "#3d8eff" : "transparent" }, onMouseDown: () => {
    i.selectLayers(a, l.id, n.current.isMultipleSelect ? "add" : "replace");
  }, children: jsxs2("div", { css: { display: "flex", alignItems: "center" }, children: [jsx2("div", { css: { width: 40, height: 40, display: "flex", justifyContent: "center", alignItems: "center", flexShrink: 0 } }), jsx2("div", { css: { minWidth: 0, flexGrow: 1 }, children: jsx2(ReverseTransformLayer, { layer: l, hiddenChild: true }) }), jsx2("div", { css: { flexShrink: 0, fontSize: 24 }, children: jsx2(SelectionBackgroundIcon, {}) })] }) })] }) })] }) }) }));
};
var LayerSidebar$1 = (0, import_react.forwardRef)(LayerSidebar);
var TransparencyIcon = function(e3) {
  return (0, import_jsx_runtime.jsxs)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 15 15", width: "1em", height: "1em" }, e3, { children: [(0, import_jsx_runtime.jsx)("path", { d: "M0 0h3v3H0zM0 6h3v3H0zM0 12h3v3H0z" }), (0, import_jsx_runtime.jsx)("path", { opacity: 0.75, d: "M3 9h3v3H3zM3 3h3v3H3z" }), (0, import_jsx_runtime.jsx)("path", { opacity: 0.5, d: "M6 0h3v3H6zM6 6h3v3H6zM6 12h3v3H6z" }), (0, import_jsx_runtime.jsx)("path", { opacity: 0.35, d: "M9 3h3v3H9zM9 9h3v3H9z" }), (0, import_jsx_runtime.jsx)("path", { opacity: 0.15, d: "M12 12h3v3h-3zM12 6h3v3h-3zM12 0h3v3h-3z" })] }));
};
var CommonSettings = () => {
  var e3 = (0, import_react.useRef)(null), t = (0, import_react.useRef)(null);
  const r = (0, import_react.useRef)(null), o = (0, import_react.useRef)(null), [n, i] = (0, import_react.useState)(false), [a, s] = (0, import_react.useState)(false), [l, c] = (0, import_react.useState)(false), { selectedLayers: u, selectedLayerIds: d } = useSelectedLayers(), { actions: p, activePage: f, sidebar: h, pageSize: m } = useEditor((e4) => ({ activePage: e4.activePage, sidebar: e4.sidebar, pageSize: e4.pageSize })), [g, v] = (0, import_react.useState)(m);
  (0, import_react.useEffect)(() => {
    v(m);
  }, [m]);
  var y = (0, import_react.useMemo)(() => Object.entries(u).reduce((e4, [, t2]) => {
    var n2;
    return isRootLayer(t2) ? e4.transparency = Math.max(e4.transparency, void 0 !== (null == (n2 = t2.data.props.image) ? void 0 : n2.transparency) ? t2.data.props.image.transparency : 1) : e4.transparency = Math.max(e4.transparency, void 0 !== t2.data.props.transparency ? t2.data.props.transparency : 1), e4;
  }, { transparency: 0 }), [u])["transparency"];
  const b = !!u.find((e4) => e4.data.locked);
  (0, import_react.useEffect)(() => {
    i(false);
  }, [JSON.stringify(d)]);
  const w = (e4, t2) => {
    var n2 = g.width / g.height, e4 = parseInt(e4, 10);
    "width" === t2 && (l && (o.current.value = String(Math.round(e4 / n2 * 10) / 10)), v(Object.assign(Object.assign({}, g), { width: e4 }))), "height" === t2 && (l && (r.current.value = String(Math.round(e4 * n2 * 10) / 10)), v(Object.assign(Object.assign({}, g), { height: e4 })));
  }, x = (0, import_react.useMemo)(() => g.width < 100 || g.height < 100, [g]);
  return jsxs2(import_react.Fragment, { children: [jsxs2("div", { css: { display: "grid", alignItems: "center", gridAutoFlow: "column", gridGap: 8 }, children: [jsx2(SettingButton$1, { onClick: () => p.setSidebar("LAYER_MANAGEMENT"), children: jsx2("span", { css: { padding: "0 4px" }, children: "Position" }) }), 0 < d.length && jsx2(import_react.Fragment, { children: (!isRootLayer(u[0]) || isRootLayer(u[0]) && u[0].data.props.image) && jsxs2(import_react.Fragment, { children: [jsx2("div", { css: { height: 24, width: "1px", background: "rgba(57,76,96,.15)" } }), jsx2(SettingButton$1, { ref: e3, css: { fontSize: 20 }, onClick: () => i(true), children: jsx2(TransparencyIcon, {}) }), jsx2(Popover$1, { open: n, anchorEl: e3.current, placement: "bottom-end", onClose: () => i(false), offsets: { "bottom-end": { x: 0, y: 8 } }, children: jsx2("div", { css: { padding: 16 }, children: jsx2(Slider, { label: "Transparency", defaultValue: 100 * y, onChange: (t2) => {
    d.forEach((e4) => {
      "ROOT" === e4 ? p.history.throttle(2e3).setProp(f, e4, { image: { transparency: t2 / 100 } }) : p.history.throttle(2e3).setProp(f, e4, { transparency: t2 / 100 });
    });
  } }) }) })] }) }), jsx2("div", { css: { height: 24, width: "1px", background: "rgba(57,76,96,.15)" } }), jsx2(SettingButton$1, { ref: t, onClick: () => s(true), children: jsx2("span", { css: { padding: "0 4px" }, children: "Resize" }) }), jsx2(Popover$1, { open: a, anchorEl: t.current, placement: "bottom-end", onClose: () => s(false), offsets: { "bottom-end": { x: 0, y: 8 } }, children: jsxs2("div", { css: { padding: 16, width: 240 }, children: [jsxs2("div", { css: { display: "flex", gap: 8, alignItems: "flex-end" }, children: [jsxs2("div", { children: [jsx2("div", { css: { fontSize: 12, fontWeight: 600 }, children: "Width" }), jsx2("div", { css: { border: "1px solid rgba(43,59,74,.3)", height: 40, padding: "0 12px", width: 80, borderRadius: 4 }, children: jsx2("input", { ref: r, css: { width: "100%", minWidth: 8, height: "100%" }, onChange: (e4) => w(e4.target.value, "width"), defaultValue: g.width }) })] }), jsxs2("div", { children: [jsx2("div", { css: { fontSize: 12, fontWeight: 600 }, children: "Height" }), jsx2("div", { css: { border: "1px solid rgba(43,59,74,.3)", height: 40, padding: "0 12px", width: 80, borderRadius: 4 }, children: jsx2("input", { ref: o, css: { width: "100%", minWidth: 8, height: "100%" }, onChange: (e4) => w(e4.target.value, "height"), defaultValue: g.height }) })] }), jsx2("div", { css: { fontSize: 20, cursor: "pointer", margin: "10px 0" }, onClick: () => c(!l), children: l ? jsx2(LockKeyIcon, {}) : jsx2(LockKeyOpenIcon, {}) })] }), x && jsx2("div", { css: { color: "#db1436" }, children: "Dimensions must be at least 100px and no more than 8000px." }), jsx2("div", { css: { marginTop: 12 }, children: jsx2("div", { css: { background: x ? "#8383A2" : "#3a3a4c", padding: "8px 14px", lineHeight: 1, color: "#FFF", borderRadius: 4, cursor: x ? "not-allowed" : "pointer", fontSize: 16, textAlign: "center", fontWeight: 700 }, onClick: () => {
    x || (p.changePageSize(g), s(false));
  }, children: "Resize" }) })] }) }), 0 < d.length && jsxs2(SettingButton$1, { css: { fontSize: 20 }, isActive: b, onClick: () => {
    b ? p.unlock(f, d) : p.lock(f, d);
  }, children: [b && jsx2(LockKeyIcon, {}), !b && jsx2(LockKeyOpenIcon, {})] })] }), "LAYER_MANAGEMENT" === h && jsx2(LayerSidebar$1, { open: true })] });
};
var ColorSettings = ({ colors: e3, gradient: t, useGradient: n, children: r, onChange: o, onChangeGradient: i }) => {
  const { actions: a, sidebar: s } = useEditor((e4) => ({ sidebar: e4.sidebar }));
  var l = (0, import_react.useMemo)(() => 0 !== e3.length && (1 !== e3.length || 100 !== new Color(e3[0]).white()) || t ? t ? getGradientBackground(t.colors, t.style) : e3.map((e4) => `linear-gradient(to right, ${e4}, ${e4})`).join(", ") : "conic-gradient(red, yellow, lime, aqua, blue, magenta, red)", [e3]);
  return jsxs2(import_react.Fragment, { children: [jsxs2(SettingButton$1, { onClick: () => a.setSidebar("CHOOSING_COLOR"), children: [!r && jsx2("div", { css: { width: 24, height: 24, boxShadow: "inset 0 0 0 1px rgba(57,76,96,.15)", borderRadius: 2, position: "relative", overflow: "hidden" }, children: jsx2("div", { css: { backgroundColor: "#fff", backgroundPosition: "0 0, 6px 6px", backgroundSize: "12px 12px", inset: 0, position: "absolute", backgroundImage: "linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%),linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%)" }, children: jsx2("div", { css: { position: "absolute", inset: 0, background: l } }) }) }), r] }), "CHOOSING_COLOR" === s && jsx2(ColorSidebar$1, { open: true, selected: 1 === e3.length ? e3[0] : null, gradient: t, useGradient: n, onChangeGradient: i, onSelect: o })] });
};
var FrameCornersIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M200 80v32a8 8 0 0 1-16 0V88h-24a8 8 0 0 1 0-16h32a8 8 0 0 1 8 8ZM96 168H72v-24a8 8 0 0 0-16 0v32a8 8 0 0 0 8 8h32a8 8 0 0 0 0-16ZM232 56v144a16 16 0 0 1-16 16H40a16 16 0 0 1-16-16V56a16 16 0 0 1 16-16h176a16 16 0 0 1 16 16Zm-16 144V56H40v144h176Z" }) }));
};
var SolidIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ width: "1em", height: "1em", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, e3, { children: (0, import_jsx_runtime.jsx)("line", { x2: 24, y1: "50%", y2: "50%", stroke: "currentColor", strokeWidth: 2 }) }));
};
var NotAllowedIcon = function(e3) {
  return (0, import_jsx_runtime.jsxs)("svg", _extends$1({ width: "1em", height: "1em", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round", xmlns: "http://www.w3.org/2000/svg" }, e3, { children: [(0, import_jsx_runtime.jsx)("circle", { cx: 12, cy: 12, r: 10 }), (0, import_jsx_runtime.jsx)("path", { strokeLinecap: "square", d: "m5 5 14 14" })] }));
};
var LongDashesIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ width: "1em", height: "1em", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, e3, { children: (0, import_jsx_runtime.jsx)("line", { x2: 24, y1: "50%", y2: "50%", stroke: "currentColor", strokeDasharray: "11 2", strokeWidth: 2 }) }));
};
var ShortDashesIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ width: "1em", height: "1em", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, e3, { children: (0, import_jsx_runtime.jsx)("line", { x2: 24, y1: "50%", y2: "50%", stroke: "currentColor", strokeDasharray: "6 2", strokeWidth: 2 }) }));
};
var DotsIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ width: "1em", height: "1em", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, e3, { children: (0, import_jsx_runtime.jsx)("line", { x2: 24, y1: "50%", y2: "50%", stroke: "currentColor", strokeDasharray: "2 2", strokeWidth: 2 }) }));
};
var SquareBoldIcon = function(e3) {
  return (0, import_jsx_runtime.jsx)("svg", _extends$1({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 256 256", fill: "currentColor", width: "1em", height: "1em" }, e3, { children: (0, import_jsx_runtime.jsx)("path", { d: "M208 28H48a20 20 0 0 0-20 20v160a20 20 0 0 0 20 20h160a20 20 0 0 0 20-20V48a20 20 0 0 0-20-20Zm-4 176H52V52h152Z" }) }));
};
var shapeStyles = [{ type: "none", icon: jsx2(NotAllowedIcon, {}) }, { type: "solid", icon: jsx2(SolidIcon, {}) }, { type: "longDashes", icon: jsx2(LongDashesIcon, {}) }, { type: "shortDashes", icon: jsx2(ShortDashesIcon, {}) }, { type: "dots", icon: jsx2(DotsIcon, {}) }];
var ShapeSettings = ({ layers: r }) => {
  var e3 = (0, import_react.useRef)(null);
  const { actions: o, activePage: i } = useEditor((e4) => ({ activePage: e4.activePage })), [t, n] = (0, import_react.useState)(false);
  var a = r.reduce((e4, t2) => e4 = e4 < t2.data.props.roundedCorners ? t2.data.props.roundedCorners : e4, 0), s = (0, import_react.useMemo)(() => r.filter((e4) => e4.data.props.color && !e4.data.props.gradientBackground).map((e4) => e4.data.props.color), [r]), l = (0, import_react.useMemo)(() => r.map((e4) => e4.data.props.gradientBackground).filter((e4) => !!e4), [r]);
  const c = (0, import_react.useMemo)(() => {
    var e4 = r.map((e5) => e5.data.props.border).filter((e5) => !!e5);
    return e4[0] || { style: "none", weight: 0, color: "rgb(0, 0, 0)" };
  }, [r]);
  return jsx2(import_react.Fragment, { children: jsxs2("div", { css: { display: "grid", alignItems: "center", gridAutoFlow: "column", gridGap: 8 }, children: [jsx2(ColorSettings, { colors: s, useGradient: true, gradient: 0 < l.length ? l[0] : null, onChange: (t2) => {
    r.forEach((e4) => {
      o.history.throttle(2e3).setProp(i, e4.id, { color: t2, gradientBackground: null });
    });
  }, onChangeGradient: (t2) => {
    r.forEach((e4) => {
      o.history.throttle(2e3).setProp(i, e4.id, { gradientBackground: t2 });
    });
  } }), c && "none" !== c.style && jsx2(import_react.Fragment, { children: jsx2(ColorSettings, { colors: [c.color], onChange: (e4) => {
    var t2 = r.filter((e5) => {
      return "none" !== (null == (e5 = e5.data.props.border) ? void 0 : e5.style);
    }).map((e5) => e5.id);
    o.history.throttle(2e3).setProp(i, t2, { border: { color: e4 } });
  }, children: jsx2("div", { css: { width: 24, height: 24, borderRadius: 2, position: "relative", fontSize: 24, overflow: "hidden", color: c.color }, children: jsx2(SquareBoldIcon, {}) }) }) }), jsx2(SettingButton$1, { ref: e3, css: { fontSize: 20 }, onClick: () => n(true), children: jsx2(FrameCornersIcon, {}) }), jsx2(Popover$1, { open: t, anchorEl: e3.current, placement: "bottom", onClose: () => n(false), offsets: { "bottom-end": { x: 0, y: 8 } }, children: jsxs2("div", { css: { padding: 16, display: "grid", gap: 12 }, children: [jsx2("div", { children: jsx2("div", { css: { display: "grid", gridAutoFlow: "column", alignItems: "center", gap: 8 }, children: shapeStyles.map((e4) => jsx2("div", { css: { fontSize: 24, borderRadius: 4, boxShadow: e4.type === (null === c || void 0 === c ? void 0 : c.style) ? "inset 0 0 0 2px #3d8eff" : "inset 0 0 0 1px rgba(43,59,74,.3)", padding: 8, cursor: "pointer", ":hover": { boxShadow: e4.type !== (null === c || void 0 === c ? void 0 : c.style) ? "inset 0 0 0 1px rgba(28,39,48,.5)" : void 0 } }, onClick: () => {
    var n2;
    n2 = e4.type, r.forEach((e5) => {
      var t2;
      o.history.throttle(2e3).setProp(i, e5.id, { border: { style: n2, weight: "none" === n2 ? 0 : (null == (t2 = e5.data.props.border) ? void 0 : t2.weight) || 4, color: (null == (t2 = e5.data.props.border) ? void 0 : t2.color) || "rgb(0, 0, 0)" } });
    });
  }, children: e4.icon }, e4.type)) }) }), jsx2(Slider, { label: "Border Weight", value: (null === c || void 0 === c ? void 0 : c.weight) || 0, onChange: (e4) => {
    var t2 = r.map((e5) => e5.id);
    o.history.throttle(2e3).setProp(i, t2, { border: { style: (0 === e4 ? "none" : c.style) || "solid", weight: e4, color: c.color } });
  } }), 1 === r.length && "rectangle" === r[0].data.props.shape && jsx2(Slider, { label: "Corner Rounding", value: a, onChange: (e4) => {
    var t2 = r.map((e5) => e5.id);
    o.history.throttle(2e3).setProp(i, t2, { roundedCorners: e4 });
  } })] }) })] }) });
};
var RootSettings = ({ layer: t }) => {
  const { actions: n, activePage: r } = useEditor((e4) => ({ activePage: e4.activePage, sidebar: e4.sidebar }));
  var e3 = (0, import_react.useMemo)(() => t.data.props.color, [t]), o = (0, import_react.useMemo)(() => t.data.props.gradientBackground, [t]);
  return jsx2(ColorSettings, { colors: e3 ? [e3] : [], gradient: o, useGradient: true, onChange: (e4) => {
    n.history.throttle(2e3).setProp(r, t.id, { color: e4, gradientBackground: null });
  }, onChangeGradient: (e4) => {
    n.history.throttle(2e3).setProp(r, t.id, { gradientBackground: e4, color: null });
  } });
};
var SvgSettings = ({ layer: t }) => {
  const { actions: n, activePage: r, sidebar: o } = useEditor((e3) => ({ activePage: e3.activePage, sidebar: e3.sidebar })), [i, a] = (0, import_react.useState)(null), s = (0, import_react.useMemo)(() => t.data.props.colors, [t]), l = (e3) => {
    null !== i && n.history.throttle(2e3).setProp(r, t.id, { colors: [...s.slice(0, i), e3, ...s.slice(i + 1, s.length)] });
  };
  return jsxs2("div", { css: { display: "grid", alignItems: "center", gridAutoFlow: "column", gridGap: 8 }, children: [jsx2("div", { css: { display: "grid", alignItems: "center", gridAutoFlow: "column" }, children: s.map((e3, t2) => jsxs2(import_react.Fragment, { children: [jsx2(SettingButton$1, { isActive: t2 === i, onClick: () => {
    a(t2), n.setSidebar("CHOOSING_COLOR");
  }, children: jsx2("div", { css: { width: 24, height: 24, background: null != e3 ? e3 : "conic-gradient(red, yellow, lime, aqua, blue, magenta, red)", boxShadow: "inset 0 0 0 1px rgba(57,76,96,.15)", borderRadius: 2 } }) }), "CHOOSING_COLOR" === o && jsx2(ColorSidebar$1, { open: true, selected: e3, onSelect: l })] }, t2)) }), jsx2("div", { css: { height: 24, width: "1px", background: "rgba(57,76,96,.15)" } })] });
};
var FrameSettings = ({ layers: n }) => {
  const { actions: r, activePage: o } = useEditor((e4) => ({ activePage: e4.activePage, sidebar: e4.sidebar }));
  var e3 = (0, import_react.useMemo)(() => n.map((e4) => e4.data.props.color).filter((e4) => !!e4), [n]), t = (0, import_react.useMemo)(() => n.map((e4) => e4.data.props.gradientBackground).filter((e4) => !!e4), [n]);
  return jsx2(ColorSettings, { colors: e3, useGradient: true, gradient: 0 < t.length ? t[0] : null, onChange: (e4) => {
    var t2 = n.map((e5) => e5.id);
    r.history.throttle(2e3).setProp(o, t2, { color: e4, gradientBackground: null });
  }, onChangeGradient: (e4) => {
    var t2 = n.map((e5) => e5.id);
    r.history.throttle(2e3).setProp(o, t2, { gradientBackground: e4, color: null });
  } });
};
var LayerSettings = () => {
  const { selectedLayers: e3, selectedLayerIds: t } = useSelectedLayers(), { actions: n, sidebar: r } = useEditor((e4) => ({ sidebar: e4.sidebar }));
  var { rootLayer: o, textLayers: i, shapeLayers: a, svgLayers: s, frameLayers: l } = (0, import_react.useMemo)(() => e3.reduce((e4, t2) => (isRootLayer(t2) ? e4.rootLayer = t2 : isSvgLayer(t2) ? e4.svgLayers.push(t2) : isTextLayer(t2) ? e4.textLayers.push(t2) : isShapeLayer(t2) ? e4.shapeLayers.push(t2) : isFrameLayer(t2) && e4.frameLayers.push(t2), e4), { textLayers: [], shapeLayers: [], rootLayer: null, svgLayers: [], frameLayers: [] }), [e3]);
  return (0, import_react.useEffect)(() => {
    const t2 = [];
    r && "LAYER_MANAGEMENT" !== r && (e3.forEach((e4) => {
      t2.push(e4.data.type);
    }), r && t2.includes("Text") && !["FONT_FAMILY", "TEXT_EFFECT", "CHOOSING_COLOR"].includes(r) || r && (t2.includes("Shape") || t2.includes("Root")) && !["CHOOSING_COLOR"].includes(r)) && n.setSidebar();
  }, [r, t]), jsx2("div", { css: { display: "flex", width: "100%", height: "100%", alignItems: "center", justifyContent: "space-between", fontSize: 14, fontWeight: 600, padding: "0 8px" }, children: jsxs2("div", { css: { display: "grid", alignItems: "center", gridAutoFlow: "column", gridGap: 8, paddingRight: 20 }, children: [o && jsx2(RootSettings, { layer: o }), 0 < l.length && jsx2(FrameSettings, { layers: l }), 1 === s.length && jsx2(SvgSettings, { layer: s[0] }), 0 < a.length && jsx2(ShapeSettings, { layers: a }), 0 < i.length && jsx2(TextSettings, { layers: i }), jsx2(CommonSettings, {})] }) });
};
var PageControl = () => {
  var e3 = (0, import_react.useRef)(null);
  const [t, n] = (0, import_react.useState)(false), { actions: r, activePage: o, totalPages: i, scale: a } = useEditor((e4) => ({ activePage: e4.activePage, totalPages: e4.pages.length, scale: e4.scale }));
  return jsxs2("div", { css: { display: "flex", alignItems: "center", padding: "0 8px", fontWeight: 700 }, children: [jsxs2("div", { css: { flexGrow: 1 }, children: ["Page ", o + 1, " / ", i] }), jsxs2("div", { css: { flexShrink: 0, display: "grid", gridAutoFlow: "column", gridColumnGap: 8, alignItems: "center" }, children: [jsx2("div", { css: { width: 200, paddingRight: 8 }, children: jsx2(Slider, { hideInput: true, hideLabel: true, value: 100 * a, min: 10, max: 500, onChange: (e4) => {
    r.setScale(e4 / 100);
  } }) }), jsx2(SettingButton$1, { ref: e3, onClick: () => n(true), children: jsxs2("div", { css: { width: 48, textAlign: "center" }, children: [Math.round(100 * a), "%"] }) }), jsx2(Popover$1, { open: t, anchorEl: e3.current, placement: "top-end", onClose: () => n(false), children: jsx2("div", { css: { padding: "8px 0" }, children: [300, 200, 150, 100, 75, 50, 25, 10].map((e4) => jsxs2("div", { css: { padding: "0 8px", display: "flex", height: 40, minWidth: 100, alignItems: "center", cursor: "pointer", ":hover": { backgroundColor: "rgba(64,87,109,.07)" } }, onClick: () => {
    r.setScale(e4 / 100), n(false);
  }, children: [jsxs2("span", { css: { padding: "0 8px", whiteSpace: "nowrap", flexGrow: 1 }, children: [e4, "%"] }), e4 / 100 === a && jsx2(CheckIcon, {})] }, e4)) }) })] })] });
};
export {
  DesignFrame,
  Editor,
  LayerSettings,
  PageControl,
  Preview,
  useEditor,
  useLayer,
  useSelectedLayers
};
//# sourceMappingURL=@lidojs_editor.js.map
